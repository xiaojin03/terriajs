{"version":3,"sources":["webpack:///./lib/ReactViews/Tools/DiffTool/DiffTool.tsx","webpack:///./lib/ReactViews/Tools/DiffTool/DatePicker.tsx","webpack:///./lib/ReactViews/Tools/DiffTool/LocationPicker.tsx","webpack:///./wwwroot/images/difference-pin.png"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","_dec","_class","_class2","_descriptor","_descriptor2","_descriptor3","_class3","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_class4","_class5","_descriptor4","_descriptor5","_descriptor6","_styledComponents","_interopRequireWildcard","_hoistNonReactStatics","_interopRequireDefault","_mobx","_mobxReact","_react","_reactDom","_reactI18next","_Cartographic","_createGuid","_Math","_SplitDirection","_filterOutUndefined","_isDefined","_prettifyCoordinates2","_DiffableMixin","_MappableMixin","_CommonStrata","_hasTraits","_LocationMarkerUtils","_SplitItemReference","_Box","_Button","_Select","_Spacing","_Text","_ImageryProviderTraits","_parseCustomMarkdownToReact","_Icon","_Loader","_DatePicker","_LocationPicker","_registerMapNavigations","_jsxRuntime","obj","__esModule","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_regeneratorRuntime","c","asyncIterator","toStringTag","define","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","h","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","this","d","getPrototypeOf","v","values","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","name","mark","setPrototypeOf","awrap","async","Promise","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","_slicedToArray","arr","Array","isArray","_arrayWithHoles","l","_iterableToArrayLimit","minLen","_arrayLikeToArray","toString","from","test","_unsupportedIterableToArray","_nonIterableRest","len","arr2","asyncGeneratorStep","gen","reject","_next","_throw","key","info","error","_asyncToGenerator","fn","self","args","err","undefined","_initializerDefineProperty","target","property","descriptor","context","initializer","_classCallCheck","instance","Constructor","_defineProperties","props","_toPropertyKey","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","bind","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","toPrimitive","String","Number","_toPrimitive","_applyDecoratedDescriptor","decorators","desc","reduce","decorator","dateFormat","DiffTool","action","bound","observer","_React$Component","_createSplitterItems","_super","_this","makeObservable","userSelectedSourceItem","sourceItem","_callee","_yield$Promise$all","_yield$Promise$all2","leftItem","rightItem","_this2","_context","all","createSplitItem","LEFT","RIGHT","runInAction","t0","removeSplitItem","_this3","splitterItemsDisposer","reaction","removeSplitterItems","createSplitterItems","fireImmediately","viewState","terria","originalSettings","showSplitter","isMapFullScreen","setIsMapFullScreen","setTrait","user","mapNavigationModel","show","CLOSE_TOOL_ID","elements","visible","closeTool","findItem","controller","activate","_this$splitterItemsDi","hide","deactivate","enterDiffTool","leaveDiffTool","jsx","Main","theme","changeSourceItem","Component","observable","computed","_React$Component2","_setLocationFromActiveSearch","_super2","_this4","createRef","_locationPickError","title","beforePick","afterPick","location","longitude","latitude","digits","firstDate","leftDate","secondDate","rightDate","d1","d2","concat","workbench","items","item","isMixedInto","canDiffImages","_this$diffItem$styleS","diffItem","styleSelectableDimensions","selectedId","diffStyleId","_this5","availableDiffStyles","map","_this5$diffItem$style","options","find","style","id","currentDiscreteJulianDate","diffStyle","getLegendUrlForStyle","previewStyle","model","hasOpacity","newSourceItem","diffableItemsInWorkbench","uniqueId","_this$props$leftItem$","_this$props$rightItem","styleId","setDimensionValue","pickingLocation","_isPickingNewLocation","pickedFeatures","pickedLocation","_this$props","feature","features","doesFeatureBelongToItem","setTimeFilterFeature","providerCoords","_this$props2","hideItem","overlays","remove","add","diffItemName","showDiffImage","clearDiffImage","setDefaultDiffStyle","_callee2","markerLocation","part","imageryProvider","promises","_this6","_context2","getMarkerLocation","mapItems","ImageryParts","is","setTimeFilterFromLocation","some","ok","removeMarker","_this7","_this7$diffItem$timeF","timeFilterCoordinates","height","setLocationFromActiveSearch","_this$diffItem$styleS2","_this8","_this$props3","isShowingDiff","datesSelected","isReadyToGenerateDiff","jsxs","large","children","DiffAccordion","MainPanel","styledMaxHeight","bottomDockHeight","Fragment","centered","left","_StyledBackButton","transparentBg","onClick","resetTool","$_css","textLight","$_css2","BoxSpan","_StyledStyledIcon","light","styledWidth","glyph","GLYPHS","arrowDown","TextSpan","noFontSize","bottom","medium","LocationAndDatesDisplayBox","textLightDimmed","small","column","alignItemsFlexStart","RawButton","ref","openLeftDatePickerButton","isLink","openRightDatePickerButton","unsetDates","Selector","onChange","label","disabled","spacingBottom","changePreviewStyle","previewLegendUrl","LegendImage","width","src","changeDiffStyle","diffLegendUrl","GenerateButton","generateDiff","CloseDifferenceButton","primary","rounded","textProps","semiBold","extraLarge","activeStyles","renderIcon","StyledIcon","closeLight","iconProps","css","onPicking","onUserPickingLocation","onPicked","onUserPickLocation","createPortal","fullWidth","flexWrap","backgroundColor","dark","heading","externalOpenButton","onDateSet","showItem","AreaFilterSelection","isPickingNewLocation","document","getElementById","DiffAccordionToggle","withConfig","componentId","_ref","borderRadiusTop","radius40Button","_useState2","useState","showChildren","setShowChildren","useTheme","DiffAccordionWrapper","paddedVertically","paddedHorizontally","justifySpaceBetween","colorSecondary","difference","right","styledFontSize","styledLineHeight","_StyledBox","$_css3","uppercase","paddedRatio","opened","closed","attrs","position","parseInt","workbenchWidth","overflowY","_ref2","borderRadiusBottom","darkWithOverlay","BackButton","secondary","splitter","_StyledText","$_css4","parseCustomMarkdownToReactWithOptions","injectTermsAsTooltips","tooltipTerms","configParameters","helpContentTerms","locationText","_prettifyCoordinates","_StyledBox2","styledMinWidth","location2","styledMinHeight","_StyledText2","extraExtraLarge","bold","message","textAlignCenter","charcoalGreyBg","display","marginTop","onLoad","onError","_x","_x2","_createSplitItem","_callee3","splitDirection","_context3","addModel","loadReference","_newItem$styleSelecta","newItem","_newItem$styleSelecta2","trueColor","search","availableStyles","_item$styleSelectable","sourceReference","contains","removeModelReferences","_feature$imageryLayer","imageryLayer","m","im","carto","toRadians","tile","tilingScheme","positionToTileXY","tileCoords","x","level","withTranslation","withTheme","md","_ref3","_JulianDate","_DateFormats","_DateTimePicker","DatePicker","date","toDate","currentDate","formatDateTime","isOpen","stopPropagation","toISOString","moveToPreviousDiscreteTime","moveToNextDiscreteTime","event","setIsOpen","_this$props$externalO","current","addEventListener","onClickExternalButton","_externalOpenButton$c","removeEventListener","registerExternalButtonClick","prevProps","unregisterExternalButtonClick","flex","calendar2","PrevButton","isPreviousDiscreteTimeAvailable","moveToPreviousDate","DateButton","toggleOpen","formattedCurrentDate","NextButton","isNextDiscreteTimeAvailable","moveToNextDate","dates","objectifiedDates","changeCurrentDate","openDirection","onOpen","onClose","PagerButton","colorPrimary","centerWithFlex","_StyledStyledIcon2","borderRadiusLeft","_StyledStyledIcon3","borderRadiusRight","lg","_Ellipsoid","_MapInteractionMode","LocationPicker","pickMode","messageAsNode","uiMode","UIMode","Difference","mode","mapInteractionModeStack","addInteractionModeToMap","showMarker","pickDisposer","newPick","_newPick$allFeaturesA","pickPosition","customUi","cartesian","WGS84","cartesianToCartographic","toDegrees","currentPick","allFeaturesAvailablePromise","_this$pickDisposer","removeInteractionModeFromMap","setupPicker","destroyPicker","addMarker","customMarkerIcon","module"],"mappings":"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","file":"8.TerriaJS-specs.js","sourcesContent":["\"use strict\";\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nrequire(\"core-js/modules/es.array.for-each.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nrequire(\"core-js/modules/es.object.keys.js\");\nrequire(\"core-js/modules/es.array.reduce.js\");\nrequire(\"core-js/modules/es.array.reverse.js\");\nrequire(\"core-js/modules/es.array.slice.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.symbol.to-primitive.js\");\nrequire(\"core-js/modules/es.date.to-primitive.js\");\nrequire(\"core-js/modules/es.symbol.js\");\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.number.constructor.js\");\nrequire(\"core-js/modules/es.object.set-prototype-of.js\");\nrequire(\"core-js/modules/es.function.bind.js\");\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\nrequire(\"core-js/modules/es.reflect.construct.js\");\nrequire(\"core-js/modules/es.object.create.js\");\nrequire(\"core-js/modules/es.array.is-array.js\");\nrequire(\"core-js/modules/es.symbol.iterator.js\");\nrequire(\"core-js/modules/es.date.to-string.js\");\nrequire(\"core-js/modules/es.regexp.to-string.js\");\nrequire(\"core-js/modules/es.array.from.js\");\nrequire(\"core-js/modules/es.symbol.async-iterator.js\");\nrequire(\"core-js/modules/es.symbol.to-string-tag.js\");\nrequire(\"core-js/modules/es.json.to-string-tag.js\");\nrequire(\"core-js/modules/es.math.to-string-tag.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptors.js\");\nrequire(\"core-js/modules/es.object.define-properties.js\");\nrequire(\"core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\nrequire(\"core-js/modules/es.function.name.js\");\nrequire(\"core-js/modules/es.array.concat.js\");\nrequire(\"core-js/modules/es.array.filter.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nrequire(\"core-js/modules/es.array.find.js\");\nrequire(\"core-js/modules/es.array.some.js\");\nrequire(\"core-js/modules/es.parse-int.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.string.search.js\");\nvar _styledComponents = _interopRequireWildcard(require(\"styled-components\"));\nvar _hoistNonReactStatics = _interopRequireDefault(require(\"hoist-non-react-statics\"));\nvar _mobx = require(\"mobx\");\nvar _mobxReact = require(\"mobx-react\");\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\nvar _reactI18next = require(\"react-i18next\");\nvar _Cartographic = _interopRequireDefault(require(\"terriajs-cesium/Source/Core/Cartographic\"));\nvar _createGuid = _interopRequireDefault(require(\"terriajs-cesium/Source/Core/createGuid\"));\nvar _Math = _interopRequireDefault(require(\"terriajs-cesium/Source/Core/Math\"));\nvar _SplitDirection = _interopRequireDefault(require(\"terriajs-cesium/Source/Scene/SplitDirection\"));\nvar _filterOutUndefined = _interopRequireDefault(require(\"../../../Core/filterOutUndefined\"));\nvar _isDefined = _interopRequireDefault(require(\"../../../Core/isDefined\"));\nvar _prettifyCoordinates2 = _interopRequireDefault(require(\"../../../Map/Vector/prettifyCoordinates\"));\nvar _DiffableMixin = _interopRequireDefault(require(\"../../../ModelMixins/DiffableMixin\"));\nvar _MappableMixin = _interopRequireWildcard(require(\"../../../ModelMixins/MappableMixin\"));\nvar _CommonStrata = _interopRequireDefault(require(\"../../../Models/Definition/CommonStrata\"));\nvar _hasTraits = _interopRequireDefault(require(\"../../../Models/Definition/hasTraits\"));\nvar _LocationMarkerUtils = require(\"../../../Models/LocationMarkerUtils\");\nvar _SplitItemReference = _interopRequireDefault(require(\"../../../Models/Catalog/CatalogReferences/SplitItemReference\"));\nvar _Box = _interopRequireWildcard(require(\"../../../Styled/Box\"));\nvar _Button = _interopRequireWildcard(require(\"../../../Styled/Button\"));\nvar _Select = _interopRequireDefault(require(\"../../../Styled/Select\"));\nvar _Spacing = _interopRequireDefault(require(\"../../../Styled/Spacing\"));\nvar _Text = _interopRequireWildcard(require(\"../../../Styled/Text\"));\nvar _ImageryProviderTraits = _interopRequireDefault(require(\"../../../Traits/TraitsClasses/ImageryProviderTraits\"));\nvar _parseCustomMarkdownToReact = require(\"../../Custom/parseCustomMarkdownToReact\");\nvar _Icon = require(\"../../../Styled/Icon\");\nvar _Loader = _interopRequireDefault(require(\"../../Loader\"));\nvar _DatePicker = _interopRequireDefault(require(\"./DatePicker\"));\nvar _LocationPicker = _interopRequireDefault(require(\"./LocationPicker\"));\nvar _registerMapNavigations = require(\"../../Map/MapNavigation/registerMapNavigations\");\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _dec, _class, _class2, _descriptor, _descriptor2, _descriptor3, _class3, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _class4, _class5, _descriptor4, _descriptor5, _descriptor6;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\nvar dateFormat = require(\"dateformat\");\nvar DiffTool = (_dec = _mobx.action.bound, (0, _mobxReact.observer)(_class = (_class2 = (_class3 = /*#__PURE__*/function (_React$Component) {\n  _inherits(DiffTool, _React$Component);\n  var _super = _createSuper(DiffTool);\n  function DiffTool(props) {\n    var _this;\n    _classCallCheck(this, DiffTool);\n    _this = _super.call(this, props);\n    _initializerDefineProperty(_assertThisInitialized(_this), \"leftItem\", _descriptor, _assertThisInitialized(_this));\n    _initializerDefineProperty(_assertThisInitialized(_this), \"rightItem\", _descriptor2, _assertThisInitialized(_this));\n    _initializerDefineProperty(_assertThisInitialized(_this), \"userSelectedSourceItem\", _descriptor3, _assertThisInitialized(_this));\n    _defineProperty(_assertThisInitialized(_this), \"splitterItemsDisposer\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"originalSettings\", void 0);\n    (0, _mobx.makeObservable)(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(DiffTool, [{\n    key: \"sourceItem\",\n    get: function get() {\n      return this.userSelectedSourceItem || this.props.sourceItem;\n    }\n  }, {\n    key: \"changeSourceItem\",\n    value: function changeSourceItem(sourceItem) {\n      this.userSelectedSourceItem = sourceItem;\n    }\n  }, {\n    key: \"createSplitterItems\",\n    value: function () {\n      var _createSplitterItems = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _this2 = this;\n        var _yield$Promise$all, _yield$Promise$all2, leftItem, rightItem;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return Promise.all([createSplitItem(this.sourceItem, _SplitDirection[\"default\"].LEFT), createSplitItem(this.sourceItem, _SplitDirection[\"default\"].RIGHT)]);\n            case 3:\n              _yield$Promise$all = _context.sent;\n              _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);\n              leftItem = _yield$Promise$all2[0];\n              rightItem = _yield$Promise$all2[1];\n              (0, _mobx.runInAction)(function () {\n                _this2.leftItem = leftItem;\n                _this2.rightItem = rightItem;\n              });\n              _context.next = 12;\n              break;\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this, [[0, 10]]);\n      }));\n      function createSplitterItems() {\n        return _createSplitterItems.apply(this, arguments);\n      }\n      return createSplitterItems;\n    }()\n  }, {\n    key: \"removeSplitterItems\",\n    value: function removeSplitterItems() {\n      this.leftItem && removeSplitItem(this.leftItem);\n      this.rightItem && removeSplitItem(this.rightItem);\n    }\n  }, {\n    key: \"enterDiffTool\",\n    value: function enterDiffTool() {\n      var _this3 = this;\n      // Start the reaction that splits the sourceItem into left & right items\n      this.splitterItemsDisposer = (0, _mobx.reaction)(function () {\n        return _this3.sourceItem;\n      }, function () {\n        _this3.removeSplitterItems();\n        _this3.createSplitterItems();\n      }, {\n        fireImmediately: true\n      });\n      var viewState = this.props.viewState;\n      var terria = viewState.terria;\n      this.originalSettings = {\n        showSplitter: terria.showSplitter,\n        isMapFullScreen: viewState.isMapFullScreen\n      };\n      terria.showSplitter = true;\n      viewState.setIsMapFullScreen(true);\n      this.sourceItem.setTrait(_CommonStrata[\"default\"].user, \"show\", false);\n      terria.mapNavigationModel.show(_registerMapNavigations.CLOSE_TOOL_ID);\n      terria.elements.set(\"timeline\", {\n        visible: false\n      });\n      var closeTool = terria.mapNavigationModel.findItem(_registerMapNavigations.CLOSE_TOOL_ID);\n      if (closeTool) {\n        closeTool.controller.activate();\n      }\n    }\n  }, {\n    key: \"leaveDiffTool\",\n    value: function leaveDiffTool() {\n      var _this$splitterItemsDi;\n      var viewState = this.props.viewState;\n      var terria = viewState.terria;\n      var originalSettings = this.originalSettings;\n      this.removeSplitterItems();\n      (_this$splitterItemsDi = this.splitterItemsDisposer) === null || _this$splitterItemsDi === void 0 || _this$splitterItemsDi.call(this);\n      terria.showSplitter = originalSettings.showSplitter;\n      viewState.setIsMapFullScreen(originalSettings.isMapFullScreen);\n      this.sourceItem.setTrait(_CommonStrata[\"default\"].user, \"show\", true);\n      terria.mapNavigationModel.hide(_registerMapNavigations.CLOSE_TOOL_ID);\n      terria.elements.set(\"timeline\", {\n        visible: true\n      });\n      var closeTool = terria.mapNavigationModel.findItem(_registerMapNavigations.CLOSE_TOOL_ID);\n      if (closeTool) {\n        closeTool.controller.deactivate();\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.enterDiffTool();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.leaveDiffTool();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.leftItem && this.rightItem) {\n        return /*#__PURE__*/(0, _jsxRuntime.jsx)(Main, _objectSpread(_objectSpread({}, this.props), {}, {\n          theme: this.props.theme,\n          terria: this.props.viewState.terria,\n          sourceItem: this.sourceItem,\n          changeSourceItem: this.changeSourceItem,\n          leftItem: this.leftItem,\n          rightItem: this.rightItem\n        }));\n      } else return null;\n    }\n  }]);\n  return DiffTool;\n}(_react[\"default\"].Component), _defineProperty(_class3, \"toolName\", \"Image Difference\"), _class3), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"leftItem\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"rightItem\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"userSelectedSourceItem\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class2.prototype, \"sourceItem\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class2.prototype, \"sourceItem\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"changeSourceItem\", [_dec], Object.getOwnPropertyDescriptor(_class2.prototype, \"changeSourceItem\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"createSplitterItems\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"createSplitterItems\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"removeSplitterItems\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"removeSplitterItems\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"enterDiffTool\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"enterDiffTool\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"leaveDiffTool\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"leaveDiffTool\"), _class2.prototype)), _class2)) || _class);\nvar Main = (_dec2 = _mobx.action.bound, _dec3 = _mobx.action.bound, _dec4 = _mobx.action.bound, _dec5 = _mobx.action.bound, _dec6 = _mobx.action.bound, _dec7 = _mobx.action.bound, _dec8 = _mobx.action.bound, _dec9 = _mobx.action.bound, (0, _mobxReact.observer)(_class4 = (_class5 = /*#__PURE__*/function (_React$Component2) {\n  _inherits(Main, _React$Component2);\n  var _super2 = _createSuper(Main);\n  function Main(props) {\n    var _this4;\n    _classCallCheck(this, Main);\n    _this4 = _super2.call(this, props);\n    _initializerDefineProperty(_assertThisInitialized(_this4), \"location\", _descriptor4, _assertThisInitialized(_this4));\n    _initializerDefineProperty(_assertThisInitialized(_this4), \"_locationPickError\", _descriptor5, _assertThisInitialized(_this4));\n    _initializerDefineProperty(_assertThisInitialized(_this4), \"_isPickingNewLocation\", _descriptor6, _assertThisInitialized(_this4));\n    _defineProperty(_assertThisInitialized(_this4), \"openLeftDatePickerButton\", /*#__PURE__*/_react[\"default\"].createRef());\n    _defineProperty(_assertThisInitialized(_this4), \"openRightDatePickerButton\", /*#__PURE__*/_react[\"default\"].createRef());\n    (0, _mobx.makeObservable)(_assertThisInitialized(_this4));\n    return _this4;\n  }\n  _createClass(Main, [{\n    key: \"locationPickerMessages\",\n    get: function get() {\n      var t = this.props.t;\n      if (this._locationPickError) {\n        return {\n          title: t(\"diffTool.locationPicker.errorMessages.title\"),\n          beforePick: t(\"diffTool.locationPicker.errorMessages.beforePick\"),\n          afterPick: t(\"diffTool.locationPicker.errorMessages.afterPick\")\n        };\n      } else if (this.location) {\n        return {\n          title: t(\"diffTool.locationPicker.nextMessages.title\", (0, _prettifyCoordinates2[\"default\"])(this.location.longitude, this.location.latitude, {\n            digits: 2\n          })),\n          beforePick: t(\"diffTool.locationPicker.nextMessages.beforePick\"),\n          afterPick: t(\"diffTool.locationPicker.nextMessages.afterPick\")\n        };\n      } else {\n        return {\n          title: t(\"diffTool.locationPicker.initialMessages.title\"),\n          beforePick: t(\"diffTool.locationPicker.initialMessages.beforePick\"),\n          afterPick: t(\"diffTool.locationPicker.initialMessages.afterPick\")\n        };\n      }\n    }\n  }, {\n    key: \"diffItem\",\n    get: function get() {\n      return this.props.leftItem;\n    }\n  }, {\n    key: \"diffItemName\",\n    get: function get() {\n      var name = this.props.sourceItem.name || \"\";\n      var firstDate = this.leftDate;\n      var secondDate = this.rightDate;\n      var format = \"yyyy/mm/dd\";\n      if (!firstDate || !secondDate) {\n        return name;\n      } else {\n        var d1 = dateFormat(firstDate, format);\n        var d2 = dateFormat(secondDate, format);\n        return \"\".concat(name, \" - difference for dates \").concat(d1, \", \").concat(d2);\n      }\n    }\n  }, {\n    key: \"diffableItemsInWorkbench\",\n    get: function get() {\n      return this.props.terria.workbench.items.filter(function (item) {\n        return _DiffableMixin[\"default\"].isMixedInto(item) && item.canDiffImages;\n      });\n    }\n  }, {\n    key: \"previewStyle\",\n    get: function get() {\n      var _this$diffItem$styleS;\n      return (_this$diffItem$styleS = this.diffItem.styleSelectableDimensions) === null || _this$diffItem$styleS === void 0 || (_this$diffItem$styleS = _this$diffItem$styleS[0]) === null || _this$diffItem$styleS === void 0 ? void 0 : _this$diffItem$styleS.selectedId;\n    }\n  }, {\n    key: \"diffStyle\",\n    get: function get() {\n      return this.diffItem.diffStyleId;\n    }\n  }, {\n    key: \"availableDiffStyles\",\n    get: function get() {\n      var _this5 = this;\n      return (0, _filterOutUndefined[\"default\"])(this.diffItem.availableDiffStyles.map(function (diffStyleId) {\n        var _this5$diffItem$style;\n        return (_this5$diffItem$style = _this5.diffItem.styleSelectableDimensions) === null || _this5$diffItem$style === void 0 || (_this5$diffItem$style = _this5$diffItem$style[0]) === null || _this5$diffItem$style === void 0 || (_this5$diffItem$style = _this5$diffItem$style.options) === null || _this5$diffItem$style === void 0 ? void 0 : _this5$diffItem$style.find(function (style) {\n          return style.id === diffStyleId;\n        });\n      }));\n    }\n  }, {\n    key: \"leftDate\",\n    get: function get() {\n      return this.props.leftItem.currentDiscreteJulianDate;\n    }\n  }, {\n    key: \"rightDate\",\n    get: function get() {\n      return this.props.rightItem.currentDiscreteJulianDate;\n    }\n  }, {\n    key: \"diffLegendUrl\",\n    get: function get() {\n      return this.diffStyle && this.leftDate && this.rightDate && this.diffItem.getLegendUrlForStyle(this.diffStyle, this.leftDate, this.rightDate);\n    }\n  }, {\n    key: \"previewLegendUrl\",\n    get: function get() {\n      return this.previewStyle && this.diffItem.getLegendUrlForStyle(this.previewStyle);\n    }\n  }, {\n    key: \"showItem\",\n    value: function showItem(model) {\n      // We change the opacity instead of setting `show` to true/false, because\n      // we want the item to be on the map for date selection to work\n      hasOpacity(model) && model.setTrait(_CommonStrata[\"default\"].user, \"opacity\", 0.8);\n    }\n  }, {\n    key: \"hideItem\",\n    value: function hideItem(model) {\n      // We change the opacity instead of setting `show` to true/false, because\n      // we want the item to be on the map for date selection to work\n      hasOpacity(model) && model.setTrait(_CommonStrata[\"default\"].user, \"opacity\", 0);\n    }\n  }, {\n    key: \"changeSourceItem\",\n    value: function changeSourceItem(e) {\n      var newSourceItem = this.diffableItemsInWorkbench.find(function (item) {\n        return item.uniqueId === e.target.value;\n      });\n      if (newSourceItem) this.props.changeSourceItem(newSourceItem);\n    }\n  }, {\n    key: \"changePreviewStyle\",\n    value: function changePreviewStyle(e) {\n      var _this$props$leftItem$, _this$props$rightItem;\n      var styleId = e.target.value;\n      (_this$props$leftItem$ = this.props.leftItem.styleSelectableDimensions) === null || _this$props$leftItem$ === void 0 || (_this$props$leftItem$ = _this$props$leftItem$[0]) === null || _this$props$leftItem$ === void 0 || _this$props$leftItem$.setDimensionValue(_CommonStrata[\"default\"].user, styleId);\n      (_this$props$rightItem = this.props.rightItem.styleSelectableDimensions) === null || _this$props$rightItem === void 0 || (_this$props$rightItem = _this$props$rightItem[0]) === null || _this$props$rightItem === void 0 || _this$props$rightItem.setDimensionValue(_CommonStrata[\"default\"].user, styleId);\n    }\n  }, {\n    key: \"changeDiffStyle\",\n    value: function changeDiffStyle(e) {\n      this.diffItem.setTrait(_CommonStrata[\"default\"].user, \"diffStyleId\", e.target.value);\n    }\n  }, {\n    key: \"onUserPickingLocation\",\n    value: function onUserPickingLocation(pickingLocation) {\n      this._isPickingNewLocation = true;\n    }\n  }, {\n    key: \"onUserPickLocation\",\n    value: function onUserPickLocation(pickedFeatures, pickedLocation) {\n      var _this$props = this.props,\n        leftItem = _this$props.leftItem,\n        rightItem = _this$props.rightItem,\n        t = _this$props.t;\n      var feature = pickedFeatures.features.find(function (f) {\n        return doesFeatureBelongToItem(f, leftItem) || doesFeatureBelongToItem(f, rightItem);\n      });\n      if (feature) {\n        leftItem.setTimeFilterFeature(feature, pickedFeatures.providerCoords);\n        rightItem.setTimeFilterFeature(feature, pickedFeatures.providerCoords);\n        this.location = pickedLocation;\n        this._locationPickError = false;\n      } else {\n        this._locationPickError = true;\n      }\n      this._isPickingNewLocation = false;\n    }\n  }, {\n    key: \"unsetDates\",\n    value: function unsetDates() {\n      var _this$props2 = this.props,\n        leftItem = _this$props2.leftItem,\n        rightItem = _this$props2.rightItem;\n      leftItem.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", null);\n      rightItem.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", null);\n      this.hideItem(leftItem);\n      this.hideItem(rightItem);\n    }\n  }, {\n    key: \"generateDiff\",\n    value: function generateDiff() {\n      if (this.leftDate === undefined || this.rightDate === undefined || this.diffStyle === undefined) {\n        return;\n      }\n      var terria = this.props.terria;\n      terria.overlays.remove(this.props.leftItem);\n      terria.overlays.remove(this.props.rightItem);\n      terria.workbench.add(this.diffItem);\n      this.diffItem.setTrait(_CommonStrata[\"default\"].user, \"name\", this.diffItemName);\n      this.diffItem.showDiffImage(this.leftDate, this.rightDate, this.diffStyle);\n      terria.showSplitter = false;\n    }\n  }, {\n    key: \"resetTool\",\n    value: function resetTool() {\n      var terria = this.props.terria;\n      this.diffItem.clearDiffImage();\n      setDefaultDiffStyle(this.diffItem);\n      terria.overlays.add(this.props.leftItem);\n      terria.overlays.add(this.props.rightItem);\n      terria.workbench.remove(this.diffItem);\n      this.props.terria.showSplitter = true;\n      this.props.leftItem.setTrait(_CommonStrata[\"default\"].user, \"splitDirection\", _SplitDirection[\"default\"].LEFT);\n      this.props.rightItem.setTrait(_CommonStrata[\"default\"].user, \"splitDirection\", _SplitDirection[\"default\"].RIGHT);\n    }\n  }, {\n    key: \"setLocationFromActiveSearch\",\n    value: function () {\n      var _setLocationFromActiveSearch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var _this6 = this;\n        var markerLocation, sourceItem, part, imageryProvider, promises, someSuccessful;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              // Look for any existing marker like from a search result and filter\n              // imagery at that location\n              markerLocation = (0, _LocationMarkerUtils.getMarkerLocation)(this.props.terria);\n              sourceItem = this.props.sourceItem;\n              if (!(markerLocation && _MappableMixin[\"default\"].isMixedInto(sourceItem))) {\n                _context2.next = 11;\n                break;\n              }\n              part = sourceItem.mapItems.find(function (p) {\n                return _MappableMixin.ImageryParts.is(p);\n              });\n              imageryProvider = part && _MappableMixin.ImageryParts.is(part) && part.imageryProvider;\n              if (!imageryProvider) {\n                _context2.next = 11;\n                break;\n              }\n              promises = [setTimeFilterFromLocation(this.props.leftItem, markerLocation, imageryProvider), setTimeFilterFromLocation(this.props.rightItem, markerLocation, imageryProvider)];\n              _context2.next = 9;\n              return Promise.all(promises);\n            case 9:\n              someSuccessful = _context2.sent.some(function (ok) {\n                return ok;\n              });\n              if (someSuccessful) {\n                (0, _mobx.runInAction)(function () {\n                  return _this6.location = markerLocation;\n                });\n              } else {\n                // If we cannot resolve imagery at the marker location, remove it\n                (0, _LocationMarkerUtils.removeMarker)(this.props.terria);\n              }\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function setLocationFromActiveSearch() {\n        return _setLocationFromActiveSearch.apply(this, arguments);\n      }\n      return setLocationFromActiveSearch;\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this7 = this;\n      (0, _mobx.runInAction)(function () {\n        if (_this7.location === undefined) {\n          var _this7$diffItem$timeF = _this7.diffItem.timeFilterCoordinates,\n            latitude = _this7$diffItem$timeF.latitude,\n            longitude = _this7$diffItem$timeF.longitude,\n            height = _this7$diffItem$timeF.height;\n          if (latitude !== undefined && longitude !== undefined) {\n            _this7.location = {\n              latitude: latitude,\n              longitude: longitude,\n              height: height\n            };\n            // remove any active search location marker to avoid showing two markers\n            (0, _LocationMarkerUtils.removeMarker)(_this7.props.terria);\n          } else {\n            _this7.setLocationFromActiveSearch();\n          }\n        }\n      });\n    }\n\n    // i want to restructure the render so that there's 2 distinct \"showing diff\"\n    // or not states, right now intertwining them means way too many conditionals\n    // that confuse the required spacing etc.\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$diffItem$styleS2,\n        _this8 = this;\n      var _this$props3 = this.props,\n        terria = _this$props3.terria,\n        viewState = _this$props3.viewState,\n        sourceItem = _this$props3.sourceItem,\n        t = _this$props3.t,\n        theme = _this$props3.theme;\n      var isShowingDiff = this.diffItem.isShowingDiff;\n      var datesSelected = this.leftDate && this.rightDate;\n      var isReadyToGenerateDiff = this.location && datesSelected && this.diffStyle !== undefined;\n      return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Text[\"default\"], {\n        large: true,\n        children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(DiffAccordion, {\n          viewState: viewState,\n          t: t,\n          children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(MainPanel, {\n            isMapFullScreen: viewState.isMapFullScreen,\n            styledMaxHeight: \"calc(100vh - \".concat(viewState.bottomDockHeight, \"px - 150px)\"),\n            children: [isShowingDiff && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Box[\"default\"], {\n                centered: true,\n                left: true,\n                children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledBackButton, {\n                  transparentBg: true,\n                  onClick: this.resetTool,\n                  $_css: theme.textLight,\n                  $_css2: theme.textLight,\n                  children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box.BoxSpan, {\n                    centered: true,\n                    children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledStyledIcon, {\n                      light: true,\n                      styledWidth: \"16px\",\n                      glyph: _Icon.GLYPHS.arrowDown\n                    }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n                      noFontSize: true,\n                      children: t(\"general.back\")\n                    })]\n                  })\n                })\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                bottom: 3\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n                medium: true,\n                textLight: true,\n                children: t(\"diffTool.differenceResultsTitle\")\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                bottom: 2\n              })]\n            }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n              textLight: true,\n              children: t(\"diffTool.instructions.paneDescription\")\n            }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n              bottom: 3\n            }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(LocationAndDatesDisplayBox, {\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_Text[\"default\"], {\n                  medium: true,\n                  children: [t(\"diffTool.labels.area\"), \":\"]\n                }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"div\", {\n                  children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n                    medium: true,\n                    textLightDimmed: !this.location,\n                    children: this.location ? t(\"diffTool.locationDisplay.locationSelected.title\") : t(\"diffTool.locationDisplay.noLocationSelected.title\")\n                  }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n                    light: true,\n                    textLight: true,\n                    small: true,\n                    children: this.location ? t(\"diffTool.locationDisplay.locationSelected.description\") : t(\"diffTool.locationDisplay.noLocationSelected.description\")\n                  })]\n                })]\n              }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_Text[\"default\"], {\n                  medium: true,\n                  children: [t(\"diffTool.labels.dates\"), \":\"]\n                }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n                  column: true,\n                  alignItemsFlexStart: true,\n                  children: [this.leftDate && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Text[\"default\"], {\n                    large: true,\n                    children: [\"(A) \", dateFormat(this.leftDate, \"dd/mm/yyyy\")]\n                  }), !this.leftDate && /*#__PURE__*/(0, _jsxRuntime.jsx)(_Button.RawButton, {\n                    ref: this.openLeftDatePickerButton,\n                    children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n                      isLink: true,\n                      small: true,\n                      children: t(\"diffTool.instructions.setDateA\")\n                    })\n                  }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                    bottom: 1\n                  }), this.rightDate && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Text[\"default\"], {\n                    large: true,\n                    children: [\"(B) \", dateFormat(this.rightDate, \"dd/mm/yyyy\")]\n                  }), !this.rightDate && /*#__PURE__*/(0, _jsxRuntime.jsx)(_Button.RawButton, {\n                    ref: this.openRightDatePickerButton,\n                    children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n                      isLink: true,\n                      small: true,\n                      children: t(\"diffTool.instructions.setDateB\")\n                    })\n                  }), isShowingDiff === false && this.leftDate && this.rightDate && /*#__PURE__*/(0, _jsxRuntime.jsx)(_Button.RawButton, {\n                    onClick: this.unsetDates,\n                    children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n                      isLink: true,\n                      small: true,\n                      children: t(\"diffTool.instructions.changeDates\")\n                    })\n                  })]\n                })]\n              })]\n            }), !isShowingDiff && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                bottom: 4\n              }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(Selector, {\n                viewState: viewState,\n                value: sourceItem.uniqueId,\n                onChange: this.changeSourceItem,\n                label: t(\"diffTool.labels.sourceDataset\"),\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(\"option\", {\n                  disabled: true,\n                  children: \"Select source item\"\n                }), this.diffableItemsInWorkbench.map(function (item) {\n                  return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"option\", {\n                    value: item.uniqueId,\n                    children: item.name\n                  }, item.uniqueId);\n                })]\n              })]\n            }), !isShowingDiff && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                bottom: 4\n              }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(Selector, {\n                viewState: viewState,\n                spacingBottom: true,\n                value: this.previewStyle,\n                onChange: this.changePreviewStyle,\n                label: t(\"diffTool.labels.previewStyle\"),\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(\"option\", {\n                  disabled: true,\n                  value: \"\",\n                  children: t(\"diffTool.choosePreview\")\n                }), (_this$diffItem$styleS2 = this.diffItem.styleSelectableDimensions) === null || _this$diffItem$styleS2 === void 0 || (_this$diffItem$styleS2 = _this$diffItem$styleS2[0]) === null || _this$diffItem$styleS2 === void 0 || (_this$diffItem$styleS2 = _this$diffItem$styleS2.options) === null || _this$diffItem$styleS2 === void 0 ? void 0 : _this$diffItem$styleS2.map(function (style) {\n                  return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"option\", {\n                    value: style.id,\n                    children: style.name\n                  }, style.id);\n                })]\n              }), this.previewLegendUrl && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                  bottom: 2\n                }), /*#__PURE__*/(0, _jsxRuntime.jsx)(LegendImage, {\n                  width: \"100%\",\n                  src: this.previewLegendUrl\n                })]\n              })]\n            }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n              bottom: 2\n            }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(Selector, {\n              viewState: viewState,\n              value: this.diffStyle || \"\",\n              onChange: this.changeDiffStyle,\n              label: t(\"diffTool.labels.differenceOutput\"),\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(\"option\", {\n                disabled: true,\n                value: \"\",\n                children: t(\"diffTool.chooseDifference\")\n              }), this.availableDiffStyles.map(function (style) {\n                return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"option\", {\n                  value: style.id,\n                  children: style.name\n                }, style.id);\n              })]\n            }), isShowingDiff && this.diffLegendUrl && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(LegendImage, {\n                width: \"100%\",\n                src: this.diffLegendUrl\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                bottom: 4\n              })]\n            }), !isShowingDiff && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                bottom: 4\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(GenerateButton, {\n                onClick: this.generateDiff,\n                disabled: !isReadyToGenerateDiff,\n                \"aria-describedby\": \"TJSDifferenceDisabledButtonPrompt\",\n                children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n                  large: true,\n                  children: t(\"diffTool.labels.generateDiffButtonText\")\n                })\n              }), !isReadyToGenerateDiff && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                  bottom: 3\n                }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n                  small: true,\n                  light: true,\n                  textLight: true,\n                  id: \"TJSDifferenceDisabledButtonPrompt\",\n                  children: t(\"diffTool.labels.disabledButtonPrompt\")\n                }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                  bottom: 4\n                })]\n              })]\n            })]\n          })\n        }), isShowingDiff && /*#__PURE__*/(0, _jsxRuntime.jsx)(CloseDifferenceButton, {\n          primary: true,\n          rounded: true,\n          textProps: {\n            semiBold: true,\n            extraLarge: true\n          },\n          theme: theme,\n          activeStyles: true,\n          onClick: this.resetTool,\n          renderIcon: function renderIcon() {\n            return /*#__PURE__*/(0, _jsxRuntime.jsx)(_Icon.StyledIcon, {\n              light: true,\n              styledWidth: \"13px\",\n              glyph: _Icon.GLYPHS.closeLight\n            });\n          },\n          iconProps: {\n            css: \"margin-right: 10px;\"\n          },\n          children: \"Close\"\n        }), !isShowingDiff && /*#__PURE__*/(0, _jsxRuntime.jsx)(_LocationPicker[\"default\"], {\n          terria: terria,\n          location: this.location,\n          onPicking: this.onUserPickingLocation,\n          onPicked: this.onUserPickLocation\n        }), !isShowingDiff && /*#__PURE__*/_reactDom[\"default\"].createPortal(\n        /*#__PURE__*/\n        // Bottom Panel\n        (0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n          centered: true,\n          fullWidth: true,\n          flexWrap: true,\n          backgroundColor: theme.dark,\n          children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_DatePicker[\"default\"], {\n            heading: t(\"diffTool.labels.dateComparisonA\"),\n            item: this.props.leftItem,\n            externalOpenButton: this.openLeftDatePickerButton,\n            onDateSet: function onDateSet() {\n              return _this8.showItem(_this8.props.leftItem);\n            }\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(AreaFilterSelection, {\n            t: t,\n            location: this.location,\n            isPickingNewLocation: this._isPickingNewLocation\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_DatePicker[\"default\"], {\n            heading: t(\"diffTool.labels.dateComparisonB\"),\n            item: this.props.rightItem,\n            externalOpenButton: this.openRightDatePickerButton,\n            onDateSet: function onDateSet() {\n              return _this8.showItem(_this8.props.rightItem);\n            }\n          })]\n        }), document.getElementById(\"TJS-BottomDockLastPortal\"))]\n      });\n    }\n  }]);\n  return Main;\n}(_react[\"default\"].Component), (_descriptor4 = _applyDecoratedDescriptor(_class5.prototype, \"location\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class5.prototype, \"_locationPickError\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class5.prototype, \"_isPickingNewLocation\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class5.prototype, \"locationPickerMessages\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"locationPickerMessages\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"diffItem\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"diffItem\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"diffItemName\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"diffItemName\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"diffableItemsInWorkbench\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"diffableItemsInWorkbench\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"previewStyle\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"previewStyle\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"diffStyle\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"diffStyle\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"availableDiffStyles\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"availableDiffStyles\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"leftDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"leftDate\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"rightDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"rightDate\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"diffLegendUrl\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"diffLegendUrl\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"previewLegendUrl\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"previewLegendUrl\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"showItem\", [_mobx.action], Object.getOwnPropertyDescriptor(_class5.prototype, \"showItem\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"hideItem\", [_mobx.action], Object.getOwnPropertyDescriptor(_class5.prototype, \"hideItem\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"changeSourceItem\", [_dec2], Object.getOwnPropertyDescriptor(_class5.prototype, \"changeSourceItem\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"changePreviewStyle\", [_dec3], Object.getOwnPropertyDescriptor(_class5.prototype, \"changePreviewStyle\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"changeDiffStyle\", [_dec4], Object.getOwnPropertyDescriptor(_class5.prototype, \"changeDiffStyle\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"onUserPickingLocation\", [_dec5], Object.getOwnPropertyDescriptor(_class5.prototype, \"onUserPickingLocation\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"onUserPickLocation\", [_dec6], Object.getOwnPropertyDescriptor(_class5.prototype, \"onUserPickLocation\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"unsetDates\", [_dec7], Object.getOwnPropertyDescriptor(_class5.prototype, \"unsetDates\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"generateDiff\", [_dec8], Object.getOwnPropertyDescriptor(_class5.prototype, \"generateDiff\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"resetTool\", [_dec9], Object.getOwnPropertyDescriptor(_class5.prototype, \"resetTool\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"setLocationFromActiveSearch\", [_mobx.action], Object.getOwnPropertyDescriptor(_class5.prototype, \"setLocationFromActiveSearch\"), _class5.prototype)), _class5)) || _class4);\nvar DiffAccordionToggle = (0, _styledComponents[\"default\"])(_Box[\"default\"]).withConfig({\n  displayName: \"DiffTool__DiffAccordionToggle\",\n  componentId: \"sc-3vyhxu-0\"\n})([\"\", \"\"], function (_ref) {\n  var theme = _ref.theme;\n  return theme.borderRadiusTop(theme.radius40Button);\n});\nvar DiffAccordion = function DiffAccordion(props) {\n  var _useState = (0, _react.useState)(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    showChildren = _useState2[0],\n    setShowChildren = _useState2[1];\n  var t = props.t,\n    viewState = props.viewState;\n  var theme = (0, _styledComponents.useTheme)();\n  return /*#__PURE__*/(0, _jsxRuntime.jsxs)(DiffAccordionWrapper, {\n    isMapFullScreen: viewState.isMapFullScreen,\n    column: true,\n    children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(DiffAccordionToggle, {\n      paddedVertically: true,\n      paddedHorizontally: 2,\n      centered: true,\n      justifySpaceBetween: true,\n      backgroundColor: theme.colorSecondary,\n      children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n        centered: true,\n        children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Icon.StyledIcon, {\n          styledWidth: \"20px\",\n          light: true,\n          glyph: _Icon.GLYPHS.difference\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n          right: 1\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n          textLight: true,\n          semiBold: true\n          // font-size is non standard with what we have so far in terria,\n          // lineheight as well to hit nonstandard paddings\n          ,\n          styledFontSize: \"17px\",\n          styledLineHeight: \"30px\",\n          children: t(\"diffTool.title\")\n        })]\n      }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_StyledBox, {\n        centered: true,\n        $_css3: \"margin-right:-5px;\",\n        children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Button.RawButton, {\n          onClick: function onClick() {\n            return viewState.closeTool();\n          },\n          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n            textLight: true,\n            small: true,\n            semiBold: true,\n            uppercase: true,\n            children: t(\"diffTool.exit\")\n          })\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n          right: 4\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Button.RawButton, {\n          onClick: function onClick() {\n            return setShowChildren(!showChildren);\n          },\n          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Box.BoxSpan, {\n            paddedRatio: 1,\n            centered: true,\n            children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Icon.StyledIcon, {\n              styledWidth: \"12px\",\n              light: true,\n              glyph: showChildren ? _Icon.GLYPHS.opened : _Icon.GLYPHS.closed\n            })\n          })\n        })]\n      })]\n    }), showChildren && props.children]\n  });\n};\nvar DiffAccordionWrapper = (0, _styledComponents[\"default\"])(_Box[\"default\"]).attrs({\n  column: true,\n  position: \"absolute\",\n  styledWidth: \"340px\"\n  // charcoalGreyBg: true\n}).withConfig({\n  displayName: \"DiffTool__DiffAccordionWrapper\",\n  componentId: \"sc-3vyhxu-1\"\n})([\"top:70px;left:0px;min-height:220px;margin-left:\", \"px;transition:margin-left 0.25s;\"], function (props) {\n  return props.isMapFullScreen ? 16 : parseInt(props.theme.workbenchWidth, 10) + 40;\n});\nvar MainPanel = (0, _styledComponents[\"default\"])(_Box[\"default\"]).attrs({\n  column: true,\n  overflowY: \"auto\",\n  paddedRatio: 2\n}).withConfig({\n  displayName: \"DiffTool__MainPanel\",\n  componentId: \"sc-3vyhxu-2\"\n})([\"\", \" background-color:\", \";\"], function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.borderRadiusBottom(theme.radius40Button);\n}, function (p) {\n  return p.theme.darkWithOverlay;\n});\nvar BackButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).attrs({\n  secondary: true\n}).withConfig({\n  displayName: \"DiffTool__BackButton\",\n  componentId: \"sc-3vyhxu-3\"\n})([\"\"]);\nvar _StyledBackButton = (0, _styledComponents[\"default\"])(BackButton).withConfig({\n  displayName: \"DiffTool___StyledBackButton\",\n  componentId: \"sc-3vyhxu-4\"\n})([\"color:\", \";border-color:\", \";\"], function (p) {\n  return p.$_css;\n}, function (p) {\n  return p.$_css2;\n});\nvar CloseDifferenceButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).withConfig({\n  displayName: \"DiffTool__CloseDifferenceButton\",\n  componentId: \"sc-3vyhxu-5\"\n})([\"position:absolute;left:50%;transform:translateX(-50%);top:18px;padding:0 20px;\"]);\nvar GenerateButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).attrs({\n  primary: true,\n  splitter: true,\n  fullWidth: true\n}).withConfig({\n  displayName: \"DiffTool__GenerateButton\",\n  componentId: \"sc-3vyhxu-6\"\n})([\"\"]);\nvar Selector = function Selector(props) {\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(_Box[\"default\"], {\n    fullWidth: true,\n    column: true,\n    children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"label\", {\n      children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledText, {\n        textLight: true,\n        $_css4: \"p {margin: 0;}\",\n        children: (0, _parseCustomMarkdownToReact.parseCustomMarkdownToReactWithOptions)(\"\".concat(props.label, \":\"), {\n          injectTermsAsTooltips: true,\n          tooltipTerms: props.viewState.terria.configParameters.helpContentTerms\n        })\n      }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n        bottom: 1\n      }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Select[\"default\"], _objectSpread(_objectSpread({}, props), {}, {\n        children: props.children\n      })), props.spacingBottom && /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n        bottom: 2\n      })]\n    })\n  });\n};\nvar AreaFilterSelection = function AreaFilterSelection(props) {\n  var t = props.t,\n    location = props.location,\n    isPickingNewLocation = props.isPickingNewLocation;\n  var locationText = \"-\";\n  if (location) {\n    var _prettifyCoordinates = (0, _prettifyCoordinates2[\"default\"])(location.longitude, location.latitude, {\n        digits: 2\n      }),\n      longitude = _prettifyCoordinates.longitude,\n      latitude = _prettifyCoordinates.latitude;\n    locationText = \"\".concat(longitude, \" \").concat(latitude);\n  }\n  return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_StyledBox2, {\n    column: true,\n    centered: true,\n    styledMinWidth: \"230px\",\n    children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n      centered: true,\n      children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Icon.StyledIcon, {\n        light: true,\n        styledWidth: \"16px\",\n        glyph: _Icon.GLYPHS.location2\n      }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n        right: 2\n      }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n        textLight: true,\n        extraLarge: true,\n        children: t(\"diffTool.labels.areaFilterSelection\")\n      })]\n    }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n      bottom: 3\n    }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Box[\"default\"], {\n      styledMinHeight: \"40px\",\n      children: isPickingNewLocation ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledText2, {\n        textLight: true,\n        extraExtraLarge: true,\n        bold: true\n        // Using legacy Loader.jsx means we override at a higher level to inherit\n        // this fills tyle\n        ,\n        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Loader[\"default\"], {\n          light: true,\n          message: \"Querying \".concat(location ? \"new\" : \"\", \" position...\")\n        })\n      }) : /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n        textLight: true,\n        bold: true,\n        heading: true,\n        textAlignCenter: true,\n        children: locationText\n      })\n    })]\n  });\n};\nvar LocationAndDatesDisplayBox = (0, _styledComponents[\"default\"])(_Box[\"default\"]).attrs({\n  column: true,\n  charcoalGreyBg: true\n}).withConfig({\n  displayName: \"DiffTool__LocationAndDatesDisplayBox\",\n  componentId: \"sc-3vyhxu-7\"\n})([\"color:\", \";padding:15px;> \", \":first-child{margin-bottom:13px;}> div > div:first-child{margin-right:5px;min-width:50px;}\"], function (p) {\n  return p.theme.textLight;\n}, _Box[\"default\"]);\nvar LegendImage = function LegendImage(props) {\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"img\", _objectSpread(_objectSpread({}, props), {}, {\n    // Show the legend only if it loads successfully, so we start out hidden\n    style: {\n      display: \"none\",\n      marginTop: \"4px\"\n    }\n    // @ts-ignore\n    ,\n    onLoad: function onLoad(e) {\n      return e.target.style.display = \"block\";\n    }\n    // @ts-ignore\n    ,\n    onError: function onError(e) {\n      return e.target.style.display = \"none\";\n    }\n  }));\n};\nfunction createSplitItem(_x, _x2) {\n  return _createSplitItem.apply(this, arguments);\n}\n/**\n * If the item has only one available diff style, auto-select it\n */\nfunction _createSplitItem() {\n  _createSplitItem = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(sourceItem, splitDirection) {\n    var terria, ref;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          terria = sourceItem.terria;\n          ref = new _SplitItemReference[\"default\"]((0, _createGuid[\"default\"])(), terria);\n          ref.setTrait(_CommonStrata[\"default\"].user, \"splitSourceItemId\", sourceItem.uniqueId);\n          terria.addModel(ref);\n          _context3.next = 6;\n          return ref.loadReference();\n        case 6:\n          return _context3.abrupt(\"return\", (0, _mobx.runInAction)(function () {\n            var _newItem$styleSelecta;\n            if (ref.target === undefined) {\n              throw Error(\"failed to split item\");\n            }\n            var newItem = ref.target;\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"show\", true);\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"splitDirection\", splitDirection);\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", null);\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"initialTimeSource\", \"none\");\n            if (hasOpacity(newItem)) {\n              // We want to show the item on the map only after date selection. At the\n              // same time we cannot set `show` to false because if we\n              // do so, date picking which relies on feature picking, will not work. So\n              // we simply set the opacity of the item to 0.\n              newItem.setTrait(_CommonStrata[\"default\"].user, \"opacity\", 0);\n            }\n            setDefaultDiffStyle(newItem);\n\n            // Set the default style to true color style if it exists\n            var trueColor = (_newItem$styleSelecta = newItem.styleSelectableDimensions) === null || _newItem$styleSelecta === void 0 || (_newItem$styleSelecta = _newItem$styleSelecta[0]) === null || _newItem$styleSelecta === void 0 || (_newItem$styleSelecta = _newItem$styleSelecta.options) === null || _newItem$styleSelecta === void 0 ? void 0 : _newItem$styleSelecta.find(function (style) {\n              return (0, _isDefined[\"default\"])(style.name) && style.name.search(/true/i) >= 0;\n            });\n            if (trueColor !== null && trueColor !== void 0 && trueColor.id) {\n              var _newItem$styleSelecta2;\n              (_newItem$styleSelecta2 = newItem.styleSelectableDimensions) === null || _newItem$styleSelecta2 === void 0 || (_newItem$styleSelecta2 = _newItem$styleSelecta2[0]) === null || _newItem$styleSelecta2 === void 0 || _newItem$styleSelecta2.setDimensionValue(_CommonStrata[\"default\"].user, trueColor.id);\n            }\n            terria.overlays.add(newItem);\n            return newItem;\n          }));\n        case 7:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return _createSplitItem.apply(this, arguments);\n}\nfunction setDefaultDiffStyle(item) {\n  if (item.diffStyleId !== undefined) {\n    return;\n  }\n  var availableStyles = (0, _filterOutUndefined[\"default\"])(item.availableDiffStyles.map(function (diffStyleId) {\n    var _item$styleSelectable;\n    return (_item$styleSelectable = item.styleSelectableDimensions) === null || _item$styleSelectable === void 0 || (_item$styleSelectable = _item$styleSelectable[0]) === null || _item$styleSelectable === void 0 || (_item$styleSelectable = _item$styleSelectable.options) === null || _item$styleSelectable === void 0 ? void 0 : _item$styleSelectable.find(function (style) {\n      return style.id === diffStyleId;\n    });\n  }));\n  if (availableStyles.length === 1) {\n    item.setTrait(_CommonStrata[\"default\"].user, \"diffStyleId\", availableStyles[0].id);\n  }\n}\nfunction removeSplitItem(item) {\n  var terria = item.terria;\n  terria.overlays.remove(item);\n  if (item.sourceReference && terria.workbench.contains(item) === false) {\n    terria.removeModelReferences(item.sourceReference);\n  }\n}\nfunction doesFeatureBelongToItem(feature, item) {\n  var _feature$imageryLayer;\n  if (!_MappableMixin[\"default\"].isMixedInto(item)) return false;\n  var imageryProvider = (_feature$imageryLayer = feature.imageryLayer) === null || _feature$imageryLayer === void 0 ? void 0 : _feature$imageryLayer.imageryProvider;\n  if (imageryProvider === undefined) return false;\n  return item.mapItems.find(function (m) {\n    return _MappableMixin.ImageryParts.is(m) && m.imageryProvider === imageryProvider;\n  }) !== undefined;\n}\nfunction setTimeFilterFromLocation(item, location, im) {\n  var carto = new _Cartographic[\"default\"](_Math[\"default\"].toRadians(location.longitude), _Math[\"default\"].toRadians(location.latitude));\n  // We just need to set this to a high enough level supported by the service\n  var level = 30;\n  var tile = im.tilingScheme.positionToTileXY(carto, level);\n  return item.setTimeFilterFromLocation({\n    position: {\n      latitude: location.latitude,\n      longitude: location.longitude,\n      height: location.height\n    },\n    tileCoords: {\n      x: tile.x,\n      y: tile.y,\n      level: level\n    }\n  });\n}\nfunction hasOpacity(model) {\n  return (0, _hasTraits[\"default\"])(model, _ImageryProviderTraits[\"default\"], \"opacity\");\n}\nvar _default = exports[\"default\"] = (0, _hoistNonReactStatics[\"default\"])((0, _reactI18next.withTranslation)()((0, _styledComponents.withTheme)(DiffTool)), DiffTool);\nvar _StyledStyledIcon = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DiffTool___StyledStyledIcon\",\n  componentId: \"sc-3vyhxu-8\"\n})([\"transform:rotate(90deg);\"]);\nvar _StyledBox = (0, _styledComponents[\"default\"])(_Box[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledBox\",\n  componentId: \"sc-3vyhxu-9\"\n})([\"\", \"\"], function (p) {\n  return p.$_css3;\n});\nvar _StyledText = (0, _styledComponents[\"default\"])(_Text[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledText\",\n  componentId: \"sc-3vyhxu-10\"\n})([\"\", \"\"], function (p) {\n  return p.$_css4;\n});\nvar _StyledBox2 = (0, _styledComponents[\"default\"])(_Box[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledBox2\",\n  componentId: \"sc-3vyhxu-11\"\n})([\"@media (max-width:\", \"px){width:100%;}\"], function (props) {\n  return props.theme.md;\n});\nvar _StyledText2 = (0, _styledComponents[\"default\"])(_Text[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledText2\",\n  componentId: \"sc-3vyhxu-12\"\n})([\"fill:\", \";\"], function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.textLight;\n});","\"use strict\";\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nrequire(\"core-js/modules/es.array.for-each.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nrequire(\"core-js/modules/es.object.keys.js\");\nrequire(\"core-js/modules/es.array.reduce.js\");\nrequire(\"core-js/modules/es.array.reverse.js\");\nrequire(\"core-js/modules/es.array.slice.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.symbol.to-primitive.js\");\nrequire(\"core-js/modules/es.date.to-primitive.js\");\nrequire(\"core-js/modules/es.symbol.js\");\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.number.constructor.js\");\nrequire(\"core-js/modules/es.object.set-prototype-of.js\");\nrequire(\"core-js/modules/es.function.bind.js\");\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\nrequire(\"core-js/modules/es.reflect.construct.js\");\nrequire(\"core-js/modules/es.object.create.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/es.weak-map.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/es.symbol.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nrequire(\"core-js/modules/es.date.to-iso-string.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\nvar _mobx = require(\"mobx\");\nvar _mobxReact = require(\"mobx-react\");\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _reactI18next = require(\"react-i18next\");\nvar _JulianDate = _interopRequireDefault(require(\"terriajs-cesium/Source/Core/JulianDate\"));\nvar _CommonStrata = _interopRequireDefault(require(\"../../../Models/Definition/CommonStrata\"));\nvar _DateFormats = require(\"../../BottomDock/Timeline/DateFormats\");\nvar _Icon = _interopRequireWildcard(require(\"../../../Styled/Icon\"));\nvar _DateTimePicker = _interopRequireDefault(require(\"../../BottomDock/Timeline/DateTimePicker\"));\nvar _Text = _interopRequireWildcard(require(\"../../../Styled/Text\"));\nvar _Box = _interopRequireDefault(require(\"../../../Styled/Box\"));\nvar _Button = _interopRequireDefault(require(\"../../../Styled/Button\"));\nvar _Spacing = _interopRequireDefault(require(\"../../../Styled/Spacing\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor;\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\nvar dateFormat = require(\"dateformat\");\nvar DatePicker = (_dec = _mobx.action.bound, _dec2 = _mobx.action.bound, _dec3 = _mobx.action.bound, _dec4 = _mobx.action.bound, _dec5 = _mobx.action.bound, _dec6 = _mobx.action.bound, (0, _mobxReact.observer)(_class = (_class2 = /*#__PURE__*/function (_React$Component) {\n  _inherits(DatePicker, _React$Component);\n  var _super = _createSuper(DatePicker);\n  function DatePicker(props) {\n    var _this;\n    _classCallCheck(this, DatePicker);\n    _this = _super.call(this, props);\n    _initializerDefineProperty(_assertThisInitialized(_this), \"isOpen\", _descriptor, _assertThisInitialized(_this));\n    (0, _mobx.makeObservable)(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(DatePicker, [{\n    key: \"currentDate\",\n    get: function get() {\n      var date = this.props.item.currentDiscreteJulianDate;\n      return date && _JulianDate[\"default\"].toDate(date);\n    }\n  }, {\n    key: \"formattedCurrentDate\",\n    get: function get() {\n      if (this.currentDate === undefined) {\n        return;\n      }\n      var dateFormatting = undefined; // TODO\n      var formattedDate = dateFormatting !== undefined ? dateFormat(this.currentDate, dateFormatting) : (0, _DateFormats.formatDateTime)(this.currentDate);\n      return formattedDate;\n    }\n  }, {\n    key: \"toggleOpen\",\n    value: function toggleOpen(e) {\n      this.isOpen = !this.isOpen;\n      // stopPropagation is required to prevent the datetime picker popup from closing when\n      // the date button is clicked\n      e.stopPropagation();\n    }\n  }, {\n    key: \"setIsOpen\",\n    value: function setIsOpen(isOpen) {\n      this.isOpen = isOpen;\n    }\n  }, {\n    key: \"changeCurrentDate\",\n    value: function changeCurrentDate(date) {\n      this.props.item.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", date.toISOString());\n      this.props.onDateSet();\n    }\n  }, {\n    key: \"moveToPreviousDate\",\n    value: function moveToPreviousDate() {\n      this.props.item.moveToPreviousDiscreteTime(_CommonStrata[\"default\"].user);\n      this.props.onDateSet();\n    }\n  }, {\n    key: \"moveToNextDate\",\n    value: function moveToNextDate() {\n      this.props.item.moveToNextDiscreteTime(_CommonStrata[\"default\"].user);\n      this.props.onDateSet();\n    }\n  }, {\n    key: \"onClickExternalButton\",\n    value: function onClickExternalButton(event) {\n      this.setIsOpen(true);\n      // stopPropagation is required to prevent the datetime picker popup from closing when\n      // the external button is clicked\n      event.stopPropagation();\n    }\n  }, {\n    key: \"registerExternalButtonClick\",\n    value: function registerExternalButtonClick() {\n      var _this$props$externalO;\n      (_this$props$externalO = this.props.externalOpenButton.current) === null || _this$props$externalO === void 0 || _this$props$externalO.addEventListener(\"click\", this.onClickExternalButton);\n    }\n  }, {\n    key: \"unregisterExternalButtonClick\",\n    value: function unregisterExternalButtonClick(externalOpenButton) {\n      var _externalOpenButton$c;\n      (_externalOpenButton$c = externalOpenButton.current) === null || _externalOpenButton$c === void 0 || _externalOpenButton$c.removeEventListener(\"click\", this.onClickExternalButton);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.registerExternalButtonClick();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      this.unregisterExternalButtonClick(prevProps.externalOpenButton);\n      this.registerExternalButtonClick();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unregisterExternalButtonClick(this.props.externalOpenButton);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props,\n        heading = _this$props.heading,\n        item = _this$props.item,\n        t = _this$props.t;\n      return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n        column: true,\n        centered: true,\n        flex: 1,\n        children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n          bottom: 4\n        }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n          centered: true,\n          children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledStyledIcon, {\n            light: true,\n            styledWidth: \"21px\",\n            glyph: _Icon[\"default\"].GLYPHS.calendar2,\n            $_css: \"margin-top:-2px;\"\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n            right: 2\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n            textLight: true,\n            extraLarge: true,\n            children: heading\n          })]\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n          bottom: 2\n        }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n          children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(PrevButton, {\n            disabled: item.isPreviousDiscreteTimeAvailable === false,\n            title: t(\"diffTool.datePicker.previousDateTitle\"),\n            onClick: this.moveToPreviousDate\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(DateButton, {\n            primary: true,\n            isOpen: this.isOpen,\n            onClick: this.toggleOpen,\n            title: t(\"diffTool.datePicker.dateButtonTitle\"),\n            children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n              extraLarge: true,\n              children: this.formattedCurrentDate || \"-\"\n            })\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(NextButton, {\n            disabled: item.isNextDiscreteTimeAvailable === false,\n            title: t(\"diffTool.datePicker.nextDateTitle\"),\n            onClick: this.moveToNextDate\n          })]\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(\"div\", {\n          style: {\n            display: this.isOpen ? \"block\" : \"none\",\n            position: \"absolute\"\n          },\n          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_DateTimePicker[\"default\"], {\n            currentDate: this.currentDate,\n            dates: this.props.item.objectifiedDates,\n            onChange: this.changeCurrentDate,\n            openDirection: \"none\",\n            isOpen: this.isOpen,\n            onOpen: function onOpen() {\n              return _this2.setIsOpen(true);\n            },\n            onClose: function onClose() {\n              return _this2.setIsOpen(false);\n            }\n          })\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n          bottom: 4\n        })]\n      });\n    }\n  }]);\n  return DatePicker;\n}(_react[\"default\"].Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"isOpen\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class2.prototype, \"currentDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class2.prototype, \"currentDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"formattedCurrentDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class2.prototype, \"formattedCurrentDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"toggleOpen\", [_dec], Object.getOwnPropertyDescriptor(_class2.prototype, \"toggleOpen\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"setIsOpen\", [_dec2], Object.getOwnPropertyDescriptor(_class2.prototype, \"setIsOpen\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"changeCurrentDate\", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, \"changeCurrentDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"moveToPreviousDate\", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, \"moveToPreviousDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"moveToNextDate\", [_dec5], Object.getOwnPropertyDescriptor(_class2.prototype, \"moveToNextDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"onClickExternalButton\", [_dec6], Object.getOwnPropertyDescriptor(_class2.prototype, \"onClickExternalButton\"), _class2.prototype)), _class2)) || _class);\nvar PagerButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).attrs({\n  iconProps: {\n    css: \"margin-right:0;\"\n  }\n}).withConfig({\n  displayName: \"DatePicker__PagerButton\",\n  componentId: \"sc-11kes1x-0\"\n})([\"cursor:pointer;background-color:\", \";width:40px;border:1px solid transparent;\", \" flex-direction:column;\"], function (props) {\n  return props.theme.colorPrimary;\n}, function (_ref) {\n  var theme = _ref.theme;\n  return theme.centerWithFlex();\n});\nvar PrevButton = (0, _styledComponents[\"default\"])(PagerButton).attrs({\n  renderIcon: function renderIcon() {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledStyledIcon2, {\n      light: true,\n      styledWidth: \"15px\",\n      glyph: _Icon[\"default\"].GLYPHS.arrowDown\n    });\n  }\n}).withConfig({\n  displayName: \"DatePicker__PrevButton\",\n  componentId: \"sc-11kes1x-1\"\n})([\"\", \" margin-right:1px;\"], function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.borderRadiusLeft(theme.radius40Button);\n});\nvar NextButton = (0, _styledComponents[\"default\"])(PagerButton).attrs({\n  renderIcon: function renderIcon() {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledStyledIcon3, {\n      light: true,\n      styledWidth: \"15px\",\n      glyph: _Icon[\"default\"].GLYPHS.arrowDown\n    });\n  }\n}).withConfig({\n  displayName: \"DatePicker__NextButton\",\n  componentId: \"sc-11kes1x-2\"\n})([\"\", \" margin-left:1px;\"], function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.borderRadiusRight(theme.radius40Button);\n});\nvar DateButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).withConfig({\n  displayName: \"DatePicker__DateButton\",\n  componentId: \"sc-11kes1x-3\"\n})([\"z-index:0;\", \";border-radius:0px;border:1px solid \", \";min-width:235px;@media (max-width:\", \"px){min-width:150px;}\"], function (props) {\n  return props.isOpen && \"z-index: 1000;\";\n}, function (props) {\n  return props.theme.colorPrimary;\n}, function (props) {\n  return props.theme.lg;\n});\nvar _default = exports[\"default\"] = (0, _reactI18next.withTranslation)()(DatePicker);\nvar _StyledStyledIcon = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DatePicker___StyledStyledIcon\",\n  componentId: \"sc-11kes1x-4\"\n})([\"\", \"\"], function (p) {\n  return p.$_css;\n});\nvar _StyledStyledIcon2 = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DatePicker___StyledStyledIcon2\",\n  componentId: \"sc-11kes1x-5\"\n})([\"transform:rotate(90deg);\"]);\nvar _StyledStyledIcon3 = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DatePicker___StyledStyledIcon3\",\n  componentId: \"sc-11kes1x-6\"\n})([\"transform:rotate(270deg);\"]);","\"use strict\";\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nrequire(\"core-js/modules/es.symbol.js\");\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.symbol.iterator.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/es.date.to-string.js\");\nrequire(\"core-js/modules/es.regexp.to-string.js\");\nrequire(\"core-js/modules/es.function.name.js\");\nrequire(\"core-js/modules/es.array.from.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.array.for-each.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nrequire(\"core-js/modules/es.object.keys.js\");\nrequire(\"core-js/modules/es.array.reduce.js\");\nrequire(\"core-js/modules/es.array.reverse.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.symbol.to-primitive.js\");\nrequire(\"core-js/modules/es.date.to-primitive.js\");\nrequire(\"core-js/modules/es.number.constructor.js\");\nrequire(\"core-js/modules/es.object.set-prototype-of.js\");\nrequire(\"core-js/modules/es.function.bind.js\");\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\nrequire(\"core-js/modules/es.reflect.construct.js\");\nrequire(\"core-js/modules/es.object.create.js\");\nrequire(\"core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nrequire(\"core-js/modules/es.array.slice.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\nrequire(\"core-js/modules/es.array.is-array.js\");\nvar _mobx = require(\"mobx\");\nvar _mobxReact = require(\"mobx-react\");\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _Ellipsoid = _interopRequireDefault(require(\"terriajs-cesium/Source/Core/Ellipsoid\"));\nvar _Math = _interopRequireDefault(require(\"terriajs-cesium/Source/Core/Math\"));\nvar _LocationMarkerUtils = require(\"../../../Models/LocationMarkerUtils\");\nvar _MapInteractionMode = _interopRequireWildcard(require(\"../../../Models/MapInteractionMode\"));\nvar _Loader = _interopRequireDefault(require(\"../../Loader\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _class, _class2, _descriptor, _descriptor2, _descriptor3;\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar LocationPicker = exports[\"default\"] = (0, _mobxReact.observer)(_class = (_class2 = /*#__PURE__*/function (_React$Component) {\n  _inherits(LocationPicker, _React$Component);\n  var _super = _createSuper(LocationPicker);\n  function LocationPicker(props) {\n    var _this;\n    _classCallCheck(this, LocationPicker);\n    _this = _super.call(this, props);\n    _initializerDefineProperty(_assertThisInitialized(_this), \"pickMode\", _descriptor, _assertThisInitialized(_this));\n    _initializerDefineProperty(_assertThisInitialized(_this), \"currentPick\", _descriptor2, _assertThisInitialized(_this));\n    _initializerDefineProperty(_assertThisInitialized(_this), \"pickDisposer\", _descriptor3, _assertThisInitialized(_this));\n    (0, _mobx.makeObservable)(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(LocationPicker, [{\n    key: \"setupPicker\",\n    value: function setupPicker() {\n      var _this2 = this;\n      var _this$props = this.props,\n        terria = _this$props.terria,\n        location = _this$props.location,\n        onPicking = _this$props.onPicking,\n        onPicked = _this$props.onPicked;\n      this.pickMode = new _MapInteractionMode[\"default\"]({\n        message: \"\",\n        messageAsNode: /*#__PURE__*/(0, _jsxRuntime.jsx)(\"div\", {}),\n        uiMode: _MapInteractionMode.UIMode.Difference\n      });\n      addInteractionModeToMap(terria, this.pickMode);\n      if (location) showMarker(terria, location);\n      this.pickDisposer = (0, _mobx.reaction)(function () {\n        return _this2.pickMode.pickedFeatures;\n      }, (0, _mobx.action)(function (newPick) {\n        var _newPick$allFeaturesA;\n        if (newPick === undefined || newPick.pickPosition === undefined) {\n          return;\n        }\n        _this2.pickMode.customUi = function () {\n          return /*#__PURE__*/(0, _jsxRuntime.jsx)(_Loader[\"default\"], {\n            message: \"Querying \".concat(location ? \"new\" : \"\", \" position...\")\n          });\n        };\n        var position = cartesianToDegrees(newPick.pickPosition);\n        showMarker(_this2.props.terria, position);\n        _this2.currentPick = newPick;\n        onPicking(position);\n        (_newPick$allFeaturesA = newPick.allFeaturesAvailablePromise) === null || _newPick$allFeaturesA === void 0 || _newPick$allFeaturesA.then(function () {\n          if (newPick === _this2.currentPick) {\n            onPicked(newPick, position);\n          }\n        });\n      }));\n    }\n  }, {\n    key: \"destroyPicker\",\n    value: function destroyPicker() {\n      var _this$pickDisposer;\n      var terria = this.props.terria;\n      if (this.pickMode) {\n        removeInteractionModeFromMap(terria, this.pickMode);\n      }\n      (0, _LocationMarkerUtils.removeMarker)(terria);\n      this.pickMode = undefined;\n      this.currentPick = undefined;\n      (_this$pickDisposer = this.pickDisposer) === null || _this$pickDisposer === void 0 || _this$pickDisposer.call(this);\n      this.pickDisposer = undefined;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setupPicker();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.destroyPicker();\n      this.setupPicker();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyPicker();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n  return LocationPicker;\n}(_react[\"default\"].Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"pickMode\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"currentPick\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"pickDisposer\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class2.prototype, \"setupPicker\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"setupPicker\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"destroyPicker\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"destroyPicker\"), _class2.prototype)), _class2)) || _class;\nfunction addInteractionModeToMap(terria, mode) {\n  terria.mapInteractionModeStack.push(mode);\n}\nfunction removeInteractionModeFromMap(terria, mode) {\n  var _terria$mapInteractio = terria.mapInteractionModeStack.slice(-1),\n    _terria$mapInteractio2 = _slicedToArray(_terria$mapInteractio, 1),\n    currentMode = _terria$mapInteractio2[0];\n  if (currentMode === mode) {\n    terria.mapInteractionModeStack.pop();\n  }\n}\nfunction showMarker(terria, location) {\n  (0, _LocationMarkerUtils.addMarker)(terria, {\n    name: \"User selection\",\n    location: location,\n    customMarkerIcon: require(\"../../../../wwwroot/images/difference-pin.png\")\n  });\n}\nfunction cartesianToDegrees(cartesian) {\n  var carto = _Ellipsoid[\"default\"].WGS84.cartesianToCartographic(cartesian);\n  return {\n    longitude: _Math[\"default\"].toDegrees(carto.longitude),\n    latitude: _Math[\"default\"].toDegrees(carto.latitude)\n  };\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAA2CAYAAAAyEzKAAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGaADAAQAAAABAAAANgAAAAAbYi+LAAADOUlEQVRYCe1YPWgUQRT+3pEoqEWilSRBjSGNWKhga7DwBwTRKgqChXVM0igKGhRMFCXRQhsbFWOlIAhBm5ythRaCmCBGBAmIwRSx0EjW783tbnb3Zvbn7gqLe7A3M9977/tm3s7OLidIMW8QuyE4ihW2wA5em3it5/WL+A94+IAS3rJ9LhNsHSZJ3POYPoSTxC8xuTfpd44Fs/RdwTgmRZgZsZiIN4QOup/x2huJKdYVvOE0j8s4vgWJoQgFdpJ8ildH4Ky5FQoIDlPovXIYEW8EG7CIdxToqZk4mSj4hDbskhEslYxvETcbKqCkOmHlpQnLtJHAPK81CjTUBH9Yq80tJO3PJSD4wthH3LKz3NK6604xbytbt+nEBf0tDDzkjgo9L1jfE1rfAOF9vIGfeMLxkQCztuTXe9Jlda6CC1iH01EBdZkxcXYXdJxiXSrSmRKgrrKM2ol8vJyR36kieky4TfDd7aQny0/+Eu/Jx1QSYE9dfvLrSqZSSXjEcJsfs8UYPPsImtLnpIdbUg+38IipIhSeusA5dOO+DOC3dwdr8RlniF1nJdLK7XHL91aOlUFMM7ivirwaWCb0ldPZwnh9xrJsWm5jv5ZLj4C7WdG+v5Xt9pwCmnJPfyoi7XjK2c0o0DBTPuWlGRE+WCuc3bWGCSgR+QxvIGLI2zHJds706/+Z4yqUz1ilXOxS9S9LdtnH62vIY/h8llDEjNvwmELmbVaziuYrT8RiIqaGJZyP+It3mW94IpnWB5CfQmXeuH2RuHxdwWt+GvUlg2MriTiHWbaVyDi7W4kftgVaRfwPtYe2BCfm4YHrA88q4hNdYBu+CZ3kFccSV37RFeMU4azmmTjmSozhJYya+Bi4OnCKmJBuftIIz9s0U/823EoLSRXRY50i1psZktJv4kKgumPdwskwbumX3NIHkjgn8IplOliFJ4DUlYSxHgbY13dJ1JYprHim5RLhi2eG5/VEjI1jg8dA+yCXiEltxdUYRXIcc8YHue5JkOKdZYF84ypy5+ZfScBeQ9sUKVS0Zrma5SpUgULBzd3VLFehChQK/g93l/7roxa0OddTbCWe+f9qiS9h8z9WTg38A1O1vXOERmoNAAAAAElFTkSuQmCC\""],"sourceRoot":""}