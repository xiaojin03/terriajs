{"version":3,"sources":["webpack:///./node_modules/tinymce/icons/default/index.js","webpack:///./node_modules/tinymce/icons/default/icons.js","webpack:///./node_modules/tinymce/themes/silver/index.js","webpack:///./node_modules/tinymce/themes/silver/theme.js","webpack:///./node_modules/tinymce/models/dom/index.js","webpack:///./node_modules/tinymce/models/dom/model.js","webpack:///./node_modules/tinymce/plugins/media/index.js","webpack:///./node_modules/tinymce/plugins/media/plugin.js","webpack:///./node_modules/tinymce/plugins/image/index.js","webpack:///./node_modules/tinymce/plugins/image/plugin.js","webpack:///./node_modules/tinymce/plugins/link/index.js","webpack:///./node_modules/tinymce/plugins/link/plugin.js","webpack:///./node_modules/tinymce/plugins/lists/index.js","webpack:///./node_modules/tinymce/plugins/lists/plugin.js","webpack:///./node_modules/tinymce/plugins/table/index.js","webpack:///./node_modules/tinymce/plugins/table/plugin.js","webpack:///./node_modules/tinymce/plugins/autolink/index.js","webpack:///./node_modules/tinymce/plugins/autolink/plugin.js","webpack:///./node_modules/tinymce/skins/content/default/content.min.css","webpack:///./node_modules/tinymce/skins/ui/oxide/content.min.css","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/ScriptLoader2.js","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/Editor.js","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/EditorPropTypes.js","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/Utils.js","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/TinyMCE.js"],"names":["tinymce","IconManager","add","icons","getPrototypeOf$2","Object","getPrototypeOf","hasProto","v","constructor","predicate","_a","prototype","name","isType$1","type","value","x","t","Array","isArray","String","o","proto","isPrototypeOf","typeOf","isSimpleType","eq$1","a","isString","isObject","isPlainObject","is$2","isNull","isBoolean","isUndefined","undefined","isNullable","isNonNullable","isFunction","isNumber","isArrayOf","pred","i","len","length","noop","noarg","f","compose","fa","fb","args","apply","constant$1","identity","tripleEquals","b","curry","fn","initialArgs","restArgs","all","concat","not","die","msg","Error","apply$1","never","always","Optional","tag","this","singletonNone","onNone","onSome","mapper","some","none","binder","replacement","thunk","message","worker","nativeSlice","slice","nativeIndexOf","indexOf","nativePush","push","rawIndexOf","ts","call","xs","r","contains$2","exists","range$2","num","chunk$1","array","size","s","map$2","each$1","partition$3","pass","fail","filter$2","foldr","acc","eachr","foldl","find$5","until","findUntil","findIndex$1","flatten","bind$3","forall","reverse","difference","a1","a2","mapToObject","pure$2","sort","comparator","copy","get$h","head","last$1","from","findMap","arr","isSome","keys","hasOwnProperty$1","hasOwnProperty","each","obj","props","k","map$1","tupleMap","tuple","objAcc","internalFilter","onTrue","onFalse","filter$1","mapToArray","find$4","values","get$g","key","has$2","hasNonNullableKey","is$1","lhs","rhs","left","cat","lift2","oa","ob","getOrDie","mapFrom","someIf","checkRange","str","substr","start","removeLeading","prefix","startsWith","numChars","substring","removeFromStart","contains$1","end","idx","endsWith","suffix","trim$1","replace","blank","isNotEmpty","isSupported$1","dom","style","getPropertyValue","fromDom","node","SugarElement","fromHtml","html","scope","div","document","createElement","innerHTML","hasChildNodes","childNodes","console","error","fromTag","fromText","text","createTextNode","fromPoint","docElm","y","elementFromPoint","map","Global","window","Function","resolve","p","parts","path$1","split","getOrDie$1","actual","unsafe","getPrototypeOf$1","sandHTMLElement","test","name$3","element","nodeName","toLowerCase","isType","nodeType","type$1","isHTMLElement","isElement$1","isText","isDocument","isDocumentFragment","isTag","e","is","selector","elem","matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","bypassSelector","childElementCount","eq","e1","e2","contains","d1","d2","owner$4","ownerDocument","documentOrOwner","dos","documentElement","defaultView","parent","parentNode","parentElement","offsetParent","children","child$2","index","cs","firstChild","spot","offset","leaf","isShadowRoot","host","supported","Element","attachShadow","Node","getRootNode","isSupported","getContentContainer","body","getShadowRoot","getShadowHost","isOpenShadowHost","shadowRoot","inBody","doc","fold","fbc","fab","getBody","rawSet","setAttribute","set$9","setAll$1","attrs","get$f","getAttribute","getOpt","has$1","hasAttribute","remove$7","removeAttribute","internalSet","property","setProperty","internalRemove","removeProperty","set$8","setAll","css","setOptions","get$e","getComputedStyle","getUnsafeProperty","getRaw","raw","filter","getAllRaw","ruleName","item","isValidValue","remove$6","reflow","offsetWidth","Dimension","getOffset","get","parseFloat","aggregate","properties","val","parseInt","isNaN","set","h","match","getOuter","max","cumulativeInclusions","api$2","getBoundingClientRect","height","offsetHeight","get$d","getOuter$2","r$1","top","translate","SugarPosition","firstDefinedOrZero","absolute$3","win","offsetLeft","offsetTop","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","viewport$1","box","boxPosition","api$1","get$c","getOuter$1","cached","called","unknown$3","nu$d","major","minor","Version","nu","detect","versionRegexes","agent","cleanedAgent","regexes","firstMatch","group","Number","find$3","unknown","detect$4","candidates","userAgent","candidate","search","normalVersionRegex","checkContains","target","uastring","browsers","brand","oses","PlatformInfo","nu$c","info","current","version","isBrowser","isEdge","isChromium","isIE","isOpera","isFirefox","isSafari","Browser","edge","chromium","ie","opera","firefox","safari","nu$b","isOS","isWindows","isiOS","isAndroid","isMacOS","isLinux","isSolaris","isFreeBSD","isChromeOS","OperatingSystem","windows","ios","android","linux","macos","solaris","freebsd","chromeos","PlatformDetection","userAgentDataOpt","mediaMatch","browser","bind","userAgentData","brands","uaBrand","lcBrand","detectBrowser$1","orThunk","detectBrowser","os","detectOs","deviceType","isiPad","isiPhone","isMobile","isTouch","isTablet","isPhone","iOSwebview","isDesktop","isWebView","DeviceType","query","matchMedia","platform","navigator","detect$2","fromRawEvent$1","rawEvent","event","el","composed","composedPath","getOriginalEventTarget","getOr","stop","stopPropagation","prevent","preventDefault","kill","mkEvent","clientX","clientY","handler","useCapture","wrapped","handle","addEventListener","unbind","removeEventListener","before$1","marker","insertBefore","after$2","nextSibling","append$2","prepend$1","appendChild","append$1","elements","empty","textContent","rogue","remove$5","removeChild","get$b","_DOC","to","scrollTo","bounds$1","width","right","bottom","getBounds$3","_win","scroll","visualViewport","get$a","clientWidth","clientHeight","Math","pageLeft","pageTop","getDocument","walkUp","navigation","view","owner","rest","Navigation","freeze","__proto__","frameElement","find$2","d","paths","pathTo","frames","loc","bounds","box$1","xy","w","absolute$2","position","constrain","original","constraint","min","global$a","util","Tools","value$4","applyHelper","constHelper","outputHelper","output","inner","_onError","onValue","isValue","isError","Result","mapError","or","getOrThunk","toOptional","error$1","onError","_onValue","fromOption","optional","err","SimpleResultType","fold$1","res","stype","serror","svalue","Value","SimpleResult","results","errors","field$2","newKey","presence","prop","ifField","ifCustom","instantiator","baseMerge","merger","objects","ret","j","curObject","deepMerge","old","merge$1","defaultedThunk","fallbackThunk","process","defaulted$1","fallback","mergeWithThunk","baseThunk","mergeErrors$1","ResultCombine","partitions","formatObj","input","JSON","stringify","nu$a","path","getErrorInfo","value$3","validator","extract","custom","toString","anyValue$1","requiredAccess","bundle","missingRequired","fallbackAccess","extractField","field","av","bundleAsOption","optValue","ov","result","optionAccess","optionDefaultedAccess","valueThunk","getDelegate","getSetKeys","objOfOnly","fields","delegate","objOf","fieldNames","extra","unsupported","join","unsupportedFields","success","extractFields","_okey","_presence","_instantiator","arrOf","oneOf","rawF","setOf$1","keys$1","validatedKeys","validateKeys","validKeys","schema","vk","arrOfObj","anyValue","typedValue","expectedType","actualType","number","string","boolean","functionProcessor","isPostMessageable","every","postMessageable","chooseFrom","branches","ch","branch","missingBranch","vp","choose$2","missingKey","chosen","valueOf","setOf","asRaw","label","errs","extractValue","extraction","errInfo","formatError","asRawOrDie$1","es","formatErrors","choose$1","thunkOf","desc","_desc","processor","getP","field$1","customField","validateEnum","required$1","requiredOf","requiredNumber","requiredString","requiredStringEnum","requiredFunction","requiredObjOf","objSchema","requiredArrayOfObj","objFields","requiredArrayOf","option$3","optionOf","optionNumber","optionString","optionStringEnum","optionFunction","optionArrayOf","optionObjOf","defaulted","defaultedOf","defaultedNumber","defaultedString","defaultedStringEnum","defaultedBoolean","defaultedFunction","defaultedArrayOf","defaultedObjOf","Cell","initial","Adt","cases","constructors","adt","acase","count","argLength","foldArgs","branchKeys","reqKey","log","params","bothErrors","firstError","secondError","bothValues","exclude","exclude$1","wrap$1","wrap$2","wrapAll","keyvalues","kv","wrapAll$1","consolidate","objs","base","partition$1","mergeValues","ensureIsRoot","isRoot","ancestor$2","transform","transformed","closest$4","isSource","component","simulatedEvent","defaultEventHandler","can","abort","run","nu$9","fuse$1","handlers","all$2","any","constant","touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseout","mouseup","mouseover","focusin","focusout","keydown","keyup","change","click","transitioncancel","transitionend","transitionstart","selectstart","prefixName","alloy","tap","focus$4","postBlur","postPaste","receive","execute$5","focusItem","longpress","sandboxClose","typeaheadCancel","systemInit","documentTouchmove","documentTouchend","windowScroll","windowResize","attachedToDom","detachedFromDom","dismissRequested","repositionRequested","focusShifted","slotVisibility","externalElementScroll","changeTab","dismissTab","highlight$1","dehighlight$1","emit","dispatchWith","emitWith","emitExecute","dispatch","data","getSystem","triggerEvent","dispatchEvent","derive$2","configs","run$1","runActionExtra","action","runOnSourceName","redirectToPart","detail","partName","uid","getByUid","redirectee","redirectToUid","partUids","runWithTarget","ev","getByDom","cutter","cut","stopper","runOnSource","runOnAttached","runOnDetached","runOnInit","runOnExecute$1","runOnName","get$9","set$6","content","docDom","fragment","createDocumentFragment","contentElements","fromHtml$1","shallow","isDeep","cloneNode","clone$1","getHtml","container","clone","events$i","originator","isRecursive","warn","DefaultEvents","events","unique","generate$6","time","Date","getTime","random","floor","prefix$1","idAttr$1","idAttr","writeOnly","defineProperty","writable","read$1","id","generate$5","make$8","NoContextApi","getComp","getMessage","debugInfo","triggerFocus","triggerEscape","broadcast","broadcastOn","broadcastEvent","build","buildOrPatch","addToWorld","removeFromWorld","addToGui","removeFromGui","isConnected","singleton$1","cleanParameters","parameters","markAsExtraApi","extraName","endIndex","openBracketIndex","toFunctionAnnotation","premadeTag","premade$1","comp","getPremade","spec","makeApi","apiFunction","markAsSketchApi","getApis","NoState","init","nu$8","readState","byInnerKey","indexKey","chain","nu$7","classes","attributes","styles","getCurried","descHandler","cHandler","behaviourTuple","nameToHandlers","behaviours","behaviour","combine$1","eventOrder","byEventName","behaviourEvents","groupByEvents","combineGroups","assemble","rawHandler","read$2","fuse","tuples","eventName","order","keyName","sorted","aKey","bKey","aIndex","bIndex","sortKeys","sortedTuples","c","missingOrderError","assembled","purpose","uncurried","baseBehaviour","schema$z","mergeWith","toEvents","read","attr","supports","classList","get$8","add$3","clazz","add$4","remove$3","remove$4","add$2","remove$2","remove","cleanClass","has","add$1","remove$1","hasAll","get$7","getNative","get$6","set$5","ensureInDom","child","obsoleted","obs","patchChildrenWith","builtChildren","currentChildren","patchSpecChild","oldObsoleted","childComp","newObs","oldTag","determineObsoleted","diffKeyValueSet","newObj","oldObj","newKeys","oldKeys","toRemove","toSet","bifilter","reconcileToDom","definition","class","existingAttributes","clone$2","attrsToSet","attrsToRemove","existingStyles","stylesToSet","stylesToRemove","existingClasses","classesToRemove","classesToAdd","innerHtml","domChildren","nodes","optObsoleted","patchDomChildren","valueElement","getOrUndefined","updateValue","renderToDom","hasMixedChildren","isPremade","attemptPatch","subject","introduceToDom","generateFrom","validated","list","optBlobThunk","blob","config","state","generateFrom$1","generate$4","me","getBehaviours$2","getDomDefinition","bList","bData","components","infoModification","domModification","toModification","baseModification","modification","baseMod","modsByBehaviour","exhibit","byAspect","combineObjects","combinedClasses","combinedAttributes","combinedStyles","combine$2","defnA","mod","build$2","getMe","systemApi","toInfo","bBlob","getBehaviours$3","getData$2","modDefinition","baseEvents","getEvents","subcomponents","hasConfigured","behaviourName","apis","connect","newApi","disconnect","syncComponents","children$1","subs","buildFromSpec","userSpec","specEvents","build$1","buildSubcomponents","completeSpec","text$2","external$1","extSpec","uids","userSpecWithUid","isSketchSpec$1","premade","ClosestOrAncestor","ancestor","ancestor$1","closest$3","closest$2","child$1","descendant","querySelector","one","closest$1","attribute","manager","ariaId","link","unlink","isAriaPartOf","queryElem","dep","find$1","isPartOf$1","EventConfiguration","eventConfig","processEvent","initialTarget","patterns","NORMAL","noLogger","LOGGING","logger","sequence","startTime","logEventCut","_name","outcome","logEventStopped","logNoParent","logEventNoHandlers","logEventResponse","write","finishTime","makeEventLogger","STOP","monitorEvent","menuFields","itemFields","itemSchema$3","_initSize","tieredMenuMarkers","markers$1","required","onPresenceHandler","fieldName","stack","lines","line","getTrace","onHandler","onKeyboardHandler","onStrictHandler","onStrictKeyboardHandler","output$1","snapshot","initSize","nu$6","bubble","direction","placement","boundsRestriction","labelPrefix","alwaysFit","restriction","adt$a","southeast","southwest","northeast","northwest","south","north","east","west","southeast$3","southwest$3","northeast$3","northwest$3","south$3","north$3","east$3","west$3","cycleBy","delta","clamp","anchor","restrictions","dir","getRestriction","eastX$1","middleX$1","westX$1","northY$2","southY$2","centreY$1","southeast$2","bubbles","southwest$2","northeast$2","northwest$2","north$2","south$2","east$2","eastEdgeX$1","west$2","westEdgeX$1","all$1","allRtl$1","aboveOrBelow","aboveOrBelowRtl","belowOrAbove","belowOrAboveRtl","ActiveReceiving","receiveConfig","channelMap","channels","receivingData","targetChannels","universal","chooseChannels","channelInfo","channelSchema","onReceive","ReceivingSchema","loadEvent","bConfig","bState","_simulatedEvent","wrapApi","bName","apiName","markAsBehaviourApi","revokeBehaviour","doCreate","configSchema","schemaSchema","active","getConfig","wrappedApis","apiF","extraF","revoke","prepared","configAsRaw","initialConfig","behaviourInfo","exhibitor","derive$1","capabilities","simpleSchema","create$4","create$5","modeSchema","createModes","modes","createModes$1","branchKey","Receiving","ActivePosition","posConfig","useFixed","focus$3","focus","blur$1","blur","hasFocus","root","activeElement","active$1","preserve$1","refocus","focused","descend","descendant$1","oldFocus","newFocus","NuPositionCss","toPx","applyPositionCss","toOptions","adt$9","relative","fixed","positionWithDirection","posName","decision","decisionRect","rect","decisionX","decisionY","decisionRight","decisionBottom","cata$2","reposition","origin","toBox","rel","viewport","optBounds","pos","translate$2","outerScroll","relative$1","fixed$1","anchorBox","getPlacement","adt$8","fit","nofit","attempt","bubbleOffset","adjustedBounds","applyRestriction","isVerticalAxis","newPos","adjustedLeft","adjustedTop","adjustedRight","adjustedBottom","adjustBounds","newX","newY","originInBounds","sizeInBounds","visibleW","visibleH","boundsX","boundsY","boundsRight","boundsBottom","determinePosition","fits","fittedBox","maxX","maxY","restrictedX","restrictedY","restrictedWidth","restrictedHeight","calcReposition","isPartlyVisible","maxWidth","maxHeight","upAvailable","downAvailable","middle","cataVertical","westAvailable","eastAvailable","cataHorizontal","calcMaxSizes","on","classesOn","off","classesOff","layout","testY","singleton","doRevoke","clear","isSet","unbindable","value$2","bind$2","capture","capture$1","fromRawEvent","timerAttr","hasChanges","intermediate","round","toFixed","isNone","equals","setupTransitionListeners","transition","transitionEnd","transitionCancel","timer","isSourceTransition","pseudoElement","propertyName","transitionDone","clearTimeout","transitionStart","duration","times","parse","delay","dur","getTransitionDuration","requestAnimationFrame","setTimeout","applyTransitionCss","lastPlacement","shouldTransition","placer","mode","shouldApplyTransitionCss","isTransitioning$1","intermediatePosition","intermediateCssOptions","timerId","startTransitioning","options","elementBox","panelWidth","panelHeight","attemptBestFit","isVisible","next","attemptLayout","newReposition","newVisibleW","newVisibleH","newIsVisible","bestNext","attempts","preference","setPlacement","setPlacement$1","setMaxHeight","absMax","setMax$1","anchored","available","expandable$1","defaultOr","dephault","go","positionCss","position$2","classInfo","setClasses","maxHeightFunction","setHeight","maxWidthFunction","setWidth","allAlignments","nu$5","xOffset","yOffset","insetModifier","insetXOffset","insetYOffset","getClasses","make","xDelta","yDelta","alignmentsOn","alignmentsOff","insetNortheast","insetNorthwest","insetNorth","insetSoutheast","insetSouthwest","insetSouth","insetEast","insetWest","nu$4","onDirection","isLtr","isRtl","getDirection","AttributeValue","Attribute","isBottomToTopDir","BottomToTop","schema$y","get$5","defaultLtr","defaultRtl","defaultBottomLtr","defaultBottomRtl","dirElement","isBottomToTop","customLtr","layouts","ls","onLtr","customRtl","onRtl","ltr","onBottomLtr","rtl","onBottomRtl","HotspotAnchor","anchorInfo","hotspot","overrides","MakeshiftAnchor","adt$7","screen","absolute","point","toAbsolute","sum","points","sumAsAbsolute","positions","absolute$1","getRootPoint","frame","frameOwner","compOwner","getBox","pointed","calcNewAnchor","optBox","rootPoint","topLeft","onRelative","onFixed","sumAsFixed","layoutsLtr","showAbove","layoutsRtl","NodeAnchor","nodeBox","SimRange","soffset","finish","foffset","adt$6","before","after","Situ","situ","adt$5","domRange","exact","SimSelection","exactFromRange","simRange","getWin","selection","rng","startContainer","startSitu","_finishSitu","_soffset","_finish","_foffset","getStart","range","relativeToNative","finishSitu","createRange","setStartBefore","setStart","setStartAfter","setEndBefore","setEnd","setEndAfter","setFinish","exactToNative","toRect","adt$4","fromRange","startOffset","endContainer","endOffset","diagnose","ranges","collapsed","rev","doDiagnose","getRanges","asLtrRange","ancestors","rawParent","parents","descendants","querySelectorAll","all$3","makeRange","same","readRange","rangeCount","firstRng","getRangeAt","lastRng","doGetExact","anchorNode","focusNode","anchorOffset","focusOffset","getExact","getSelection","getNativeSelection","sel","getFirstRect","rects","getClientRects","getFirstRect$1","getBounds$1","getBounds$2","api","getOption","nodeValue","NodeValue","descendOnce$1","last","get$4","descendOnce","getAnchorSelection","modStart","modFinish","SelectionAnchor","selectionBox","rawRect","eastX","westX","northY$1","southY$1","southeast$1","southwest$1","northeast$1","northwest$1","allRtl","SubmenuAnchor","submenuInfo","AnchorSchema","submenu","makeshift","TransitionSchema","PositionSchema","PlacementSchema","place","anchoring","placee","lastPlace","overrideOptions","simple","positionWithinBounds","posState","placementSpec","optWithinBounds","placeeDetail","anchorage","placeeState","oldVisibility","getFixedOrigin","getRelativeOrigin","getBounds","newState","vis","Positioning","getMode","pConfig","_pState","reset","reset$2","fireDetaching","fireAttaching","virtualAttach","virtualDetach","attach$1","replaceChildren","newSpecs","buildNewChildren","detachChildren$1","newChildren","deleted","attach","attachWith","insertion","doDetach","detach","parent$1","detachChildren","attachSystem","guiSystem","attachSystemWith","attachSystemAfter","inserter","detachSystem","rebuild","sandbox","sConfig","sState","_data","getAttachPoint","built","open$1","onOpen","close$1","onClose","isOpen$1","_sandbox","_sConfig","isOpen","cloak","_sState","sink","cssKey","newValue","store","cloakVisibilityAttr","decloak","hasPosition","oldValue","restore","SandboxApis","open","openWhileCloaked","transaction","close","isPartOf","getState","setContent","ActiveSandbox","sandboxConfig","sandboxState","SandboxSchema","Sandboxing","contents","dismissPopups","repositionPopups","mouseReleased","schema$x","receivingChannel$1","rawSpec","isExtraPart","fireEventInstead","fe","schema$w","receivingChannel","doReposition","onLoad$5","repConfig","repState","onLoad","onUnload$2","onUnload","RepresentApis","setValue","getValue","ActiveRepresenting","resetOnDom","_se","memory$1","isNotSet","dataset","dataByValue","dataByText","lookup","itemString","update","items","currentDataByValue","currentDataByText","newDataByValue","newDataByText","meta","RepresentState","memory","manual","setValue$2","onSetValue","DatasetStore","getDataKey","getFallbackEntry","initialValue","ManualStore","_repState","MemoryStore","initVal","RepresentSchema","Representing","setValueFrom","source","forbidden","forbid","_v","get$3","dump","augment","SketchBehaviours","adt$3","single","multiple","isSubstituted","scan","compSpec","placeholders","uiType","newSpec","subPlaceholder","substitute","req","childSpecs","substituted","valuesThunk","preprocess","preprocessor","substitutePlaces","ps","ph","replacements","_","used","oneReplace","substituteAll","single$2","placeholder","adt$2","external","fFactory","sketch","fSchema","fName","fPname","typeSpec","fGroupSchema","fDefaults","fOverrides","requiredSpec","externalSpec","optionalSpec","groupSpec","asNamedPart","part","name$2","convert","adtConstructor","partSchema","PartType","asCommon","combine","partSpec","partValidated","defaults","generate$3","np","g","doGenerateOne","pname","generateOne$1","schemas","toArray","names","substitutes","internals","externals","factory","_partSpec","_partValidated","units","u","components$1","getPart","partKey","getPartOrDie","getParts","partKeys","system","pk","getAllParts","pUid","_k","getAllPartNames","getPartsOrDie","defaultUids","baseUid","partTypes","partNames","pn","defaultUidsSchema","AlloyParts","generate","generateOne","asRawOrDie","partSchemas","partUidsSchemas","baseS","composite$1","specWithUid","supplyUid","partUidsSchema","hasUid","singleSchema","compositeSchema","rawConfig","extraApis","configFields","single$1","composite","partFields","inside","ComposeApis","getCurrent","composeConfig","_composeState","find","ComposeSchema","Composing","nativeDisabled","onLoad$1","disableConfig","disableState","disabled","disable","enable","hasNative","useNative","nativeDisable","nativeEnable","ariaDisable","ariaEnable","_disableState","disableClass","onDisabled","onEnabled","isDisabled","nativeIsDisabled","ariaIsDisabled","DisableApis","ActiveDisable","DisableSchema","Disabling","dehighlightAllExcept","hConfig","hState","skip","highlighted","highlightClass","skipComp","onDehighlight","highlight","isHighlighted","onHighlight","queryTarget","getByIndex","itemClass","getFirst","_hState","getLast","getDelta$2","selected","dest","getCandidates","HighlightApis","dehighlightAll","dehighlight","highlightFirst","firstComp","highlightLast","lastComp","highlightAt","highlightBy","getHighlighted","getPrevious","getNext","HighlightSchema","Highlighting","BACKSPACE","TAB","ENTER","ESCAPE","SPACE","LEFT","UP","RIGHT","DOWN","cyclePrev","tryPrev","cycleNext","tryNext","inSet","which","and","preds","isShift","shiftKey","isControl","ctrlKey","isNotShift","rule","classification","reportFocusShifting","prevFocus","n","dom$2","focusee","highlights","FocusInsideModes","typical","infoSchema","stateInit","getKeydownRules","getKeyupRules","optFocusIn","processKey","getRules","keyingConfig","keyingState","rules","transitions","onFocusHandler","focusInside","OnFocusMode","focusIn","keyboardEvents","isEnterOrSpace","OnEnterOrSpaceMode","tryGoInsideComponent","create$2","cyclicField","tabbingConfig","visibilitySelector","_tabbingState","tabstops","visibles","firstTabstop","findInitial","focusManager","goFromTabstop","stopIndex","cycle","useTabstopAt","isTabstop","cyclic","findCurrent","tabstop","navigate","onEnter","onEscape","AcyclicType","CyclicType","defaultExecute","doDefaultExecute","stopEventForFirefox","_component","schema$v","execute$4","executeConfig","execute","ExecutionType","_executeState","spaceExec","useSpace","enterExec","useEnter","downExec","useDown","execKeys","useControlEnter","flatgrid$1","dimensions","numRows","numColumns","setGridSize","getNumRows","getNumColumns","KeyingState","flatgrid","useH","movement","move","use","west$1","moveLeft","moveRight","east$1","useV","north$1","south$1","move$1","isHidden$1","locateVisible","locate","findIndex","withGrid","numCols","address","newIndex","row","column","cycleHorizontal$1","oldRow","oldColumn","colsInRow","newColumn","cycleVertical$1","newRow","newCol","schema$u","focusIn$3","gridConfig","_gridState","first","doMove$2","gridState","identified","handleTab","captureTab","moveLeft$3","moveRight$3","moveNorth$1","moveSouth$1","getKeydownRules$4","findCurrent$1","getKeyupRules$4","FlatgridType","getNewIndex","tryNewIndex","isDisabledButton","horizontalWithoutCycles","prevIndex","oldCandidate","onNewIndex","horizontal","_oldCandidate","schema$t","execute$2","flowConfig","focusIn$2","_state","getInitial","moveLeft$2","cycles","moveRight$2","doMove$1","flowState","executeOnMove","getKeyupRules$3","FlowType","_flowState","westMovers","allowHorizontal","allowVertical","eastMovers","toCell","matrix","rowIndex","columnIndex","cell","cycleHorizontal","startCol","deltaCol","newColIndex","cycleVertical","colIndex","startRow","deltaRow","nextRowIndex","colsInNextRow","nextColIndex","moveHorizontal","moveVertical","schema$s","focusIn$1","matrixConfig","previousSelector","selectors","doMove","ifCycle","ifMove","inRow","cellsInRow","allRows","rows","toMatrix","moveNorth","moveSouth","getKeydownRules$2","getKeyupRules$2","MatrixType","schema$r","menuConfig","moveUp","moveDown","getKeydownRules$1","menuState","moveOnTab","getKeyupRules$1","MenuType","schema$q","SpecialType","specialInfo","onSpace","onShiftEnter","onShiftTab","onTab","onUp","onDown","onLeft","onRight","stopSpaceKeyup","acyclic","flow","execution","menu","special","Keying","keyConfig","keyState","sendFocusIn","isFlatgridState","withoutReuse","withReuse","existingComps","deletedComp","virtualReplaceChildren","specs","patchSpecChildren","virtualReplace","replacee","replaceeIndex","childSpec","insert","appendAt","_replaceConfig","replaceAt","replaceConfig","replaceState","replacer","reuseDom","ReplaceApis","append","appendee","prepend","prependee","removee","replaceBy","replaceePred","Replacing","eventHandlers","events$d","focus$2","focusConfig","ignore","onFocus","FocusApis","isFocused","ActiveFocus","tabindex","stopMousedown","FocusSchema","Focusing","set$2","toggleConfig","toggleState","initialState","toggleClass","updateClass","ariaInfo","aria","updateAriaState","onToggled","toggle$2","ToggleApis","toggle","isOn","ActiveToggle","executor","load","toggleOnExecute","updateExpanded","status","ToggleSchema","pressed","syncWithExpanded","checked","expanded","Toggling","pointerEvents","onClick","events$a","optAction","onHover","onFocus$1","hover","focus$1","toggled","getItemRole","toggling","exclusive","getTogglingSpec","tConfig","_value","schema$p","hasSubmenu","itemBehaviours","ignoreFocus","schema$o","owner$2","parts$h","schema$n","focusWidget","widget","onHorizontalArrow","autofocus","setSource","_widget","widgetBehaviours","itemSchema$2","separator","parts$g","itemInfo","builder","unit","fakeFocus","markers","schema$m","grid","movementInfo","rowSelector","Menu","_spec","_externals","menuBehaviours","selectedItem","checkedRadioItems","ele","deselectOtherRadioItems","role","trace","byItem","byMenu","triggerItem","triggerMenu","generate$2","menus","expansions","menuItems","menuPaths","_triggerItem","extractPreparedMenu","prep","LayeredState","primary","directory","getTriggerData","menuValue","getItemByValue","getPreparedMenu","getTriggeringItem","triggeringItemValue","triggeredItem","triggeredMenu","triggeringItem","triggeringPath","lookupMenu","lookupItem","itemValue","setMenuBuilt","menuName","setContents","sPrimary","sMenus","sExpansions","sPaths","expand","refresh","collapse","otherMenus","menuValues","getPrimary","getMenus","isClear","getTriggeringPath","extraPath","revPath","menuIndex","onMenuItemHighlightedEvent","onMenuItemDehighlightedEvent","HighlightOnOpen","collapseItem$1","tieredMenu","HighlightMenuAndItem","collapseMenu","tmenu","highlightPrimary","repositionMenus","_rawUiSpec","submenuParentItems","layeredState","setup","componentMap","primaryName","makeSketch","menuComp","itemComp","nbMenu","buildMenus","toDirectory","getItemValue","_container","_menuName","setActiveMenu","setActiveMenuAndItem","mv","closeOthers","others","backgroundMenu","stayInDom","updateAriaExpansions","parentItems","getSubmenuParents","updateMenuPath","latestMenuName","menuPrep","activeMenu","ExpandHighlightDecision","expandRight","HighlightSubmenu","activeMenuPrep","buildIfRequired","onOpenSubmenu","collapseLeft","onCollapseMenu","keyOnItem","getSource","onExecute","onOpenMenu","highlightOnOpen","HighlightJustMenu","tmenuComp","se","onHighlightItem","onDehighlightItem","navigateOnHover","updateView","HighlightParent","getActiveItem","currentItem","allMenus","preparedMenus","extractMenuFromContainer","primaryMenu","onRepositionMenu","tmenuBehaviours","_keyInfo","selectedMenu","tieredData","singleData","collapseItem","InlineView","showWithinBounds","thing","lazySink","showMenuWithinBounds","menuSpec","menuSandbox","getSubmenuLayouts","triggeringPaths","isFirstTierSubmenu","submenuTriggers","st","submenuLayouts","makeMenu","showAt","showMenuAt","hide","getContent","inlineBehaviours","getRelated","isPartOfRelated","onShow","onHide","fireDismissalEventInstead","fireRepositionEventInstead","global$9","Button","lookupAttr","buttonBehaviours","getModAttributes","record","isSketchSpec","anyInSystem","asSpec","global$8","rtlTransform","defaultIcon","getIconName","lcName","rtlName","addToEnd","ensureTrailing","lookupIcon","get$2","iconProvider","addFocusableBehaviour","svg","renderIcon$3","iconName","fallbackIcon","_b","rtlIconClasses","needsRtlTransform","iconHtml","render$3","notificationIconMap","warning","Notification","memBannerText","translationProvider","renderPercentBar","percent","renderPercentText","memBannerProgress","progress","updateProgress","updateText","banner","iconChoices","icon","level","memButton","onAction","iconNames","renderFirst","closeButton","ToolbarMode$1","ToolbarLocation$1","global$7","global$6","global$5","ToolbarMode","ToolbarLocation","option$2","editor","wrapOptional","register$e","registerOption","register","stringOrFalseProcessor","stringOrNumberProcessor","default","getElement","DOM","getStyle","valid","auto","inline","isReadOnly","getHeightOption","getWidthOption","getMinWidthOption","getMinHeightOption","getMaxWidthOption","getMaxHeightOption","getUserStyleFormats","shouldMergeStyleFormats","shouldAutoHideStyleFormats","getContentLanguages","getRemovedMenuItems","getToolbarMode","getToolbarGroups","getToolbarLocation","fixedContainerSelector","fixedToolbarContainerTarget","isToolbarPersist","getStickyToolbarOffset","getMenubar","getToolbar","getFilePickerCallback","getFilePickerValidatorHandler","getFontSizeInputDefaultUnit","getFilePickerTypes","useTypeaheadUrls","getAnchorTop","getAnchorBottom","isDraggableModal$1","useStatusBar","useElementPath","useBranding","getResize","getPasteAsText","getSidebarShow","promotionEnabled","isSkinDisabled","isMenubarEnabled","getSkinUrl","skinUrl","documentBaseURI","skin","baseURL","getLineHeightFormats","isToolbarEnabled","toolbar","isToolbarString","isToolbarObjectArray","isMultipleToolbars","getMultipleToolbarsOption","toolbars","toolbarArray","isToolbarLocationBottom","fixedContainerTarget","useFixedContainer","getUiContainer","isDistractionFree","isStickyToolbar","isSplitUiMode","Options","isDraggableModal","detect$1","elm","AutocompleterEditorEvents","redirectKeyToItem","getItem","getMenu","keyCode","isActive","isMenuOpen","stopImmediatePropagation","cancelIfNecessary","isProcessingAction","ItemResponse","ItemResponse$1","navClass","presetClasses","normal","color","textClass","activeClass","classForPreset","presets","forMenu","hasIcons","menuClasses","dom$1","columns","schema$l","focusBehaviours","selectOnFocus","setSelectionRange","inputBehaviours","inputAttributes","inputStyles","inputClasses","Input","refetchTriggerEvent","redirectMenuItemInteractionEvent","findWithinSandbox","sandboxComp","inputElem","findWithinMenu","saveState","inputComp","fetchPattern","selectionStart","selectionEnd","renderMenuSearcher","handleByBrowser","handleByHighlightedItem","eventData","interactionEvent","eventType","i18n","searchResultsClass","augmentWithAria","chunk","rowDom","chunks","preprocessCollection","isSeparator","allSplits","currentSplit","insertItemsPlaceholder","initItems","onItem","rawItems","enrichedItems","_item","forCollection","_hasIcons","menuHasIcons","handleError","createHorizontalPartialMenuWithAlloyItems","_columns","_menuLayout","structure","createPartialMenuWithAlloyItems","menuLayout","getNormalStructure","menuType","searchMode","searchField","ariaControlsSearchResults","forCollectionWithSearchField","forCollectionWithSearchResults","forSwatch","forToolbar","name$1","text$1","title","value$1","fetch$1","getSubmenuItems","onItemAction","onSetup","optionalName","optionalText","optionalIcon","optionalTooltip","optionalLabel","optionalShortcut","optionalSelect","borderless","enabled","defaultedColumns","defaultedMeta","defaultedOnAction","defaultedType","generatedName","namePrefix","separatorMenuItemSchema","autocompleterItemSchema","baseToolbarButtonFields","toolbarButtonSchema","createToolbarButton","baseToolbarToggleButtonFields","toggleButtonSchema","createToggleButton","contextBarFields","contextButtonFields","contextToggleButtonFields","launchButtonFields","launchToggleButtonFields","toggleOrNormal","contextformbutton","contextformtogglebutton","contextFormSchema","contextToolbarSchema","cardImageFields","cardImageSchema","cardTextFields","cardTextSchema","itemSchema$1","cardimage","cardtext","cardcontainer","cardContainerSchema","commonMenuItemFields","valuePrefix","cardMenuItemSchema","choiceMenuItemSchema","baseFields","insertTableFields","colorSwatchFields","fancyMenuItemSchema","inserttable","colorswatch","menuItemSchema","nestedMenuItemSchema","toggleMenuItemSchema","detectSize","margin","selectorClass","descendants$1","columnLength","thisTop","cTop","abs","ceil","namedEvents","SimpleBehaviours","ExclusivityChannel","ShowTooltipEvent","HideTooltipEvent","hideAllExclusive","_tConfig","_tState","TooltippingApis","setComponents","tState","getTooltip","tooltip","ActiveTooltipping","tooltipConfig","clearTooltip","clearTimer","resetTimer","isShowing","popup","tooltipDom","tooltipComponents","setTooltip","show","TooltippingSchema","Tooltipping","ReadOnlyDataSchema","broadcastReadonly","uiRefs","readonly","mainUi","outerContainer","motherships","mothership","uiMotherships","m","setupReadonlyModeSwitch","receivingConfig","DisablingConfigs","runWithApi","getApi","onControlAttached","editorOffCell","onDestroy","onControlDetached","onMenuItemExecute","itemResponse","triggersSubmenu","CLOSE_ON_EXECUTE","menuItemEventOrder","componentRenderPipeline","renderCommonItem","providersBackstage","optComponents","buildData","convertText","isMac","alt","ctrl","shift","access","shortcut","updated","segment","trim","renderIcon$2","renderText","renderHtml","renderStyledText","renderShortcut","renderCheckmark","renderColorStructure","providerBackstage","itemText","ariaLabel","iconSvg","iconContent","baseDom","getDom","renderItemDomStructure","domTitle","renderItemStructure","renderIcons","iconSpec","leftIcon","checkmark","checkMark","textRender","htmlContent","shortcutContent","caret","renderNormalItemStructure","tooltipBehaviour","sharedBackstage","tooltipWorker","getSink","_tooltip","replaceText","matchText","encoded","encode","encodeText","escapedMatchRegex","RegExp","escape","render$2","extras","align","valign","getValignClass","renderContainer","src","renderImage","cardText","highlightOn","parts$f","hexColour","normalizeHex","shorthandRegex","longformRegex","isHexString","hex","toUpperCase","extractValues","longForm","getLongForm","splitForm","exec","toHex","fromRgba","rgbaColour","red","green","blue","round$1","rgbRegex","rgbaRegex","alpha","isRgbaComponent","fromHsv","hsv","hue","saturation","brightness","side","chroma","fromHex","fromStringValues","fromString","rgbaString","rgbMatch","rgbaMatch","rgba","fireResizeContent","fireTextColorChange","fireResolveName","global$4","cacheStorage","getCacheForId","storageId","currentData","legacyDefault","setItem","storage","storageString","localstorage","cache","splice","unshift","pop","ColorCache","addColor","hsvColour","fromRgb","minRGB","maxRGB","hsvToHex","anyToHex","fromString$1","canvas","canvasContext","getContext","clearRect","fillStyle","fillRect","getImageData","calcCols","colors","sqrt","calcColsOption","numColors","calculatedCols","fallbackCols","option$1","mapColors","colorMap","getColorCols$1","colorCols","colorColsOption","hasCustomColors$1","getColors$2","getDefaultForegroundColor","getDefaultBackgroundColor","getClosestCssBackgroundColorValue","isValidBackgroundColor","getCurrentColor","format","cssRgbValue","getAdditionalColors","hasCustom","applyColor","onChoice","colorPickerDialog","dialog","colorOpt","execCommand","getColors$1","getCurrentColors","getFetch$1","callback","setIconColor","splitButtonApi","newColor","setIconFill","select$1","optCurrentHex","registerTextColorButton","lastColor","ui","registry","addSplitButton","select","fetch","_splitButtonApi","registerTextColorMenuItem","addNestedMenuItem","fancytype","initData","storageKey","isValid","initialData","colorpicker","windowManager","buttons","_api","details","onSubmit","getData","alert","onCancel","createPartialChoiceMenu","onItemValueHandler","alloyItems","createChoiceItems","itemPresets","useText","isSelected","setActive","isEnabled","setEnabled","renderChoiceItem","deriveMenuMovement","menuMarkers","getColorItems","backstage","useCustomColors","allowCustomColors","colorinput","hasCustomColors","getColors","cellOverEvent","cellExecuteEvent","makeCell","col","labelId","makeComponents","cells","cellRow","makeLabelText","fancyMenuItems","sizeLabelId","makeCells","emptyLabelText","memLabel","selectedRow","selectedColumn","selectCells","getColorCols","widgetSpec","shared","providers","autocomplete","separator$3","nested","downwardsCaret","renderSubmenuCaret","underlinePath","toggle$1","fancy","render","card","CouplingApis","getCoupled","coupleConfig","coupleState","getOrCreate","getExistingCoupled","getExisting","CouplingSchema","Coupling","coupled","lookupCoupled","coupledName","nu$3","baseFn","callbacks","nCallback","isReady","cbs","cb","LazyValue","pure","errorReporter","make$5","then","aFutureB","toPromise","anonBind","futureB","toLazy","toCached","Future","Promise","partType$1","getAnchor","getHotspot","getAnchorOverrides","mapFetch","onOpenSync","futureData","fetcher","getLazySink","tdata","openF","_onOpenSync","_highlightOnOpen","togglePopup","matchWidth","useMinWidth","buttonWidth","set$7","sinkDetail","internalSink","lazySinkFn","doRepositionMenus","makeSandbox$1","ariaControls","sandboxClasses","sandboxBehaviours","sandboxFields","schema$k","parts$e","Dropdown","switchToMenu","togglePopup$1","dropdownComp","HighlightNone","refetch","triggerExecute","dropdownBehaviours","handleRefetchTrigger","originalSandboxComp","dropdown","optSearcherState","newSandboxComp","searcherState","restoreState","getActiveMenuItemFrom","updateAriaOnHighlight","setActiveDescendant","activeMenuComp","resultsElem","controlledId","updateAriaOnDehighlight","getSearchPattern","FocusMode","createMenuItemFromBridge","isHorizontalMenu","parseForHorizontalMenu","menuitem","createNestedMenuItem","createToggleMenuItem","createSeparatorMenuItem","createFancyMenuItem","createAutocompleteItems","createCardMenuItem","createAutocompleterItem","createPartialMenu","createItem","itemHasIcon","identifyMenuLayout","createTieredDataFrom","partialMenu","Autocompleter","processingAction","activeState","autocompleter","hideIfNecessary","getCombinedItems","choices","itemMeta","nr","getRng","initRange","createRng","selectNode","getAutocompleterRange","autocompleterApi","reload","fetchOptions","BUBBLE_TO_SANDBOX","display","lookupData","ld","focusMode","ContentFocus","createInlineMenuFrom","updateDisplay","combinedItems","autocompleterUiApi","nonScrollingOverflows","isScroller","overflow","detectWhenSplitUiMode","popupSinkElem","poupSinkElem","scrollers","getBoundsFrom","sc","scrollableBoxes","constraints","constrainByMany","closest","DelayedFunction","fun","ref","cancel","schedule","getTouch","touches","monitor","settings","startData","longpressFired","longpress$1","touch","distX","distY","isFarEnough","fireIfReady","setup$d","rawSettings","stopBackspace","tapEvent","simpleEvents","tapStopped","pasteTimeout","onPaste","onKeydown","isDangerous","onFocusIn","focusoutTimeout","onFocusOut","derive","rawTarget","adt$1","stopped","resume","complete","doTriggerHandler","isStopped","isCut","fromSource","handlerInfo","eventHandler","doTriggerOnUntilStopped","listeners","_logger","fromExternal","listener","triggerOnUntilStopped","EventRegistry","registerId","extraArgs","curried","curryArgs","unregisterId","handlersById","_eventName","filterByType","broadcastHandler","isAboveRoot","findHandler","Registry","readOrTag","unregister","tagId","conflict","failOnDuplicate","getById","Container","domWithoutAttributes","containerBehaviours","takeover","domEvents","triggerUntilStopped","_alloyId","triggerHandler","broadcast$1","broadcastData","receivers","receiver","destroy","schema$j","parts$d","excludeFactory","FormField","fieldBehaviours","descriptor","descriptorId","getField","getLabel","ActiveTabstopping","tabConfig","tabAttr","TabstopSchema","Tabstopping","global$3","renderFormFieldWith","pLabel","pField","extraClasses","extraBehaviours","renderFormFieldSpecWith","renderFormFieldDomWith","renderLabel$3","formChangeEvent","formCloseEvent","formCancelEvent","formActionEvent","formSubmitEvent","formBlockEvent","formUnblockEvent","formTabChangeEvent","formResizeEvent","renderCollection","runOnItem","tgt","collectionEvents","currentActive","iterCollectionItems","applyAttributes","childElm","htmlLines","mapItemName","encodeAllRaw","ariaElements","isAriaElement","markValid","invalidConfig","getRoot","invalidClass","notify","notifyInfo","getContainer","validHtml","onValid","markInvalid","invalidState","onInvalid","_invalidState","validatorInfo","validate","onValidate","InvalidateApis","isInvalid","ActiveInvalidate","onEvent","validateOnLoad","InvalidateSchema","Invalidating","validation","Unselecting","unselectable","colorInputChangeEvent","colorSwatchChangeEvent","colorPickerCancelEvent","renderColorInput","colorInputBackstage","inputValue","span","emitSwatchChange","colorBit","memColorButton","renderPanelButton","colorPicker","valueOpt","colorButton","_field","labelPart","edgePart","model","edgeActions","det","mouseIsDown","tlEdgePart","tedgePart","trEdgePart","redgePart","brEdgePart","bedgePart","blEdgePart","SliderParts","getValueFromEvent","spectrum","sliderChangeEvent","getEventSource","evt","isTouchEvent$2","touchEvent","mouseEvent","minX","minY","min1X","min1Y","max1X","max1Y","xRange","yRange","halfX","halfY","step","stepSize","snap","snapToGrid","snapStart","rounded","hasEdge","edgeName","hasLEdge","hasREdge","hasTEdge","hasBEdge","currentValue","xyValue","fireSliderChange$3","reduceBy","increaseBy","capValue","findValueOf","hasMinEdge","hasMaxEdge","minBound","maxBound","screenRange","capMin","capMax","findOffsetOf","initValue","extraValue","remainder","adjustment","rawSteps","maxSteps","snapValueOf","findOffsetOfValue$2","maxOffset","centerMinEdge","centerMaxEdge","getBoundsProperty","getMinXBounds","getMaxXBounds","getMinYBounds","getMaxYBounds","getXScreenRange","getYScreenRange","getCenterOffsetOf","componentMinEdge","componentMaxEdge","spectrumMinEdge","getXCenterOffSetOf","componentBounds","spectrumBounds","getYCenterOffSetOf","fireSliderChange$2","findValueOfOffset$1","handleMovement$2","xValue","moveBy$2","findPositionOfValue$1","slider","minEdge","maxEdge","minOffset","findOffsetOfValue$1","onLeft$2","onRight$2","onUp$2","onDown$2","edgeActions$2","HorizontalModel","setToMin","setToMax","findValueOfOffset","findPositionOfValue","setPositionFromValue","thumb","edges","getSpectrum","getLeftEdge","getRightEdge","thumbRadius","fireSliderChange$1","handleMovement$1","yValue","moveBy$1","findOffsetOfValue","onLeft$1","onRight$1","onUp$1","onDown$1","edgeActions$1","VerticalModel","getTopEdge","getBottomEdge","fireSliderChange","sliderValue","handleMovement","isVerticalMovement","moveBy","TwoDModel","mX","mY","xPos","yPos","thumbXRadius","thumbYRadius","Slider","getThumb","modelDetail","choose","wasDown","onChoose","onDragStart","onDragEnd","sliderBehaviours","onChange","changeValue","getInitialValue","onInit","resetToMin","resetToMax","fieldsUpdate","sliderUpdate","paletteUpdate","schema$i","getPartName$1","make$4","formBehaviours","form","resPs","resPThunk","pName","opt","wrapper","Form","fSpec","fieldParts","validInput","invalidInput","validatingInput","rgbFormFactory","getClass","onValidHexx","onInvalidHexx","invalidation","renderTextField","description","helptext","translatePrefix","comps","concats","copyRgbToForm","rgb","memPreview","updatePreview","preview","setValueRgb","onInvalidInput","onValidRgb","hexField","copyRgbToHex","onValidInput","isHexInputEvent","onValidHex","formPartStrings","redStrings","greenStrings","blueStrings","hexStrings","updateHex","copyHexToRgb","paletteFactory","_translate","spectrumPart","thumbPart","setColour","ctx","grdWhite","createLinearGradient","addColorStop","grdBlack","_detail","_thumb","_slider","setHue","_apis","setPaletteHue","setThumb","setPaletteThumb","makeFactory","rgbForm","onInvalidHex","sbPalette","paletteRgba","paletteHue","memSlider","sliderFactory","memPalette","memRgb","updatePalette","_hex","palette","updateFields","updateSlider","hueDegreesToSlider","updatePaletteThumb","runUpdates","updates","updateState","hexToHsv","onFieldsUpdate","oldHue","newHsv","newHex","onPaletteUpdate","hueSliderToDegrees","oldRgb","oldHsv","onSliderUpdate","ComposingConfigs","mem","processors","withComp","optInitialValue","getter","setter","withElement","RepresentingConfigs","rawProcessors","other","rawValue","postprocess","english","renderColorPicker","colourPickerFactory","translate$1","memPicker","picker","valOpt","global$2","global$1","renderDropZone","actions","onDrop","transferEvent","handleFiles","dataTransfer","files","onSelect","allowedImageFileTypes","explode","file","filterByExtension","memInput","accept","beforeObject","afterObject","craftWithClasses","outline","craft","triggerTab","targetComp","isPseudoStop","renderIFrame","isSandbox","sandboxed","isTransparent","transparent","baseClass","srcdoc","sourcing","cachedValue","_frameComponent","frameComponent","getDynamicSource","renderImagePreview","cachedData","url","memImage","memContainer","fakeValidatedData","zoom","cachedWidth","cachedHeight","translatedData","z","applyFramePositioning","panel","panelW","panelH","zoomToFit","imageWidth","imageHeight","calculateImagePosition","imageComponent","img","image","reject","loaded","l","naturalWidth","naturalHeight","internalToolbarButtonExecute","commonButtonDisplayEvent","toolbarButtonEventOrder","forceInitialSize","renderIcon$1","iconsProvider","renderIconFromPack$1","renderReplaceableIconFromPack","renderLabel$1","updateMenuText","updateMenuIcon","renderCommonDropdown","optMemDisplayText","optMemDisplayIcon","onLeftOrRightInMenu","tooltipAttributes","translatedTooltip","fixWidthBehaviourName","searchable","searcherComp","focusSearchField","displayText","displayIcon","activeItem","retargetAndDispatchWith","handleRedirectToMenuItem","itemCompCausingCollapse","nowActiveMenuComp","isSeparator$2","separator$2","unwrapReferences","realItems","isMenuItemReference","isExpandingMenuItem","newData","submenuItems","getFromExpandingItem","generateValueIfRequired","mainMenuSearchMode","searchSettings","getSearchModeForField","mainMenu","submenuSearchMode","getSearchModeForResults","submenus","isSingleListItem","fetchItems","selectedValue","findItemByValue","HtmlSelect","option","initialValues","selectClasses","selectAttributes","selectBehaviours","schema$h","coupledPart","selfName","otherName","lock","onLockedChange","parts$c","locked","lockClass","FormCoupledInputs","coupledFieldBehaviours","field1Name","field1","field2Name","field2","getField1","getField2","getLock","parseSize","sizeText","convertUnit","inInch","noSizeConversion","_input","makeRatioConverter","currentFieldText","otherFieldText","cValue","oValue","cSize","oSize","ratioSizeConversion","scale","baseInputBehaviours","multiline","validatingBehaviours","vl","inputMode","inputmode","classname","pTextField","extraClasses2","flex","maximized","getAnimationRoot","slideConfig","getDimensionProperty","dimension","getDimension","disableTransitions","shrinkingClass","growingClass","setShrunk","openClass","closedClass","setGrown","doImmediateShrink","slideState","_calculatedSize","setCollapsed","onStartShrink","onShrunk","doStartShrink","calculatedSize","doStartSmartShrink","doStartGrow","wasShrinking","beforeSize","fullSize","setExpanded","onStartGrow","isGrowing","_slideState","isShrinking","SlidingApis","isExpanded","grow","shrink","immediateShrink","hasGrown","hasShrunk","isCollapsed","isTransitioning","toggleGrow","immediateGrow","onGrown","ActiveSliding","SlidingSchema","Sliding","getMenuButtonApi","setText","setIcon","renderMenuButton","tabstopping","fetchContext","pattern","getFetch","getButton","getMenuItemAction","orig","getMenuItemSetup","renderLabel","leafLabelEventsId","renderLeafLabel","onLeafAction","visible","treeId","internalMenuButton","btn","button","isLeftArrowKey","code","isRightArrowKey","dirComp","dirLabelElement","renderIconFromPack","renderIcon","directoryLabelEventsId","renderDirectoryLabel","noChildren","expandChildren","directoryEle","directoryComp","parentDirElement","parentDirLabelElement","renderDirectoryChildren","renderDirectory","labelTabstopping","childrenVisible","childrenComp","ActiveStreaming","streamConfig","streamState","stream","streams","cancelEvent","rate","throttle","_config","setTimer","StreamingState","StreamingSchema","streamInfo","sInfo","throttler","onStream","stopEvent","Streaming","setValueFromItem","itemData","setCursorAtEnd","setSelectionOn","attemptSelectOver","selectsOver","inputDisplay","getDisplayText","setSelectionToEnd","itemExecute","schema$g","parts$b","_tmenu","previewing","lazyTypeaheadComp","selectOverTextInInput","populateFromBrowse","_menu","typeahead","Typeahead","navigateList","highlighter","focusBehaviours$1","getActiveMenu","responseTime","minChars","previousValue","pv","sandboxIsOpen","typeaheadComp","_typeaheadComp","onItemExecute","dismissOnBlur","typeaheadBehaviours","wrap","bindFuture","resA","bindResult","mapResult","foldResult","whenError","whenValue","withTimeout","timeout","errorThunk","timedOut","nu$1","FutureResult","renderCommonSpec","actionOpt","common","domFinal","renderIconButtonSpec","calculateClassesFromButtonType","buttonType","renderButtonSpec","translatedText","renderButton$1","buttonSpec","getAction","renderFooterButton","isMenuFooterButtonSpec","menuButtonSpec","fixedSpec","isNormalFooterButtonSpec","isToggleButtonSpec","_c","optMemIcon","memIcon","buttonTypeClasses","showIconAndText","translatedTextComponed","iconButtonSpec","newIcon","renderToggleButton","renderDialogButton","separator$1","toMenuItem","staticMenuItem","filteredTargets","targets","toMenuItems","filterLinkTargets","headerTargets","linkInfo","anchorTargets","anchorTargetTop","anchorTop","anchorTargetBottom","anchorBottom","filterByQuery","term","lowerCaseTerm","getItems","fileType","urlBackstage","urlInputValue","getLinkInformation","history","historyTargets","getHistory","errorId","set$1","get$1","make$2","dialogData","factories","bar","interpreter","renderBar","collection","alertbanner","iconTooltip","renderAlertBanner","renderInput","textarea","renderTextarea","backstageShared","renderLabel$2","iframe","iframeSpec","makeIframe","checkbox","toggleCheckboxHandler","makeIcon","className","memIcons","renderCheckbox","dropzone","renderGrid","listbox","initialItem","listBoxWrap","sketchSpec","renderListBox","selectbox","translatedOptions","chevron","selectWrap","renderSelectBox","sizeinput","converter","ratioEvent","pLock","formGroup","getFieldPart","isField1","widthField","heightField","_lock","newSize","unitDec","numText","formatSize","optCurrent","optOther","value1","value2","renderSizeInput","renderSlider","urlinput","updateHistory","urlEntry","addToHistory","filetype","typeaheadSpec","memUrlBox","_newValue","getValidationHandler","memInvalidIcon","invalidComp","completer","trimmedValue","_entry","errId","memStatus","optUrlPicker","getUrlPicker","browseUrlEvent","memUrlPickerButton","componentData","urlData","fieldname","chosenData","renderUrlInput","customeditor","editorApi","memReplaced","ta","isOldCustomEditor","scriptId","scriptUrl","ea","cvalue","ed","htmlpanel","imagepreview","table","renderTh","renderTd","renderTr","header","renderTable","tree","renderTree","renderPanel","noFormParts","interpretInForm","oldBackstage","newBackstage","interpretParts","interpretWithoutForm","westEdgeX","middleX","eastEdgeX","northY","southY","centreY","lookupPreserveLayout","preserve","lookupFlippedLayout","flip","bubbleAlignments$2","valignCentre","alignCentre","alignLeft","alignRight","getInlineDialogAnchor","contentAreaElement","lazyAnchorbar","lazyUseEditableAreaAnchor","getBannerAnchor","getCursorAnchor","bodyElement","getNodeAnchor$1","getAnchors","isToolbarTop","useFixedToolbarContainer","getContentAreaContainer","inlineDialog","cursor","isNestedFormat","isFormatReference","defaultStyleFormats","mapFormats","userFormats","fmt","customFormats","formats","isInlineFormat","isBlockFormat","isSelectorFormat","formatNameWithPrefix","getStyleFormats","registeredUserFormats","registerFormats","formatter","registerCustomFormats","processBasic","isSelectedFor","getPreviewFor","getStylePreview","register$a","doEnrich","newItems","getStyleItems","enrichMenu","enrichSupported","isSeparator$1","formatName","newItem","enrichCustom","hasContentEditableState","isElement","contentEditable","isContentEditableTrue","isContentEditableFalse","create$1","getElementText","innerText","isValidAnchor","isAnchor","isEditable","isHeader","tempNode","isChildOfContentEditableTrue","isValidHeader","headerTarget","headerId","getOrGenerateId","getLevel","anchorTarget","anchorId","anchorText","getTargetElements","hasTitle","LinkTargets","elms","getHeaderTargets","getAnchorTargets","STORAGE_KEY","isHttpUrl","isRecordOfUrlArray","getAllHistory","unparsedHistory","SyntaxError","itemsWithoutUrl","setAllHistory","isTruthy","makeMap","getPicker","getPickerSetting","pickerTypes","optFileTypes","_picker","types","getPickerTypes","getTextSetting","UrlInputBackstage","entry","init$6","lazySinks","contextMenuState","isPositionedAtTop","getDockingMode","setDockingMode","HeaderBackstage","getAll","block","parseStyle","getCssText","settingsFormats","eventsFormats","replaceSettings","_e","enriched","modifications","fromSettings","fromEvents","init$7","ColorInputBackstage","dialogSettings","DialogBackstage","commonBackstage","anchors","isContextMenuOpen","setContextMenuState","popupBackstage","dialogBackstage","parts$a","partType","schema$f","itemsPart","parts$9","CustomList","_external","shell","getListContainer","listBehaviours","setItems","itemComps","numListsRequired","numListsToAdd","itemsToAdd","makeItem","itemsToRemove","builtLists","setupItem","schema$e","parts$8","Toolbar","getGroupContainer","toolbarBehaviours","setGroups","groups","setup$a","isDocked$2","getBehaviours$1","StaticHeader","isDocked","getBehaviours","getOffsetParent","offsetParent$1","getOrigin","appear","contextualInfo","transitionClass","fadeOutClass","fadeInClass","disappear","isTopCompletelyVisible","isBottomCompletelyVisible","forceTopPosition","winBox","leftX","location","topY","forceBottomPosition","bottomY","getDockedLeftPosition","getPrior","getInitialPos","priorY","optScrollEnv","scrollEnv","scrollElmTop","currentScrollTop","getXYForRestoring","storePrior","getXYForSaving","setInitialPos","revertToOriginal","clearInitialPos","morph","offsetBox","scrollDelta","_left","_top","_right","_bottom","tryMorphToOriginal","isVisibleForModes","getModes","tryDecisionToFixedMorph","tryMorphToFixed","tryDockingPosition","tryMorph","tryMorphToOriginalOrUpdateFixed","forceDockWith","getDecision","storePriorIfNone","morphToStatic","setDocked","onUndocked","morphToCoord","onDocked","updateVisibility","morphToDocked","contextual","contextInfo","lazyContext","isPartiallyVisible","setVisible","applyFixedMorph","refreshInternal","lazyViewport","applyMorph","resetInternal","calculateMorphToOriginal","staticOrAbsoluteMorph","refresh$3","forceDockWithDecision","forceDockToTop","forceDockToBottom","DockingApis","setModes","ActiveDocking","dockInfo","dockState","onShown","onHidden","DockingSchema","Docking","docked","initialBounds","toolbarHeightChange","visibility","isDockedMode","updateIframeContentFlow","parentElem","padding","parentWidth","getOccupiedHeight","updateSinkVisibility","sinkElem","updateEditorClasses","editorContainer","focusedElm","runOnSinkElement","onDockingSwitch","additionalBehaviours","headerHeight","boxHeight","topBound","constrainedBounds","headerElem","focusedElem","ownerDoc","activeElm","restoreFocus","rootElm","findFocusedElem","boundsWithoutOffset","StickyHeader","lazyHeader","containerHeader","viewHeight","innerHeight","scrollPos","markerElement","markerPos","markerHeight","markerTop","markerBottom","editorHeaderPos","editorHeaderHeight","editorHeaderTop","editorHeaderBottom","editorHeaderDockedAtTop","editorHeaderDockedAtBottom","scrollFromBehindHeader","groupToolbarButtonSchema","baseMenuButtonFields","MenuButtonSchema","createMenuButton","splitButtonSchema","SilverMenubar","setMenus","newMenus","internal","activeButton","hoveredButton","activeComp","hoveredComp","prev","schema$d","getPartName","make$1","getSlotNames","onSlot","def","slot","doShowing","_key","hideSlot","hideSlots","onSlots","showSlot","getSlot","hideAllSlots","slotBehaviours","SlotContainer","sSpec","sidebarSchema","makePanels","panelConfigs","bridged","createSidebar","sidepanel","sidePanelSpec","makeSidebar","slotContainer","updateSidebarRoleOnToggle","sidebar","sidebarState","whichSidebar","fixSize","autoSize","BlockingApis","getBusySpec","blockerBehaviours","blockSpec","blocker","isBlocked","onBlock","blockWith","unblock","onUnblock","BlockingSchema","Blocking","getAttrs","focusBusyComponent","throbber","toggleThrobber","iframeElement","tabIndex","toggleEditorTabIndex","_root","_behaviours","getBusySpec$1","throbberFocus","busyComp","setup$7","lazyThrobber","throbberState","stealFocus","isFocusEvent","targetElm","isPasteBinTarget","editorManager","command","fireAfterProgressState","setEditorTimeout","within","withinWidth","apportion","total","parray","generate$1","toUnit","partition","overflower","divide","tryFit","fitLast","fitAll","setGroups$1","storedGroups","bGroups","refresh$2","setOverflow","builtGroups","overflowGroup","focusedComp","availableWidth","overflows","schema$c","schema$b","parts$7","expandable","setMax","schema$a","parts$6","toggledClass","shouldSkipFocus","toolbarSandbox","bounder","FloatingToolbarButton","skipFocus","makeSandbox","toggleWithoutFocusing","schema$9","parts$5","ToolbarGroup","tgroupBehaviours","itemSelector","buildGroups","refresh$1","memFloatingToolbarButton","overflowGroups","floatingToolbarButton","SplitFloatingToolbar","getOverflowBounds","overflowToggledClass","splitToolbarBehaviours","getOverflow","schema$8","parts$4","onClosed","onOpened","toggleToolbar","overf","SplitSlidingToolbar","_button","doSetGroups","renderToolbarGroupCommon","toolbarGroup","renderToolbarGroup","getToolbarBehaviours","toolbarSpec","modeName","onAttached","initGroups","renderMoreToolbarCommon","cyclicKeying","renderFloatingMoreToolbar","baseSpec","moreDrawerData","headerBounds","docElem","docBounds","scrollHeight","overflowXOffset","renderSlidingMoreToolbar","renderToolbar","scrolling","baseButtonFields","schemaWithoutGroupButton","togglebutton","groupFields","viewButtonSchema","viewSchema","renderViewButton","isToggleButton","optTranslatedText","optTranslatedTextComponed","optIconSpec","hasIconAndText","renderButton","deviceDetection","View","hasGroups","endButtons","btnspec","renderButtonsGroup","getPane","getOnShow","_comp","viewConfig","getOnHide","makeViews","viewConfigs","internalViewConfig","pane","makeSlotContainer","getCurrentName","runOnPaneWithInstanceApi","onCallback","ViewWrapper","setViews","whichView","toggleView","showMainView","hideMainView","optCurrentSlotName","isTogglingCurrentView","hideContainer","showContainer","runOnShow","prevName","runOnHide","views","editorCont","partMenubar","partMultipleToolbar","_mToolbar","tc","_index","partToolbar","sliding","floating","toolbarFactory","renderer","onToolbarToggled","lazyToolbar","lazyMoreButton","partHeader","sticky","partPromotion","partSocket","partSidebar","partThrobber","partViewWrapper","partEditorContainer","OuterContainer","toolbarDrawerOpenState","getSocket","setSidebar","showSidebar","configKey","toggleSidebar","getOrNull","getHeader","setToolbar","renderedGroups","setToolbars","mToolbar","renderedToolbars","refreshToolbar","toggleToolbarDrawer","toggleToolbarDrawerWithoutFocusing","isToolbarDrawerToggled","getThrobber","focusToolbar","setMenubar","menubar","focusMenubar","defaultMenus","edit","tools","help","parseItemsString","identifyMenus","rawMenuData","userDefinedMenus","validMenus","isDefaultMenu","menuData","removedMenuItems","itemName","removedMenuItem","fireSkinLoaded","done","_skinLoaded","fireSkinLoaded$1","initialized","loadStylesheet","stylesheetUrl","styleSheetLoader","unload","loadUiSkins","loadShadowDomUiSkins","loadSkin","isInline","contentCSS","fireSkinLoadError$1","fireSkinLoadError","onSetupFormatToggle","boundCallback","binding","formatChanged","once","onSetupEvent","handleEvent","onActionToggleFormat$1","rawItem","undoManager","transact","onActionExecCommand","generateSelectItems","_editor","generateItem","response","invalid","si","validateItems","preItems","getCurrentValue","shouldHide","createMenuItems","createSelectButton","getComponent","Delimiter","buildBasicSettingsDataset","settingName","delimiter","rawFormats","SemiColon","alignMenuItems","getSpec$4","_format","alignment","canApply","findNearest","getStyles","getSpec$3","systemStackFonts","splitFonts","fontFamily","fonts","font","getSpec$2","getMatchingValue","getFirstFont","queryCommandValue","matchOpt","matchesSystemStack","isSystemFontStack","Keys","tab","enter","backspace","delete","up","down","space","home","pageUp","pageDown","unsupportedLength","unsignedDecimalLiteral","decimalDigits","dot","accepted","unitRaw","check","isUnit","createBespokeNumberInput","currentComp","updateInputValue","customEvents","fromInput","focusBack","alloyComp","parsedText","defaultUnit","getConfigFromUnit","newValueWithUnit","lenghtDelta","oldStart","oldEnd","decrease","increase","goToParent","focusInput","makeStepperButton","altExecuting","memMinus","memPlus","buttonNode","wrapperComp","legacyFontSizes","keywordFontSizes","toPt","fontSize","precision","factor","pow","toLegacy","getSpec$1","pt","legacy","Space","em","cm","in","pc","rem","getSpec","getFormatItems","flattenedItems","schema$7","arrowPart","arrow","buttonPart","splitDropdown","parts$3","SplitDropdown","executeOnButton","buttonEvents","splitDropdownBehaviours","getButtonApi","getToggleApi","getTooltipAttributes","focusButtonEvent","renderCommonStructure","optIcon","optText","renderCommonToolbarButton","specialisation","_d","itemApi","buttonApi","toolbarButtonBehaviours","renderToolbarButtonWith","bonusEvents","renderToolbarToggleButtonWith","fetchChoices","defaultToolbar","renderFromBridge","bridgeBuilder","renderToolbarButton","renderToolbarToggleButton","menubutton","splitbutton","buttonComp","renderSplitButton","grouptoolbarbutton","identify","identifyButtons","allowToolbarGroups","TopToBottom","renderFloatingToolbarButton","bespokeButtons","fontsize","fontsizeinput","skip_focus","getNumberInputSpec","fontfamily","blocks","createToolbar","toolbarConfig","filteredItemGroups","subItem","removeUnusedDefaults","strToolbar","groupsStrings","convertStringToolbar","isToolbarGroupSettingArray","lookupButton","toolbarItem","prefixes","extractFrom","toolbarGroups","rawUiConfig","toolbarButtonsConfig","detection","isiOS12","Iframe","async","lastToolbarWidth","eTargetNode","targetNode","uiRoot","popupUi","dialogUi","attachUiMotherships","innerWidth","contentWindow","initialDocEle","getDoc","lastWindowDimensions","lastDocumentDimensions","resizeWindow","outer","resizeDocument","docEle","fireScrollContent","elementLoad","setupEvents$1","socket","limit","unbinder","addCommand","_ui","addQueryValueHandler","nodeChanged","toolbarMode","iframeContainer","parseToInt","numToPx","calcCappedSize","minSize","maxSize","minOverride","maxOverride","getHeightWithFallback","baseHeight","minHeight","getHeight","getWidth","baseWidth","minWidth","InlineHeader","floatContainer","isSticky","editorMaxWidthOpt","headerBackstage","isSplitToolbar","removed","calcToolbarOffset","tbar","getOffsetParent$1","repositionPopups$1","stickyAction","bodyMargin","optToolbarWidth","restoreAndGetCompleteOuterContainerWidth","targetBounds","isOffsetParentBody","topValue","baseProperties","widthProperties","toolbarWidth","updateChromePosition","doUpdateMode","fc","currentMode","newMode","toolbarHeight","docHeight","calcMode","verticalDir","addClass","removeClass","updateMode","getTargetPosAndBounds","Inline","toolbarPersist","uiContainer","prevPosAndBounds","resizeContent","prevPos","prevBounds","hasResized","lastScrollX","updateUi","newScrollX","_args","setupEvents","runOnExecute","formApi","getFormApi","renderContextToggleButton","renderContextButton","buildInitGroups","commands","findPrimary","mementos","asSpecs","compInSystem","ContextForm","isVerticalOverlap","threshold","getSelectionBounds","leaf$1","getRangeRect","bodyPos","getContextToolbarBounds","toolbarType","viewportBounds","contentAreaBox","toolbarOrMenubarEnabled","getHorizontalBounds","isToolbarLocationTop","headerBox","isToolbarBelowContentArea","isToolbarAbove","containerBounds","getVerticalBounds","bubbleAlignments$1","inset","anchorOverrides","shouldUseInsetLayouts","determineInsetLayout","contextbar","selectionBounds","isSameAnchorElement","lastElement","isEntireElementSelected","currentPosition","preservePosition","isReposition","getAnchorSpec$2","mobile","smartInsetLayout","getInsetLayouts","matchTargetWith","ctxs","toolbarApi","contextToolbars","contextForms","matchStartNode","nodeCandidates","editorCandidates","nodeMatches","editorMatches","doesPositionExist","filterToolbarsByPosition","hasSelectionToolbars","hasNodeToolbars","nodeToolbars","selectionToolbars","filterByPositionForStartNode","matchAncestor","startNode","scopes","ancestorElem","inNodeScope","findPosition","filterByPositionForAncestorNode","categorise","forms","inEditorScope","formNavigators","lookupTable","registerForm","contextForm","launch","registerToolbar","contextToolbar","forwardSlideEvent","backSlideEvent","changeSlideEvent","register$9","registryContextToolbars","lastTrigger","lastContextPosition","currentWidth","newWidth","newContents","oldContents","forwardContents","renderContextToolbar","canLaunchToolbar","shouldContextToolbarHide","contextToolbarBounds","anchorBounds","getAnchorElementBounds","hideOrRepositionIfNecessary","contextBarEle","wrapInPopDialog","shortcuts","getScopes","alloySpec","buildToolbar","allButtons","buildContextToolbarGroups","buildContextFormGroups","anchorLayout","getAnchorLayout","launchContext","launchContextToolbar","isSameLaunchElement","isDragging","rootElem","getNode","isOutsideRoot","lookup$1","toolbarKey","registerController","getMenuItems","getOptions","hash","oldApi","unbindWatcher","watcher","setCurrent","addMenuButton","onToolbarSetup","onMenuSetup","lineHeightSpec","normalise","register$7","customCode","customValue","lang","languageSpec","register$6","createAlignMenu","createFontFamilyMenu","createStylesMenu","createBlocksMenu","createFontSizeMenu","onSetupOutdentState","queryCommandState","register$5","addButton","registerButtons$2","makeSetupHandler","pasteAsText","pastePlainTextToggleHandler","onActionToggleFormat","registerButtons$1","_idx","addToggleButton","registerFormatButtons","registerCommandButtons","registerCommandToggleButtons","register$3","addMenuItem","registerMenuItems$2","onSetupUndoRedoState","register$2","registerMenuItems$1","registerButtons","onSetupVisualAidState","hasVisual","register$1","registerToolbarButton","addToggleMenuItem","registerMenuItems","setup$6","cmd","register$8","applyFormat","removeFormat","registerCommands","fallbackColorForeground","fallbackColorBackground","lastForeColor","lastBackColor","register$c","register$4","patchPipeConfig","shouldNeverUseNative","getAvoidOverlapSelector","getContextMenu","contextMenus","contextMenu","isTouchEvent$1","transposeContentAreaContainer","containerPos","getPos","dx","dy","transpose","getPointAnchor","pageX","pageY","fromPageXY","fromClientXY","getSelectionAnchor","getAnchorSpec$1","anchorType","getNodeAnchor","initAndShow$1","buildMenu","contextmenu","anchorSpec","bubbleAlignments","highlightImmediately","getAnchorSpec","initAndShow","openiOS","originalSelection","selectionReset","setRng","unbindEventListeners","preventMousedown","clearSelectionReset","setupiOSOverrides","rngRect","isTouchWithinSelection","makeContextItem","commonMenuItem","commonItem","addContextMenuGroup","groupItems","isTriggeredByKeyboard","isTouchEvent","pointerType","getSelectedElement","setup$5","hideContextMenu","showContextMenu","isNativeOverrideKeyEvent","isContextMenuDisabled","getAnchorType","selectedElement","sections","allItems","generateContextMenu","hideEvents","subtract","changes","asFixed","coord","asAbsolute","asOffset","toStyles","stylesOpt","absorb","partialCoord","originalCoord","absorbOne","stencil","optX","optY","parseAttrToInt","NaN","getCoords","snapInfo","snapsInfo","leftAttr","topAttr","moveOrSnap","newCoord","mustSnap","findClosestSnap","findSnap","fixedCoord","spanned","stopDrag","findMatchingSnap","snaps","sensor","coord1","coord2","withinRange","getSnapPoints","deltas","getDeltas","bestDeltas","DraggingApis","snapTo","dragConfig","getTarget","repositionTarget","snapPin","snapTo$1","instigate","anyComponent","zindex","changeZIndex","discard","zIndex","resetZIndex","createComponent","blockerClass","blockerEvents","SnapSchema","schema$6","getCurrentCoord","oc","lift3","calcNewCoord","optSnaps","currentCoord","coords","absoluteCoord","newCoords","offset$1","clampCoords","translated","deltaX","deltaY","snapping","onSensor","calcStartData","dragState","dragMode","dragStartData","getStartData","dlt","onDrag","dragBy","updateStartState","setStartData","MouseData","getDelta","events$3","stop$1","delayDrop","dragApi","drop","forceDrop","init$3","schema$5","TouchData","getDataFrom","events$2","blockerSingleton","stopBlocking","init$2","mouse","mouseOrTouch","Dragging","dragger","previous","dragEvent","nuData","calculateDelta","calcSnap","selectorOpt","td","snapWidth","selectorHandle","sensorLeft","sensorTop","getSnapsConfig","cellOpt","currentTd","isSameCell","createSelector","setup$4","tlTds","brTds","startCell","finishCell","getTopLeftSnap","memTopLeft","getBottomRightSnap","memBottomRight","topLeftSnaps","bottomRightSnaps","bottomRight","getSnapConfig","isAbove","isBelow","cellRect","viewportHeight","aboveViewport","belowViewport","showOrHideHandle","snapTopLeft","snapBottomRight","otherCells","upOrLeftCells","downOrRightCells","renderElementPath","renderPathData","_btn","renderElement","newPath","isDefaultPrevented","isPropagationStopped","updatePath","ResizeTypes","resize","resizeType","originalHeight","originalWidth","Both","getDimensions","dim","fireResizeEditor","keyboardHandler","renderResizeHandler","None","Vertical","getResizeType","_target","renderStatusbar","getTextComponents","hasPlugin","replaceCountText","words","characters","currentVal","wordCount","renderWordCount","resizeHandler","getComponents","getLazyMothership","setup$3","setupForTheme","lazyUiRefs","getUiMotherships","optDialogMothership","optPopupMothership","dm","pm","lazyGetInOuterOrDie","LazyUiReferences","lazyMothership","lazyDialogMothership","lazyPopupMothership","deviceClasses","isToolbarBottom","memAnchorBar","lazyAnchorBar","backstages","makePromotion","promotion","renderMainUi","verticalDirAttributes","fireToggleToolbarDrawer","hasMultipleToolbar","hasToolbar","hasMenubar","shouldHavePromotion","hasAnyContents","menubarCollection","makeHeaderPart","sidebarContainer","viewWrapper","statusbar","editorComponents","isHidden","opacity","border","setEditorSize","parsedHeight","parsedWidth","getWidthWithFallback","renderUIWithRefs","toolbarGroupButtonConfig","addGroupToolbarButton","sidebars","toolbarOpt","addShortcut","addQueryStateHandler","channel","fireDismissPopups","onTouchstart","onTouchmove","onTouchend","onMousedown","onMouseup","onContentClick","onContentMouseup","onContentMousedown","loopEditor","relatedTarget","onWindowScroll","onWindowResize","onElementScroll","onEditorResize","onEditorProgress","onDismissPopups","setup$b","handleToggle","setup$8","popups","getMothership","dialogs","renderUI","isGridUiContainer","sinkSpec","reactiveWidthSpec","uiMothership","renderDialogUi","getPopupSinkBounds","renderPopupUi","reuseDialogUiForPopuUi","schema$2","basic","parts$2","dragBlockClass","getDragBounds","ModalDialog","dialogComp","modalEventsId","externalBlocker","blockerDom","getFooter","setIdle","setBusy","modalBehaviours","labelledElement","labelElement","labelledBy","describedElement","describeElement","describeId","describedBy","dialogToggleMenuItemSchema","dialogToggleMenuItemDataProcessor","baseFooterButtonFields","dialogFooterButtonFields","normalFooterButtonFields","menuFooterButtonFields","toggleButtonSpecFields","dialogFooterButtonSchema","submit","alertBannerFields","alertBannerSchema","buttonFields","buttonSchema","formComponentFields","formComponentWithLabelFields","checkboxFields","checkboxSchema","checkboxDataProcessor","collectionFields","collectionSchema","collectionDataProcessor","colorInputFields","colorInputSchema","colorInputDataProcessor","colorPickerSchema","colorPickerDataProcessor","customEditorFields","defaultedPostMsg","customEditorFieldsOld","customEditorSchema","customEditorDataProcessor","dropZoneSchema","dropZoneDataProcessor","createGridFields","itemsField","htmlPanelFields","htmlPanelSchema","iframeFields","iframeSchema","iframeDataProcessor","imagePreviewSchema","imagePreviewDataProcessor","inputFields","inputSchema","inputDataProcessor","createLabelFields","listBoxSingleItemFields","listBoxNestedItemFields","listBoxItemSchema","listBoxFields","listBoxSchema","listBoxDataProcessor","selectBoxFields","selectBoxSchema","selectBoxDataProcessor","sizeInputFields","sizeInputSchema","sizeInputDataProcessor","sliderFields","sliderSchema","sliderInputDataProcessor","tableFields","tableSchema","textAreaFields","textAreaSchema","textAreaDataProcessor","baseTreeItemFields","treeItemLeafSchema","treeItemDirectoryFields","treeItemDirectorySchema","treeItemSchema","treeFields","treeSchema","urlInputFields","urlInputSchema","urlInputDataProcessor","createItemsField","itemSchema","sErr","passValue","panelSchema","panelFields","tabFields","tabPanelFields","tabPanelSchema","dialogButtonFields","dialogButtonSchema","dialogSchema","tabpanel","urlDialogButtonSchema","urlDialogSchema","getAllObjects","isNamedItem","dataProcessors","togglemenuitem","createDataValidator","namedItems","getNamedItems","getDataProcessor","internalDialog","dataValidator","DialogManager","openUrl","redial","ActiveReflecting","reflectingConfig","reflectingState","renderComponents","newComponents","rawData","ReflectingApis","reflectState","ReflectingSchema","Reflecting","toValidValues","renderBodyPanel","memForm","formValue","TabButton","tabButtonBehaviours","schema$1","tabsPart","barDetail","dismissTab$1","tabbar","changeTab$1","clickToDismiss","tabClass","parts$1","Tabbar","tabbarBehaviours","selectedClass","Tabview","tabviewBehaviours","barPart","tabs","viewPart","TabSection","changeTabBy","section","byPred","tabSectionBehaviours","selectFirst","tabValue","tabview","tabData","onChangeTab","onDismissTab","getViewItems","showTab","tabKey","setTabviewHeight","updateTabviewHeight","dialogBody","maxTabHeight","tablist","documentElement$1","tabviewHeight","currentTabHeight","dialogTopMargin","dialogBottomMargin","getMaxTabviewHeight","getTabview","smartMode","allTabs","extraEvents","tabviewComp","heights","getMaxHeight","_tab","measureHeights","oldHeight","newHeight","renderTabPanel","storedValue","updateDataWithForm","formData","validData","setDataOnForm","oldTab","tabMode","_viewItems","oldName","tsection","dialogChannel","titleChannel","bodyChannel","footerChannel","bodySendMessageChannel","renderBody","dialogId","contentId","ariaAttrs","incoming","isTabPanel","_typeof","Symbol","iterator","_setPrototypeOf","setPrototypeOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","_construct","Parent","Class","instance","arguments","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","_iterableToArray","minLen","_unsupportedIterableToArray","TypeError","_nonIterableSpread","arr2","isFrozen","getOwnPropertyDescriptor","seal","create","_ref","thisValue","Func","func","arrayForEach","unapply","forEach","arrayPop","arrayPush","stringToLowerCase","stringMatch","stringReplace","stringIndexOf","stringTrim","regExpTest","typeErrorCreate","_len2","_key2","thisArg","_len","addToSet","lcElement","object","newObject","lookupGetter","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","getGlobal","_createTrustedTypesPolicy","trustedTypes","createPolicy","currentScript","policyName","createHTML","purify","createDOMPurify","DOMPurify","originalDocument","DocumentFragment","HTMLTemplateElement","NodeFilter","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","ElementPrototype","getNextSibling","getChildNodes","getParentNode","template","trustedTypesPolicy","emptyHTML","_document","implementation","createNodeIterator","getElementsByTagName","importNode","documentMode","hooks","createHTMLDocument","PARSER_MEDIA_TYPE","transformCaseFunc","MUSTACHE_EXPR$1","ERB_EXPR$1","DATA_ATTR$1","ARIA_ATTR$1","IS_SCRIPT_OR_DATA$1","ATTR_WHITESPACE$1","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","tbody","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","tagName","namespaceURI","parentTagName","_forceRemove","outerHTML","_removeAttribute","getAttributeNode","_initDocument","dirty","leadingWhitespace","dirtyPayload","parseFromString","createDocument","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isClobbered","_isNode","_executeHook","entryPoint","currentNode","hook","_sanitizeElements","allowedTags","firstElementChild","_basicCustomElementTest","_isValidAttribute","lcTag","_sanitizeAttributes","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","_attr","forceKeepAttr","setAttributeNS","_sanitizeShadowDOM","shadowNode","shadowIterator","nextNode","sanitize","importedNode","oldNode","returnNode","toStaticHTML","nodeIterator","shadowroot","serializedHTML","doctype","setConfig","clearConfig","isValidAttribute","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","sanitizeHtmlString","hiddenHeader","pClose","pUntitled","pBodyMessage","pFooter","footer","pFooterGroup","startButtons","renderDialog$1","dialogClass","blockerBackdropClass","scrollLockClass","extraStyles","dialogEvents","renderClose","renderTitle","titleId","renderDragHandle","pTitle","pHandle","draghandle","draggable","renderModalHeader","bs","getEventExtras","lazyDialog","closeWindow","blockEvent","renderModalDialog","mapMenuButtons","menuItemStates","mapItems","extractCellsToObject","innerAcc","initCommonEvents","fireApiEvent","_event","self","SilverDialogEvents","getInstanceApi","withSpec","currentDialog","currentDialogInit","rootNode","cur","onTabChange","newTabName","oldTabName","footerButtons","buttonGroups","makeGroup","memento","renderFooter","initSpec","makeButton","lookupByName","buttonName","renderModalFooter","getCompByName","getFormWrapper","getDialogApi","doRedial","withRoot","instanceApi","valueComp","setData","prevData","mergedData","newInternalData","dialogState","validateData$1","tabSection","getId","dialogInit","storedMenuButtons","toggleFullscreen","renderDialog","bodySpec","renderModalBody","objOfCells","dialogSize","getDialogSizeClasses","modalAccess","outerForm","sugarBody","renderInlineDialog","dialogLabelId","dialogContentId","memHeader","renderInlineHeader","memBody","renderInlineBody","storagedMenuButtons","memFooter","renderInlineFooter","global","SUPPORTED_MESSAGE_ACTIONS","isSupportedMessage","mceAction","renderUrlDialog","renderIframeBody","iframeUri","base_uri","href","iframeDomain","protocol","port","messageHandlerUnbinder","isSameOrigin","insertContent","handleMessage","isCustomMessage","onMessage","iframeEle","iframeWin","postMessage","sendMessage","getUrlDialogApi","inlineAdditionalBehaviours","isStickyToolbar$1","alertDialog","closeDialog","memFooterClose","titleSpec","closeSpec","footerCloseButton","setup$2","confirmDialog","memFooterYes","footerNo","footerYesButton","setup$1","openModalUrlDialog","openModalDialog","internalInitialData","openInlineDialog","config$1","refreshDocking","inlineDialogComp","isAlertOrConfirmDialog","confirm","registerOptions","colorProcessor","register$d","popupSinkBounds","renderModeUI","windowMgr","renderResult","getWindowManagerImpl","getNotificationManagerImpl","contentArea","win$1","closeCallback","notificationWrapper","notification","progressBar","thisNotification","notificationSpec","allNotifications","notificationManager","getNotifications","previousNotification","getEl","nodeAnchor","nuText","getArgs","NotificationManagerImpl","eq$2","range$1","each$2","last$2","resolve$2","isComment","fromDom$1","prevSibling","previousSibling","children$2","before$3","after$5","after$4","unwrap","deep","shallowAs","validSectionList","rowspan","colspan","rowdetail","elementnew","isNew","isLocked","rowcells","getBody$1","ancestors$3","ancestors$4","getRaw$2","getAttrValue","getSpan","hasColspan","cellOrCol","hasRowspan","getCssValue","firstLayer","filterFirstLayer","tags","cells$1","columns$1","columnGroups","columnGroup","rows$1","fromRowsOrColGroups","elems","getSection","getParentSection","parentName","isValidSection","fromTable$1","unknown$2","nu$2","toNumber","px","toFloat","getProp","getCalculatedWidth","boxSizing","upper","lower","calcContentBoxSize","getInner","getRuntime$1","addCells","gridRow","existingCells","newCells","setCells","addCell","mutateCell","getCell","getCellElement","cellLength","extractGridDetails","cols","cloneRow","cloneCell","LOCKED_COL_ATTR","getLockedColumnsFromTable","lockedColStr","lockedCols","getLockedColumnsFromGrid","sort$1","_val","filterItems","warehouse","lockedColumns","rowData","maxRows","maxColumns","rowCount","colgroupRows","currentRow","rowCell","extended","occupiedColumnPosition","occupiedRowPosition","columnPosition","newpos","colgroups","columnsGroup","columnext","generateColumns","colgroup","Warehouse","fromTable","getAt","findItem","filtered","justCells","justColumns","hasColumns","getColumnAt","isValidCell","rowsArr","decide","getBlock","getFallback","inBlock","deduce","aa","getRuntime","rowInfo","colInfo","rtlEdge","ltrEdge","getTop$1","findPositions","getInnerEdge","getOuterEdge","cellOption","lastLine","optElements","amount","rPercentageBasedSizeRegex","rPixelBasedSizeRegex","isCol$2","getPercentSize","outerGetter","innerGetter","relativeParent","setPixelWidth","setPercentageWidth","normalizePixelSize","getTotalHeight","getHeightValue","getRaw$1","getRawWidth$1","getPercentageWidth","getPixelWidth$1","setGenericWidth","getPercentTableWidth","percentageBasedSizeRegex","isCol$1","getRawW","getRawH","backups","getWidthFrom","columnCells","justCols","colFilter","supportsColWidths","isValidColumn","getDeduced","deduced","getPixelWidths","tableSize","minCellWidth","getHeightFrom","widthLookup","noneSize","zero","pixelWidth","getWidths","getCellDelta","singleColumnWidth","setElementWidth","adjustTableWidth","isRelative","percentageSize","getFloatWidth","cellWidth","getPercentageWidths","_delta","pixelSize","TableSize","chooseSize","seenSelected","extract$1","selectedSelector","replica","replicaHouse","replicaStats","house","totalColumns","minRow","minCol","maxRow","maxCol","allCells","selectedCells","endRow","endCol","statsStruct","findSelectedStats","unselectedCells","stats","totalRows","fillInGaps","widthDelta","emptyRows","clean","colWidths","allColsWidth","getTableWidthDelta","getEnd","elementsWithCursorPosition","isCursorPosition","descendantRtl","transferableAttributes","createCell","createCol","createColgroup","createRow$1","replace$1","cloneChildren","copy$2","pasteReplace","cellOperations","mutate","formatsToClone","cloneCss","sourceDom","targetDom","cssText","copy$1","lastNode","oldCell","newCell","firstText","formatSelector","clonedFormat","cloneFormats","validAttributes","attributeName","cloneAppropriateAttributes","colGap","gap","paste$1","isEditable$1","assumeEditable","isContentEditable","editable","getIsRoot","removeDataStyle","removeStyleAttribute","getSelectionStart","getPixelWidth","getPixelHeight","isInEditableContext$1","inSelection","leftEdge","rightEdge","topEdge","bottomEdge","finishCol","finishRow","isWithin","getAnyBox","startCoords","finishCoords","detailA","detailB","getBox$1","isRect","detailIsWithin","isRectangular","intercepts$1","parentCell","innerCell","c1","c2","deltaColumn","getWarehouse","intercepts","nestedIntercepts","firstTable","lastTable","optStartCell","optLastCell","lastCell","TagBoundaries","DomUniverse","copyTo","destination","as","afterAll","appendAll","comparePosition","compareDocumentPosition","isSpecial","getLanguage","getText","isBoundary","isEmptyTag","isNonEditable","unsafeOne","universe","look","tail","commonElement","sharedOne$1","ancestors$1","ps1","ps2","prune","ind","pruned1","pruned2","firstpath","secondpath","universe$3","sharedOne","_universe","rootTable","boxes","startTable","finishTable","ancestorCells","lca","lcaTable","finishAncestorCells","startAncestorCells","retrieve$1","sels","getEdges","firstSelectedSelector","lastSelectedSelector","shiftSelection","expandTo","retrieve","retrieveBox","firstAncestor","lastAncestor","fA","lA","unmergable","hasSpan","mergable","ephemera","firstSelected","lastSelected","getSelectionFromSelector","initCell","cellName","getSelectionCellOrCaption","getSelectionCell","getCellsFromSelection","getSelectedCells","registerEvents","multiCellContext","extractSelected","getTextContent","serializer","serialize","serializeElements","getCellsFromFakeSelection","paste","isTable","generators","clipboard","pasteCells","scan$1","toEnd","freefallRtl$2","freefallRtl$1","universe$2","halve","main","getGenericWidth","surround","sizes","startIndex","clampDeltaHelper","minCellSize","diff","clampNegativeDelta","clampDelta","resizeTable","calcRelativeDeltas","ratio","newThis","calcLeftEdgeDeltas","clampedDelta","calcFixedDeltas","resizer","clampTableDelta","calcMiddleDeltas","_prev","calcRightEdgeDeltas","calcRedestributedWidths","totalWidth","pixelDelta","newSizes","preserveTable","isLastColumn","maxDelta","_minCellSize","_totalWidth","_pixelDelta","_isRelative","getGridSize","isHeaderCell","isHeaderCells","getRowHeaderType","isHeaderRow","getRowType","findCommonCellType","subType","headerCells","transformCell","substitution","transformRow","fixedCell","mutate$1","sectionCells","TableSection","rowType","findTableRowHeaderType","setIfNot","insert$1","render$1","newRows","syncRows","gridSection","tr","syncColGroup","colGroup","renderSection","sectionName","newSection","generateSection","sectionElems","renderOrRemoveSection","removeSection","headSection","bodySection","footSection","columnGroupsSection","findDiff","subgrid","getRow","isColRow","getColumn","toDetails","seen","updateSeen","rowdetailnew","toGrid","colgroupCols","rowCells","rowDetail","toDetailList","findInWarehouse","extractCells","cell$1","lc","operation","postAction","genWrappers","tableSection","fromWarehouse","out","newElements","tableSizing","sizing","resizing","onPasteByEditor","onCells","onUnlockedCells","allUnlocked","isUnlockedTableCell","unmerge","currentCell","isToReplace","splitRows","uniqueCells","sub","measureWidth","gridA","gridB","rowDelta","colDelta","measureHeight","generateElements","generator","rowFill","exampleRow","colFill","tailor","fillCols","fillRows","gridWidth","isLastColLocked","modifiedCols","newLockedColumns","isSpanning","matching","getLockedColumnsWithinBounds","startAddress","colNum","validStartAddress","currentStartAddress","gridColLength","adjustedRowAddress","possibleColAddresses","getValidStartAddress","gridBRows","lockedColumnsWithinBounds","rowRemainder","colRemainder","colRequired","rowRequired","measure","fittedGrid","newLockedColumnsWithinBounds","lockedColumnObj","skippedCol","gridBColIndex","newCellElm","mergeTables","insertCols","prevCell","splitCols","fittedNewGrid","secondDelta","fittedOldGrid","insertRows","oldCols","oldRows","newLocked","secondDiff","fittedGridB","newChild","lockedColFill","insertRowAt","example","ex","insertColumnAt","withinSpan","getElementFor","isDuplicatedCell","notInStartRow","notInStartColumn","determineScope","applyScope","newScope","isInHeader","getScope","replaceIn","genScope","shouldReplace","mapCells","isTarget","getColumnCells","replaceColumns","indexes","rowHeaders","shouldReplaceCell","targetColumn","_colIndex","columnReplacePredicate","scopeGenerator","columnScopeGenerator","replaceRows","targetRow","getRowCells","columnHeaders","_cell","newGrid","_rowIndex","rowReplacerPredicate","rowScopeGenerator","replaceCells","targetCells","ColumnContext","only","determine","context","neighbours","measures","recalculateHeightForCells","recalculate","widths","recalculateWidthForColumns","recalculateWidthForCells","recalculateAndApply","adjustWidth","clampedStep","newWidths","adjustHeight","getPixelHeights","newHeights","newCellSizes","newRowSizes","matchRowHeight","uniqueColumns","currentDetail","isCol","isColgroup","isRow$1","elementToData","getScopeAttribute","Generators","toData","nuCell","recent","getOrInit","makeNew","replaceOrInit","merge","stringAttributes","baseScope","getScopeProperty","blockList","universe$1","isBlock","isBlock$1","isList","isList$1","isEmptyTag$1","isBr","markCell","rightSiblingIsBlock","rightSibling","isListItem","advancedBr","markContent","elementFromGrid","findEditableCursorPosition","cursorElement","uniqueRows","makeRowsSection","initialGrid","rowIndexes","opMakeRowsHeader","opMakeRowsBody","opMakeRowsFooter","gridifyRows","pasteDetails","fromPastedRows","wh","_table","_info","adjustWidthTo","adjustAndRedistributeWidths","resizeBehaviour","tablePixelWidth","adjustAndRedistributeWidths$1","firstColumnIsLocked","_warehouse","lastColumnIsLocked","getColumnsWidth","uniqueCols","insertColumnsExtractor","pasteColumnsExtractor","headerCellGenerator","bodyCellGenerator","insertRowsBefore","targetIndex","insertRowsAfter","newG","insertColumnsBefore","extractDetail","insertColumnsAfter","eraseColumns","_comparator","_genWrappers","deleteColumnsAt","maxColIndex","eraseRows","deleteRowsAt","maxRowIndex","makeColumnsHeader","columnIndexes","unmakeColumnsHeader","makeRowsHeader","makeRowsBody","makeRowsFooter","makeCellsHeader","unmakeCellsHeader","mergeCells","merge$2","onMergable","mergeable","unmergeCells","onUnmergable","gridify","pasteColsBefore","mergedGrid","pasteColsAfter","pasteRowsBefore","pasteRowsAfter","getColumnsType","lastSelectedCell","minColRange","maxColRange","selectedColumnCells","getCellsType","getRowsType","minRowRange","maxRowRange","rowTypes","hasHeader","hasFooter","hasBody","findCommonRowType","fireNewRow","fireNewCell","fireTableModified","styleModified","structureModified","styleAndStructureModified","getPixelForcedWidth","parentBlock","getParent","getTableCloneElements","getTableHeaderType","getTableColumnResizingBehaviour","isPreserveTableColumnResizing","isResizeTableColumnResizing","getTableSizingMode","isTablePercentagesForced","isTablePixelsForced","isTableResponsiveForced","hasTableResizeBars","shouldStyleWithCss","getTableDefaultAttributes","defaultAttributes","determineDefaultTableAttributes","getTableDefaultStyles","defaultStyles","determineDefaultTableStyles","tableUseColumnGroup","TableActions","cellSelectionHandler","isTableBody","colMutationOp","getTableSectionType","setSelectionFromAction","firstCell","clearSelectedCells","des","guard","effect","noEvents","deleteRow","deleteColumn","getTableRowType","getTableCellType","getTableColType","constrainSpan","currentColspan","isColInRange","copyCols","colsToCopy","copiedCols","clonedCol","fakeColgroup","generateColGroup","cellsToCopy","copiedCells","clonedCell","fakeTR","generateRows","copyRows","slicedGrid","filteredGrid","slicedDetails","pixels","validateFor","rawAmount","Size","redistributeValues","newWidthType","newTotalWidth","redistributeToPx","_pc","redistributeToPercent","redistribute$1","newType","floats","redistributeEmpty","normalize","floored","roundDown","getUnit","redistribute","optWidth","optHeight","widthUnit","oldWidths","getRawWidths","nuWidths","redistributeToColumns","redistributeToW","hUnit","totalHeight","oldHeights","getRawHeights","redistributeToH","isPercentSizing","isPixelSizing","isNoneSizing","cleanupLegacyAttributes","convertToPercentSize","convertToPixelSize","getPixelTableWidth","convertToNoneSize","rowElements","DefaultRenderOptions","colGroups","createGroupRow","createRows","createRow","placeCaretInCell","colHeaders","headerType","renderOpts","rowHeadersGoInThead","actualRowHeaders","thead","theadRows","tbodyRows","addVisual","isPercentage","fireEvents","tableElm","selectFirstCellInTable","tableTypeRow","tableTypeBase","fakeClipboardItem","FakeClipboardItem","getType","clearData","setRows","rowsOpt","clearRows","getRows","setColumns","columnsOpt","clearColumns","getColumns","getSelectionStartCellOrCaption","getTableFromCell","performActionOnSelection","getSelectionStartCell","postExecute","actOnSelection","copyRowSelection","copyColSelection","pasteOnSelection","clonedRows","pasteRows","actOnType","no_events","mceTableSplitCells","mceTableMergeCells","mceTableInsertRowBefore","mceTableInsertRowAfter","mceTableInsertColBefore","mceTableInsertColAfter","mceTableDeleteCol","mceTableDeleteRow","mceTableCutCol","mceTableCutRow","mceTableCopyCol","mceTableCopyRow","mceTablePasteColBefore","mceTablePasteColAfter","mceTablePasteRowBefore","mceTablePasteRowAfter","mceTableDelete","cellOrCaption","isEmpty","setCursorLocation","mceTableCellToggleClass","formatterAction","mceTableToggleClass","mceTableToggleCaption","caption","mceTableSizingMode","setSizingMode","mceTableCellType","mceTableColType","mceTableRowType","checkInput","headerRows","headerColumns","insertTable","getFormatName","validArgs","cata","onBefore","onOn","onAfter","Response","selectNodeContents","selectNodeContentsUsing","Situs","convertToRange","makeSitus","selectRange","cellSel","traverse","backtrack","_direction","sidestep","advance","sibling","successors","succ","Walkers","hone","isLeaf","seekLeft$1","seekRight$1","after$1","failedUp","failedDown","isRow","BeforeAfter","verify","bridge","beforeOffset","afterOffset","failure","afterCell","beforeCell","beforeBounds","getRect","afterBounds","isOverlapping","_sharedRow","onSuccess","onFailedUp","onFailedDown","gatherer","cand","gather","handleParent","findBr","br","adjacent","inParent","indexInParent","tryBr","handleBr","toCaret","getElemBox","getBoxAt","getRangedRect","getPartialBox","getEntireBox","retry","inOutsideBlock","isOutside","downMovement","adjuster","guessBox","lowerCaret","adjustTil","numRetries","isAtTable","adjustForTable","situsFromPoint","guess","newCaret","moved","adjusted","getInnerHeight","checkScroll","scrollBy","Retries","tryUp","higherCaret","tryDown","getJumpSize","findSpot","brNeighbour","fromSitus","analysis","_message","tryCursor","situs","tryAgain","tryAt","inSameTable","simulate","handle$1","precheck","firstUpCheck","seekLeft","lastOffset","lastDownCheck","seekRight","findCell","isInEditableContext","isKey","keycode","isUp","isDown","isNavigation","isBackward","isForward","caretPositionFromPoint","offsetNode","caretRangeFromPoint","availableSearch","beforeSpecial","doSetNativeRange","removeAllRanges","addRange","doSetRange","setRangeFromRelative","setBaseAndExtent","extend","setLegacyRtlRange","setExact","preprocessExact","setRelative","preprocessRelative","setToElement","selectNodeContents$1","getAtPoint","WindowBridge","exactAdt","clearSelection","collapseSelection","toStart","setSelection","setRelativeSelection","selectContents","getScrollY","by","rc","annotations","clearstate","applySelection","clearBeforeUpdate","singleCell","isNonEditableCell","isCellClosestContentEditable","MouseSelection","isEditableNode","isEditableSelection","keyboard","clearToNavigate","realEvent","update$1","newSels","sync","SelectionAnnotation","onSelection","onClear","removeSelectionAttributes","addSelectionAttribute","getOtherCells","upGrid","upDetails","slicedCells","getUpOrLeftCells","downGrid","downDetails","getDownOrRightCells","bind$1","hasInternalTarget","TableCellSelectionHandler","cellSelection","lazyRoot","Selections","fireTableSelectionChange","fireTableSelectionClear","mouseHandlers","keyHandlers","handleResponse","hasShiftKey","ns","isLeftMouse","doubleTap","lastTarget","lastTimeStamp","touchEnd","lT","lTS","timeStamp","getDoubleTap","wrappedEvent","addTempAttr","onMultiple","onSingle","Event","trigger","typeDefs","baseWith","handleUnsupported","validateStrArr","everything","checkDupes","reqMessage","invalidKeys","incorrect","invalidTypeMessage","handleExact","unsuppMessage","exactly","DragMode","DragSink","DragApi","InDrag","compare","Movement","noDragState","NoDrag","inDragState","mutation","throttledDrop","runIfActive","namespace","dashNamespace","resolve$1","MouseDrag","layerClass","Blocker","mdown","mup","mmove","mout","BarMutation","drag","Mutation","assign","resizeBar","resizeRowBar","resizeColBar","wire","drawBar","cpOption","cp","refreshCol","colPositions","tableHeight","colBar","refreshRow","rowPositions","tableWidth","rowBar","refreshGrid","warhouse","isResizable","resizableRowBars","resizableRows","resizableRowPositions","_pos","barIndex","resizableColBars","resizableCols","resizableColumns","resizableColPositions","bars","resizeBarDragging","BarManager","hoverTable","getResizer","_dataRow","_dataCol","currentCol","startAdjust","isColBar","tbl","hideBars","showBars","TableResize","lazySizing","hdirection","vdirection","beforeResize","afterResize","startDrag","refreshBars","ResizeWire","chrome","createContainer","TableResizeHandler","selectionRng","tableResize","resizeWire","startW","startRawW","lazyResizingBehaviour","afterCornerResize","isRightEdgeResize","isPercentage$1","percentW","isPixel","computedWidth","syncPixels","sz","rawWire","objectResizing","hasTableObjectResizing","rawTable","fireObjectResizeStart","fireObjectResized","getAttrib","getRawWidth","setupTable","lookupOnSelection","registerQueryCommands","DomModel","getAudioTemplateCallback","getVideoTemplateCallback","getIframeTemplateCallback","hasLiveEmbeds","shouldFilterHtml","getUrlResolver","hasAltSource","hasPoster","hasDimensions","DOM$1","trimPx","getEphoxEmbedData","altsource","poster","htmlToData","forced_root_block","walk","fileEnd","mp3","m4a","wav","mp4","webm","ogg","swf","Parser","allow_conditional_comments","addPx","updateEphoxEmbed","styleMap","serializeStyle","sources","updateHtml","updateAll","numSources","sourceCount","parser","addNodeFilter","hasImage","urlPatterns","regex","allowFullscreen","getUrl","protocolMatches","getProtocol","newUrl","dataToHtml","dataIn","embed","convertURL","sourcemime","altsourcemime","matchPattern","allowfullscreen","audioTemplateCallback","videoTemplateCallback","iframeTemplateCallback","getIframeHtml","getFlashHtml","getAudioHtml","getScriptHtml","getVideoHtml","isMediaElement","loadedData","getEmbedHtml","embedHandler","rej","wrappedResolve","embedPromise","defaultPromise","metaData","dims","sourceInput","mainData","extractMeta","getFromData","getFromMetaData","getNonEmptyValue","errorMessage","addEmbedHtml","handleInsert","beforeObjects","afterObjects","selectPlaceholder","submitForm","catch","showDialog","editorData","snippet","getEditorData","sizeInput","generalTab","embedTab","advancedFormItems","advancedTab","serviceData","handleSource","dataFromEmbed","handleEmbed","handleUpdate","isLiveEmbedNode","defaultValue","setDimensions","previewNode","useDefaults","defaultWidth","fallbackHeight","defaultHeight","createPlaceholderNode","placeHolder","retainAttributesAndInnerHtml","transparentSrc","createPreviewNode","previewWrapper","frameborder","sanitizedHtml","newNode","appendNodeContent","unescape","shimNode","sourceNode","attribs","ai","isPageEmbedWrapper","nodeClass","isWithinEmbedWrapper","parseAndSanitize","getEditorOption","boolAttrs","getBoolAttrs","getElementRule","attributesOrder","placeHolderConverter","addAttributeFilter","realElmName","realElm","selectorChangedWithUnbind","selectedNode","hasClass","hasAdvTab","hasUploadTab","getPrependUrl","getClassList","hasDescription","hasImageTitle","hasImageCaption","getImageList","showAccessibilityOptions","isAutomaticUploadsEnabled","parseIntAndGetMax","val1","val2","removePixelSuffix","addPixelSuffix","isPlaceholderImage","imgElm","isSafeImageUrl","isDomSafe","allow_html_data_urls","allow_script_urls","allow_svg_data_urls","getHspace","marginLeft","marginRight","getVspace","marginTop","marginBottom","getBorder","borderWidth","hasCaption","updateAttrib","toggleCaption","figureElm","insertAfter","removeFigure","wrapInFigure","normalizeStyle","normalizeCss","setSize","getSize","setHspace","pxValue","setVspace","setBorder","setBorderStyle","borderStyle","getBorderStyle","isFigure","getIsDecorative","getAlt","getStyleValue","hspace","vspace","isDecorative","updateProp","oldData","setAlt","setAttrib","sugarImage","normalized","updateAlt","normalizeCss$1","mergedCss","splitMargin","mergeMargins","compressed","getSelectedImage","splitTextBlock","figure","textBlockElements","getTextBlockElements","parentElm","isValidChild","textBlock","insertImageAtCaret","insertedElm","writeImageDataToSelection","syncSrcAttr","selectImage","onload","onerror","setAttribs","waitLoadImage","insertOrUpdateImage","partialData","sanitizedData","sanitizeImageData","deleteImage","sanitizeList","sanitizer","extractor","findEntryDelegate","isGroup","ListUtils","optList","AdvTab","collect","urlListSanitizer","futureImageList","imageList","ok","json","createImageList","hasAdvTab$1","hasUploadTab$1","hasUploadUrl$1","hasUploadUrl","hasUploadHandler$1","hasUploadHandler","readImageDataFromSelection","hasDescription$1","hasImageTitle$1","hasDimensions$1","hasImageCaption$1","hasAccessibilityOptions","automaticUploads","prependURL","preUrl","makeItems","imageDescription","useColumns","MainTab","UploadTab","fromImageData","images","borderstyle","fileinput","toImageData","removeEmptyAlt","addPrependUrl","srcURL","prependUrl","addPrependUrl2","formFillFromMeta","formFillFromMeta2","changeSrc","helpers","imageSize","calculateImageSize","prevImage","updateImagesDropdown","changeFileInput","blobUri","URL","createObjectURL","finalize","revokeObjectURL","updateSrcAndSwitchTab","reader","FileReader","readAsDataURL","dataUrl","blobInfo","createBlobCache","uploadImage","alertErr","addToBlobCache","changeHandler","prevAlt","changeImages","closeHandler","makeDialogBody","submitHandler","finalData","editorUpload","uploadImagesAuto","getImageSize","blobCache","filename","base64","stylesArg","upload","Dialog","createState","hasImageClass","toggleContentEditableState","toggleContentEditable","addContextMenu","assumeExternalTargets","hasContextToolbar","getLinkList","getDefaultLinkTarget","getDefaultLinkProtocol","getTargetList","getRelList","getLinkClassList","shouldShowLinkTitle","allowUnsafeLinkTarget","useQuickLink","sanitizeWith","extracter","ListOptions","createUi","isLink","getHref","collectNodesInRange","cloneContents","walker","hasProtocol","applyRelTargetRules","isUnsafe","rels","removeTargetRules","inArray","newRels","addTargetRules","getAnchorElement","selectedElm","getLinksInSelection","isImageFigure","isInAnchor","getAnchorText","anchorElm","trimCaretContainers","getLinks$1","grep","hasLinks","isOnlyTextSelected","inlineTextElements","getTextInlineElements","applyLinkOverrides","linkAttrs","newLinkAttrs","newRel","handleExternalTargets","linkDomMutation","attachState","getLinkAttrs","linkImageFigure","createLink","updateLink","unwrapOptions","cls","uriOptions","sanitizeData","unlinkImageFigure","bookmark","getBookmark","cloneRange","startAnchorElm","endAnchorElm","moveToBookmark","unlinkSelection","unlinkDomMutation","fig","getParents","isListGroup","findTextByValue","catalog","persistentText","hasPersistentText","DialogChanges","linkCatalog","persistentData","onUrlChange","getTitleFromUrlChange","onCatalogChange","catalogs","tryEmailTransform","tryProtocolTransform","defaultLinkProtocol","DialogConfirms","delayedConfirm","AnchorListOptions","anchorNodes","ClassListOptions","parseJson","LinkListOptions","linkList","optItems","RelOptions","isTargetBlank","safeRelExtractor","fallbacks","TargetOptions","nonEmptyAttr","DialogInfo","linkNode","links","linkClass","extractFromAnchor","optNode","flags","titleEnabled","collectData","titleText","defaultTarget","getInitialData","dialogDelta","makeDialog","getChangedValue","changedData","pData","handleSubmit","createEvent","initMouseEvent","appendClickRemove","getLink","getSelectedLink","gotoLink","targetEl","scrollIntoView","openDialog","gotoSelectedLink","toggler","toggleActiveState","toggleEnabledState","hasExactlyOneLinkInSelection","toggleUnlinkState","hasLinks$1","setupContextToolbars","onSetupLink","addContextForm","onlyText","getLinkText","collapseSelectionToEnd","setupButtons","setupMenuItems","setupContextMenu","metaKeyPressed","altKey","metaKey","hasOnlyAltModifier","setupGotoLinks","isDuplicated","lastChild","matchNodeName","matchNodeNames","isTextNode$1","isListNode","isOlUlNode","isOlNode","isListItemNode","isDlItemNode","isTableCellNode","isTextBlock","blockElements","isVoid","getVoidElements","isEmpty$2","keepBookmarks","isChildOfBody","isChildOf","shouldIndentOnTab","getForcedRootBlock","getForcedRootBlockAttrs","createTextBlock","contentNode","getBlockElements","createFragment","blockName","blockAttrs","hasContentNode","DOM$2","splitList","li","bookmarks","newBlock","tmpRng","extractContents","removeAndKeepBookmarks","isDescriptionDetail","isDescriptionTerm","outdentDlItem","dl","indentDlItem","getNormalizedPoint","normalizeRange","outRng","rangeStart","rangeEnd","listNames","listSelector","getParentList","getClosestListHost","getSelectedSubLists","parentList","selectedBlocks","getSelectedBlocks","isParentListSelected","findSubLists","getSelectedListItems","listItemsElms","parentLi","findParentListItemsNodes","getClosestEditingHost","parentTableCell","parentBlocks","isListHost","listName","findLastParentListNode","parentLists","getSelectedListRoots","selectedLists","firstList","subsequentLists","getSelectedLists","getUniqueListRoots","lists","listRoots","isCustomList","inList","isWithinNonEditable","isWithinNonEditableList","setNodeChangeHandler","nodeChangeHandler","initialNode","fireListEvent","joinSegment","createSegment","listType","writeShallow","cast","newCast","depth","appendItem","itemAttributes","listAttributes","normalizeSegment","writeDeep","segments","createSegments","joinSegments","populateSegments","hasFirstChildList","isIndented","cloneItemContent","normalizeEntries","entries","closestSiblingEntry","cleanListProperties","matchingEntry","cloneListProperties","parseItem","itemSelection","selectionState","currentItemEntry","createEntry","childListEntries","parseList","outdentedComposer","normalizedEntries","fromElements","indentedComposer","composeList","contentDocument","listIndentation","indentation","entrySets","sourceList","parseLists","selectedListItems","getItemSelection","entrySet","indentEntry","indentSelectedEntries","composedLists","wasType","groupBy","composeEntries","composedList","selectionIndentation","dlItems","getSelectedDlItems","isHandled","dlIndentation","handleIndentation","selectionIsWithinNonEditableList","indentListSelection","outdentListSelection","flattenListSelection","isZwsp","char","createBookmark","setupEndPoint","resolveBookmark","restoreEndPoint","nodeIndex","listToggleActionFromListName","updateListWithDetails","setStyle","updateListStyle","updateListAttrs","getEndPointNode","findBetterContainer","forward","applyList","listItemName","getContentEditable","selectedTextBlocks","textBlocks","endNode","siblings","isBookmarkNode","getSelectedTextBlocks","listBlock","sib","sibStyle","detailStyle","hasCompatibleStyle","rename","removeStyles","mergeWithAdjacentLists","shouldMerge","list1","list2","isValidLists","hasSameListStyle","elm2","liSibling","toggleMultipleLists","parentIsList","hasListStyleDetail","allLists","newList","updateList$1","toggleList","hasNonEditableBlocksSelected","selectedSubLists","toggleSingleList","normalizeLists","normalizeList","findNextCaretContainer","nonEmptyBlocks","getNonEmptyElements","isBogusBr","walkFn","prev2","hasOnlyOneBlockChild","moveChildren","fromElm","toElm","unwrapSingleBlockChild","mergeLiElements","listNode","ul","nestedLists","mergeForward","fromLi","toLi","mergeIntoEmptyLi","backspaceDeleteFromListToListCaret","selectionStartElm","otherLi","resolvedBookmark","mergeBackward","backspaceDeleteIntoListCaret","findValidElement","findRoot","removeBlock","hasListSelection","backspaceDelete","backspaceDeleteCaret","backspaceDeleteRange","parseAlphabeticBase26","chars","charValue","charCodeAt","composeAlphabeticBase26","quotient","fromCharCode","parseDetail","listStyleType","currentList","isUppercase","isLowercase","deduceListType","parseStartValue","queryListCommandState","registerDialog","setStyles","updateList","isTextNode","nodeBuffer","wrapInvalidChildren","insertListItem","buffer","refNode","restBuffer","setupTabKey","DELETE","setupToggleButtonHandler","setupMenuButtonHandler","listProperties","flatten$1","children$3","child$3","addPxSuffix","toInt","radix","getTDTHOverallStyle","firstChildStyle","currentStyle","setAlign","defaultCellBorderWidths","defaultCellBorderStyles","getTableBorderWidths","getTableBorderStyles","hasAdvancedCellTab","hasAdvancedRowTab","hasAdvancedTableTab","hasAppearanceOptions","hasTableGrid","getCellClassList","getRowClassList","getTableClassList","getTableBackgroundColorMap","getTableBorderColorMap","isPixelsForced","isResponsiveForced","getDefaultStyles","determineDefaultStyles","getDefaultAttributes","determineDefaultAttributes","getRowsFromSelection","verticalAlignValues","onSetupToggle","formatValue","checkNode","buildListItems","buildMenuItems","applyTableCellStyle","filterNoneItem","generateMenuItemsCallback","buildColorMenu","colorList","changeRowHeader","changeColumnHeader","getItems$2","getClassList$1","getAdvancedTab","dialogName","advTabItems","DomModifier","setFormat","getRowType$1","onUnlockedMergable","onUnlockedUnmergable","selectedRows","rgbToHex","extractAdvancedStyles","borderwidth","bordercolor","backgroundcolor","getSharedValues","baseData","comparisonData","itemKey","comparisonValue","getAlignment","matchNode","getHAlignment","getVAlignment","cellA","cellB","applyStyleData$1","wasChanged","isSingleCell","cellElm","shouldOverrideCurrentValue","modifier","colModifier","shouldUpdate","updateSimpleProps$1","updateAdvancedProps$1","halign","setVAlign","onSubmitCellForm","modifiedData","celltype","applyStructureData$1","applyCellData","getData$1","cellsData","extractDataFromCellElement","open$2","dialogTabPanel","dialogPanel","formChildren","getItems$1","applyStyleData","rowElm","updateSimpleProps","updateAdvancedProps","onSubmitRowForm","typeModified","applyStructureData","applyRowData","rowsData","extractDataFromRowElement","insertNewTable","rowColCountItems","appearanceItems","classListItem","styleTDTH","onSubmitTableForm","removePxSuffix","cellspacing","cellpadding","advData","applyDataToElement","captionElm","captionModified","hasAdvTableTab","advStyle","extractDataFromSettings","optBorderWidth","extractDataFromTableElement","generalPanel","mceTableProps","mceTableRowProps","mceTableCellProps","mceInsertTableDialog","runAction","getSelectionTargets","changeHandlers","selectionDetails","isCaption","isDisabledForSelection","getSelectionEnd","findTargets","startCellOrCaption","endTable","noMenu","getExtractedDetails","onAny","onFirst","onLast","unmergeable","resetTargets","setupHandler","onSetupWithToggle","isDisabledFromLocked","lockedDisable","onSetupTableHeaders","onSetupTableRowHeaders","onSetupTableColumnHeaders","onSetupTable","onSetupCellOrRow","onSetupColumn","onSetupPasteable","getClipboardData","onSetupPasteableColumn","onSetupMergeable","_targets","onSetupUnmergeable","onSetupTableWithCaption","Plugin","selectionTargets","addMenuIfRegistered","queryCommandSupported","addToggleMenuIfRegistered","insertTableAction","hasRowMenuItems","hasColumnMenuItems","hasCellMenuItems","tableClassList","tableCellClassList","addMenuItems","addButtonIfRegistered","addToggleButtonIfRegistered","addButtons","addContextToolbar","addToolbars","getAutoLinkPattern","isBracketOrSpace","findChar","charAt","parseCurrentLine","voidElements","autoLinkPattern","textSeeker","tempOffset","freefallRtl","endSpot","backwards","lastTextNode","startSpot","newRng","convertToLink","defaultLinkTarget","handleSpacebar","handleBracket","handleEnter","module","exports","getDocumentScriptLoader","extendStatics","__assign","eventPropTypes","onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onClearUndos","onContextMenu","onCommentChange","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDragDrop","onDragGesture","onDragOver","onExecCommand","onGetContent","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onUndo","onVisualAid","onSkinLoadError","onThemeLoadError","onModelLoadError","onPluginLoadError","onIconsLoadError","onLanguageLoadError","onScriptsLoad","onScriptsLoadError","EditorPropTypes","apiKey","onEditorChange","cloudChannel","plugins","textareaName","tinymceScriptSrc","defer","rollback","scriptLoading","isEventProp","eventAttrToEventName","configHandlers","prevProps","boundHandlers","handlerLookup","adapter","prevEventKeys","currEventKeys","removedKeys","addedKeys","wrappedHandler","configHandlers2","uuid","now","isTextareaOrInput","normalizePluginArray","setMode","injectScriptTag","scriptTag","referrerPolicy","loadHandler","errorHandler","ScriptLoader","loader","scriptLoadOrErrorHandler","_i","loadScripts","failureOrLog","successCount","failed","_src","items_1","existing","deleteScripts","getElementById","createDocumentScriptLoader","loadList","doLoad","reinitialize","getTinymce","__extends","__","_super","Editor","_this","rollbackTimer","valueCursor","rollbackChange","currentContent","handleBeforeInput","_evt","handleBeforeInputSpecial","handleEditorChange","newContent","handleEditorChangeSpecial","initialise","elementRef","parent_1","isInDoc","initPlugins","inputPlugins","finalInit","bindHandlers","init_instance_callback","setDirty","componentDidUpdate","localEditor_1","componentDidMount","getScriptSources","componentWillUnmount","changeEvents","beforeInputEvent","renderInline","renderIframe","Env","InputEvent","getTargetRanges","isValueControlled","wasControlled","nowControlled","propTypes","defaultProps"],"mappings":"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OAAO01K,EAET,SAASC,GAAaF,EAAQjkK,GAC5B,KAAkB,OAAXikK,GAAiB,CACtB,IAAIl9J,EAAOy7J,GAAyByB,EAAQjkK,GAC5C,GAAI+G,EAAM,CACR,GAAIA,EAAKhX,IACP,OAAOizK,GAAQj8J,EAAKhX,KAEtB,GAA0B,mBAAfgX,EAAK7qB,MACd,OAAO8mL,GAAQj8J,EAAK7qB,OAGxB+nL,EAASzoL,GAAeyoL,GAM1B,OAJA,SAAuBx6K,GAErB,OADA1B,QAAQyqB,KAAK,qBAAsB/oB,GAC5B,MAIX,IAAI26K,GAAS5nK,GAAO,CAClB,IACA,OACA,UACA,UACA,OACA,UACA,QACA,QACA,IACA,MACA,MACA,MACA,QACA,aACA,OACA,KACA,SACA,SACA,UACA,SACA,OACA,OACA,MACA,WACA,UACA,OACA,WACA,KACA,YACA,MACA,UACA,MACA,SACA,MACA,MACA,KACA,KACA,UACA,KACA,WACA,aACA,SACA,OACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,MACA,OACA,UACA,OACA,WACA,QACA,MACA,OACA,KACA,WACA,SACA,SACA,IACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,UACA,SACA,SACA,QACA,SACA,SACA,OACA,SACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,QAEE6nK,GAAQ7nK,GAAO,CACjB,MACA,IACA,WACA,cACA,eACA,eACA,gBACA,mBACA,SACA,WACA,OACA,OACA,UACA,SACA,OACA,IACA,QACA,WACA,QACA,QACA,OACA,iBACA,SACA,OACA,WACA,QACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,QACA,SACA,SACA,OACA,WACA,QACA,OACA,QACA,OACA,UAEE8nK,GAAa9nK,GAAO,CACtB,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,iBACA,UACA,UACA,UACA,UACA,UACA,iBACA,UACA,UACA,cACA,eACA,WACA,eACA,qBACA,cACA,SACA,iBAEE+nK,GAAgB/nK,GAAO,CACzB,UACA,gBACA,SACA,UACA,eACA,YACA,mBACA,iBACA,gBACA,gBACA,gBACA,QACA,YACA,OACA,eACA,YACA,UACA,gBACA,SACA,MACA,aACA,UACA,QAEEgoK,GAAWhoK,GAAO,CACpB,OACA,WACA,SACA,UACA,QACA,SACA,KACA,aACA,gBACA,KACA,KACA,QACA,UACA,WACA,QACA,OACA,KACA,SACA,QACA,SACA,OACA,OACA,UACA,SACA,MACA,QACA,MACA,SACA,eAEEioK,GAAmBjoK,GAAO,CAC5B,UACA,cACA,aACA,WACA,YACA,UACA,UACA,SACA,SACA,QACA,YACA,aACA,iBACA,cACA,SAEErU,GAAOqU,GAAO,CAAC,UACfjV,GAAOiV,GAAO,CAChB,SACA,SACA,QACA,MACA,iBACA,eACA,uBACA,WACA,aACA,UACA,SACA,UACA,cACA,cACA,UACA,OACA,QACA,QACA,QACA,OACA,UACA,WACA,eACA,SACA,cACA,WACA,WACA,UACA,MACA,WACA,0BACA,wBACA,WACA,YACA,UACA,eACA,OACA,MACA,UACA,SACA,SACA,OACA,OACA,WACA,KACA,YACA,YACA,QACA,OACA,QACA,OACA,OACA,UACA,OACA,MACA,MACA,YACA,QACA,SACA,MACA,YACA,WACA,QACA,OACA,QACA,UACA,aACA,SACA,OACA,UACA,UACA,cACA,cACA,SACA,UACA,UACA,aACA,WACA,MACA,WACA,MACA,WACA,OACA,OACA,UACA,aACA,QACA,WACA,QACA,OACA,QACA,OACA,UACA,QACA,MACA,SACA,OACA,QACA,UACA,WACA,QACA,YACA,OACA,SACA,SACA,QACA,QACA,QACA,SAEE07D,GAAM17D,GAAO,CACf,gBACA,aACA,WACA,qBACA,SACA,gBACA,gBACA,UACA,gBACA,iBACA,QACA,OACA,KACA,QACA,OACA,gBACA,YACA,YACA,QACA,sBACA,8BACA,gBACA,kBACA,KACA,KACA,IACA,KACA,KACA,kBACA,YACA,UACA,UACA,MACA,WACA,YACA,MACA,OACA,eACA,YACA,SACA,cACA,cACA,gBACA,cACA,YACA,mBACA,eACA,aACA,eACA,cACA,KACA,KACA,KACA,KACA,aACA,WACA,gBACA,oBACA,SACA,OACA,KACA,kBACA,KACA,MACA,IACA,KACA,KACA,KACA,KACA,UACA,YACA,aACA,WACA,OACA,eACA,iBACA,eACA,mBACA,iBACA,QACA,aACA,aACA,eACA,eACA,cACA,cACA,mBACA,YACA,MACA,OACA,QACA,SACA,OACA,MACA,OACA,aACA,SACA,WACA,UACA,QACA,SACA,cACA,SACA,WACA,cACA,OACA,aACA,sBACA,mBACA,eACA,SACA,gBACA,sBACA,iBACA,IACA,KACA,KACA,SACA,OACA,OACA,cACA,YACA,UACA,SACA,SACA,QACA,OACA,kBACA,mBACA,mBACA,eACA,cACA,eACA,cACA,aACA,eACA,mBACA,oBACA,iBACA,kBACA,oBACA,iBACA,SACA,eACA,QACA,eACA,iBACA,WACA,UACA,UACA,YACA,mBACA,cACA,kBACA,iBACA,aACA,OACA,KACA,KACA,UACA,SACA,UACA,aACA,UACA,aACA,gBACA,gBACA,QACA,eACA,OACA,eACA,mBACA,mBACA,IACA,KACA,KACA,QACA,IACA,KACA,KACA,IACA,eAEEkoK,GAASloK,GAAO,CAClB,SACA,cACA,QACA,WACA,QACA,eACA,cACA,aACA,aACA,QACA,MACA,UACA,eACA,WACA,QACA,QACA,SACA,OACA,KACA,UACA,SACA,gBACA,SACA,SACA,iBACA,YACA,WACA,cACA,UACA,UACA,gBACA,WACA,WACA,OACA,WACA,WACA,aACA,UACA,SACA,SACA,cACA,gBACA,uBACA,YACA,YACA,aACA,WACA,iBACA,iBACA,YACA,UACA,QACA,UAEEmoK,GAAMnoK,GA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","file":"4.TerriaJS-specs.js","sourcesContent":["// Exports the \"default\" icons for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/icons/default')\n//   ES2015:\n//     import 'tinymce/icons/default'\nrequire('./icons.js');","tinymce.IconManager.add('default', {\n  icons: {\n    'accessibility-check': '<svg width=\"24\" height=\"24\"><path d=\"M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z\" fill-rule=\"nonzero\"/></svg>',\n    'action-next': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z\"/></svg>',\n    'action-prev': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z\"/></svg>',\n    'addtag': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z\"/></svg>',\n    'align-center': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-justify': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-left': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-none': '<svg width=\"24\" height=\"24\"><path d=\"M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-right': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-left': '<svg width=\"24\" height=\"24\"><path d=\"m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-right': '<svg width=\"24\" height=\"24\"><path d=\"m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'bold': '<svg width=\"24\" height=\"24\"><path d=\"M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z\" fill-rule=\"evenodd\"/></svg>',\n    'bookmark': '<svg width=\"24\" height=\"24\"><path d=\"M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z\" fill-rule=\"nonzero\"/></svg>',\n    'border-style': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"6\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"3\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"6.8\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"10.6\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"14.4\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"18.2\" y=\"16\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"13\" y=\"11\" rx=\"1\"/></g></svg>',\n    'border-width': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"5\" x=\"3\" y=\"5\" rx=\"1\"/><rect width=\"18\" height=\"3.5\" x=\"3\" y=\"11.5\" rx=\"1\"/><rect width=\"18\" height=\"2\" x=\"3\" y=\"17\" rx=\"1\"/></g></svg>',\n    'brightness': '<svg width=\"24\" height=\"24\"><path d=\"M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z\" fill-rule=\"evenodd\"/></svg>',\n    'browse': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z\" fill-rule=\"nonzero\"/></svg>',\n    'cancel': '<svg width=\"24\" height=\"24\"><path d=\"M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z\" fill-rule=\"nonzero\"/></svg>',\n    'cell-background-color': '<svg width=\"24\" height=\"24\"><path d=\"m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z\"/></svg>',\n    'cell-border-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z\" opacity=\".2\"/><path fill-rule=\"nonzero\" d=\"M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z\"/><path d=\"m13 11-2 2H5v-2h6V6h2z\"/><path fill-rule=\"nonzero\" d=\"m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z\"/></g></svg>',\n    'change-case': '<svg width=\"24\" height=\"24\"><path d=\"M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z\" fill-rule=\"evenodd\"/></svg>',\n    'character-count': '<svg width=\"24\" height=\"24\"><path d=\"M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist': '<svg width=\"24\" height=\"24\"><path d=\"M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'checkmark': '<svg width=\"24\" height=\"24\"><path d=\"M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-down': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-left': '<svg width=\"10\" height=\"10\"><path d=\"M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-right': '<svg width=\"10\" height=\"10\"><path d=\"M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-up': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z\" fill-rule=\"nonzero\"/></svg>',\n    'close': '<svg width=\"24\" height=\"24\"><path d=\"M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'code-sample': '<svg width=\"24\" height=\"26\"><path d=\"M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'color-levels': '<svg width=\"24\" height=\"24\"><path d=\"M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'color-picker': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z\" fill-rule=\"nonzero\"/></svg>',\n    'color-swatch-remove-color': '<svg width=\"24\" height=\"24\"><path stroke=\"#000\" stroke-width=\"2\" d=\"M21 3 3 21\" fill-rule=\"evenodd\"/></svg>',\n    'color-swatch': '<svg width=\"24\" height=\"24\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"1\" fill-rule=\"evenodd\"/></svg>',\n    'comment-add': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z\"/><path d=\"M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z\"/></g></svg>',\n    'comment': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z\"/></svg>',\n    'contrast': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z\" fill-rule=\"evenodd\"/></svg>',\n    'copy': '<svg width=\"24\" height=\"24\"><path d=\"M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z\" fill-rule=\"nonzero\"/></svg>',\n    'crop': '<svg width=\"24\" height=\"24\"><path d=\"M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z\" fill-rule=\"evenodd\"/></svg>',\n    'cut-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z\"/></svg>',\n    'cut-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z\"/></svg>',\n    'cut': '<svg width=\"24\" height=\"24\"><path d=\"M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'document-properties': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z\" fill-rule=\"nonzero\"/></svg>',\n    'drag': '<svg width=\"24\" height=\"24\"><path d=\"M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z\" fill-rule=\"evenodd\"/></svg>',\n    'duplicate-column': '<svg width=\"24\" height=\"24\"><path d=\"M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z\"/></svg>',\n    'duplicate-row': '<svg width=\"24\" height=\"24\"><path d=\"M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z\"/></svg>',\n    'duplicate': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z\"/><path d=\"M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z\"/></g></svg>',\n    'edit-block': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z\"/></svg>',\n    'edit-image': '<svg width=\"24\" height=\"24\"><path d=\"M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'embed-page': '<svg width=\"24\" height=\"24\"><path d=\"M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z\" fill-rule=\"nonzero\"/></svg>',\n    'embed': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z\" fill-rule=\"nonzero\"/></svg>',\n    'emoji': '<svg width=\"24\" height=\"24\"><path d=\"M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z\" fill-rule=\"nonzero\"/></svg>',\n    'export': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z\"/><path d=\"M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z\"/><path d=\"M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z\"/></g></svg>',\n    'fill': '<svg width=\"24\" height=\"26\"><path d=\"m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-horizontally': '<svg width=\"24\" height=\"24\"><path d=\"M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-vertically': '<svg width=\"24\" height=\"24\"><path d=\"M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z\" fill-rule=\"nonzero\"/></svg>',\n    'footnote': '<svg width=\"24\" height=\"24\"><path d=\"M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M19 4v6h-1V5h-1.5V4h2.6Z\"/><path d=\"M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z\"/></svg>',\n    'format-painter': '<svg width=\"24\" height=\"24\"><path d=\"M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z\" fill-rule=\"nonzero\"/></svg>',\n    'format': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z\"/></svg>',\n    'fullscreen': '<svg width=\"24\" height=\"24\"><path d=\"m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z\" fill-rule=\"nonzero\"/></svg>',\n    'gallery': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z\"/></svg>',\n    'gamma': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z\" fill-rule=\"nonzero\"/></svg>',\n    'help': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z\"/><path d=\"M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z\" fill-rule=\"nonzero\"/><circle cx=\"12\" cy=\"16\" r=\"1\"/></g></svg>',\n    'highlight-bg-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-highlight-bg-color__color\" d=\"M3 18h18v3H3z\"/><path fill-rule=\"nonzero\" d=\"M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6\"/></g></svg>',\n    'home': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/></svg>',\n    'horizontal-rule': '<svg width=\"24\" height=\"24\"><path d=\"M4 11h16v2H4z\" fill-rule=\"evenodd\"/></svg>',\n    'image-options': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z\" fill-rule=\"nonzero\"/></svg>',\n    'image': '<svg width=\"24\" height=\"24\"><path d=\"m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\" fill-rule=\"nonzero\"/></svg>',\n    'indent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z\" fill-rule=\"evenodd\"/></svg>',\n    'info': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-character': '<svg width=\"24\" height=\"24\"><path d=\"M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-time': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z\"/><path d=\"M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z\"/></g></svg>',\n    'invert': '<svg width=\"24\" height=\"24\"><path d=\"M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z\" fill-rule=\"evenodd\"/></svg>',\n    'italic': '<svg width=\"24\" height=\"24\"><path d=\"m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'language': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z\"/></svg>',\n    'line-height': '<svg width=\"24\" height=\"24\"><path d=\"M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z\"/></svg>',\n    'line': '<svg width=\"24\" height=\"24\"><path d=\"m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'link': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z\" fill-rule=\"nonzero\"/></svg>',\n    'list-bull-circle': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z\" fill-rule=\"nonzero\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><circle cx=\"11\" cy=\"14\" r=\"3\"/><circle cx=\"11\" cy=\"24\" r=\"3\"/><circle cx=\"11\" cy=\"34\" r=\"3\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-square': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-num-default-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n    'list-num-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z\"/></g></svg>',\n    'list-num-lower-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-lower-greek-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-lower-greek': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-lower-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z\"/><path fill-rule=\"nonzero\" d=\"M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z\"/></g></svg>',\n    'list-num-lower-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z\"/><path fill-rule=\"nonzero\" d=\"M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z\"/></g></svg>',\n    'list-num-upper-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-upper-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-upper-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z\"/><path fill-rule=\"nonzero\" d=\"M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z\"/></g></svg>',\n    'list-num-upper-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z\"/><path fill-rule=\"nonzero\" d=\"M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z\"/></g></svg>',\n    'lock': '<svg width=\"24\" height=\"24\"><path d=\"M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z\" fill-rule=\"evenodd\"/></svg>',\n    'ltr': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z\" fill-rule=\"evenodd\"/></svg>',\n    'minus': '<svg width=\"24\" height=\"24\"><path d=\"M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z\"/></svg>',\n    'more-drawer': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z\" fill-rule=\"nonzero\"/></svg>',\n    'new-document': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z\" fill-rule=\"nonzero\"/></svg>',\n    'new-tab': '<svg width=\"24\" height=\"24\"><path d=\"m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z\" fill-rule=\"evenodd\"/></svg>',\n    'non-breaking': '<svg width=\"24\" height=\"24\"><path d=\"M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'notice': '<svg width=\"24\" height=\"24\"><path d=\"M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></svg>',\n    'ordered-list-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'ordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'orientation': '<svg width=\"24\" height=\"24\"><path d=\"M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z\" fill-rule=\"nonzero\"/></svg>',\n    'outdent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'page-break': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z\"/></g></svg>',\n    'paragraph': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z\"/></svg>',\n    'paste-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-row-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-text': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z\" fill-rule=\"nonzero\"/></svg>',\n    'paste': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z\" fill-rule=\"nonzero\"/></svg>',\n    'permanent-pen': '<svg width=\"24\" height=\"24\"><path d=\"M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z\" fill-rule=\"nonzero\"/></svg>',\n    'plus': '<svg width=\"24\" height=\"24\"><path d=\"M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z\"/></svg>',\n    'preferences': '<svg width=\"24\" height=\"24\"><path d=\"m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z\" fill-rule=\"evenodd\"/></svg>',\n    'preview': '<svg width=\"24\" height=\"24\"><path d=\"M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z\" fill-rule=\"nonzero\"/></svg>',\n    'print': '<svg width=\"24\" height=\"24\"><path d=\"M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z\" fill-rule=\"nonzero\"/></svg>',\n    'quote': '<svg width=\"24\" height=\"24\"><path d=\"M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'redo': '<svg width=\"24\" height=\"24\"><path d=\"M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'reload': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z\"/></g></svg>',\n    'remove-formatting': '<svg width=\"24\" height=\"24\"><path d=\"M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'remove': '<svg width=\"24\" height=\"24\"><path d=\"M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z\" fill-rule=\"nonzero\"/></svg>',\n    'resize-handle': '<svg width=\"10\" height=\"10\"><g fill-rule=\"nonzero\"><path d=\"M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z\"/></g></svg>',\n    'resize': '<svg width=\"24\" height=\"24\"><path d=\"M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z\" fill-rule=\"evenodd\"/></svg>',\n    'restore-draft': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z\"/><path d=\"M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z\" fill-rule=\"nonzero\"/></g></svg>',\n    'rotate-left': '<svg width=\"24\" height=\"24\"><path d=\"M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z\" fill-rule=\"nonzero\"/></svg>',\n    'rotate-right': '<svg width=\"24\" height=\"24\"><path d=\"M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z\" fill-rule=\"nonzero\"/></svg>',\n    'rtl': '<svg width=\"24\" height=\"24\"><path d=\"M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'save': '<svg width=\"24\" height=\"24\"><path d=\"M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z\" fill-rule=\"nonzero\"/></svg>',\n    'search': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z\" fill-rule=\"nonzero\"/></svg>',\n    'select-all': '<svg width=\"24\" height=\"24\"><path d=\"M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z\" fill-rule=\"nonzero\"/></svg>',\n    'selected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z\"/></svg>',\n    'settings': '<svg width=\"24\" height=\"24\"><path d=\"M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z\" fill-rule=\"evenodd\"/></svg>',\n    'sharpen': '<svg width=\"24\" height=\"24\"><path d=\"m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'sourcecode': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z\"/></g></svg>',\n    'spell-check': '<svg width=\"24\" height=\"24\"><path d=\"M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z\" fill-rule=\"evenodd\"/></svg>',\n    'strike-through': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z\"/><path d=\"M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z\" fill-rule=\"nonzero\"/></g></svg>',\n    'subscript': '<svg width=\"24\" height=\"24\"><path d=\"m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z\" fill-rule=\"nonzero\"/></svg>',\n    'superscript': '<svg width=\"24\" height=\"24\"><path d=\"M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z\" fill-rule=\"nonzero\"/></svg>',\n    'table-caption': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"12\" height=\"2\" x=\"3\" y=\"4\" rx=\"1\"/><path d=\"M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z\"/></g></svg>',\n    'table-cell-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z\"/><path fill-rule=\"nonzero\" d=\"M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z\" opacity=\".2\"/><path d=\"m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z\"/><path fill-rule=\"nonzero\" d=\"M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z\" opacity=\".2\"/></g></svg>',\n    'table-cell-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z\"/></svg>',\n    'table-cell-select-all': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z\" opacity=\".2\"/></g></svg>',\n    'table-cell-select-inner': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z\" opacity=\".2\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z\"/></g></svg>',\n    'table-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z\"/><path d=\"m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z\"/></g></svg>',\n    'table-delete-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z\"/></svg>',\n    'table-delete-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z\"/></svg>',\n    'table-delete-table': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z\"/><path d=\"m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z\"/></g></svg>',\n    'table-insert-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z\"/></svg>',\n    'table-insert-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z\"/></svg>',\n    'table-insert-row-above': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z\"/></svg>',\n    'table-insert-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z\"/></svg>',\n    'table-left-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z\"/></svg>',\n    'table-merge-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z\"/></svg>',\n    'table-row-numbering-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z\"/></svg>',\n    'table-row-numbering': '<svg width=\"24\" height=\"24\"><path d=\"M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z\"/></svg>',\n    'table-row-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z\"/></svg>',\n    'table-split-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z\"/></svg>',\n    'table-top-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z\"/></svg>',\n    'table': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z\"/></svg>',\n    'template-add': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z\"/><path d=\"M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z\"/></svg>',\n    'template': '<svg width=\"24\" height=\"24\"><path d=\"M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z\" fill-rule=\"nonzero\"/></svg>',\n    'temporary-placeholder': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z\"/><circle cx=\"14\" cy=\"4\" r=\"1\"/><circle cx=\"12\" cy=\"2\" r=\"1\"/><circle cx=\"10\" cy=\"4\" r=\"1\"/></g></svg>',\n    'text-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-text-color__color\" d=\"M3 18h18v3H3z\"/><path d=\"M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z\"/></g></svg>',\n    'text-size-decrease': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z\"/></svg>',\n    'text-size-increase': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z\"/></svg>',\n    'toc': '<svg width=\"24\" height=\"24\"><path d=\"M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'translate': '<svg width=\"24\" height=\"24\"><path d=\"m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'typography': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z\"/><path d=\"m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z\"/></svg>',\n    'underline': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'undo': '<svg width=\"24\" height=\"24\"><path d=\"M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z\" fill-rule=\"nonzero\"/></svg>',\n    'unlink': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z\" fill-rule=\"nonzero\"/></svg>',\n    'unlock': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z\" fill-rule=\"evenodd\"/></svg>',\n    'unordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z\" fill-rule=\"evenodd\"/></svg>',\n    'unselected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z\"/></svg>',\n    'upload': '<svg width=\"24\" height=\"24\"><path d=\"M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z\" fill-rule=\"nonzero\"/></svg>',\n    'user': '<svg width=\"24\" height=\"24\"><path d=\"M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z\" fill-rule=\"nonzero\"/></svg>',\n    'vertical-align': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><path d=\"M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z\"/></g></svg>',\n    'visualblocks': '<svg width=\"24\" height=\"24\"><path d=\"M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z\" fill-rule=\"evenodd\"/></svg>',\n    'visualchars': '<svg width=\"24\" height=\"24\"><path d=\"M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z\" fill-rule=\"evenodd\"/></svg>',\n    'warning': '<svg width=\"24\" height=\"24\"><path d=\"M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z\" fill-rule=\"evenodd\"/></svg>',\n    'zoom-in': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z\" fill-rule=\"nonzero\"/></svg>',\n    'zoom-out': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z\" fill-rule=\"nonzero\"/></svg>',\n  }\n});","// Exports the \"silver\" theme for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/themes/silver')\n//   ES2015:\n//     import 'tinymce/themes/silver'\nrequire('./theme.js');","/**\n * TinyMCE version 6.4.1 (2023-03-29)\n */\n\n(function () {\n    'use strict';\n\n    const getPrototypeOf$2 = Object.getPrototypeOf;\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$1 = t => a => t === a;\n    const is$2 = (value, constructor) => isObject(value) && hasProto(value, constructor, (o, proto) => getPrototypeOf$2(o) === proto);\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isPlainObject = value => is$2(value, Object);\n    const isArray = isType$1('array');\n    const isNull = eq$1(null);\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$1(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n    const noarg = f => () => f();\n    const compose = (fa, fb) => {\n      return (...args) => {\n        return fa(fb.apply(null, args));\n      };\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant$1 = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const not = f => t => !f(t);\n    const die = msg => {\n      return () => {\n        throw new Error(msg);\n      };\n    };\n    const apply$1 = f => {\n      return f();\n    };\n    const never = constant$1(false);\n    const always = constant$1(true);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const indexOf = (xs, x) => {\n      const r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    const contains$2 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const range$2 = (num, f) => {\n      const r = [];\n      for (let i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    const chunk$1 = (array, size) => {\n      const r = [];\n      for (let i = 0; i < array.length; i += size) {\n        const s = nativeSlice.call(array, i, i + size);\n        r.push(s);\n      }\n      return r;\n    };\n    const map$2 = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition$3 = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter$2 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find$5 = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const findIndex$1 = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind$3 = (xs, f) => flatten(map$2(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const difference = (a1, a2) => filter$2(a1, x => !contains$2(a2, x));\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const pure$2 = x => [x];\n    const sort = (xs, comparator) => {\n      const copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    const get$h = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$h(xs, 0);\n    const last$1 = xs => get$h(xs, xs.length - 1);\n    const from = isFunction(Array.from) ? Array.from : x => nativeSlice.call(x);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty$1 = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const map$1 = (obj, f) => {\n      return tupleMap(obj, (x, i) => ({\n        k: i,\n        v: f(x, i)\n      }));\n    };\n    const tupleMap = (obj, f) => {\n      const r = {};\n      each(obj, (x, i) => {\n        const tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const bifilter = (obj, pred) => {\n      const t = {};\n      const f = {};\n      internalFilter(obj, pred, objAcc(t), objAcc(f));\n      return {\n        t,\n        f\n      };\n    };\n    const filter$1 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const find$4 = (obj, pred) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        if (pred(x, i, obj)) {\n          return Optional.some(x);\n        }\n      }\n      return Optional.none();\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const get$g = (obj, key) => {\n      return has$2(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has$2 = (obj, key) => hasOwnProperty$1.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has$2(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    const is$1 = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const equals = (lhs, rhs, comparator = tripleEquals) => lift2(lhs, rhs, comparator).getOr(lhs.isNone() && rhs.isNone());\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const sequence = arr => {\n      const r = [];\n      for (let i = 0; i < arr.length; i++) {\n        const x = arr[i];\n        if (x.isSome()) {\n          r.push(x.getOrDie());\n        } else {\n          return Optional.none();\n        }\n      }\n      return Optional.some(r);\n    };\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    const lift3 = (oa, ob, oc, f) => oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    const mapFrom = (a, f) => a !== undefined && a !== null ? Optional.some(f(a)) : Optional.none();\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const addToEnd = (str, suffix) => {\n      return str + suffix;\n    };\n    const removeFromStart = (str, numChars) => {\n      return str.substring(numChars);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const removeLeading = (str, prefix) => {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    const ensureTrailing = (str, suffix) => {\n      return endsWith(str, suffix) ? str : addToEnd(str, suffix);\n    };\n    const contains$1 = (str, substr, start = 0, end) => {\n      const idx = str.indexOf(substr, start);\n      if (idx !== -1) {\n        return isUndefined(end) ? true : idx + substr.length <= end;\n      } else {\n        return false;\n      }\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const endsWith = (str, suffix) => {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim$1 = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty = s => !isNotEmpty(s);\n\n    const isSupported$1 = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const fromHtml$2 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    const fromDom = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    const SugarElement = {\n      fromHtml: fromHtml$2,\n      fromTag,\n      fromText,\n      fromDom,\n      fromPoint\n    };\n\n    const Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const path$1 = (parts, scope) => {\n      let o = scope !== undefined && scope !== null ? scope : Global;\n      for (let i = 0; i < parts.length && o !== undefined && o !== null; ++i) {\n        o = o[parts[i]];\n      }\n      return o;\n    };\n    const resolve = (p, scope) => {\n      const parts = p.split('.');\n      return path$1(parts, scope);\n    };\n\n    const unsafe = (name, scope) => {\n      return resolve(name, scope);\n    };\n    const getOrDie$1 = (name, scope) => {\n      const actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) {\n        throw new Error(name + ' not available on this browser');\n      }\n      return actual;\n    };\n\n    const getPrototypeOf$1 = Object.getPrototypeOf;\n    const sandHTMLElement = scope => {\n      return getOrDie$1('HTMLElement', scope);\n    };\n    const isPrototypeOf = x => {\n      const scope = resolve('ownerDocument.defaultView', x);\n      return isObject(x) && (sandHTMLElement(scope).prototype.isPrototypeOf(x) || /^HTML\\w*Element$/.test(getPrototypeOf$1(x).constructor.name));\n    };\n\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const name$3 = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type$1 = element => element.dom.nodeType;\n    const isType = t => element => type$1(element) === t;\n    const isHTMLElement = element => isElement$1(element) && isPrototypeOf(element.dom);\n    const isElement$1 = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement$1(e) && name$3(e) === tag;\n\n    const is = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all$3 = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$2(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const contains = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n\n    const owner$4 = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner$4(dos);\n    const documentElement = element => SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    const defaultView = element => SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const parents = (element, isRoot) => {\n      const stop = isFunction(isRoot) ? isRoot : never;\n      let dom = element.dom;\n      const ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        const rawParent = dom.parentNode;\n        const p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    const offsetParent = element => Optional.from(element.dom.offsetParent).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children = element => map$2(element.dom.childNodes, SugarElement.fromDom);\n    const child$2 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$2(element, 0);\n    const spot = (element, offset) => ({\n      element,\n      offset\n    });\n    const leaf = (element, offset) => {\n      const cs = children(element);\n      return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);\n    };\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const isSupported = constant$1(supported);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getContentContainer = dos => isShadowRoot(dos) ? dos : SugarElement.fromDom(documentOrOwner(dos).dom.body);\n    const isInShadowRoot = e => getShadowRoot(e).isSome();\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n    const getOriginalEventTarget = event => {\n      if (isSupported() && isNonNullable(event.target)) {\n        const el = SugarElement.fromDom(event.target);\n        if (isElement$1(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            const composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    const isOpenShadowHost = element => isNonNullable(element.dom.shadowRoot);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n    const body = () => getBody(SugarElement.fromDom(document));\n    const getBody = doc => {\n      const b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$9 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll$1 = (element, attrs) => {\n      const dom = element.dom;\n      each(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const get$f = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$f(element, key));\n    const has$1 = (element, key) => {\n      const dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    const remove$7 = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const clone$2 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported$1(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported$1(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$8 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const setAll = (element, css) => {\n      const dom = element.dom;\n      each(css, (v, k) => {\n        internalSet(dom, k, v);\n      });\n    };\n    const setOptions = (element, css) => {\n      const dom = element.dom;\n      each(css, (v, k) => {\n        v.fold(() => {\n          internalRemove(dom, k);\n        }, value => {\n          internalSet(dom, k, value);\n        });\n      });\n    };\n    const get$e = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported$1(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const getAllRaw = element => {\n      const css = {};\n      const dom = element.dom;\n      if (isSupported$1(dom)) {\n        for (let i = 0; i < dom.style.length; i++) {\n          const ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    const isValidValue = (tag, property, value) => {\n      const element = SugarElement.fromTag(tag);\n      set$8(element, property, value);\n      const style = getRaw(element, property);\n      return style.isSome();\n    };\n    const remove$6 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is$1(getOpt(element, 'style').map(trim$1), '')) {\n        remove$7(element, 'style');\n      }\n    };\n    const reflow = e => e.dom.offsetWidth;\n\n    const Dimension = (name, getOffset) => {\n      const set = (element, h) => {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        const dom = element.dom;\n        if (isSupported$1(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      const get = element => {\n        const r = getOffset(element);\n        if (r <= 0 || r === null) {\n          const css = get$e(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      const getOuter = get;\n      const aggregate = (element, properties) => foldl(properties, (acc, property) => {\n        const val = get$e(element, property);\n        const value = val === undefined ? 0 : parseInt(val, 10);\n        return isNaN(value) ? acc : acc + value;\n      }, 0);\n      const max = (element, value, properties) => {\n        const cumulativeInclusions = aggregate(element, properties);\n        const absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set,\n        get,\n        getOuter,\n        aggregate,\n        max\n      };\n    };\n\n    const api$2 = Dimension('height', element => {\n      const dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    const get$d = element => api$2.get(element);\n    const getOuter$2 = element => api$2.getOuter(element);\n    const setMax$1 = (element, value) => {\n      const inclusions = [\n        'margin-top',\n        'border-top-width',\n        'padding-top',\n        'padding-bottom',\n        'border-bottom-width',\n        'margin-bottom'\n      ];\n      const absMax = api$2.max(element, value, inclusions);\n      set$8(element, 'max-height', absMax + 'px');\n    };\n\n    const r$1 = (left, top) => {\n      const translate = (x, y) => r$1(left + x, top + y);\n      return {\n        left,\n        top,\n        translate\n      };\n    };\n    const SugarPosition = r$1;\n\n    const boxPosition = dom => {\n      const box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    const firstDefinedOrZero = (a, b) => {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    const absolute$3 = element => {\n      const doc = element.dom.ownerDocument;\n      const body = doc.body;\n      const win = doc.defaultView;\n      const html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      const scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      const scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      const clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      const clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport$1(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    const viewport$1 = element => {\n      const dom = element.dom;\n      const doc = dom.ownerDocument;\n      const body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    const api$1 = Dimension('width', element => element.dom.offsetWidth);\n    const set$7 = (element, h) => api$1.set(element, h);\n    const get$c = element => api$1.get(element);\n    const getOuter$1 = element => api$1.getOuter(element);\n    const setMax = (element, value) => {\n      const inclusions = [\n        'margin-left',\n        'border-left-width',\n        'padding-left',\n        'padding-right',\n        'border-right-width',\n        'margin-right'\n      ];\n      const absMax = api$1.max(element, value, inclusions);\n      set$8(element, 'max-width', absMax + 'px');\n    };\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const DeviceType = (os, browser, userAgent, mediaMatch) => {\n      const isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      const isiPhone = os.isiOS() && !isiPad;\n      const isMobile = os.isiOS() || os.isAndroid();\n      const isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      const isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      const isPhone = isiPhone || isMobile && !isTablet;\n      const iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      const isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant$1(isiPad),\n        isiPhone: constant$1(isiPhone),\n        isTablet: constant$1(isTablet),\n        isPhone: constant$1(isPhone),\n        isTouch: constant$1(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant$1(iOSwebview),\n        isDesktop: constant$1(isDesktop)\n      };\n    };\n\n    const firstMatch = (regexes, s) => {\n      for (let i = 0; i < regexes.length; i++) {\n        const x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    const find$3 = (regexes, agent) => {\n      const r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      const group = i => {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$d(group(1), group(2));\n    };\n    const detect$5 = (versionRegexes, agent) => {\n      const cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$3();\n      }\n      return find$3(versionRegexes, cleanedAgent);\n    };\n    const unknown$3 = () => {\n      return nu$d(0, 0);\n    };\n    const nu$d = (major, minor) => {\n      return {\n        major,\n        minor\n      };\n    };\n    const Version = {\n      nu: nu$d,\n      detect: detect$5,\n      unknown: unknown$3\n    };\n\n    const detectBrowser$1 = (browsers, userAgentData) => {\n      return findMap(userAgentData.brands, uaBrand => {\n        const lcBrand = uaBrand.brand.toLowerCase();\n        return find$5(browsers, browser => {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(info => ({\n          current: info.name,\n          version: Version.nu(parseInt(uaBrand.version, 10), 0)\n        }));\n      });\n    };\n\n    const detect$4 = (candidates, userAgent) => {\n      const agent = String(userAgent).toLowerCase();\n      return find$5(candidates, candidate => {\n        return candidate.search(agent);\n      });\n    };\n    const detectBrowser = (browsers, userAgent) => {\n      return detect$4(browsers, userAgent).map(browser => {\n        const version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version\n        };\n      });\n    };\n    const detectOs = (oses, userAgent) => {\n      return detect$4(oses, userAgent).map(os => {\n        const version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version\n        };\n      });\n    };\n\n    const normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    const checkContains = target => {\n      return uastring => {\n        return contains$1(uastring, target);\n      };\n    };\n    const browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: uastring => {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chromium',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: uastring => {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    const oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: uastring => {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'macOS',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    const PlatformInfo = {\n      browsers: constant$1(browsers),\n      oses: constant$1(oses)\n    };\n\n    const edge = 'Edge';\n    const chromium = 'Chromium';\n    const ie = 'IE';\n    const opera = 'Opera';\n    const firefox = 'Firefox';\n    const safari = 'Safari';\n    const unknown$2 = () => {\n      return nu$c({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$c = info => {\n      const current = info.current;\n      const version = info.version;\n      const isBrowser = name => () => current === name;\n      return {\n        current,\n        version,\n        isEdge: isBrowser(edge),\n        isChromium: isBrowser(chromium),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    const Browser = {\n      unknown: unknown$2,\n      nu: nu$c,\n      edge: constant$1(edge),\n      chromium: constant$1(chromium),\n      ie: constant$1(ie),\n      opera: constant$1(opera),\n      firefox: constant$1(firefox),\n      safari: constant$1(safari)\n    };\n\n    const windows = 'Windows';\n    const ios = 'iOS';\n    const android = 'Android';\n    const linux = 'Linux';\n    const macos = 'macOS';\n    const solaris = 'Solaris';\n    const freebsd = 'FreeBSD';\n    const chromeos = 'ChromeOS';\n    const unknown$1 = () => {\n      return nu$b({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$b = info => {\n      const current = info.current;\n      const version = info.version;\n      const isOS = name => () => current === name;\n      return {\n        current,\n        version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isMacOS: isOS(macos),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    const OperatingSystem = {\n      unknown: unknown$1,\n      nu: nu$b,\n      windows: constant$1(windows),\n      ios: constant$1(ios),\n      android: constant$1(android),\n      linux: constant$1(linux),\n      macos: constant$1(macos),\n      solaris: constant$1(solaris),\n      freebsd: constant$1(freebsd),\n      chromeos: constant$1(chromeos)\n    };\n\n    const detect$3 = (userAgent, userAgentDataOpt, mediaMatch) => {\n      const browsers = PlatformInfo.browsers();\n      const oses = PlatformInfo.oses();\n      const browser = userAgentDataOpt.bind(userAgentData => detectBrowser$1(browsers, userAgentData)).orThunk(() => detectBrowser(browsers, userAgent)).fold(Browser.unknown, Browser.nu);\n      const os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      const deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser,\n        os,\n        deviceType\n      };\n    };\n    const PlatformDetection = { detect: detect$3 };\n\n    const mediaMatch = query => window.matchMedia(query).matches;\n    let platform = cached(() => PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch));\n    const detect$2 = () => platform();\n\n    const mkEvent = (target, x, y, stop, prevent, kill, raw) => ({\n      target,\n      x,\n      y,\n      stop,\n      prevent,\n      kill,\n      raw\n    });\n    const fromRawEvent$1 = rawEvent => {\n      const target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      const stop = () => rawEvent.stopPropagation();\n      const prevent = () => rawEvent.preventDefault();\n      const kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    const handle = (filter, handler) => rawEvent => {\n      if (filter(rawEvent)) {\n        handler(fromRawEvent$1(rawEvent));\n      }\n    };\n    const binder = (element, event, filter, handler, useCapture) => {\n      const wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    const bind$2 = (element, event, filter, handler) => binder(element, event, filter, handler, false);\n    const capture$1 = (element, event, filter, handler) => binder(element, event, filter, handler, true);\n    const unbind = (element, event, handler, useCapture) => {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    const before$1 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$2 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$2(v, element);\n        });\n      }, v => {\n        before$1(v, element);\n      });\n    };\n    const prepend$1 = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$2(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$2 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const appendAt = (parent, element, index) => {\n      child$2(parent, index).fold(() => {\n        append$2(parent, element);\n      }, v => {\n        before$1(v, element);\n      });\n    };\n\n    const append$1 = (parent, elements) => {\n      each$1(elements, x => {\n        append$2(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$1(children(element), rogue => {\n        remove$5(rogue);\n      });\n    };\n    const remove$5 = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n\n    const get$b = _DOC => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      const y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    const to = (x, y, _DOC) => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n\n    const get$a = _win => {\n      const win = _win === undefined ? window : _win;\n      if (detect$2().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win.visualViewport);\n      }\n    };\n    const bounds$1 = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height,\n      right: x + width,\n      bottom: y + height\n    });\n    const getBounds$3 = _win => {\n      const win = _win === undefined ? window : _win;\n      const doc = win.document;\n      const scroll = get$b(SugarElement.fromDom(doc));\n      return get$a(win).fold(() => {\n        const html = win.document.documentElement;\n        const width = html.clientWidth;\n        const height = html.clientHeight;\n        return bounds$1(scroll.left, scroll.top, width, height);\n      }, visualViewport => bounds$1(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height));\n    };\n\n    const getDocument = () => SugarElement.fromDom(document);\n\n    const walkUp = (navigation, doc) => {\n      const frame = navigation.view(doc);\n      return frame.fold(constant$1([]), f => {\n        const parent = navigation.owner(f);\n        const rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    const pathTo = (element, navigation) => {\n      const d = navigation.owner(element);\n      const paths = walkUp(navigation, d);\n      return Optional.some(paths);\n    };\n\n    const view = doc => {\n      var _a;\n      const element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    const owner$3 = element => owner$4(element);\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner$3\n    });\n\n    const find$2 = element => {\n      const doc = getDocument();\n      const scroll = get$b(doc);\n      const path = pathTo(element, Navigation);\n      return path.fold(curry(absolute$3, element), frames => {\n        const offset = viewport$1(element);\n        const r = foldr(frames, (b, a) => {\n          const loc = viewport$1(a);\n          return {\n            left: b.left + loc.left,\n            top: b.top + loc.top\n          };\n        }, {\n          left: 0,\n          top: 0\n        });\n        return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n      });\n    };\n\n    const pointed = (point, width, height) => ({\n      point,\n      width,\n      height\n    });\n    const rect = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height\n    });\n    const bounds = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height,\n      right: x + width,\n      bottom: y + height\n    });\n    const box$1 = element => {\n      const xy = absolute$3(element);\n      const w = getOuter$1(element);\n      const h = getOuter$2(element);\n      return bounds(xy.left, xy.top, w, h);\n    };\n    const absolute$2 = element => {\n      const position = find$2(element);\n      const width = getOuter$1(element);\n      const height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    const constrain = (original, constraint) => {\n      const left = Math.max(original.x, constraint.x);\n      const top = Math.max(original.y, constraint.y);\n      const right = Math.min(original.right, constraint.right);\n      const bottom = Math.min(original.bottom, constraint.bottom);\n      const width = right - left;\n      const height = bottom - top;\n      return bounds(left, top, width, height);\n    };\n    const constrainByMany = (original, constraints) => {\n      return foldl(constraints, (acc, c) => constrain(acc, c), original);\n    };\n    const win = () => getBounds$3(window);\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.ThemeManager');\n\n    const value$4 = value => {\n      const applyHelper = fn => fn(value);\n      const constHelper = constant$1(value);\n      const outputHelper = () => output;\n      const output = {\n        tag: true,\n        inner: value,\n        fold: (_onError, onValue) => onValue(value),\n        isValue: always,\n        isError: never,\n        map: mapper => Result.value(mapper(value)),\n        mapError: outputHelper,\n        bind: applyHelper,\n        exists: applyHelper,\n        forall: applyHelper,\n        getOr: constHelper,\n        or: outputHelper,\n        getOrThunk: constHelper,\n        orThunk: outputHelper,\n        getOrDie: constHelper,\n        each: fn => {\n          fn(value);\n        },\n        toOptional: () => Optional.some(value)\n      };\n      return output;\n    };\n    const error$1 = error => {\n      const outputHelper = () => output;\n      const output = {\n        tag: false,\n        inner: error,\n        fold: (onError, _onValue) => onError(error),\n        isValue: never,\n        isError: always,\n        map: outputHelper,\n        mapError: mapper => Result.error(mapper(error)),\n        bind: outputHelper,\n        exists: never,\n        forall: always,\n        getOr: identity,\n        or: identity,\n        getOrThunk: apply$1,\n        orThunk: apply$1,\n        getOrDie: die(String(error)),\n        each: noop,\n        toOptional: Optional.none\n      };\n      return output;\n    };\n    const fromOption = (optional, err) => optional.fold(() => error$1(err), value$4);\n    const Result = {\n      value: value$4,\n      error: error$1,\n      fromOption\n    };\n\n    var SimpleResultType;\n    (function (SimpleResultType) {\n      SimpleResultType[SimpleResultType['Error'] = 0] = 'Error';\n      SimpleResultType[SimpleResultType['Value'] = 1] = 'Value';\n    }(SimpleResultType || (SimpleResultType = {})));\n    const fold$1 = (res, onError, onValue) => res.stype === SimpleResultType.Error ? onError(res.serror) : onValue(res.svalue);\n    const partition$2 = results => {\n      const values = [];\n      const errors = [];\n      each$1(results, obj => {\n        fold$1(obj, err => errors.push(err), val => values.push(val));\n      });\n      return {\n        values,\n        errors\n      };\n    };\n    const mapError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return {\n          stype: SimpleResultType.Error,\n          serror: f(res.serror)\n        };\n      } else {\n        return res;\n      }\n    };\n    const map = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return {\n          stype: SimpleResultType.Value,\n          svalue: f(res.svalue)\n        };\n      } else {\n        return res;\n      }\n    };\n    const bind$1 = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return f(res.svalue);\n      } else {\n        return res;\n      }\n    };\n    const bindError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return f(res.serror);\n      } else {\n        return res;\n      }\n    };\n    const svalue = v => ({\n      stype: SimpleResultType.Value,\n      svalue: v\n    });\n    const serror = e => ({\n      stype: SimpleResultType.Error,\n      serror: e\n    });\n    const toResult$1 = res => fold$1(res, Result.error, Result.value);\n    const fromResult$1 = res => res.fold(serror, svalue);\n    const SimpleResult = {\n      fromResult: fromResult$1,\n      toResult: toResult$1,\n      svalue,\n      partition: partition$2,\n      serror,\n      bind: bind$1,\n      bindError,\n      map,\n      mapError,\n      fold: fold$1\n    };\n\n    const field$2 = (key, newKey, presence, prop) => ({\n      tag: 'field',\n      key,\n      newKey,\n      presence,\n      prop\n    });\n    const customField$1 = (newKey, instantiator) => ({\n      tag: 'custom',\n      newKey,\n      instantiator\n    });\n    const fold = (value, ifField, ifCustom) => {\n      switch (value.tag) {\n      case 'field':\n        return ifField(value.key, value.newKey, value.presence, value.prop);\n      case 'custom':\n        return ifCustom(value.newKey, value.instantiator);\n      }\n    };\n\n    const shallow$1 = (old, nu) => {\n      return nu;\n    };\n    const deep = (old, nu) => {\n      const bothObjects = isPlainObject(old) && isPlainObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    const baseMerge = merger => {\n      return (...objects) => {\n        if (objects.length === 0) {\n          throw new Error(`Can't merge zero objects`);\n        }\n        const ret = {};\n        for (let j = 0; j < objects.length; j++) {\n          const curObject = objects[j];\n          for (const key in curObject) {\n            if (has$2(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    const deepMerge = baseMerge(deep);\n    const merge$1 = baseMerge(shallow$1);\n\n    const required$2 = () => ({\n      tag: 'required',\n      process: {}\n    });\n    const defaultedThunk = fallbackThunk => ({\n      tag: 'defaultedThunk',\n      process: fallbackThunk\n    });\n    const defaulted$1 = fallback => defaultedThunk(constant$1(fallback));\n    const asOption = () => ({\n      tag: 'option',\n      process: {}\n    });\n    const mergeWithThunk = baseThunk => ({\n      tag: 'mergeWithThunk',\n      process: baseThunk\n    });\n    const mergeWith = base => mergeWithThunk(constant$1(base));\n\n    const mergeValues$1 = (values, base) => values.length > 0 ? SimpleResult.svalue(deepMerge(base, merge$1.apply(undefined, values))) : SimpleResult.svalue(base);\n    const mergeErrors$1 = errors => compose(SimpleResult.serror, flatten)(errors);\n    const consolidateObj = (objects, base) => {\n      const partition = SimpleResult.partition(objects);\n      return partition.errors.length > 0 ? mergeErrors$1(partition.errors) : mergeValues$1(partition.values, base);\n    };\n    const consolidateArr = objects => {\n      const partitions = SimpleResult.partition(objects);\n      return partitions.errors.length > 0 ? mergeErrors$1(partitions.errors) : SimpleResult.svalue(partitions.values);\n    };\n    const ResultCombine = {\n      consolidateObj,\n      consolidateArr\n    };\n\n    const formatObj = input => {\n      return isObject(input) && keys(input).length > 100 ? ' removed due to size' : JSON.stringify(input, null, 2);\n    };\n    const formatErrors = errors => {\n      const es = errors.length > 10 ? errors.slice(0, 10).concat([{\n          path: [],\n          getErrorInfo: constant$1('... (only showing first ten failures)')\n        }]) : errors;\n      return map$2(es, e => {\n        return 'Failed path: (' + e.path.join(' > ') + ')\\n' + e.getErrorInfo();\n      });\n    };\n\n    const nu$a = (path, getErrorInfo) => {\n      return SimpleResult.serror([{\n          path,\n          getErrorInfo\n        }]);\n    };\n    const missingRequired = (path, key, obj) => nu$a(path, () => 'Could not find valid *required* value for \"' + key + '\" in ' + formatObj(obj));\n    const missingKey = (path, key) => nu$a(path, () => 'Choice schema did not contain choice key: \"' + key + '\"');\n    const missingBranch = (path, branches, branch) => nu$a(path, () => 'The chosen schema: \"' + branch + '\" did not exist in branches: ' + formatObj(branches));\n    const unsupportedFields = (path, unsupported) => nu$a(path, () => 'There are unsupported fields: [' + unsupported.join(', ') + '] specified');\n    const custom = (path, err) => nu$a(path, constant$1(err));\n\n    const value$3 = validator => {\n      const extract = (path, val) => {\n        return SimpleResult.bindError(validator(val), err => custom(path, err));\n      };\n      const toString = constant$1('val');\n      return {\n        extract,\n        toString\n      };\n    };\n    const anyValue$1 = value$3(SimpleResult.svalue);\n\n    const requiredAccess = (path, obj, key, bundle) => get$g(obj, key).fold(() => missingRequired(path, key, obj), bundle);\n    const fallbackAccess = (obj, key, fallback, bundle) => {\n      const v = get$g(obj, key).getOrThunk(() => fallback(obj));\n      return bundle(v);\n    };\n    const optionAccess = (obj, key, bundle) => bundle(get$g(obj, key));\n    const optionDefaultedAccess = (obj, key, fallback, bundle) => {\n      const opt = get$g(obj, key).map(val => val === true ? fallback(obj) : val);\n      return bundle(opt);\n    };\n    const extractField = (field, path, obj, key, prop) => {\n      const bundle = av => prop.extract(path.concat([key]), av);\n      const bundleAsOption = optValue => optValue.fold(() => SimpleResult.svalue(Optional.none()), ov => {\n        const result = prop.extract(path.concat([key]), ov);\n        return SimpleResult.map(result, Optional.some);\n      });\n      switch (field.tag) {\n      case 'required':\n        return requiredAccess(path, obj, key, bundle);\n      case 'defaultedThunk':\n        return fallbackAccess(obj, key, field.process, bundle);\n      case 'option':\n        return optionAccess(obj, key, bundleAsOption);\n      case 'defaultedOptionThunk':\n        return optionDefaultedAccess(obj, key, field.process, bundleAsOption);\n      case 'mergeWithThunk': {\n          return fallbackAccess(obj, key, constant$1({}), v => {\n            const result = deepMerge(field.process(obj), v);\n            return bundle(result);\n          });\n        }\n      }\n    };\n    const extractFields = (path, obj, fields) => {\n      const success = {};\n      const errors = [];\n      for (const field of fields) {\n        fold(field, (key, newKey, presence, prop) => {\n          const result = extractField(presence, path, obj, key, prop);\n          SimpleResult.fold(result, err => {\n            errors.push(...err);\n          }, res => {\n            success[newKey] = res;\n          });\n        }, (newKey, instantiator) => {\n          success[newKey] = instantiator(obj);\n        });\n      }\n      return errors.length > 0 ? SimpleResult.serror(errors) : SimpleResult.svalue(success);\n    };\n    const valueThunk = getDelegate => {\n      const extract = (path, val) => getDelegate().extract(path, val);\n      const toString = () => getDelegate().toString();\n      return {\n        extract,\n        toString\n      };\n    };\n    const getSetKeys = obj => keys(filter$1(obj, isNonNullable));\n    const objOfOnly = fields => {\n      const delegate = objOf(fields);\n      const fieldNames = foldr(fields, (acc, value) => {\n        return fold(value, key => deepMerge(acc, { [key]: true }), constant$1(acc));\n      }, {});\n      const extract = (path, o) => {\n        const keys = isBoolean(o) ? [] : getSetKeys(o);\n        const extra = filter$2(keys, k => !hasNonNullableKey(fieldNames, k));\n        return extra.length === 0 ? delegate.extract(path, o) : unsupportedFields(path, extra);\n      };\n      return {\n        extract,\n        toString: delegate.toString\n      };\n    };\n    const objOf = values => {\n      const extract = (path, o) => extractFields(path, o, values);\n      const toString = () => {\n        const fieldStrings = map$2(values, value => fold(value, (key, _okey, _presence, prop) => key + ' -> ' + prop.toString(), (newKey, _instantiator) => 'state(' + newKey + ')'));\n        return 'obj{\\n' + fieldStrings.join('\\n') + '}';\n      };\n      return {\n        extract,\n        toString\n      };\n    };\n    const arrOf = prop => {\n      const extract = (path, array) => {\n        const results = map$2(array, (a, i) => prop.extract(path.concat(['[' + i + ']']), a));\n        return ResultCombine.consolidateArr(results);\n      };\n      const toString = () => 'array(' + prop.toString() + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const oneOf = (props, rawF) => {\n      const f = rawF !== undefined ? rawF : identity;\n      const extract = (path, val) => {\n        const errors = [];\n        for (const prop of props) {\n          const res = prop.extract(path, val);\n          if (res.stype === SimpleResultType.Value) {\n            return {\n              stype: SimpleResultType.Value,\n              svalue: f(res.svalue)\n            };\n          }\n          errors.push(res);\n        }\n        return ResultCombine.consolidateArr(errors);\n      };\n      const toString = () => 'oneOf(' + map$2(props, prop => prop.toString()).join(', ') + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const setOf$1 = (validator, prop) => {\n      const validateKeys = (path, keys) => arrOf(value$3(validator)).extract(path, keys);\n      const extract = (path, o) => {\n        const keys$1 = keys(o);\n        const validatedKeys = validateKeys(path, keys$1);\n        return SimpleResult.bind(validatedKeys, validKeys => {\n          const schema = map$2(validKeys, vk => {\n            return field$2(vk, vk, required$2(), prop);\n          });\n          return objOf(schema).extract(path, o);\n        });\n      };\n      const toString = () => 'setOf(' + prop.toString() + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const thunk = (_desc, processor) => {\n      const getP = cached(processor);\n      const extract = (path, val) => getP().extract(path, val);\n      const toString = () => getP().toString();\n      return {\n        extract,\n        toString\n      };\n    };\n    const arrOfObj = compose(arrOf, objOf);\n\n    const anyValue = constant$1(anyValue$1);\n    const typedValue = (validator, expectedType) => value$3(a => {\n      const actualType = typeof a;\n      return validator(a) ? SimpleResult.svalue(a) : SimpleResult.serror(`Expected type: ${ expectedType } but got: ${ actualType }`);\n    });\n    const number = typedValue(isNumber, 'number');\n    const string = typedValue(isString, 'string');\n    const boolean = typedValue(isBoolean, 'boolean');\n    const functionProcessor = typedValue(isFunction, 'function');\n    const isPostMessageable = val => {\n      if (Object(val) !== val) {\n        return true;\n      }\n      switch ({}.toString.call(val).slice(8, -1)) {\n      case 'Boolean':\n      case 'Number':\n      case 'String':\n      case 'Date':\n      case 'RegExp':\n      case 'Blob':\n      case 'FileList':\n      case 'ImageData':\n      case 'ImageBitmap':\n      case 'ArrayBuffer':\n        return true;\n      case 'Array':\n      case 'Object':\n        return Object.keys(val).every(prop => isPostMessageable(val[prop]));\n      default:\n        return false;\n      }\n    };\n    const postMessageable = value$3(a => {\n      if (isPostMessageable(a)) {\n        return SimpleResult.svalue(a);\n      } else {\n        return SimpleResult.serror('Expected value to be acceptable for sending via postMessage');\n      }\n    });\n\n    const chooseFrom = (path, input, branches, ch) => {\n      const fields = get$g(branches, ch);\n      return fields.fold(() => missingBranch(path, branches, ch), vp => vp.extract(path.concat(['branch: ' + ch]), input));\n    };\n    const choose$2 = (key, branches) => {\n      const extract = (path, input) => {\n        const choice = get$g(input, key);\n        return choice.fold(() => missingKey(path, key), chosen => chooseFrom(path, input, branches, chosen));\n      };\n      const toString = () => 'chooseOn(' + key + '). Possible values: ' + keys(branches);\n      return {\n        extract,\n        toString\n      };\n    };\n\n    const arrOfVal = () => arrOf(anyValue$1);\n    const valueOf = validator => value$3(v => validator(v).fold(SimpleResult.serror, SimpleResult.svalue));\n    const setOf = (validator, prop) => setOf$1(v => SimpleResult.fromResult(validator(v)), prop);\n    const extractValue = (label, prop, obj) => {\n      const res = prop.extract([label], obj);\n      return SimpleResult.mapError(res, errs => ({\n        input: obj,\n        errors: errs\n      }));\n    };\n    const asRaw = (label, prop, obj) => SimpleResult.toResult(extractValue(label, prop, obj));\n    const getOrDie = extraction => {\n      return extraction.fold(errInfo => {\n        throw new Error(formatError(errInfo));\n      }, identity);\n    };\n    const asRawOrDie$1 = (label, prop, obj) => getOrDie(asRaw(label, prop, obj));\n    const formatError = errInfo => {\n      return 'Errors: \\n' + formatErrors(errInfo.errors).join('\\n') + '\\n\\nInput object: ' + formatObj(errInfo.input);\n    };\n    const choose$1 = (key, branches) => choose$2(key, map$1(branches, objOf));\n    const thunkOf = (desc, schema) => thunk(desc, schema);\n\n    const field$1 = field$2;\n    const customField = customField$1;\n    const validateEnum = values => valueOf(value => contains$2(values, value) ? Result.value(value) : Result.error(`Unsupported value: \"${ value }\", choose one of \"${ values.join(', ') }\".`));\n    const required$1 = key => field$1(key, key, required$2(), anyValue());\n    const requiredOf = (key, schema) => field$1(key, key, required$2(), schema);\n    const requiredNumber = key => requiredOf(key, number);\n    const requiredString = key => requiredOf(key, string);\n    const requiredStringEnum = (key, values) => field$1(key, key, required$2(), validateEnum(values));\n    const requiredBoolean = key => requiredOf(key, boolean);\n    const requiredFunction = key => requiredOf(key, functionProcessor);\n    const forbid = (key, message) => field$1(key, key, asOption(), value$3(_v => SimpleResult.serror('The field: ' + key + ' is forbidden. ' + message)));\n    const requiredObjOf = (key, objSchema) => field$1(key, key, required$2(), objOf(objSchema));\n    const requiredArrayOfObj = (key, objFields) => field$1(key, key, required$2(), arrOfObj(objFields));\n    const requiredArrayOf = (key, schema) => field$1(key, key, required$2(), arrOf(schema));\n    const option$3 = key => field$1(key, key, asOption(), anyValue());\n    const optionOf = (key, schema) => field$1(key, key, asOption(), schema);\n    const optionNumber = key => optionOf(key, number);\n    const optionString = key => optionOf(key, string);\n    const optionStringEnum = (key, values) => optionOf(key, validateEnum(values));\n    const optionFunction = key => optionOf(key, functionProcessor);\n    const optionArrayOf = (key, schema) => optionOf(key, arrOf(schema));\n    const optionObjOf = (key, objSchema) => optionOf(key, objOf(objSchema));\n    const optionObjOfOnly = (key, objSchema) => optionOf(key, objOfOnly(objSchema));\n    const defaulted = (key, fallback) => field$1(key, key, defaulted$1(fallback), anyValue());\n    const defaultedOf = (key, fallback, schema) => field$1(key, key, defaulted$1(fallback), schema);\n    const defaultedNumber = (key, fallback) => defaultedOf(key, fallback, number);\n    const defaultedString = (key, fallback) => defaultedOf(key, fallback, string);\n    const defaultedStringEnum = (key, fallback, values) => defaultedOf(key, fallback, validateEnum(values));\n    const defaultedBoolean = (key, fallback) => defaultedOf(key, fallback, boolean);\n    const defaultedFunction = (key, fallback) => defaultedOf(key, fallback, functionProcessor);\n    const defaultedPostMsg = (key, fallback) => defaultedOf(key, fallback, postMessageable);\n    const defaultedArrayOf = (key, fallback, schema) => defaultedOf(key, fallback, arrOf(schema));\n    const defaultedObjOf = (key, fallback, objSchema) => defaultedOf(key, fallback, objOf(objSchema));\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const generate$7 = cases => {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each$1(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate: generate$7 };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    const partition$1 = results => {\n      const errors = [];\n      const values = [];\n      each$1(results, result => {\n        result.fold(err => {\n          errors.push(err);\n        }, value => {\n          values.push(value);\n        });\n      });\n      return {\n        errors,\n        values\n      };\n    };\n\n    const exclude$1 = (obj, fields) => {\n      const r = {};\n      each(obj, (v, k) => {\n        if (!contains$2(fields, k)) {\n          r[k] = v;\n        }\n      });\n      return r;\n    };\n\n    const wrap$2 = (key, value) => ({ [key]: value });\n    const wrapAll$1 = keyvalues => {\n      const r = {};\n      each$1(keyvalues, kv => {\n        r[kv.key] = kv.value;\n      });\n      return r;\n    };\n\n    const exclude = (obj, fields) => exclude$1(obj, fields);\n    const wrap$1 = (key, value) => wrap$2(key, value);\n    const wrapAll = keyvalues => wrapAll$1(keyvalues);\n    const mergeValues = (values, base) => {\n      return values.length === 0 ? Result.value(base) : Result.value(deepMerge(base, merge$1.apply(undefined, values)));\n    };\n    const mergeErrors = errors => Result.error(flatten(errors));\n    const consolidate = (objs, base) => {\n      const partitions = partition$1(objs);\n      return partitions.errors.length > 0 ? mergeErrors(partitions.errors) : mergeValues(partitions.values, base);\n    };\n\n    const ensureIsRoot = isRoot => isFunction(isRoot) ? isRoot : never;\n    const ancestor$2 = (scope, transform, isRoot) => {\n      let element = scope.dom;\n      const stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        const transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$4 = (scope, transform, isRoot) => {\n      const current = transform(scope);\n      const stop = ensureIsRoot(isRoot);\n      return current.orThunk(() => stop(scope) ? Optional.none() : ancestor$2(scope, transform, stop));\n    };\n\n    const isSource = (component, simulatedEvent) => eq(component.element, simulatedEvent.event.target);\n\n    const defaultEventHandler = {\n      can: always,\n      abort: never,\n      run: noop\n    };\n    const nu$9 = parts => {\n      if (!hasNonNullableKey(parts, 'can') && !hasNonNullableKey(parts, 'abort') && !hasNonNullableKey(parts, 'run')) {\n        throw new Error('EventHandler defined by: ' + JSON.stringify(parts, null, 2) + ' does not have can, abort, or run!');\n      }\n      return {\n        ...defaultEventHandler,\n        ...parts\n      };\n    };\n    const all$2 = (handlers, f) => (...args) => foldl(handlers, (acc, handler) => acc && f(handler).apply(undefined, args), true);\n    const any = (handlers, f) => (...args) => foldl(handlers, (acc, handler) => acc || f(handler).apply(undefined, args), false);\n    const read$2 = handler => isFunction(handler) ? {\n      can: always,\n      abort: never,\n      run: handler\n    } : handler;\n    const fuse$1 = handlers => {\n      const can = all$2(handlers, handler => handler.can);\n      const abort = any(handlers, handler => handler.abort);\n      const run = (...args) => {\n        each$1(handlers, handler => {\n          handler.run.apply(undefined, args);\n        });\n      };\n      return {\n        can,\n        abort,\n        run\n      };\n    };\n\n    const constant = constant$1;\n    const touchstart = constant('touchstart');\n    const touchmove = constant('touchmove');\n    const touchend = constant('touchend');\n    const touchcancel = constant('touchcancel');\n    const mousedown = constant('mousedown');\n    const mousemove = constant('mousemove');\n    const mouseout = constant('mouseout');\n    const mouseup = constant('mouseup');\n    const mouseover = constant('mouseover');\n    const focusin = constant('focusin');\n    const focusout = constant('focusout');\n    const keydown = constant('keydown');\n    const keyup = constant('keyup');\n    const input = constant('input');\n    const change = constant('change');\n    const click = constant('click');\n    const transitioncancel = constant('transitioncancel');\n    const transitionend = constant('transitionend');\n    const transitionstart = constant('transitionstart');\n    const selectstart = constant('selectstart');\n\n    const prefixName = name => constant$1('alloy.' + name);\n    const alloy = { tap: prefixName('tap') };\n    const focus$4 = prefixName('focus');\n    const postBlur = prefixName('blur.post');\n    const postPaste = prefixName('paste.post');\n    const receive = prefixName('receive');\n    const execute$5 = prefixName('execute');\n    const focusItem = prefixName('focus.item');\n    const tap = alloy.tap;\n    const longpress = prefixName('longpress');\n    const sandboxClose = prefixName('sandbox.close');\n    const typeaheadCancel = prefixName('typeahead.cancel');\n    const systemInit = prefixName('system.init');\n    const documentTouchmove = prefixName('system.touchmove');\n    const documentTouchend = prefixName('system.touchend');\n    const windowScroll = prefixName('system.scroll');\n    const windowResize = prefixName('system.resize');\n    const attachedToDom = prefixName('system.attached');\n    const detachedFromDom = prefixName('system.detached');\n    const dismissRequested = prefixName('system.dismissRequested');\n    const repositionRequested = prefixName('system.repositionRequested');\n    const focusShifted = prefixName('focusmanager.shifted');\n    const slotVisibility = prefixName('slotcontainer.visibility');\n    const externalElementScroll = prefixName('system.external.element.scroll');\n    const changeTab = prefixName('change.tab');\n    const dismissTab = prefixName('dismiss.tab');\n    const highlight$1 = prefixName('highlight');\n    const dehighlight$1 = prefixName('dehighlight');\n\n    const emit = (component, event) => {\n      dispatchWith(component, component.element, event, {});\n    };\n    const emitWith = (component, event, properties) => {\n      dispatchWith(component, component.element, event, properties);\n    };\n    const emitExecute = component => {\n      emit(component, execute$5());\n    };\n    const dispatch = (component, target, event) => {\n      dispatchWith(component, target, event, {});\n    };\n    const dispatchWith = (component, target, event, properties) => {\n      const data = {\n        target,\n        ...properties\n      };\n      component.getSystem().triggerEvent(event, target, data);\n    };\n    const retargetAndDispatchWith = (component, target, eventName, properties) => {\n      const data = {\n        ...properties,\n        target\n      };\n      component.getSystem().triggerEvent(eventName, target, data);\n    };\n    const dispatchEvent = (component, target, event, simulatedEvent) => {\n      component.getSystem().triggerEvent(event, target, simulatedEvent.event);\n    };\n\n    const derive$2 = configs => wrapAll(configs);\n    const abort = (name, predicate) => {\n      return {\n        key: name,\n        value: nu$9({ abort: predicate })\n      };\n    };\n    const can = (name, predicate) => {\n      return {\n        key: name,\n        value: nu$9({ can: predicate })\n      };\n    };\n    const preventDefault = name => {\n      return {\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            simulatedEvent.event.prevent();\n          }\n        })\n      };\n    };\n    const run$1 = (name, handler) => {\n      return {\n        key: name,\n        value: nu$9({ run: handler })\n      };\n    };\n    const runActionExtra = (name, action, extra) => {\n      return {\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            action.apply(undefined, [\n              component,\n              simulatedEvent\n            ].concat(extra));\n          }\n        })\n      };\n    };\n    const runOnName = name => {\n      return handler => run$1(name, handler);\n    };\n    const runOnSourceName = name => {\n      return handler => ({\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            if (isSource(component, simulatedEvent)) {\n              handler(component, simulatedEvent);\n            }\n          }\n        })\n      });\n    };\n    const redirectToUid = (name, uid) => {\n      return run$1(name, (component, simulatedEvent) => {\n        component.getSystem().getByUid(uid).each(redirectee => {\n          dispatchEvent(redirectee, redirectee.element, name, simulatedEvent);\n        });\n      });\n    };\n    const redirectToPart = (name, detail, partName) => {\n      const uid = detail.partUids[partName];\n      return redirectToUid(name, uid);\n    };\n    const runWithTarget = (name, f) => {\n      return run$1(name, (component, simulatedEvent) => {\n        const ev = simulatedEvent.event;\n        const target = component.getSystem().getByDom(ev.target).getOrThunk(() => {\n          const closest = closest$4(ev.target, el => component.getSystem().getByDom(el).toOptional(), never);\n          return closest.getOr(component);\n        });\n        f(component, target, simulatedEvent);\n      });\n    };\n    const cutter = name => {\n      return run$1(name, (component, simulatedEvent) => {\n        simulatedEvent.cut();\n      });\n    };\n    const stopper = name => {\n      return run$1(name, (component, simulatedEvent) => {\n        simulatedEvent.stop();\n      });\n    };\n    const runOnSource = (name, f) => {\n      return runOnSourceName(name)(f);\n    };\n    const runOnAttached = runOnSourceName(attachedToDom());\n    const runOnDetached = runOnSourceName(detachedFromDom());\n    const runOnInit = runOnSourceName(systemInit());\n    const runOnExecute$1 = runOnName(execute$5());\n\n    const fromHtml$1 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(SugarElement.fromDom(div));\n    };\n\n    const get$9 = element => element.dom.innerHTML;\n    const set$6 = (element, content) => {\n      const owner = owner$4(element);\n      const docDom = owner.dom;\n      const fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      const contentElements = fromHtml$1(content, docDom);\n      append$1(fragment, contentElements);\n      empty(element);\n      append$2(element, fragment);\n    };\n    const getOuter = element => {\n      const container = SugarElement.fromTag('div');\n      const clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$2(container, clone);\n      return get$9(container);\n    };\n\n    const clone$1 = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const shallow = original => clone$1(original, false);\n\n    const getHtml = element => {\n      if (isShadowRoot(element)) {\n        return '#shadow-root';\n      } else {\n        const clone = shallow(element);\n        return getOuter(clone);\n      }\n    };\n\n    const element = elem => getHtml(elem);\n\n    const isRecursive = (component, originator, target) => eq(originator, component.element) && !eq(originator, target);\n    const events$i = derive$2([can(focus$4(), (component, simulatedEvent) => {\n        const event = simulatedEvent.event;\n        const originator = event.originator;\n        const target = event.target;\n        if (isRecursive(component, originator, target)) {\n          console.warn(focus$4() + ' did not get interpreted by the desired target. ' + '\\nOriginator: ' + element(originator) + '\\nTarget: ' + element(target) + '\\nCheck the ' + focus$4() + ' event handlers');\n          return false;\n        } else {\n          return true;\n        }\n      })]);\n\n    var DefaultEvents = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$i\n    });\n\n    let unique = 0;\n    const generate$6 = prefix => {\n      const date = new Date();\n      const time = date.getTime();\n      const random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    const prefix$1 = constant$1('alloy-id-');\n    const idAttr$1 = constant$1('data-alloy-id');\n\n    const prefix = prefix$1();\n    const idAttr = idAttr$1();\n    const write = (label, elem) => {\n      const id = generate$6(prefix + label);\n      writeOnly(elem, id);\n      return id;\n    };\n    const writeOnly = (elem, uid) => {\n      Object.defineProperty(elem.dom, idAttr, {\n        value: uid,\n        writable: true\n      });\n    };\n    const read$1 = elem => {\n      const id = isElement$1(elem) ? elem.dom[idAttr] : null;\n      return Optional.from(id);\n    };\n    const generate$5 = prefix => generate$6(prefix);\n\n    const make$8 = identity;\n\n    const NoContextApi = getComp => {\n      const getMessage = event => `The component must be in a context to execute: ${ event }` + (getComp ? '\\n' + element(getComp().element) + ' is not in context.' : '');\n      const fail = event => () => {\n        throw new Error(getMessage(event));\n      };\n      const warn = event => () => {\n        console.warn(getMessage(event));\n      };\n      return {\n        debugInfo: constant$1('fake'),\n        triggerEvent: warn('triggerEvent'),\n        triggerFocus: warn('triggerFocus'),\n        triggerEscape: warn('triggerEscape'),\n        broadcast: warn('broadcast'),\n        broadcastOn: warn('broadcastOn'),\n        broadcastEvent: warn('broadcastEvent'),\n        build: fail('build'),\n        buildOrPatch: fail('buildOrPatch'),\n        addToWorld: fail('addToWorld'),\n        removeFromWorld: fail('removeFromWorld'),\n        addToGui: fail('addToGui'),\n        removeFromGui: fail('removeFromGui'),\n        getByUid: fail('getByUid'),\n        getByDom: fail('getByDom'),\n        isConnected: never\n      };\n    };\n    const singleton$1 = NoContextApi();\n\n    const markAsBehaviourApi = (f, apiName, apiFunction) => {\n      const delegate = apiFunction.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: apiName,\n        parameters: cleanParameters(parameters.slice(0, 1).concat(parameters.slice(3)))\n      });\n      return f;\n    };\n    const cleanParameters = parameters => map$2(parameters, p => endsWith(p, '/*') ? p.substring(0, p.length - '/*'.length) : p);\n    const markAsExtraApi = (f, extraName) => {\n      const delegate = f.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: extraName,\n        parameters: cleanParameters(parameters)\n      });\n      return f;\n    };\n    const markAsSketchApi = (f, apiFunction) => {\n      const delegate = apiFunction.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: 'OVERRIDE',\n        parameters: cleanParameters(parameters.slice(1))\n      });\n      return f;\n    };\n\n    const premadeTag = generate$6('alloy-premade');\n    const premade$1 = comp => {\n      Object.defineProperty(comp.element.dom, premadeTag, {\n        value: comp.uid,\n        writable: true\n      });\n      return wrap$1(premadeTag, comp);\n    };\n    const isPremade = element => has$2(element.dom, premadeTag);\n    const getPremade = spec => get$g(spec, premadeTag);\n    const makeApi = f => markAsSketchApi((component, ...rest) => f(component.getApis(), component, ...rest), f);\n\n    const NoState = { init: () => nu$8({ readState: constant$1('No State required') }) };\n    const nu$8 = spec => spec;\n\n    const generateFrom$1 = (spec, all) => {\n      const schema = map$2(all, a => optionObjOf(a.name(), [\n        required$1('config'),\n        defaulted('state', NoState)\n      ]));\n      const validated = asRaw('component.behaviours', objOf(schema), spec.behaviours).fold(errInfo => {\n        throw new Error(formatError(errInfo) + '\\nComplete spec:\\n' + JSON.stringify(spec, null, 2));\n      }, identity);\n      return {\n        list: all,\n        data: map$1(validated, optBlobThunk => {\n          const output = optBlobThunk.map(blob => ({\n            config: blob.config,\n            state: blob.state.init(blob.config)\n          }));\n          return constant$1(output);\n        })\n      };\n    };\n    const getBehaviours$3 = bData => bData.list;\n    const getData$2 = bData => bData.data;\n\n    const byInnerKey = (data, tuple) => {\n      const r = {};\n      each(data, (detail, key) => {\n        each(detail, (value, indexKey) => {\n          const chain = get$g(r, indexKey).getOr([]);\n          r[indexKey] = chain.concat([tuple(key, value)]);\n        });\n      });\n      return r;\n    };\n\n    const nu$7 = s => ({\n      classes: isUndefined(s.classes) ? [] : s.classes,\n      attributes: isUndefined(s.attributes) ? {} : s.attributes,\n      styles: isUndefined(s.styles) ? {} : s.styles\n    });\n    const merge = (defnA, mod) => ({\n      ...defnA,\n      attributes: {\n        ...defnA.attributes,\n        ...mod.attributes\n      },\n      styles: {\n        ...defnA.styles,\n        ...mod.styles\n      },\n      classes: defnA.classes.concat(mod.classes)\n    });\n\n    const combine$2 = (info, baseMod, behaviours, base) => {\n      const modsByBehaviour = { ...baseMod };\n      each$1(behaviours, behaviour => {\n        modsByBehaviour[behaviour.name()] = behaviour.exhibit(info, base);\n      });\n      const byAspect = byInnerKey(modsByBehaviour, (name, modification) => ({\n        name,\n        modification\n      }));\n      const combineObjects = objects => foldr(objects, (b, a) => ({\n        ...a.modification,\n        ...b\n      }), {});\n      const combinedClasses = foldr(byAspect.classes, (b, a) => a.modification.concat(b), []);\n      const combinedAttributes = combineObjects(byAspect.attributes);\n      const combinedStyles = combineObjects(byAspect.styles);\n      return nu$7({\n        classes: combinedClasses,\n        attributes: combinedAttributes,\n        styles: combinedStyles\n      });\n    };\n\n    const sortKeys = (label, keyName, array, order) => {\n      try {\n        const sorted = sort(array, (a, b) => {\n          const aKey = a[keyName];\n          const bKey = b[keyName];\n          const aIndex = order.indexOf(aKey);\n          const bIndex = order.indexOf(bKey);\n          if (aIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + aKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (bIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + bKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (aIndex < bIndex) {\n            return -1;\n          } else if (bIndex < aIndex) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n        return Result.value(sorted);\n      } catch (err) {\n        return Result.error([err]);\n      }\n    };\n\n    const uncurried = (handler, purpose) => ({\n      handler,\n      purpose\n    });\n    const curried = (handler, purpose) => ({\n      cHandler: handler,\n      purpose\n    });\n    const curryArgs = (descHandler, extraArgs) => curried(curry.apply(undefined, [descHandler.handler].concat(extraArgs)), descHandler.purpose);\n    const getCurried = descHandler => descHandler.cHandler;\n\n    const behaviourTuple = (name, handler) => ({\n      name,\n      handler\n    });\n    const nameToHandlers = (behaviours, info) => {\n      const r = {};\n      each$1(behaviours, behaviour => {\n        r[behaviour.name()] = behaviour.handlers(info);\n      });\n      return r;\n    };\n    const groupByEvents = (info, behaviours, base) => {\n      const behaviourEvents = {\n        ...base,\n        ...nameToHandlers(behaviours, info)\n      };\n      return byInnerKey(behaviourEvents, behaviourTuple);\n    };\n    const combine$1 = (info, eventOrder, behaviours, base) => {\n      const byEventName = groupByEvents(info, behaviours, base);\n      return combineGroups(byEventName, eventOrder);\n    };\n    const assemble = rawHandler => {\n      const handler = read$2(rawHandler);\n      return (component, simulatedEvent, ...rest) => {\n        const args = [\n          component,\n          simulatedEvent\n        ].concat(rest);\n        if (handler.abort.apply(undefined, args)) {\n          simulatedEvent.stop();\n        } else if (handler.can.apply(undefined, args)) {\n          handler.run.apply(undefined, args);\n        }\n      };\n    };\n    const missingOrderError = (eventName, tuples) => Result.error(['The event (' + eventName + ') has more than one behaviour that listens to it.\\nWhen this occurs, you must ' + 'specify an event ordering for the behaviours in your spec (e.g. [ \"listing\", \"toggling\" ]).\\nThe behaviours that ' + 'can trigger it are: ' + JSON.stringify(map$2(tuples, c => c.name), null, 2)]);\n    const fuse = (tuples, eventOrder, eventName) => {\n      const order = eventOrder[eventName];\n      if (!order) {\n        return missingOrderError(eventName, tuples);\n      } else {\n        return sortKeys('Event: ' + eventName, 'name', tuples, order).map(sortedTuples => {\n          const handlers = map$2(sortedTuples, tuple => tuple.handler);\n          return fuse$1(handlers);\n        });\n      }\n    };\n    const combineGroups = (byEventName, eventOrder) => {\n      const r = mapToArray(byEventName, (tuples, eventName) => {\n        const combined = tuples.length === 1 ? Result.value(tuples[0].handler) : fuse(tuples, eventOrder, eventName);\n        return combined.map(handler => {\n          const assembled = assemble(handler);\n          const purpose = tuples.length > 1 ? filter$2(eventOrder[eventName], o => exists(tuples, t => t.name === o)).join(' > ') : tuples[0].name;\n          return wrap$1(eventName, uncurried(assembled, purpose));\n        });\n      });\n      return consolidate(r, {});\n    };\n\n    const baseBehaviour = 'alloy.base.behaviour';\n    const schema$z = objOf([\n      field$1('dom', 'dom', required$2(), objOf([\n        required$1('tag'),\n        defaulted('styles', {}),\n        defaulted('classes', []),\n        defaulted('attributes', {}),\n        option$3('value'),\n        option$3('innerHtml')\n      ])),\n      required$1('components'),\n      required$1('uid'),\n      defaulted('events', {}),\n      defaulted('apis', {}),\n      field$1('eventOrder', 'eventOrder', mergeWith({\n        [execute$5()]: [\n          'disabling',\n          baseBehaviour,\n          'toggling',\n          'typeaheadevents'\n        ],\n        [focus$4()]: [\n          baseBehaviour,\n          'focusing',\n          'keying'\n        ],\n        [systemInit()]: [\n          baseBehaviour,\n          'disabling',\n          'toggling',\n          'representing'\n        ],\n        [input()]: [\n          baseBehaviour,\n          'representing',\n          'streaming',\n          'invalidating'\n        ],\n        [detachedFromDom()]: [\n          baseBehaviour,\n          'representing',\n          'item-events',\n          'tooltipping'\n        ],\n        [mousedown()]: [\n          'focusing',\n          baseBehaviour,\n          'item-type-events'\n        ],\n        [touchstart()]: [\n          'focusing',\n          baseBehaviour,\n          'item-type-events'\n        ],\n        [mouseover()]: [\n          'item-type-events',\n          'tooltipping'\n        ],\n        [receive()]: [\n          'receiving',\n          'reflecting',\n          'tooltipping'\n        ]\n      }), anyValue()),\n      option$3('domModification')\n    ]);\n    const toInfo = spec => asRaw('custom.definition', schema$z, spec);\n    const toDefinition = detail => ({\n      ...detail.dom,\n      uid: detail.uid,\n      domChildren: map$2(detail.components, comp => comp.element)\n    });\n    const toModification = detail => detail.domModification.fold(() => nu$7({}), nu$7);\n    const toEvents = info => info.events;\n\n    const read = (element, attr) => {\n      const value = get$f(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    const add$4 = (element, attr, id) => {\n      const old = read(element, attr);\n      const nu = old.concat([id]);\n      set$9(element, attr, nu.join(' '));\n      return true;\n    };\n    const remove$4 = (element, attr, id) => {\n      const nu = filter$2(read(element, attr), v => v !== id);\n      if (nu.length > 0) {\n        set$9(element, attr, nu.join(' '));\n      } else {\n        remove$7(element, attr);\n      }\n      return false;\n    };\n\n    const supports = element => element.dom.classList !== undefined;\n    const get$8 = element => read(element, 'class');\n    const add$3 = (element, clazz) => add$4(element, 'class', clazz);\n    const remove$3 = (element, clazz) => remove$4(element, 'class', clazz);\n\n    const add$2 = (element, clazz) => {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$3(element, clazz);\n      }\n    };\n    const cleanClass = element => {\n      const classList = supports(element) ? element.dom.classList : get$8(element);\n      if (classList.length === 0) {\n        remove$7(element, 'class');\n      }\n    };\n    const remove$2 = (element, clazz) => {\n      if (supports(element)) {\n        const classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    const has = (element, clazz) => supports(element) && element.dom.classList.contains(clazz);\n\n    const add$1 = (element, classes) => {\n      each$1(classes, x => {\n        add$2(element, x);\n      });\n    };\n    const remove$1 = (element, classes) => {\n      each$1(classes, x => {\n        remove$2(element, x);\n      });\n    };\n    const hasAll = (element, classes) => forall(classes, clazz => has(element, clazz));\n    const getNative = element => {\n      const classList = element.dom.classList;\n      const r = new Array(classList.length);\n      for (let i = 0; i < classList.length; i++) {\n        const item = classList.item(i);\n        if (item !== null) {\n          r[i] = item;\n        }\n      }\n      return r;\n    };\n    const get$7 = element => supports(element) ? getNative(element) : get$8(element);\n\n    const get$6 = element => element.dom.value;\n    const set$5 = (element, value) => {\n      if (value === undefined) {\n        throw new Error('Value.set was undefined');\n      }\n      element.dom.value = value;\n    };\n\n    const determineObsoleted = (parent, index, oldObsoleted) => {\n      const newObsoleted = child$2(parent, index);\n      return newObsoleted.map(newObs => {\n        const elemChanged = oldObsoleted.exists(o => !eq(o, newObs));\n        if (elemChanged) {\n          const oldTag = oldObsoleted.map(name$3).getOr('span');\n          const marker = SugarElement.fromTag(oldTag);\n          before$1(newObs, marker);\n          return marker;\n        } else {\n          return newObs;\n        }\n      });\n    };\n    const ensureInDom = (parent, child, obsoleted) => {\n      obsoleted.fold(() => append$2(parent, child), obs => {\n        if (!eq(obs, child)) {\n          before$1(obs, child);\n          remove$5(obs);\n        }\n      });\n    };\n    const patchChildrenWith = (parent, nu, f) => {\n      const builtChildren = map$2(nu, f);\n      const currentChildren = children(parent);\n      each$1(currentChildren.slice(builtChildren.length), remove$5);\n      return builtChildren;\n    };\n    const patchSpecChild = (parent, index, spec, build) => {\n      const oldObsoleted = child$2(parent, index);\n      const childComp = build(spec, oldObsoleted);\n      const obsoleted = determineObsoleted(parent, index, oldObsoleted);\n      ensureInDom(parent, childComp.element, obsoleted);\n      return childComp;\n    };\n    const patchSpecChildren = (parent, specs, build) => patchChildrenWith(parent, specs, (spec, index) => patchSpecChild(parent, index, spec, build));\n    const patchDomChildren = (parent, nodes) => patchChildrenWith(parent, nodes, (node, index) => {\n      const optObsoleted = child$2(parent, index);\n      ensureInDom(parent, node, optObsoleted);\n      return node;\n    });\n\n    const diffKeyValueSet = (newObj, oldObj) => {\n      const newKeys = keys(newObj);\n      const oldKeys = keys(oldObj);\n      const toRemove = difference(oldKeys, newKeys);\n      const toSet = bifilter(newObj, (v, k) => {\n        return !has$2(oldObj, k) || v !== oldObj[k];\n      }).t;\n      return {\n        toRemove,\n        toSet\n      };\n    };\n    const reconcileToDom = (definition, obsoleted) => {\n      const {\n        class: clazz,\n        style,\n        ...existingAttributes\n      } = clone$2(obsoleted);\n      const {\n        toSet: attrsToSet,\n        toRemove: attrsToRemove\n      } = diffKeyValueSet(definition.attributes, existingAttributes);\n      const updateAttrs = () => {\n        each$1(attrsToRemove, a => remove$7(obsoleted, a));\n        setAll$1(obsoleted, attrsToSet);\n      };\n      const existingStyles = getAllRaw(obsoleted);\n      const {\n        toSet: stylesToSet,\n        toRemove: stylesToRemove\n      } = diffKeyValueSet(definition.styles, existingStyles);\n      const updateStyles = () => {\n        each$1(stylesToRemove, s => remove$6(obsoleted, s));\n        setAll(obsoleted, stylesToSet);\n      };\n      const existingClasses = get$7(obsoleted);\n      const classesToRemove = difference(existingClasses, definition.classes);\n      const classesToAdd = difference(definition.classes, existingClasses);\n      const updateClasses = () => {\n        add$1(obsoleted, classesToAdd);\n        remove$1(obsoleted, classesToRemove);\n      };\n      const updateHtml = html => {\n        set$6(obsoleted, html);\n      };\n      const updateChildren = () => {\n        const children = definition.domChildren;\n        patchDomChildren(obsoleted, children);\n      };\n      const updateValue = () => {\n        const valueElement = obsoleted;\n        const value = definition.value.getOrUndefined();\n        if (value !== get$6(valueElement)) {\n          set$5(valueElement, value !== null && value !== void 0 ? value : '');\n        }\n      };\n      updateAttrs();\n      updateClasses();\n      updateStyles();\n      definition.innerHtml.fold(updateChildren, updateHtml);\n      updateValue();\n      return obsoleted;\n    };\n\n    const introduceToDom = definition => {\n      const subject = SugarElement.fromTag(definition.tag);\n      setAll$1(subject, definition.attributes);\n      add$1(subject, definition.classes);\n      setAll(subject, definition.styles);\n      definition.innerHtml.each(html => set$6(subject, html));\n      const children = definition.domChildren;\n      append$1(subject, children);\n      definition.value.each(value => {\n        set$5(subject, value);\n      });\n      return subject;\n    };\n    const attemptPatch = (definition, obsoleted) => {\n      try {\n        const e = reconcileToDom(definition, obsoleted);\n        return Optional.some(e);\n      } catch (err) {\n        return Optional.none();\n      }\n    };\n    const hasMixedChildren = definition => definition.innerHtml.isSome() && definition.domChildren.length > 0;\n    const renderToDom = (definition, optObsoleted) => {\n      const canBePatched = candidate => name$3(candidate) === definition.tag && !hasMixedChildren(definition) && !isPremade(candidate);\n      const elem = optObsoleted.filter(canBePatched).bind(obsoleted => attemptPatch(definition, obsoleted)).getOrThunk(() => introduceToDom(definition));\n      writeOnly(elem, definition.uid);\n      return elem;\n    };\n\n    const getBehaviours$2 = spec => {\n      const behaviours = get$g(spec, 'behaviours').getOr({});\n      return bind$3(keys(behaviours), name => {\n        const behaviour = behaviours[name];\n        return isNonNullable(behaviour) ? [behaviour.me] : [];\n      });\n    };\n    const generateFrom = (spec, all) => generateFrom$1(spec, all);\n    const generate$4 = spec => {\n      const all = getBehaviours$2(spec);\n      return generateFrom(spec, all);\n    };\n\n    const getDomDefinition = (info, bList, bData) => {\n      const definition = toDefinition(info);\n      const infoModification = toModification(info);\n      const baseModification = { 'alloy.base.modification': infoModification };\n      const modification = bList.length > 0 ? combine$2(bData, baseModification, bList, definition) : infoModification;\n      return merge(definition, modification);\n    };\n    const getEvents = (info, bList, bData) => {\n      const baseEvents = { 'alloy.base.behaviour': toEvents(info) };\n      return combine$1(bData, info.eventOrder, bList, baseEvents).getOrDie();\n    };\n    const build$2 = (spec, obsoleted) => {\n      const getMe = () => me;\n      const systemApi = Cell(singleton$1);\n      const info = getOrDie(toInfo(spec));\n      const bBlob = generate$4(spec);\n      const bList = getBehaviours$3(bBlob);\n      const bData = getData$2(bBlob);\n      const modDefinition = getDomDefinition(info, bList, bData);\n      const item = renderToDom(modDefinition, obsoleted);\n      const events = getEvents(info, bList, bData);\n      const subcomponents = Cell(info.components);\n      const connect = newApi => {\n        systemApi.set(newApi);\n      };\n      const disconnect = () => {\n        systemApi.set(NoContextApi(getMe));\n      };\n      const syncComponents = () => {\n        const children$1 = children(item);\n        const subs = bind$3(children$1, child => systemApi.get().getByDom(child).fold(() => [], pure$2));\n        subcomponents.set(subs);\n      };\n      const config = behaviour => {\n        const b = bData;\n        const f = isFunction(b[behaviour.name()]) ? b[behaviour.name()] : () => {\n          throw new Error('Could not find ' + behaviour.name() + ' in ' + JSON.stringify(spec, null, 2));\n        };\n        return f();\n      };\n      const hasConfigured = behaviour => isFunction(bData[behaviour.name()]);\n      const getApis = () => info.apis;\n      const readState = behaviourName => bData[behaviourName]().map(b => b.state.readState()).getOr('not enabled');\n      const me = {\n        uid: spec.uid,\n        getSystem: systemApi.get,\n        config,\n        hasConfigured,\n        spec,\n        readState,\n        getApis,\n        connect,\n        disconnect,\n        element: item,\n        syncComponents,\n        components: subcomponents.get,\n        events\n      };\n      return me;\n    };\n\n    const buildSubcomponents = (spec, obsoleted) => {\n      const components = get$g(spec, 'components').getOr([]);\n      return obsoleted.fold(() => map$2(components, build$1), obs => map$2(components, (c, i) => {\n        return buildOrPatch(c, child$2(obs, i));\n      }));\n    };\n    const buildFromSpec = (userSpec, obsoleted) => {\n      const {\n        events: specEvents,\n        ...spec\n      } = make$8(userSpec);\n      const components = buildSubcomponents(spec, obsoleted);\n      const completeSpec = {\n        ...spec,\n        events: {\n          ...DefaultEvents,\n          ...specEvents\n        },\n        components\n      };\n      return Result.value(build$2(completeSpec, obsoleted));\n    };\n    const text$2 = textContent => {\n      const element = SugarElement.fromText(textContent);\n      return external$1({ element });\n    };\n    const external$1 = spec => {\n      const extSpec = asRawOrDie$1('external.component', objOfOnly([\n        required$1('element'),\n        option$3('uid')\n      ]), spec);\n      const systemApi = Cell(NoContextApi());\n      const connect = newApi => {\n        systemApi.set(newApi);\n      };\n      const disconnect = () => {\n        systemApi.set(NoContextApi(() => me));\n      };\n      const uid = extSpec.uid.getOrThunk(() => generate$5('external'));\n      writeOnly(extSpec.element, uid);\n      const me = {\n        uid,\n        getSystem: systemApi.get,\n        config: Optional.none,\n        hasConfigured: never,\n        connect,\n        disconnect,\n        getApis: () => ({}),\n        element: extSpec.element,\n        spec,\n        readState: constant$1('No state'),\n        syncComponents: noop,\n        components: constant$1([]),\n        events: {}\n      };\n      return premade$1(me);\n    };\n    const uids = generate$5;\n    const isSketchSpec$1 = spec => has$2(spec, 'uid');\n    const buildOrPatch = (spec, obsoleted) => getPremade(spec).getOrThunk(() => {\n      const userSpecWithUid = isSketchSpec$1(spec) ? spec : {\n        uid: uids(''),\n        ...spec\n      };\n      return buildFromSpec(userSpecWithUid, obsoleted).getOrDie();\n    });\n    const build$1 = spec => buildOrPatch(spec, Optional.none());\n    const premade = premade$1;\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$1 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$3 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$1, scope, predicate, isRoot);\n    };\n    const child$1 = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find$5(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    const descendant$1 = (scope, predicate) => {\n      const descend = node => {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          const child = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    const closest$2 = (scope, predicate, isRoot) => closest$3(scope, predicate, isRoot).isSome();\n\n    const ancestor = (scope, selector, isRoot) => ancestor$1(scope, e => is(e, selector), isRoot);\n    const child = (scope, selector) => child$1(scope, e => is(e, selector));\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is$1 = (element, selector) => is(element, selector);\n      return ClosestOrAncestor(is$1, ancestor, scope, selector, isRoot);\n    };\n\n    const attribute = 'aria-controls';\n    const find$1 = queryElem => {\n      const dependent = closest$3(queryElem, elem => {\n        if (!isElement$1(elem)) {\n          return false;\n        }\n        const id = get$f(elem, 'id');\n        return id !== undefined && id.indexOf(attribute) > -1;\n      });\n      return dependent.bind(dep => {\n        const id = get$f(dep, 'id');\n        const dos = getRootNode(dep);\n        return descendant(dos, `[${ attribute }=\"${ id }\"]`);\n      });\n    };\n    const manager = () => {\n      const ariaId = generate$6(attribute);\n      const link = elem => {\n        set$9(elem, attribute, ariaId);\n      };\n      const unlink = elem => {\n        remove$7(elem, attribute);\n      };\n      return {\n        id: ariaId,\n        link,\n        unlink\n      };\n    };\n\n    const isAriaPartOf = (component, queryElem) => find$1(queryElem).exists(owner => isPartOf$1(component, owner));\n    const isPartOf$1 = (component, queryElem) => closest$2(queryElem, el => eq(el, component.element), never) || isAriaPartOf(component, queryElem);\n\n    const unknown = 'unknown';\n    var EventConfiguration;\n    (function (EventConfiguration) {\n      EventConfiguration[EventConfiguration['STOP'] = 0] = 'STOP';\n      EventConfiguration[EventConfiguration['NORMAL'] = 1] = 'NORMAL';\n      EventConfiguration[EventConfiguration['LOGGING'] = 2] = 'LOGGING';\n    }(EventConfiguration || (EventConfiguration = {})));\n    const eventConfig = Cell({});\n    const makeEventLogger = (eventName, initialTarget) => {\n      const sequence = [];\n      const startTime = new Date().getTime();\n      return {\n        logEventCut: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'cut',\n            target,\n            purpose\n          });\n        },\n        logEventStopped: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'stopped',\n            target,\n            purpose\n          });\n        },\n        logNoParent: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'no-parent',\n            target,\n            purpose\n          });\n        },\n        logEventNoHandlers: (_name, target) => {\n          sequence.push({\n            outcome: 'no-handlers-left',\n            target\n          });\n        },\n        logEventResponse: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'response',\n            purpose,\n            target\n          });\n        },\n        write: () => {\n          const finishTime = new Date().getTime();\n          if (contains$2([\n              'mousemove',\n              'mouseover',\n              'mouseout',\n              systemInit()\n            ], eventName)) {\n            return;\n          }\n          console.log(eventName, {\n            event: eventName,\n            time: finishTime - startTime,\n            target: initialTarget.dom,\n            sequence: map$2(sequence, s => {\n              if (!contains$2([\n                  'cut',\n                  'stopped',\n                  'response'\n                ], s.outcome)) {\n                return s.outcome;\n              } else {\n                return '{' + s.purpose + '} ' + s.outcome + ' at (' + element(s.target) + ')';\n              }\n            })\n          });\n        }\n      };\n    };\n    const processEvent = (eventName, initialTarget, f) => {\n      const status = get$g(eventConfig.get(), eventName).orThunk(() => {\n        const patterns = keys(eventConfig.get());\n        return findMap(patterns, p => eventName.indexOf(p) > -1 ? Optional.some(eventConfig.get()[p]) : Optional.none());\n      }).getOr(EventConfiguration.NORMAL);\n      switch (status) {\n      case EventConfiguration.NORMAL:\n        return f(noLogger());\n      case EventConfiguration.LOGGING: {\n          const logger = makeEventLogger(eventName, initialTarget);\n          const output = f(logger);\n          logger.write();\n          return output;\n        }\n      case EventConfiguration.STOP:\n        return true;\n      }\n    };\n    const path = [\n      'alloy/data/Fields',\n      'alloy/debugging/Debugging'\n    ];\n    const getTrace = () => {\n      const err = new Error();\n      if (err.stack !== undefined) {\n        const lines = err.stack.split('\\n');\n        return find$5(lines, line => line.indexOf('alloy') > 0 && !exists(path, p => line.indexOf(p) > -1)).getOr(unknown);\n      } else {\n        return unknown;\n      }\n    };\n    const ignoreEvent = {\n      logEventCut: noop,\n      logEventStopped: noop,\n      logNoParent: noop,\n      logEventNoHandlers: noop,\n      logEventResponse: noop,\n      write: noop\n    };\n    const monitorEvent = (eventName, initialTarget, f) => processEvent(eventName, initialTarget, f);\n    const noLogger = constant$1(ignoreEvent);\n\n    const menuFields = constant$1([\n      required$1('menu'),\n      required$1('selectedMenu')\n    ]);\n    const itemFields = constant$1([\n      required$1('item'),\n      required$1('selectedItem')\n    ]);\n    constant$1(objOf(itemFields().concat(menuFields())));\n    const itemSchema$3 = constant$1(objOf(itemFields()));\n\n    const _initSize = requiredObjOf('initSize', [\n      required$1('numColumns'),\n      required$1('numRows')\n    ]);\n    const itemMarkers = () => requiredOf('markers', itemSchema$3());\n    const tieredMenuMarkers = () => requiredObjOf('markers', [required$1('backgroundMenu')].concat(menuFields()).concat(itemFields()));\n    const markers$1 = required => requiredObjOf('markers', map$2(required, required$1));\n    const onPresenceHandler = (label, fieldName, presence) => {\n      getTrace();\n      return field$1(fieldName, fieldName, presence, valueOf(f => Result.value((...args) => {\n        return f.apply(undefined, args);\n      })));\n    };\n    const onHandler = fieldName => onPresenceHandler('onHandler', fieldName, defaulted$1(noop));\n    const onKeyboardHandler = fieldName => onPresenceHandler('onKeyboardHandler', fieldName, defaulted$1(Optional.none));\n    const onStrictHandler = fieldName => onPresenceHandler('onHandler', fieldName, required$2());\n    const onStrictKeyboardHandler = fieldName => onPresenceHandler('onKeyboardHandler', fieldName, required$2());\n    const output$1 = (name, value) => customField(name, constant$1(value));\n    const snapshot = name => customField(name, identity);\n    const initSize = constant$1(_initSize);\n\n    const nu$6 = (x, y, bubble, direction, placement, boundsRestriction, labelPrefix, alwaysFit = false) => ({\n      x,\n      y,\n      bubble,\n      direction,\n      placement,\n      restriction: boundsRestriction,\n      label: `${ labelPrefix }-${ placement }`,\n      alwaysFit\n    });\n\n    const adt$a = Adt.generate([\n      { southeast: [] },\n      { southwest: [] },\n      { northeast: [] },\n      { northwest: [] },\n      { south: [] },\n      { north: [] },\n      { east: [] },\n      { west: [] }\n    ]);\n    const cata$2 = (subject, southeast, southwest, northeast, northwest, south, north, east, west) => subject.fold(southeast, southwest, northeast, northwest, south, north, east, west);\n    const cataVertical = (subject, south, middle, north) => subject.fold(south, south, north, north, south, north, middle, middle);\n    const cataHorizontal = (subject, east, middle, west) => subject.fold(east, west, east, west, middle, middle, east, west);\n    const southeast$3 = adt$a.southeast;\n    const southwest$3 = adt$a.southwest;\n    const northeast$3 = adt$a.northeast;\n    const northwest$3 = adt$a.northwest;\n    const south$3 = adt$a.south;\n    const north$3 = adt$a.north;\n    const east$3 = adt$a.east;\n    const west$3 = adt$a.west;\n\n    const cycleBy = (value, delta, min, max) => {\n      const r = value + delta;\n      if (r > max) {\n        return min;\n      } else if (r < min) {\n        return max;\n      } else {\n        return r;\n      }\n    };\n    const clamp = (value, min, max) => Math.min(Math.max(value, min), max);\n\n    const getRestriction = (anchor, restriction) => {\n      switch (restriction) {\n      case 1:\n        return anchor.x;\n      case 0:\n        return anchor.x + anchor.width;\n      case 2:\n        return anchor.y;\n      case 3:\n        return anchor.y + anchor.height;\n      }\n    };\n    const boundsRestriction = (anchor, restrictions) => mapToObject([\n      'left',\n      'right',\n      'top',\n      'bottom'\n    ], dir => get$g(restrictions, dir).map(restriction => getRestriction(anchor, restriction)));\n    const adjustBounds = (bounds$1, restriction, bubbleOffset) => {\n      const applyRestriction = (dir, current) => restriction[dir].map(pos => {\n        const isVerticalAxis = dir === 'top' || dir === 'bottom';\n        const offset = isVerticalAxis ? bubbleOffset.top : bubbleOffset.left;\n        const comparator = dir === 'left' || dir === 'top' ? Math.max : Math.min;\n        const newPos = comparator(pos, current) + offset;\n        return isVerticalAxis ? clamp(newPos, bounds$1.y, bounds$1.bottom) : clamp(newPos, bounds$1.x, bounds$1.right);\n      }).getOr(current);\n      const adjustedLeft = applyRestriction('left', bounds$1.x);\n      const adjustedTop = applyRestriction('top', bounds$1.y);\n      const adjustedRight = applyRestriction('right', bounds$1.right);\n      const adjustedBottom = applyRestriction('bottom', bounds$1.bottom);\n      return bounds(adjustedLeft, adjustedTop, adjustedRight - adjustedLeft, adjustedBottom - adjustedTop);\n    };\n\n    const labelPrefix$2 = 'layout';\n    const eastX$1 = anchor => anchor.x;\n    const middleX$1 = (anchor, element) => anchor.x + anchor.width / 2 - element.width / 2;\n    const westX$1 = (anchor, element) => anchor.x + anchor.width - element.width;\n    const northY$2 = (anchor, element) => anchor.y - element.height;\n    const southY$2 = anchor => anchor.y + anchor.height;\n    const centreY$1 = (anchor, element) => anchor.y + anchor.height / 2 - element.height / 2;\n    const eastEdgeX$1 = anchor => anchor.x + anchor.width;\n    const westEdgeX$1 = (anchor, element) => anchor.x - element.width;\n    const southeast$2 = (anchor, element, bubbles) => nu$6(eastX$1(anchor), southY$2(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 1,\n      top: 3\n    }), labelPrefix$2);\n    const southwest$2 = (anchor, element, bubbles) => nu$6(westX$1(anchor, element), southY$2(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 0,\n      top: 3\n    }), labelPrefix$2);\n    const northeast$2 = (anchor, element, bubbles) => nu$6(eastX$1(anchor), northY$2(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 1,\n      bottom: 2\n    }), labelPrefix$2);\n    const northwest$2 = (anchor, element, bubbles) => nu$6(westX$1(anchor, element), northY$2(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 0,\n      bottom: 2\n    }), labelPrefix$2);\n    const north$2 = (anchor, element, bubbles) => nu$6(middleX$1(anchor, element), northY$2(anchor, element), bubbles.north(), north$3(), 'north', boundsRestriction(anchor, { bottom: 2 }), labelPrefix$2);\n    const south$2 = (anchor, element, bubbles) => nu$6(middleX$1(anchor, element), southY$2(anchor), bubbles.south(), south$3(), 'south', boundsRestriction(anchor, { top: 3 }), labelPrefix$2);\n    const east$2 = (anchor, element, bubbles) => nu$6(eastEdgeX$1(anchor), centreY$1(anchor, element), bubbles.east(), east$3(), 'east', boundsRestriction(anchor, { left: 0 }), labelPrefix$2);\n    const west$2 = (anchor, element, bubbles) => nu$6(westEdgeX$1(anchor, element), centreY$1(anchor, element), bubbles.west(), west$3(), 'west', boundsRestriction(anchor, { right: 1 }), labelPrefix$2);\n    const all$1 = () => [\n      southeast$2,\n      southwest$2,\n      northeast$2,\n      northwest$2,\n      south$2,\n      north$2,\n      east$2,\n      west$2\n    ];\n    const allRtl$1 = () => [\n      southwest$2,\n      southeast$2,\n      northwest$2,\n      northeast$2,\n      south$2,\n      north$2,\n      east$2,\n      west$2\n    ];\n    const aboveOrBelow = () => [\n      northeast$2,\n      northwest$2,\n      southeast$2,\n      southwest$2,\n      north$2,\n      south$2\n    ];\n    const aboveOrBelowRtl = () => [\n      northwest$2,\n      northeast$2,\n      southwest$2,\n      southeast$2,\n      north$2,\n      south$2\n    ];\n    const belowOrAbove = () => [\n      southeast$2,\n      southwest$2,\n      northeast$2,\n      northwest$2,\n      south$2,\n      north$2\n    ];\n    const belowOrAboveRtl = () => [\n      southwest$2,\n      southeast$2,\n      northwest$2,\n      northeast$2,\n      south$2,\n      north$2\n    ];\n\n    const chooseChannels = (channels, message) => message.universal ? channels : filter$2(channels, ch => contains$2(message.channels, ch));\n    const events$h = receiveConfig => derive$2([run$1(receive(), (component, message) => {\n        const channelMap = receiveConfig.channels;\n        const channels = keys(channelMap);\n        const receivingData = message;\n        const targetChannels = chooseChannels(channels, receivingData);\n        each$1(targetChannels, ch => {\n          const channelInfo = channelMap[ch];\n          const channelSchema = channelInfo.schema;\n          const data = asRawOrDie$1('channel[' + ch + '] data\\nReceiver: ' + element(component.element), channelSchema, receivingData.data);\n          channelInfo.onReceive(component, data);\n        });\n      })]);\n\n    var ActiveReceiving = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$h\n    });\n\n    var ReceivingSchema = [requiredOf('channels', setOf(Result.value, objOfOnly([\n        onStrictHandler('onReceive'),\n        defaulted('schema', anyValue())\n      ])))];\n\n    const executeEvent = (bConfig, bState, executor) => runOnExecute$1(component => {\n      executor(component, bConfig, bState);\n    });\n    const loadEvent = (bConfig, bState, f) => runOnInit((component, _simulatedEvent) => {\n      f(component, bConfig, bState);\n    });\n    const create$5 = (schema, name, active, apis, extra, state) => {\n      const configSchema = objOfOnly(schema);\n      const schemaSchema = optionObjOf(name, [optionObjOfOnly('config', schema)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    const createModes$1 = (modes, name, active, apis, extra, state) => {\n      const configSchema = modes;\n      const schemaSchema = optionObjOf(name, [optionOf('config', modes)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    const wrapApi = (bName, apiFunction, apiName) => {\n      const f = (component, ...rest) => {\n        const args = [component].concat(rest);\n        return component.config({ name: constant$1(bName) }).fold(() => {\n          throw new Error('We could not find any behaviour configuration for: ' + bName + '. Using API: ' + apiName);\n        }, info => {\n          const rest = Array.prototype.slice.call(args, 1);\n          return apiFunction.apply(undefined, [\n            component,\n            info.config,\n            info.state\n          ].concat(rest));\n        });\n      };\n      return markAsBehaviourApi(f, apiName, apiFunction);\n    };\n    const revokeBehaviour = name => ({\n      key: name,\n      value: undefined\n    });\n    const doCreate = (configSchema, schemaSchema, name, active, apis, extra, state) => {\n      const getConfig = info => hasNonNullableKey(info, name) ? info[name]() : Optional.none();\n      const wrappedApis = map$1(apis, (apiF, apiName) => wrapApi(name, apiF, apiName));\n      const wrappedExtra = map$1(extra, (extraF, extraName) => markAsExtraApi(extraF, extraName));\n      const me = {\n        ...wrappedExtra,\n        ...wrappedApis,\n        revoke: curry(revokeBehaviour, name),\n        config: spec => {\n          const prepared = asRawOrDie$1(name + '-config', configSchema, spec);\n          return {\n            key: name,\n            value: {\n              config: prepared,\n              me,\n              configAsRaw: cached(() => asRawOrDie$1(name + '-config', configSchema, spec)),\n              initialConfig: spec,\n              state\n            }\n          };\n        },\n        schema: constant$1(schemaSchema),\n        exhibit: (info, base) => {\n          return lift2(getConfig(info), get$g(active, 'exhibit'), (behaviourInfo, exhibitor) => {\n            return exhibitor(base, behaviourInfo.config, behaviourInfo.state);\n          }).getOrThunk(() => nu$7({}));\n        },\n        name: constant$1(name),\n        handlers: info => {\n          return getConfig(info).map(behaviourInfo => {\n            const getEvents = get$g(active, 'events').getOr(() => ({}));\n            return getEvents(behaviourInfo.config, behaviourInfo.state);\n          }).getOr({});\n        }\n      };\n      return me;\n    };\n\n    const derive$1 = capabilities => wrapAll(capabilities);\n    const simpleSchema = objOfOnly([\n      required$1('fields'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    const create$4 = data => {\n      const value = asRawOrDie$1('Creating behaviour: ' + data.name, simpleSchema, data);\n      return create$5(value.fields, value.name, value.active, value.apis, value.extra, value.state);\n    };\n    const modeSchema = objOfOnly([\n      required$1('branchKey'),\n      required$1('branches'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    const createModes = data => {\n      const value = asRawOrDie$1('Creating behaviour: ' + data.name, modeSchema, data);\n      return createModes$1(choose$1(value.branchKey, value.branches), value.name, value.active, value.apis, value.extra, value.state);\n    };\n    const revoke = constant$1(undefined);\n\n    const Receiving = create$4({\n      fields: ReceivingSchema,\n      name: 'receiving',\n      active: ActiveReceiving\n    });\n\n    const exhibit$6 = (base, posConfig) => nu$7({\n      classes: [],\n      styles: posConfig.useFixed() ? {} : { position: 'relative' }\n    });\n\n    var ActivePosition = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$6\n    });\n\n    const focus$3 = element => element.dom.focus();\n    const blur$1 = element => element.dom.blur();\n    const hasFocus = element => {\n      const root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    const active$1 = (root = getDocument()) => Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    const search = element => active$1(getRootNode(element)).filter(e => element.dom.contains(e.dom));\n\n    const preserve$1 = (f, container) => {\n      const dos = getRootNode(container);\n      const refocus = active$1(dos).bind(focused => {\n        const hasFocus = elem => eq(focused, elem);\n        return hasFocus(container) ? Optional.some(container) : descendant$1(container, hasFocus);\n      });\n      const result = f(container);\n      refocus.each(oldFocus => {\n        active$1(dos).filter(newFocus => eq(newFocus, oldFocus)).fold(() => {\n          focus$3(oldFocus);\n        }, noop);\n      });\n      return result;\n    };\n\n    const NuPositionCss = (position, left, top, right, bottom) => {\n      const toPx = num => num + 'px';\n      return {\n        position,\n        left: left.map(toPx),\n        top: top.map(toPx),\n        right: right.map(toPx),\n        bottom: bottom.map(toPx)\n      };\n    };\n    const toOptions = position => ({\n      ...position,\n      position: Optional.some(position.position)\n    });\n    const applyPositionCss = (element, position) => {\n      setOptions(element, toOptions(position));\n    };\n\n    const adt$9 = Adt.generate([\n      { none: [] },\n      {\n        relative: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      }\n    ]);\n    const positionWithDirection = (posName, decision, x, y, width, height) => {\n      const decisionRect = decision.rect;\n      const decisionX = decisionRect.x - x;\n      const decisionY = decisionRect.y - y;\n      const decisionWidth = decisionRect.width;\n      const decisionHeight = decisionRect.height;\n      const decisionRight = width - (decisionX + decisionWidth);\n      const decisionBottom = height - (decisionY + decisionHeight);\n      const left = Optional.some(decisionX);\n      const top = Optional.some(decisionY);\n      const right = Optional.some(decisionRight);\n      const bottom = Optional.some(decisionBottom);\n      const none = Optional.none();\n      return cata$2(decision.direction, () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, none, top, right, none), () => NuPositionCss(posName, left, none, none, bottom), () => NuPositionCss(posName, none, none, right, bottom), () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, left, none, none, bottom), () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, none, top, right, none));\n    };\n    const reposition = (origin, decision) => origin.fold(() => {\n      const decisionRect = decision.rect;\n      return NuPositionCss('absolute', Optional.some(decisionRect.x), Optional.some(decisionRect.y), Optional.none(), Optional.none());\n    }, (x, y, width, height) => {\n      return positionWithDirection('absolute', decision, x, y, width, height);\n    }, (x, y, width, height) => {\n      return positionWithDirection('fixed', decision, x, y, width, height);\n    });\n    const toBox = (origin, element) => {\n      const rel = curry(find$2, element);\n      const position = origin.fold(rel, rel, () => {\n        const scroll = get$b();\n        return find$2(element).translate(-scroll.left, -scroll.top);\n      });\n      const width = getOuter$1(element);\n      const height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    const viewport = (origin, optBounds) => optBounds.fold(() => origin.fold(win, win, bounds), bounds$1 => origin.fold(constant$1(bounds$1), constant$1(bounds$1), () => {\n      const pos = translate$2(origin, bounds$1.x, bounds$1.y);\n      return bounds(pos.left, pos.top, bounds$1.width, bounds$1.height);\n    }));\n    const translate$2 = (origin, x, y) => {\n      const pos = SugarPosition(x, y);\n      const removeScroll = () => {\n        const outerScroll = get$b();\n        return pos.translate(-outerScroll.left, -outerScroll.top);\n      };\n      return origin.fold(constant$1(pos), constant$1(pos), removeScroll);\n    };\n    const cata$1 = (subject, onNone, onRelative, onFixed) => subject.fold(onNone, onRelative, onFixed);\n    adt$9.none;\n    const relative$1 = adt$9.relative;\n    const fixed$1 = adt$9.fixed;\n\n    const anchor = (anchorBox, origin) => ({\n      anchorBox,\n      origin\n    });\n    const box = (anchorBox, origin) => anchor(anchorBox, origin);\n\n    const placementAttribute = 'data-alloy-placement';\n    const setPlacement$1 = (element, placement) => {\n      set$9(element, placementAttribute, placement);\n    };\n    const getPlacement = element => getOpt(element, placementAttribute);\n    const reset$2 = element => remove$7(element, placementAttribute);\n\n    const adt$8 = Adt.generate([\n      { fit: ['reposition'] },\n      {\n        nofit: [\n          'reposition',\n          'visibleW',\n          'visibleH',\n          'isVisible'\n        ]\n      }\n    ]);\n    const determinePosition = (box, bounds) => {\n      const {\n        x: boundsX,\n        y: boundsY,\n        right: boundsRight,\n        bottom: boundsBottom\n      } = bounds;\n      const {x, y, right, bottom, width, height} = box;\n      const xInBounds = x >= boundsX && x <= boundsRight;\n      const yInBounds = y >= boundsY && y <= boundsBottom;\n      const originInBounds = xInBounds && yInBounds;\n      const rightInBounds = right <= boundsRight && right >= boundsX;\n      const bottomInBounds = bottom <= boundsBottom && bottom >= boundsY;\n      const sizeInBounds = rightInBounds && bottomInBounds;\n      const visibleW = Math.min(width, x >= boundsX ? boundsRight - x : right - boundsX);\n      const visibleH = Math.min(height, y >= boundsY ? boundsBottom - y : bottom - boundsY);\n      return {\n        originInBounds,\n        sizeInBounds,\n        visibleW,\n        visibleH\n      };\n    };\n    const calcReposition = (box, bounds$1) => {\n      const {\n        x: boundsX,\n        y: boundsY,\n        right: boundsRight,\n        bottom: boundsBottom\n      } = bounds$1;\n      const {x, y, width, height} = box;\n      const maxX = Math.max(boundsX, boundsRight - width);\n      const maxY = Math.max(boundsY, boundsBottom - height);\n      const restrictedX = clamp(x, boundsX, maxX);\n      const restrictedY = clamp(y, boundsY, maxY);\n      const restrictedWidth = Math.min(restrictedX + width, boundsRight) - restrictedX;\n      const restrictedHeight = Math.min(restrictedY + height, boundsBottom) - restrictedY;\n      return bounds(restrictedX, restrictedY, restrictedWidth, restrictedHeight);\n    };\n    const calcMaxSizes = (direction, box, bounds) => {\n      const upAvailable = constant$1(box.bottom - bounds.y);\n      const downAvailable = constant$1(bounds.bottom - box.y);\n      const maxHeight = cataVertical(direction, downAvailable, downAvailable, upAvailable);\n      const westAvailable = constant$1(box.right - bounds.x);\n      const eastAvailable = constant$1(bounds.right - box.x);\n      const maxWidth = cataHorizontal(direction, eastAvailable, eastAvailable, westAvailable);\n      return {\n        maxWidth,\n        maxHeight\n      };\n    };\n    const attempt = (candidate, width, height, bounds$1) => {\n      const bubble = candidate.bubble;\n      const bubbleOffset = bubble.offset;\n      const adjustedBounds = adjustBounds(bounds$1, candidate.restriction, bubbleOffset);\n      const newX = candidate.x + bubbleOffset.left;\n      const newY = candidate.y + bubbleOffset.top;\n      const box = bounds(newX, newY, width, height);\n      const {originInBounds, sizeInBounds, visibleW, visibleH} = determinePosition(box, adjustedBounds);\n      const fits = originInBounds && sizeInBounds;\n      const fittedBox = fits ? box : calcReposition(box, adjustedBounds);\n      const isPartlyVisible = fittedBox.width > 0 && fittedBox.height > 0;\n      const {maxWidth, maxHeight} = calcMaxSizes(candidate.direction, fittedBox, bounds$1);\n      const reposition = {\n        rect: fittedBox,\n        maxHeight,\n        maxWidth,\n        direction: candidate.direction,\n        placement: candidate.placement,\n        classes: {\n          on: bubble.classesOn,\n          off: bubble.classesOff\n        },\n        layout: candidate.label,\n        testY: newY\n      };\n      return fits || candidate.alwaysFit ? adt$8.fit(reposition) : adt$8.nofit(reposition, visibleW, visibleH, isPartlyVisible);\n    };\n    const attempts = (element, candidates, anchorBox, elementBox, bubbles, bounds) => {\n      const panelWidth = elementBox.width;\n      const panelHeight = elementBox.height;\n      const attemptBestFit = (layout, reposition, visibleW, visibleH, isVisible) => {\n        const next = layout(anchorBox, elementBox, bubbles, element, bounds);\n        const attemptLayout = attempt(next, panelWidth, panelHeight, bounds);\n        return attemptLayout.fold(constant$1(attemptLayout), (newReposition, newVisibleW, newVisibleH, newIsVisible) => {\n          const improved = isVisible === newIsVisible ? newVisibleH > visibleH || newVisibleW > visibleW : !isVisible && newIsVisible;\n          return improved ? attemptLayout : adt$8.nofit(reposition, visibleW, visibleH, isVisible);\n        });\n      };\n      const abc = foldl(candidates, (b, a) => {\n        const bestNext = curry(attemptBestFit, a);\n        return b.fold(constant$1(b), bestNext);\n      }, adt$8.nofit({\n        rect: anchorBox,\n        maxHeight: elementBox.height,\n        maxWidth: elementBox.width,\n        direction: southeast$3(),\n        placement: 'southeast',\n        classes: {\n          on: [],\n          off: []\n        },\n        layout: 'none',\n        testY: anchorBox.y\n      }, -1, -1, false));\n      return abc.fold(identity, identity);\n    };\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const destroyable = () => singleton(s => s.destroy());\n    const unbindable = () => singleton(s => s.unbind());\n    const value$2 = () => {\n      const subject = singleton(noop);\n      const on = f => subject.get().each(f);\n      return {\n        ...subject,\n        on\n      };\n    };\n\n    const filter = always;\n    const bind = (element, event, handler) => bind$2(element, event, filter, handler);\n    const capture = (element, event, handler) => capture$1(element, event, filter, handler);\n    const fromRawEvent = fromRawEvent$1;\n\n    const properties = [\n      'top',\n      'bottom',\n      'right',\n      'left'\n    ];\n    const timerAttr = 'data-alloy-transition-timer';\n    const isTransitioning$1 = (element, transition) => hasAll(element, transition.classes);\n    const shouldApplyTransitionCss = (transition, decision, lastPlacement) => {\n      return lastPlacement.exists(placer => {\n        const mode = transition.mode;\n        return mode === 'all' ? true : placer[mode] !== decision[mode];\n      });\n    };\n    const hasChanges = (position, intermediate) => {\n      const round = value => parseFloat(value).toFixed(3);\n      return find$4(intermediate, (value, key) => {\n        const newValue = position[key].map(round);\n        const val = value.map(round);\n        return !equals(newValue, val);\n      }).isSome();\n    };\n    const getTransitionDuration = element => {\n      const get = name => {\n        const style = get$e(element, name);\n        const times = style.split(/\\s*,\\s*/);\n        return filter$2(times, isNotEmpty);\n      };\n      const parse = value => {\n        if (isString(value) && /^[\\d.]+/.test(value)) {\n          const num = parseFloat(value);\n          return endsWith(value, 'ms') ? num : num * 1000;\n        } else {\n          return 0;\n        }\n      };\n      const delay = get('transition-delay');\n      const duration = get('transition-duration');\n      return foldl(duration, (acc, dur, i) => {\n        const time = parse(delay[i]) + parse(dur);\n        return Math.max(acc, time);\n      }, 0);\n    };\n    const setupTransitionListeners = (element, transition) => {\n      const transitionEnd = unbindable();\n      const transitionCancel = unbindable();\n      let timer;\n      const isSourceTransition = e => {\n        var _a;\n        const pseudoElement = (_a = e.raw.pseudoElement) !== null && _a !== void 0 ? _a : '';\n        return eq(e.target, element) && isEmpty(pseudoElement) && contains$2(properties, e.raw.propertyName);\n      };\n      const transitionDone = e => {\n        if (isNullable(e) || isSourceTransition(e)) {\n          transitionEnd.clear();\n          transitionCancel.clear();\n          const type = e === null || e === void 0 ? void 0 : e.raw.type;\n          if (isNullable(type) || type === transitionend()) {\n            clearTimeout(timer);\n            remove$7(element, timerAttr);\n            remove$1(element, transition.classes);\n          }\n        }\n      };\n      const transitionStart = bind(element, transitionstart(), e => {\n        if (isSourceTransition(e)) {\n          transitionStart.unbind();\n          transitionEnd.set(bind(element, transitionend(), transitionDone));\n          transitionCancel.set(bind(element, transitioncancel(), transitionDone));\n        }\n      });\n      const duration = getTransitionDuration(element);\n      requestAnimationFrame(() => {\n        timer = setTimeout(transitionDone, duration + 17);\n        set$9(element, timerAttr, timer);\n      });\n    };\n    const startTransitioning = (element, transition) => {\n      add$1(element, transition.classes);\n      getOpt(element, timerAttr).each(timerId => {\n        clearTimeout(parseInt(timerId, 10));\n        remove$7(element, timerAttr);\n      });\n      setupTransitionListeners(element, transition);\n    };\n    const applyTransitionCss = (element, origin, position, transition, decision, lastPlacement) => {\n      const shouldTransition = shouldApplyTransitionCss(transition, decision, lastPlacement);\n      if (shouldTransition || isTransitioning$1(element, transition)) {\n        set$8(element, 'position', position.position);\n        const rect = toBox(origin, element);\n        const intermediatePosition = reposition(origin, {\n          ...decision,\n          rect\n        });\n        const intermediateCssOptions = mapToObject(properties, prop => intermediatePosition[prop]);\n        if (hasChanges(position, intermediateCssOptions)) {\n          setOptions(element, intermediateCssOptions);\n          if (shouldTransition) {\n            startTransitioning(element, transition);\n          }\n          reflow(element);\n        }\n      } else {\n        remove$1(element, transition.classes);\n      }\n    };\n\n    const elementSize = p => ({\n      width: getOuter$1(p),\n      height: getOuter$2(p)\n    });\n    const layout = (anchorBox, element, bubbles, options) => {\n      remove$6(element, 'max-height');\n      remove$6(element, 'max-width');\n      const elementBox = elementSize(element);\n      return attempts(element, options.preference, anchorBox, elementBox, bubbles, options.bounds);\n    };\n    const setClasses = (element, decision) => {\n      const classInfo = decision.classes;\n      remove$1(element, classInfo.off);\n      add$1(element, classInfo.on);\n    };\n    const setHeight = (element, decision, options) => {\n      const maxHeightFunction = options.maxHeightFunction;\n      maxHeightFunction(element, decision.maxHeight);\n    };\n    const setWidth = (element, decision, options) => {\n      const maxWidthFunction = options.maxWidthFunction;\n      maxWidthFunction(element, decision.maxWidth);\n    };\n    const position$2 = (element, decision, options) => {\n      const positionCss = reposition(options.origin, decision);\n      options.transition.each(transition => {\n        applyTransitionCss(element, options.origin, positionCss, transition, decision, options.lastPlacement);\n      });\n      applyPositionCss(element, positionCss);\n    };\n    const setPlacement = (element, decision) => {\n      setPlacement$1(element, decision.placement);\n    };\n\n    const setMaxHeight = (element, maxHeight) => {\n      setMax$1(element, Math.floor(maxHeight));\n    };\n    const anchored = constant$1((element, available) => {\n      setMaxHeight(element, available);\n      setAll(element, {\n        'overflow-x': 'hidden',\n        'overflow-y': 'auto'\n      });\n    });\n    const expandable$1 = constant$1((element, available) => {\n      setMaxHeight(element, available);\n    });\n\n    const defaultOr = (options, key, dephault) => options[key] === undefined ? dephault : options[key];\n    const simple = (anchor, element, bubble, layouts, lastPlacement, optBounds, overrideOptions, transition) => {\n      const maxHeightFunction = defaultOr(overrideOptions, 'maxHeightFunction', anchored());\n      const maxWidthFunction = defaultOr(overrideOptions, 'maxWidthFunction', noop);\n      const anchorBox = anchor.anchorBox;\n      const origin = anchor.origin;\n      const options = {\n        bounds: viewport(origin, optBounds),\n        origin,\n        preference: layouts,\n        maxHeightFunction,\n        maxWidthFunction,\n        lastPlacement,\n        transition\n      };\n      return go(anchorBox, element, bubble, options);\n    };\n    const go = (anchorBox, element, bubble, options) => {\n      const decision = layout(anchorBox, element, bubble, options);\n      position$2(element, decision, options);\n      setPlacement(element, decision);\n      setClasses(element, decision);\n      setHeight(element, decision, options);\n      setWidth(element, decision, options);\n      return {\n        layout: decision.layout,\n        placement: decision.placement\n      };\n    };\n\n    const allAlignments = [\n      'valignCentre',\n      'alignLeft',\n      'alignRight',\n      'alignCentre',\n      'top',\n      'bottom',\n      'left',\n      'right',\n      'inset'\n    ];\n    const nu$5 = (xOffset, yOffset, classes, insetModifier = 1) => {\n      const insetXOffset = xOffset * insetModifier;\n      const insetYOffset = yOffset * insetModifier;\n      const getClasses = prop => get$g(classes, prop).getOr([]);\n      const make = (xDelta, yDelta, alignmentsOn) => {\n        const alignmentsOff = difference(allAlignments, alignmentsOn);\n        return {\n          offset: SugarPosition(xDelta, yDelta),\n          classesOn: bind$3(alignmentsOn, getClasses),\n          classesOff: bind$3(alignmentsOff, getClasses)\n        };\n      };\n      return {\n        southeast: () => make(-xOffset, yOffset, [\n          'top',\n          'alignLeft'\n        ]),\n        southwest: () => make(xOffset, yOffset, [\n          'top',\n          'alignRight'\n        ]),\n        south: () => make(-xOffset / 2, yOffset, [\n          'top',\n          'alignCentre'\n        ]),\n        northeast: () => make(-xOffset, -yOffset, [\n          'bottom',\n          'alignLeft'\n        ]),\n        northwest: () => make(xOffset, -yOffset, [\n          'bottom',\n          'alignRight'\n        ]),\n        north: () => make(-xOffset / 2, -yOffset, [\n          'bottom',\n          'alignCentre'\n        ]),\n        east: () => make(xOffset, -yOffset / 2, [\n          'valignCentre',\n          'left'\n        ]),\n        west: () => make(-xOffset, -yOffset / 2, [\n          'valignCentre',\n          'right'\n        ]),\n        insetNortheast: () => make(insetXOffset, insetYOffset, [\n          'top',\n          'alignLeft',\n          'inset'\n        ]),\n        insetNorthwest: () => make(-insetXOffset, insetYOffset, [\n          'top',\n          'alignRight',\n          'inset'\n        ]),\n        insetNorth: () => make(-insetXOffset / 2, insetYOffset, [\n          'top',\n          'alignCentre',\n          'inset'\n        ]),\n        insetSoutheast: () => make(insetXOffset, -insetYOffset, [\n          'bottom',\n          'alignLeft',\n          'inset'\n        ]),\n        insetSouthwest: () => make(-insetXOffset, -insetYOffset, [\n          'bottom',\n          'alignRight',\n          'inset'\n        ]),\n        insetSouth: () => make(-insetXOffset / 2, -insetYOffset, [\n          'bottom',\n          'alignCentre',\n          'inset'\n        ]),\n        insetEast: () => make(-insetXOffset, -insetYOffset / 2, [\n          'valignCentre',\n          'right',\n          'inset'\n        ]),\n        insetWest: () => make(insetXOffset, -insetYOffset / 2, [\n          'valignCentre',\n          'left',\n          'inset'\n        ])\n      };\n    };\n    const fallback = () => nu$5(0, 0, {});\n\n    const nu$4 = identity;\n\n    const onDirection = (isLtr, isRtl) => element => getDirection(element) === 'rtl' ? isRtl : isLtr;\n    const getDirection = element => get$e(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n\n    var AttributeValue;\n    (function (AttributeValue) {\n      AttributeValue['TopToBottom'] = 'toptobottom';\n      AttributeValue['BottomToTop'] = 'bottomtotop';\n    }(AttributeValue || (AttributeValue = {})));\n    const Attribute = 'data-alloy-vertical-dir';\n    const isBottomToTopDir = el => closest$2(el, current => isElement$1(current) && get$f(current, 'data-alloy-vertical-dir') === AttributeValue.BottomToTop);\n\n    const schema$y = () => optionObjOf('layouts', [\n      required$1('onLtr'),\n      required$1('onRtl'),\n      option$3('onBottomLtr'),\n      option$3('onBottomRtl')\n    ]);\n    const get$5 = (elem, info, defaultLtr, defaultRtl, defaultBottomLtr, defaultBottomRtl, dirElement) => {\n      const isBottomToTop = dirElement.map(isBottomToTopDir).getOr(false);\n      const customLtr = info.layouts.map(ls => ls.onLtr(elem));\n      const customRtl = info.layouts.map(ls => ls.onRtl(elem));\n      const ltr = isBottomToTop ? info.layouts.bind(ls => ls.onBottomLtr.map(f => f(elem))).or(customLtr).getOr(defaultBottomLtr) : customLtr.getOr(defaultLtr);\n      const rtl = isBottomToTop ? info.layouts.bind(ls => ls.onBottomRtl.map(f => f(elem))).or(customRtl).getOr(defaultBottomRtl) : customRtl.getOr(defaultRtl);\n      const f = onDirection(ltr, rtl);\n      return f(elem);\n    };\n\n    const placement$4 = (component, anchorInfo, origin) => {\n      const hotspot = anchorInfo.hotspot;\n      const anchorBox = toBox(origin, hotspot.element);\n      const layouts = get$5(component.element, anchorInfo, belowOrAbove(), belowOrAboveRtl(), aboveOrBelow(), aboveOrBelowRtl(), Optional.some(anchorInfo.hotspot.element));\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts\n      }));\n    };\n    var HotspotAnchor = [\n      required$1('hotspot'),\n      option$3('bubble'),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$4)\n    ];\n\n    const placement$3 = (component, anchorInfo, origin) => {\n      const pos = translate$2(origin, anchorInfo.x, anchorInfo.y);\n      const anchorBox = bounds(pos.left, pos.top, anchorInfo.width, anchorInfo.height);\n      const layouts = get$5(component.element, anchorInfo, all$1(), allRtl$1(), all$1(), allRtl$1(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble,\n        overrides: anchorInfo.overrides,\n        layouts\n      }));\n    };\n    var MakeshiftAnchor = [\n      required$1('x'),\n      required$1('y'),\n      defaulted('height', 0),\n      defaulted('width', 0),\n      defaulted('bubble', fallback()),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$3)\n    ];\n\n    const adt$7 = Adt.generate([\n      { screen: ['point'] },\n      {\n        absolute: [\n          'point',\n          'scrollLeft',\n          'scrollTop'\n        ]\n      }\n    ]);\n    const toFixed = pos => pos.fold(identity, (point, scrollLeft, scrollTop) => point.translate(-scrollLeft, -scrollTop));\n    const toAbsolute = pos => pos.fold(identity, identity);\n    const sum = points => foldl(points, (b, a) => b.translate(a.left, a.top), SugarPosition(0, 0));\n    const sumAsFixed = positions => {\n      const points = map$2(positions, toFixed);\n      return sum(points);\n    };\n    const sumAsAbsolute = positions => {\n      const points = map$2(positions, toAbsolute);\n      return sum(points);\n    };\n    const screen = adt$7.screen;\n    const absolute$1 = adt$7.absolute;\n\n    const getOffset = (component, origin, anchorInfo) => {\n      const win = defaultView(anchorInfo.root).dom;\n      const hasSameOwner = frame => {\n        const frameOwner = owner$4(frame);\n        const compOwner = owner$4(component.element);\n        return eq(frameOwner, compOwner);\n      };\n      return Optional.from(win.frameElement).map(SugarElement.fromDom).filter(hasSameOwner).map(absolute$3);\n    };\n    const getRootPoint = (component, origin, anchorInfo) => {\n      const doc = owner$4(component.element);\n      const outerScroll = get$b(doc);\n      const offset = getOffset(component, origin, anchorInfo).getOr(outerScroll);\n      return absolute$1(offset, outerScroll.left, outerScroll.top);\n    };\n\n    const getBox = (left, top, width, height) => {\n      const point = screen(SugarPosition(left, top));\n      return Optional.some(pointed(point, width, height));\n    };\n    const calcNewAnchor = (optBox, rootPoint, anchorInfo, origin, elem) => optBox.map(box => {\n      const points = [\n        rootPoint,\n        box.point\n      ];\n      const topLeft = cata$1(origin, () => sumAsAbsolute(points), () => sumAsAbsolute(points), () => sumAsFixed(points));\n      const anchorBox = rect(topLeft.left, topLeft.top, box.width, box.height);\n      const layoutsLtr = anchorInfo.showAbove ? aboveOrBelow() : belowOrAbove();\n      const layoutsRtl = anchorInfo.showAbove ? aboveOrBelowRtl() : belowOrAboveRtl();\n      const layouts = get$5(elem, anchorInfo, layoutsLtr, layoutsRtl, layoutsLtr, layoutsRtl, Optional.none());\n      return nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts\n      });\n    });\n\n    const placement$2 = (component, anchorInfo, origin) => {\n      const rootPoint = getRootPoint(component, origin, anchorInfo);\n      return anchorInfo.node.filter(inBody).bind(target => {\n        const rect = target.dom.getBoundingClientRect();\n        const nodeBox = getBox(rect.left, rect.top, rect.width, rect.height);\n        const elem = anchorInfo.node.getOr(component.element);\n        return calcNewAnchor(nodeBox, rootPoint, anchorInfo, origin, elem);\n      });\n    };\n    var NodeAnchor = [\n      required$1('node'),\n      required$1('root'),\n      option$3('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$2)\n    ];\n\n    const zeroWidth = '\\uFEFF';\n    const nbsp = '\\xA0';\n\n    const create$3 = (start, soffset, finish, foffset) => ({\n      start,\n      soffset,\n      finish,\n      foffset\n    });\n    const SimRange = { create: create$3 };\n\n    const adt$6 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    const cata = (subject, onBefore, onOn, onAfter) => subject.fold(onBefore, onOn, onAfter);\n    const getStart$1 = situ => situ.fold(identity, identity, identity);\n    const before = adt$6.before;\n    const on$1 = adt$6.on;\n    const after$1 = adt$6.after;\n    const Situ = {\n      before,\n      on: on$1,\n      after: after$1,\n      cata,\n      getStart: getStart$1\n    };\n\n    const adt$5 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const exactFromRange = simRange => adt$5.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    const getStart = selection => selection.match({\n      domRange: rng => SugarElement.fromDom(rng.startContainer),\n      relative: (startSitu, _finishSitu) => Situ.getStart(startSitu),\n      exact: (start, _soffset, _finish, _foffset) => start\n    });\n    const domRange = adt$5.domRange;\n    const relative = adt$5.relative;\n    const exact = adt$5.exact;\n    const getWin = selection => {\n      const start = getStart(selection);\n      return defaultView(start);\n    };\n    const range$1 = SimRange.create;\n    const SimSelection = {\n      domRange,\n      relative,\n      exact,\n      exactFromRange,\n      getWin,\n      range: range$1\n    };\n\n    const setStart = (rng, situ) => {\n      situ.fold(e => {\n        rng.setStartBefore(e.dom);\n      }, (e, o) => {\n        rng.setStart(e.dom, o);\n      }, e => {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    const setFinish = (rng, situ) => {\n      situ.fold(e => {\n        rng.setEndBefore(e.dom);\n      }, (e, o) => {\n        rng.setEnd(e.dom, o);\n      }, e => {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    const relativeToNative = (win, startSitu, finishSitu) => {\n      const range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    const exactToNative = (win, start, soffset, finish, foffset) => {\n      const rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const toRect = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      width: rect.width,\n      height: rect.height\n    });\n    const getFirstRect$1 = rng => {\n      const rects = rng.getClientRects();\n      const rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n    const getBounds$2 = rng => {\n      const rect = rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    const adt$4 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const fromRange = (win, type, range) => type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    const getRanges = (win, selection) => selection.match({\n      domRange: rng => {\n        return {\n          ltr: constant$1(rng),\n          rtl: Optional.none\n        };\n      },\n      relative: (startSitu, finishSitu) => {\n        return {\n          ltr: cached(() => relativeToNative(win, startSitu, finishSitu)),\n          rtl: cached(() => Optional.some(relativeToNative(win, finishSitu, startSitu)))\n        };\n      },\n      exact: (start, soffset, finish, foffset) => {\n        return {\n          ltr: cached(() => exactToNative(win, start, soffset, finish, foffset)),\n          rtl: cached(() => Optional.some(exactToNative(win, finish, foffset, start, soffset)))\n        };\n      }\n    });\n    const doDiagnose = (win, ranges) => {\n      const rng = ranges.ltr();\n      if (rng.collapsed) {\n        const reversed = ranges.rtl().filter(rev => rev.collapsed === false);\n        return reversed.map(rev => adt$4.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset)).getOrThunk(() => fromRange(win, adt$4.ltr, rng));\n      } else {\n        return fromRange(win, adt$4.ltr, rng);\n      }\n    };\n    const diagnose = (win, selection) => {\n      const ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    const asLtrRange = (win, selection) => {\n      const diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$4.ltr;\n    adt$4.rtl;\n\n    const ancestors = (scope, predicate, isRoot) => filter$2(parents(scope, isRoot), predicate);\n\n    const descendants = (scope, selector) => all$3(selector, scope);\n\n    const makeRange = (start, soffset, finish, foffset) => {\n      const doc = owner$4(start);\n      const rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const after = (start, soffset, finish, foffset) => {\n      const r = makeRange(start, soffset, finish, foffset);\n      const same = eq(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    const getNativeSelection = win => Optional.from(win.getSelection());\n    const readRange = selection => {\n      if (selection.rangeCount > 0) {\n        const firstRng = selection.getRangeAt(0);\n        const lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    const doGetExact = selection => {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        const anchor = SugarElement.fromDom(selection.anchorNode);\n        const focus = SugarElement.fromDom(selection.focusNode);\n        return after(anchor, selection.anchorOffset, focus, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    const getExact = win => getNativeSelection(win).filter(sel => sel.rangeCount > 0).bind(doGetExact);\n    const getFirstRect = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    const getBounds$1 = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getBounds$2(rng);\n    };\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api = NodeValue(isText, 'text');\n    const get$4 = element => api.get(element);\n\n    const point = (element, offset) => ({\n      element,\n      offset\n    });\n    const descendOnce$1 = (element, offset) => {\n      const children$1 = children(element);\n      if (children$1.length === 0) {\n        return point(element, offset);\n      } else if (offset < children$1.length) {\n        return point(children$1[offset], 0);\n      } else {\n        const last = children$1[children$1.length - 1];\n        const len = isText(last) ? get$4(last).length : children(last).length;\n        return point(last, len);\n      }\n    };\n\n    const descendOnce = (element, offset) => isText(element) ? point(element, offset) : descendOnce$1(element, offset);\n    const getAnchorSelection = (win, anchorInfo) => {\n      const getSelection = anchorInfo.getSelection.getOrThunk(() => () => getExact(win));\n      return getSelection().map(sel => {\n        const modStart = descendOnce(sel.start, sel.soffset);\n        const modFinish = descendOnce(sel.finish, sel.foffset);\n        return SimSelection.range(modStart.element, modStart.offset, modFinish.element, modFinish.offset);\n      });\n    };\n    const placement$1 = (component, anchorInfo, origin) => {\n      const win = defaultView(anchorInfo.root).dom;\n      const rootPoint = getRootPoint(component, origin, anchorInfo);\n      const selectionBox = getAnchorSelection(win, anchorInfo).bind(sel => {\n        const optRect = getBounds$1(win, SimSelection.exactFromRange(sel)).orThunk(() => {\n          const x = SugarElement.fromText(zeroWidth);\n          before$1(sel.start, x);\n          const rect = getFirstRect(win, SimSelection.exact(x, 0, x, 1));\n          remove$5(x);\n          return rect;\n        });\n        return optRect.bind(rawRect => getBox(rawRect.left, rawRect.top, rawRect.width, rawRect.height));\n      });\n      const targetElement = getAnchorSelection(win, anchorInfo).bind(sel => isElement$1(sel.start) ? Optional.some(sel.start) : parentElement(sel.start));\n      const elem = targetElement.getOr(component.element);\n      return calcNewAnchor(selectionBox, rootPoint, anchorInfo, origin, elem);\n    };\n    var SelectionAnchor = [\n      option$3('getSelection'),\n      required$1('root'),\n      option$3('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$1)\n    ];\n\n    const labelPrefix$1 = 'link-layout';\n    const eastX = anchor => anchor.x + anchor.width;\n    const westX = (anchor, element) => anchor.x - element.width;\n    const northY$1 = (anchor, element) => anchor.y - element.height + anchor.height;\n    const southY$1 = anchor => anchor.y;\n    const southeast$1 = (anchor, element, bubbles) => nu$6(eastX(anchor), southY$1(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 0,\n      top: 2\n    }), labelPrefix$1);\n    const southwest$1 = (anchor, element, bubbles) => nu$6(westX(anchor, element), southY$1(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 1,\n      top: 2\n    }), labelPrefix$1);\n    const northeast$1 = (anchor, element, bubbles) => nu$6(eastX(anchor), northY$1(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 0,\n      bottom: 3\n    }), labelPrefix$1);\n    const northwest$1 = (anchor, element, bubbles) => nu$6(westX(anchor, element), northY$1(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 1,\n      bottom: 3\n    }), labelPrefix$1);\n    const all = () => [\n      southeast$1,\n      southwest$1,\n      northeast$1,\n      northwest$1\n    ];\n    const allRtl = () => [\n      southwest$1,\n      southeast$1,\n      northwest$1,\n      northeast$1\n    ];\n\n    const placement = (component, submenuInfo, origin) => {\n      const anchorBox = toBox(origin, submenuInfo.item.element);\n      const layouts = get$5(component.element, submenuInfo, all(), allRtl(), all(), allRtl(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: fallback(),\n        overrides: submenuInfo.overrides,\n        layouts\n      }));\n    };\n    var SubmenuAnchor = [\n      required$1('item'),\n      schema$y(),\n      defaulted('overrides', {}),\n      output$1('placement', placement)\n    ];\n\n    var AnchorSchema = choose$1('type', {\n      selection: SelectionAnchor,\n      node: NodeAnchor,\n      hotspot: HotspotAnchor,\n      submenu: SubmenuAnchor,\n      makeshift: MakeshiftAnchor\n    });\n\n    const TransitionSchema = [\n      requiredArrayOf('classes', string),\n      defaultedStringEnum('mode', 'all', [\n        'all',\n        'layout',\n        'placement'\n      ])\n    ];\n    const PositionSchema = [\n      defaulted('useFixed', never),\n      option$3('getBounds')\n    ];\n    const PlacementSchema = [\n      requiredOf('anchor', AnchorSchema),\n      optionObjOf('transition', TransitionSchema)\n    ];\n\n    const getFixedOrigin = () => {\n      const html = document.documentElement;\n      return fixed$1(0, 0, html.clientWidth, html.clientHeight);\n    };\n    const getRelativeOrigin = component => {\n      const position = absolute$3(component.element);\n      const bounds = component.element.dom.getBoundingClientRect();\n      return relative$1(position.left, position.top, bounds.width, bounds.height);\n    };\n    const place = (origin, anchoring, optBounds, placee, lastPlace, transition) => {\n      const anchor = box(anchoring.anchorBox, origin);\n      return simple(anchor, placee.element, anchoring.bubble, anchoring.layouts, lastPlace, optBounds, anchoring.overrides, transition);\n    };\n    const position$1 = (component, posConfig, posState, placee, placementSpec) => {\n      const optWithinBounds = Optional.none();\n      positionWithinBounds(component, posConfig, posState, placee, placementSpec, optWithinBounds);\n    };\n    const positionWithinBounds = (component, posConfig, posState, placee, placementSpec, optWithinBounds) => {\n      const placeeDetail = asRawOrDie$1('placement.info', objOf(PlacementSchema), placementSpec);\n      const anchorage = placeeDetail.anchor;\n      const element = placee.element;\n      const placeeState = posState.get(placee.uid);\n      preserve$1(() => {\n        set$8(element, 'position', 'fixed');\n        const oldVisibility = getRaw(element, 'visibility');\n        set$8(element, 'visibility', 'hidden');\n        const origin = posConfig.useFixed() ? getFixedOrigin() : getRelativeOrigin(component);\n        anchorage.placement(component, anchorage, origin).each(anchoring => {\n          const optBounds = optWithinBounds.orThunk(() => posConfig.getBounds.map(apply$1));\n          const newState = place(origin, anchoring, optBounds, placee, placeeState, placeeDetail.transition);\n          posState.set(placee.uid, newState);\n        });\n        oldVisibility.fold(() => {\n          remove$6(element, 'visibility');\n        }, vis => {\n          set$8(element, 'visibility', vis);\n        });\n        if (getRaw(element, 'left').isNone() && getRaw(element, 'top').isNone() && getRaw(element, 'right').isNone() && getRaw(element, 'bottom').isNone() && is$1(getRaw(element, 'position'), 'fixed')) {\n          remove$6(element, 'position');\n        }\n      }, element);\n    };\n    const getMode = (component, pConfig, _pState) => pConfig.useFixed() ? 'fixed' : 'absolute';\n    const reset$1 = (component, pConfig, posState, placee) => {\n      const element = placee.element;\n      each$1([\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom'\n      ], prop => remove$6(element, prop));\n      reset$2(element);\n      posState.clear(placee.uid);\n    };\n\n    var PositionApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        position: position$1,\n        positionWithinBounds: positionWithinBounds,\n        getMode: getMode,\n        reset: reset$1\n    });\n\n    const init$g = () => {\n      let state = {};\n      const set = (id, data) => {\n        state[id] = data;\n      };\n      const get = id => get$g(state, id);\n      const clear = id => {\n        if (isNonNullable(id)) {\n          delete state[id];\n        } else {\n          state = {};\n        }\n      };\n      return nu$8({\n        readState: () => state,\n        clear,\n        set,\n        get\n      });\n    };\n\n    var PositioningState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$g\n    });\n\n    const Positioning = create$4({\n      fields: PositionSchema,\n      name: 'positioning',\n      active: ActivePosition,\n      apis: PositionApis,\n      state: PositioningState\n    });\n\n    const isConnected = comp => comp.getSystem().isConnected();\n    const fireDetaching = component => {\n      emit(component, detachedFromDom());\n      const children = component.components();\n      each$1(children, fireDetaching);\n    };\n    const fireAttaching = component => {\n      const children = component.components();\n      each$1(children, fireAttaching);\n      emit(component, attachedToDom());\n    };\n    const virtualAttach = (parent, child) => {\n      parent.getSystem().addToWorld(child);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n    };\n    const virtualDetach = comp => {\n      fireDetaching(comp);\n      comp.getSystem().removeFromWorld(comp);\n    };\n    const attach$1 = (parent, child) => {\n      append$2(parent.element, child.element);\n    };\n    const detachChildren$1 = component => {\n      each$1(component.components(), childComp => remove$5(childComp.element));\n      empty(component.element);\n      component.syncComponents();\n    };\n    const replaceChildren = (component, newSpecs, buildNewChildren) => {\n      const subs = component.components();\n      detachChildren$1(component);\n      const newChildren = buildNewChildren(newSpecs);\n      const deleted = difference(subs, newChildren);\n      each$1(deleted, comp => {\n        fireDetaching(comp);\n        component.getSystem().removeFromWorld(comp);\n      });\n      each$1(newChildren, childComp => {\n        if (!isConnected(childComp)) {\n          component.getSystem().addToWorld(childComp);\n          attach$1(component, childComp);\n          if (inBody(component.element)) {\n            fireAttaching(childComp);\n          }\n        } else {\n          attach$1(component, childComp);\n        }\n      });\n      component.syncComponents();\n    };\n    const virtualReplaceChildren = (component, newSpecs, buildNewChildren) => {\n      const subs = component.components();\n      const existingComps = bind$3(newSpecs, spec => getPremade(spec).toArray());\n      each$1(subs, childComp => {\n        if (!contains$2(existingComps, childComp)) {\n          virtualDetach(childComp);\n        }\n      });\n      const newChildren = buildNewChildren(newSpecs);\n      const deleted = difference(subs, newChildren);\n      each$1(deleted, deletedComp => {\n        if (isConnected(deletedComp)) {\n          virtualDetach(deletedComp);\n        }\n      });\n      each$1(newChildren, childComp => {\n        if (!isConnected(childComp)) {\n          virtualAttach(component, childComp);\n        }\n      });\n      component.syncComponents();\n    };\n\n    const attach = (parent, child) => {\n      attachWith(parent, child, append$2);\n    };\n    const attachWith = (parent, child, insertion) => {\n      parent.getSystem().addToWorld(child);\n      insertion(parent.element, child.element);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n      parent.syncComponents();\n    };\n    const doDetach = component => {\n      fireDetaching(component);\n      remove$5(component.element);\n      component.getSystem().removeFromWorld(component);\n    };\n    const detach = component => {\n      const parent$1 = parent(component.element).bind(p => component.getSystem().getByDom(p).toOptional());\n      doDetach(component);\n      parent$1.each(p => {\n        p.syncComponents();\n      });\n    };\n    const detachChildren = component => {\n      const subs = component.components();\n      each$1(subs, doDetach);\n      empty(component.element);\n      component.syncComponents();\n    };\n    const attachSystem = (element, guiSystem) => {\n      attachSystemWith(element, guiSystem, append$2);\n    };\n    const attachSystemAfter = (element, guiSystem) => {\n      attachSystemWith(element, guiSystem, after$2);\n    };\n    const attachSystemWith = (element, guiSystem, inserter) => {\n      inserter(element, guiSystem.element);\n      const children$1 = children(guiSystem.element);\n      each$1(children$1, child => {\n        guiSystem.getByDom(child).each(fireAttaching);\n      });\n    };\n    const detachSystem = guiSystem => {\n      const children$1 = children(guiSystem.element);\n      each$1(children$1, child => {\n        guiSystem.getByDom(child).each(fireDetaching);\n      });\n      remove$5(guiSystem.element);\n    };\n\n    const rebuild = (sandbox, sConfig, sState, data) => {\n      sState.get().each(_data => {\n        detachChildren(sandbox);\n      });\n      const point = sConfig.getAttachPoint(sandbox);\n      attach(point, sandbox);\n      const built = sandbox.getSystem().build(data);\n      attach(sandbox, built);\n      sState.set(built);\n      return built;\n    };\n    const open$1 = (sandbox, sConfig, sState, data) => {\n      const newState = rebuild(sandbox, sConfig, sState, data);\n      sConfig.onOpen(sandbox, newState);\n      return newState;\n    };\n    const setContent = (sandbox, sConfig, sState, data) => sState.get().map(() => rebuild(sandbox, sConfig, sState, data));\n    const openWhileCloaked = (sandbox, sConfig, sState, data, transaction) => {\n      cloak(sandbox, sConfig);\n      open$1(sandbox, sConfig, sState, data);\n      transaction();\n      decloak(sandbox, sConfig);\n    };\n    const close$1 = (sandbox, sConfig, sState) => {\n      sState.get().each(data => {\n        detachChildren(sandbox);\n        detach(sandbox);\n        sConfig.onClose(sandbox, data);\n        sState.clear();\n      });\n    };\n    const isOpen$1 = (_sandbox, _sConfig, sState) => sState.isOpen();\n    const isPartOf = (sandbox, sConfig, sState, queryElem) => isOpen$1(sandbox, sConfig, sState) && sState.get().exists(data => sConfig.isPartOf(sandbox, data, queryElem));\n    const getState$2 = (_sandbox, _sConfig, sState) => sState.get();\n    const store = (sandbox, cssKey, attr, newValue) => {\n      getRaw(sandbox.element, cssKey).fold(() => {\n        remove$7(sandbox.element, attr);\n      }, v => {\n        set$9(sandbox.element, attr, v);\n      });\n      set$8(sandbox.element, cssKey, newValue);\n    };\n    const restore = (sandbox, cssKey, attr) => {\n      getOpt(sandbox.element, attr).fold(() => remove$6(sandbox.element, cssKey), oldValue => set$8(sandbox.element, cssKey, oldValue));\n    };\n    const cloak = (sandbox, sConfig, _sState) => {\n      const sink = sConfig.getAttachPoint(sandbox);\n      set$8(sandbox.element, 'position', Positioning.getMode(sink));\n      store(sandbox, 'visibility', sConfig.cloakVisibilityAttr, 'hidden');\n    };\n    const hasPosition = element => exists([\n      'top',\n      'left',\n      'right',\n      'bottom'\n    ], pos => getRaw(element, pos).isSome());\n    const decloak = (sandbox, sConfig, _sState) => {\n      if (!hasPosition(sandbox.element)) {\n        remove$6(sandbox.element, 'position');\n      }\n      restore(sandbox, 'visibility', sConfig.cloakVisibilityAttr);\n    };\n\n    var SandboxApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        cloak: cloak,\n        decloak: decloak,\n        open: open$1,\n        openWhileCloaked: openWhileCloaked,\n        close: close$1,\n        isOpen: isOpen$1,\n        isPartOf: isPartOf,\n        getState: getState$2,\n        setContent: setContent\n    });\n\n    const events$g = (sandboxConfig, sandboxState) => derive$2([run$1(sandboxClose(), (sandbox, _simulatedEvent) => {\n        close$1(sandbox, sandboxConfig, sandboxState);\n      })]);\n\n    var ActiveSandbox = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$g\n    });\n\n    var SandboxSchema = [\n      onHandler('onOpen'),\n      onHandler('onClose'),\n      required$1('isPartOf'),\n      required$1('getAttachPoint'),\n      defaulted('cloakVisibilityAttr', 'data-precloak-visibility')\n    ];\n\n    const init$f = () => {\n      const contents = value$2();\n      const readState = constant$1('not-implemented');\n      return nu$8({\n        readState,\n        isOpen: contents.isSet,\n        clear: contents.clear,\n        set: contents.set,\n        get: contents.get\n      });\n    };\n\n    var SandboxState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$f\n    });\n\n    const Sandboxing = create$4({\n      fields: SandboxSchema,\n      name: 'sandboxing',\n      active: ActiveSandbox,\n      apis: SandboxApis,\n      state: SandboxState\n    });\n\n    const dismissPopups = constant$1('dismiss.popups');\n    const repositionPopups = constant$1('reposition.popups');\n    const mouseReleased = constant$1('mouse.released');\n\n    const schema$x = objOfOnly([\n      defaulted('isExtraPart', never),\n      optionObjOf('fireEventInstead', [defaulted('event', dismissRequested())])\n    ]);\n    const receivingChannel$1 = rawSpec => {\n      const detail = asRawOrDie$1('Dismissal', schema$x, rawSpec);\n      return {\n        [dismissPopups()]: {\n          schema: objOfOnly([required$1('target')]),\n          onReceive: (sandbox, data) => {\n            if (Sandboxing.isOpen(sandbox)) {\n              const isPart = Sandboxing.isPartOf(sandbox, data.target) || detail.isExtraPart(sandbox, data.target);\n              if (!isPart) {\n                detail.fireEventInstead.fold(() => Sandboxing.close(sandbox), fe => emit(sandbox, fe.event));\n              }\n            }\n          }\n        }\n      };\n    };\n\n    const schema$w = objOfOnly([\n      optionObjOf('fireEventInstead', [defaulted('event', repositionRequested())]),\n      requiredFunction('doReposition')\n    ]);\n    const receivingChannel = rawSpec => {\n      const detail = asRawOrDie$1('Reposition', schema$w, rawSpec);\n      return {\n        [repositionPopups()]: {\n          onReceive: sandbox => {\n            if (Sandboxing.isOpen(sandbox)) {\n              detail.fireEventInstead.fold(() => detail.doReposition(sandbox), fe => emit(sandbox, fe.event));\n            }\n          }\n        }\n      };\n    };\n\n    const onLoad$5 = (component, repConfig, repState) => {\n      repConfig.store.manager.onLoad(component, repConfig, repState);\n    };\n    const onUnload$2 = (component, repConfig, repState) => {\n      repConfig.store.manager.onUnload(component, repConfig, repState);\n    };\n    const setValue$3 = (component, repConfig, repState, data) => {\n      repConfig.store.manager.setValue(component, repConfig, repState, data);\n    };\n    const getValue$3 = (component, repConfig, repState) => repConfig.store.manager.getValue(component, repConfig, repState);\n    const getState$1 = (component, repConfig, repState) => repState;\n\n    var RepresentApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad$5,\n        onUnload: onUnload$2,\n        setValue: setValue$3,\n        getValue: getValue$3,\n        getState: getState$1\n    });\n\n    const events$f = (repConfig, repState) => {\n      const es = repConfig.resetOnDom ? [\n        runOnAttached((comp, _se) => {\n          onLoad$5(comp, repConfig, repState);\n        }),\n        runOnDetached((comp, _se) => {\n          onUnload$2(comp, repConfig, repState);\n        })\n      ] : [loadEvent(repConfig, repState, onLoad$5)];\n      return derive$2(es);\n    };\n\n    var ActiveRepresenting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$f\n    });\n\n    const memory$1 = () => {\n      const data = Cell(null);\n      const readState = () => ({\n        mode: 'memory',\n        value: data.get()\n      });\n      const isNotSet = () => data.get() === null;\n      const clear = () => {\n        data.set(null);\n      };\n      return nu$8({\n        set: data.set,\n        get: data.get,\n        isNotSet,\n        clear,\n        readState\n      });\n    };\n    const manual = () => {\n      const readState = noop;\n      return nu$8({ readState });\n    };\n    const dataset = () => {\n      const dataByValue = Cell({});\n      const dataByText = Cell({});\n      const readState = () => ({\n        mode: 'dataset',\n        dataByValue: dataByValue.get(),\n        dataByText: dataByText.get()\n      });\n      const clear = () => {\n        dataByValue.set({});\n        dataByText.set({});\n      };\n      const lookup = itemString => get$g(dataByValue.get(), itemString).orThunk(() => get$g(dataByText.get(), itemString));\n      const update = items => {\n        const currentDataByValue = dataByValue.get();\n        const currentDataByText = dataByText.get();\n        const newDataByValue = {};\n        const newDataByText = {};\n        each$1(items, item => {\n          newDataByValue[item.value] = item;\n          get$g(item, 'meta').each(meta => {\n            get$g(meta, 'text').each(text => {\n              newDataByText[text] = item;\n            });\n          });\n        });\n        dataByValue.set({\n          ...currentDataByValue,\n          ...newDataByValue\n        });\n        dataByText.set({\n          ...currentDataByText,\n          ...newDataByText\n        });\n      };\n      return nu$8({\n        readState,\n        lookup,\n        update,\n        clear\n      });\n    };\n    const init$e = spec => spec.store.manager.state(spec);\n\n    var RepresentState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        memory: memory$1,\n        dataset: dataset,\n        manual: manual,\n        init: init$e\n    });\n\n    const setValue$2 = (component, repConfig, repState, data) => {\n      const store = repConfig.store;\n      repState.update([data]);\n      store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    const getValue$2 = (component, repConfig, repState) => {\n      const store = repConfig.store;\n      const key = store.getDataKey(component);\n      return repState.lookup(key).getOrThunk(() => store.getFallbackEntry(key));\n    };\n    const onLoad$4 = (component, repConfig, repState) => {\n      const store = repConfig.store;\n      store.initialValue.each(data => {\n        setValue$2(component, repConfig, repState, data);\n      });\n    };\n    const onUnload$1 = (component, repConfig, repState) => {\n      repState.clear();\n    };\n    var DatasetStore = [\n      option$3('initialValue'),\n      required$1('getFallbackEntry'),\n      required$1('getDataKey'),\n      required$1('setValue'),\n      output$1('manager', {\n        setValue: setValue$2,\n        getValue: getValue$2,\n        onLoad: onLoad$4,\n        onUnload: onUnload$1,\n        state: dataset\n      })\n    ];\n\n    const getValue$1 = (component, repConfig, _repState) => repConfig.store.getValue(component);\n    const setValue$1 = (component, repConfig, _repState, data) => {\n      repConfig.store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    const onLoad$3 = (component, repConfig, _repState) => {\n      repConfig.store.initialValue.each(data => {\n        repConfig.store.setValue(component, data);\n      });\n    };\n    var ManualStore = [\n      required$1('getValue'),\n      defaulted('setValue', noop),\n      option$3('initialValue'),\n      output$1('manager', {\n        setValue: setValue$1,\n        getValue: getValue$1,\n        onLoad: onLoad$3,\n        onUnload: noop,\n        state: NoState.init\n      })\n    ];\n\n    const setValue = (component, repConfig, repState, data) => {\n      repState.set(data);\n      repConfig.onSetValue(component, data);\n    };\n    const getValue = (component, repConfig, repState) => repState.get();\n    const onLoad$2 = (component, repConfig, repState) => {\n      repConfig.store.initialValue.each(initVal => {\n        if (repState.isNotSet()) {\n          repState.set(initVal);\n        }\n      });\n    };\n    const onUnload = (component, repConfig, repState) => {\n      repState.clear();\n    };\n    var MemoryStore = [\n      option$3('initialValue'),\n      output$1('manager', {\n        setValue,\n        getValue,\n        onLoad: onLoad$2,\n        onUnload,\n        state: memory$1\n      })\n    ];\n\n    var RepresentSchema = [\n      defaultedOf('store', { mode: 'memory' }, choose$1('mode', {\n        memory: MemoryStore,\n        manual: ManualStore,\n        dataset: DatasetStore\n      })),\n      onHandler('onSetValue'),\n      defaulted('resetOnDom', false)\n    ];\n\n    const Representing = create$4({\n      fields: RepresentSchema,\n      name: 'representing',\n      active: ActiveRepresenting,\n      apis: RepresentApis,\n      extra: {\n        setValueFrom: (component, source) => {\n          const value = Representing.getValue(source);\n          Representing.setValue(component, value);\n        }\n      },\n      state: RepresentState\n    });\n\n    const field = (name, forbidden) => defaultedObjOf(name, {}, map$2(forbidden, f => forbid(f.name(), 'Cannot configure ' + f.name() + ' for ' + name)).concat([customField('dump', identity)]));\n    const get$3 = data => data.dump;\n    const augment = (data, original) => ({\n      ...derive$1(original),\n      ...data.dump\n    });\n    const SketchBehaviours = {\n      field,\n      augment,\n      get: get$3\n    };\n\n    const _placeholder = 'placeholder';\n    const adt$3 = Adt.generate([\n      {\n        single: [\n          'required',\n          'valueThunk'\n        ]\n      },\n      {\n        multiple: [\n          'required',\n          'valueThunks'\n        ]\n      }\n    ]);\n    const isSubstituted = spec => has$2(spec, 'uiType');\n    const subPlaceholder = (owner, detail, compSpec, placeholders) => {\n      if (owner.exists(o => o !== compSpec.owner)) {\n        return adt$3.single(true, constant$1(compSpec));\n      }\n      return get$g(placeholders, compSpec.name).fold(() => {\n        throw new Error('Unknown placeholder component: ' + compSpec.name + '\\nKnown: [' + keys(placeholders) + ']\\nNamespace: ' + owner.getOr('none') + '\\nSpec: ' + JSON.stringify(compSpec, null, 2));\n      }, newSpec => newSpec.replace());\n    };\n    const scan = (owner, detail, compSpec, placeholders) => {\n      if (isSubstituted(compSpec) && compSpec.uiType === _placeholder) {\n        return subPlaceholder(owner, detail, compSpec, placeholders);\n      } else {\n        return adt$3.single(false, constant$1(compSpec));\n      }\n    };\n    const substitute = (owner, detail, compSpec, placeholders) => {\n      const base = scan(owner, detail, compSpec, placeholders);\n      return base.fold((req, valueThunk) => {\n        const value = isSubstituted(compSpec) ? valueThunk(detail, compSpec.config, compSpec.validated) : valueThunk(detail);\n        const childSpecs = get$g(value, 'components').getOr([]);\n        const substituted = bind$3(childSpecs, c => substitute(owner, detail, c, placeholders));\n        return [{\n            ...value,\n            components: substituted\n          }];\n      }, (req, valuesThunk) => {\n        if (isSubstituted(compSpec)) {\n          const values = valuesThunk(detail, compSpec.config, compSpec.validated);\n          const preprocessor = compSpec.validated.preprocess.getOr(identity);\n          return preprocessor(values);\n        } else {\n          return valuesThunk(detail);\n        }\n      });\n    };\n    const substituteAll = (owner, detail, components, placeholders) => bind$3(components, c => substitute(owner, detail, c, placeholders));\n    const oneReplace = (label, replacements) => {\n      let called = false;\n      const used = () => called;\n      const replace = () => {\n        if (called) {\n          throw new Error('Trying to use the same placeholder more than once: ' + label);\n        }\n        called = true;\n        return replacements;\n      };\n      const required = () => replacements.fold((req, _) => req, (req, _) => req);\n      return {\n        name: constant$1(label),\n        required,\n        used,\n        replace\n      };\n    };\n    const substitutePlaces = (owner, detail, components, placeholders) => {\n      const ps = map$1(placeholders, (ph, name) => oneReplace(name, ph));\n      const outcome = substituteAll(owner, detail, components, ps);\n      each(ps, p => {\n        if (p.used() === false && p.required()) {\n          throw new Error('Placeholder: ' + p.name() + ' was not found in components list\\nNamespace: ' + owner.getOr('none') + '\\nComponents: ' + JSON.stringify(detail.components, null, 2));\n        }\n      });\n      return outcome;\n    };\n    const single$2 = adt$3.single;\n    const multiple = adt$3.multiple;\n    const placeholder = constant$1(_placeholder);\n\n    const adt$2 = Adt.generate([\n      { required: ['data'] },\n      { external: ['data'] },\n      { optional: ['data'] },\n      { group: ['data'] }\n    ]);\n    const fFactory = defaulted('factory', { sketch: identity });\n    const fSchema = defaulted('schema', []);\n    const fName = required$1('name');\n    const fPname = field$1('pname', 'pname', defaultedThunk(typeSpec => '<alloy.' + generate$6(typeSpec.name) + '>'), anyValue());\n    const fGroupSchema = customField('schema', () => [option$3('preprocess')]);\n    const fDefaults = defaulted('defaults', constant$1({}));\n    const fOverrides = defaulted('overrides', constant$1({}));\n    const requiredSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const externalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fDefaults,\n      fOverrides\n    ]);\n    const optionalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const groupSpec = objOf([\n      fFactory,\n      fGroupSchema,\n      fName,\n      required$1('unit'),\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const asNamedPart = part => {\n      return part.fold(Optional.some, Optional.none, Optional.some, Optional.some);\n    };\n    const name$2 = part => {\n      const get = data => data.name;\n      return part.fold(get, get, get, get);\n    };\n    const asCommon = part => {\n      return part.fold(identity, identity, identity, identity);\n    };\n    const convert = (adtConstructor, partSchema) => spec => {\n      const data = asRawOrDie$1('Converting part type', partSchema, spec);\n      return adtConstructor(data);\n    };\n    const required = convert(adt$2.required, requiredSpec);\n    const external = convert(adt$2.external, externalSpec);\n    const optional = convert(adt$2.optional, optionalSpec);\n    const group = convert(adt$2.group, groupSpec);\n    const original = constant$1('entirety');\n\n    var PartType = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        required: required,\n        external: external,\n        optional: optional,\n        group: group,\n        asNamedPart: asNamedPart,\n        name: name$2,\n        asCommon: asCommon,\n        original: original\n    });\n\n    const combine = (detail, data, partSpec, partValidated) => deepMerge(data.defaults(detail, partSpec, partValidated), partSpec, { uid: detail.partUids[data.name] }, data.overrides(detail, partSpec, partValidated));\n    const subs = (owner, detail, parts) => {\n      const internals = {};\n      const externals = {};\n      each$1(parts, part => {\n        part.fold(data => {\n          internals[data.pname] = single$2(true, (detail, partSpec, partValidated) => data.factory.sketch(combine(detail, data, partSpec, partValidated)));\n        }, data => {\n          const partSpec = detail.parts[data.name];\n          externals[data.name] = constant$1(data.factory.sketch(combine(detail, data, partSpec[original()]), partSpec));\n        }, data => {\n          internals[data.pname] = single$2(false, (detail, partSpec, partValidated) => data.factory.sketch(combine(detail, data, partSpec, partValidated)));\n        }, data => {\n          internals[data.pname] = multiple(true, (detail, _partSpec, _partValidated) => {\n            const units = detail[data.name];\n            return map$2(units, u => data.factory.sketch(deepMerge(data.defaults(detail, u, _partValidated), u, data.overrides(detail, u))));\n          });\n        });\n      });\n      return {\n        internals: constant$1(internals),\n        externals: constant$1(externals)\n      };\n    };\n\n    const generate$3 = (owner, parts) => {\n      const r = {};\n      each$1(parts, part => {\n        asNamedPart(part).each(np => {\n          const g = doGenerateOne(owner, np.pname);\n          r[np.name] = config => {\n            const validated = asRawOrDie$1('Part: ' + np.name + ' in ' + owner, objOf(np.schema), config);\n            return {\n              ...g,\n              config,\n              validated\n            };\n          };\n        });\n      });\n      return r;\n    };\n    const doGenerateOne = (owner, pname) => ({\n      uiType: placeholder(),\n      owner,\n      name: pname\n    });\n    const generateOne$1 = (owner, pname, config) => ({\n      uiType: placeholder(),\n      owner,\n      name: pname,\n      config,\n      validated: {}\n    });\n    const schemas = parts => bind$3(parts, part => part.fold(Optional.none, Optional.some, Optional.none, Optional.none).map(data => requiredObjOf(data.name, data.schema.concat([snapshot(original())]))).toArray());\n    const names = parts => map$2(parts, name$2);\n    const substitutes = (owner, detail, parts) => subs(owner, detail, parts);\n    const components$1 = (owner, detail, internals) => substitutePlaces(Optional.some(owner), detail, detail.components, internals);\n    const getPart = (component, detail, partKey) => {\n      const uid = detail.partUids[partKey];\n      return component.getSystem().getByUid(uid).toOptional();\n    };\n    const getPartOrDie = (component, detail, partKey) => getPart(component, detail, partKey).getOrDie('Could not find part: ' + partKey);\n    const getParts = (component, detail, partKeys) => {\n      const r = {};\n      const uids = detail.partUids;\n      const system = component.getSystem();\n      each$1(partKeys, pk => {\n        r[pk] = constant$1(system.getByUid(uids[pk]));\n      });\n      return r;\n    };\n    const getAllParts = (component, detail) => {\n      const system = component.getSystem();\n      return map$1(detail.partUids, (pUid, _k) => constant$1(system.getByUid(pUid)));\n    };\n    const getAllPartNames = detail => keys(detail.partUids);\n    const getPartsOrDie = (component, detail, partKeys) => {\n      const r = {};\n      const uids = detail.partUids;\n      const system = component.getSystem();\n      each$1(partKeys, pk => {\n        r[pk] = constant$1(system.getByUid(uids[pk]).getOrDie());\n      });\n      return r;\n    };\n    const defaultUids = (baseUid, partTypes) => {\n      const partNames = names(partTypes);\n      return wrapAll(map$2(partNames, pn => ({\n        key: pn,\n        value: baseUid + '-' + pn\n      })));\n    };\n    const defaultUidsSchema = partTypes => field$1('partUids', 'partUids', mergeWithThunk(spec => defaultUids(spec.uid, partTypes)), anyValue());\n\n    var AlloyParts = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        generate: generate$3,\n        generateOne: generateOne$1,\n        schemas: schemas,\n        names: names,\n        substitutes: substitutes,\n        components: components$1,\n        defaultUids: defaultUids,\n        defaultUidsSchema: defaultUidsSchema,\n        getAllParts: getAllParts,\n        getAllPartNames: getAllPartNames,\n        getPart: getPart,\n        getPartOrDie: getPartOrDie,\n        getParts: getParts,\n        getPartsOrDie: getPartsOrDie\n    });\n\n    const base = (partSchemas, partUidsSchemas) => {\n      const ps = partSchemas.length > 0 ? [requiredObjOf('parts', partSchemas)] : [];\n      return ps.concat([\n        required$1('uid'),\n        defaulted('dom', {}),\n        defaulted('components', []),\n        snapshot('originalSpec'),\n        defaulted('debug.sketcher', {})\n      ]).concat(partUidsSchemas);\n    };\n    const asRawOrDie = (label, schema, spec, partSchemas, partUidsSchemas) => {\n      const baseS = base(partSchemas, partUidsSchemas);\n      return asRawOrDie$1(label + ' [SpecSchema]', objOfOnly(baseS.concat(schema)), spec);\n    };\n\n    const single$1 = (owner, schema, factory, spec) => {\n      const specWithUid = supplyUid(spec);\n      const detail = asRawOrDie(owner, schema, specWithUid, [], []);\n      return factory(detail, specWithUid);\n    };\n    const composite$1 = (owner, schema, partTypes, factory, spec) => {\n      const specWithUid = supplyUid(spec);\n      const partSchemas = schemas(partTypes);\n      const partUidsSchema = defaultUidsSchema(partTypes);\n      const detail = asRawOrDie(owner, schema, specWithUid, partSchemas, [partUidsSchema]);\n      const subs = substitutes(owner, detail, partTypes);\n      const components = components$1(owner, detail, subs.internals());\n      return factory(detail, components, specWithUid, subs.externals());\n    };\n    const hasUid = spec => has$2(spec, 'uid');\n    const supplyUid = spec => {\n      return hasUid(spec) ? spec : {\n        ...spec,\n        uid: generate$5('uid')\n      };\n    };\n\n    const isSketchSpec = spec => {\n      return spec.uid !== undefined;\n    };\n    const singleSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    const compositeSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      required$1('partFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    const single = rawConfig => {\n      const config = asRawOrDie$1('Sketcher for ' + rawConfig.name, singleSchema, rawConfig);\n      const sketch = spec => single$1(config.name, config.configFields, config.factory, spec);\n      const apis = map$1(config.apis, makeApi);\n      const extraApis = map$1(config.extraApis, (f, k) => markAsExtraApi(f, k));\n      return {\n        name: config.name,\n        configFields: config.configFields,\n        sketch,\n        ...apis,\n        ...extraApis\n      };\n    };\n    const composite = rawConfig => {\n      const config = asRawOrDie$1('Sketcher for ' + rawConfig.name, compositeSchema, rawConfig);\n      const sketch = spec => composite$1(config.name, config.configFields, config.partFields, config.factory, spec);\n      const parts = generate$3(config.name, config.partFields);\n      const apis = map$1(config.apis, makeApi);\n      const extraApis = map$1(config.extraApis, (f, k) => markAsExtraApi(f, k));\n      return {\n        name: config.name,\n        partFields: config.partFields,\n        configFields: config.configFields,\n        sketch,\n        parts,\n        ...apis,\n        ...extraApis\n      };\n    };\n\n    const inside = target => isTag('input')(target) && get$f(target, 'type') !== 'radio' || isTag('textarea')(target);\n\n    const getCurrent = (component, composeConfig, _composeState) => composeConfig.find(component);\n\n    var ComposeApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCurrent: getCurrent\n    });\n\n    const ComposeSchema = [required$1('find')];\n\n    const Composing = create$4({\n      fields: ComposeSchema,\n      name: 'composing',\n      apis: ComposeApis\n    });\n\n    const nativeDisabled = [\n      'input',\n      'button',\n      'textarea',\n      'select'\n    ];\n    const onLoad$1 = (component, disableConfig, disableState) => {\n      const f = disableConfig.disabled() ? disable : enable;\n      f(component, disableConfig);\n    };\n    const hasNative = (component, config) => config.useNative === true && contains$2(nativeDisabled, name$3(component.element));\n    const nativeIsDisabled = component => has$1(component.element, 'disabled');\n    const nativeDisable = component => {\n      set$9(component.element, 'disabled', 'disabled');\n    };\n    const nativeEnable = component => {\n      remove$7(component.element, 'disabled');\n    };\n    const ariaIsDisabled = component => get$f(component.element, 'aria-disabled') === 'true';\n    const ariaDisable = component => {\n      set$9(component.element, 'aria-disabled', 'true');\n    };\n    const ariaEnable = component => {\n      set$9(component.element, 'aria-disabled', 'false');\n    };\n    const disable = (component, disableConfig, _disableState) => {\n      disableConfig.disableClass.each(disableClass => {\n        add$2(component.element, disableClass);\n      });\n      const f = hasNative(component, disableConfig) ? nativeDisable : ariaDisable;\n      f(component);\n      disableConfig.onDisabled(component);\n    };\n    const enable = (component, disableConfig, _disableState) => {\n      disableConfig.disableClass.each(disableClass => {\n        remove$2(component.element, disableClass);\n      });\n      const f = hasNative(component, disableConfig) ? nativeEnable : ariaEnable;\n      f(component);\n      disableConfig.onEnabled(component);\n    };\n    const isDisabled = (component, disableConfig) => hasNative(component, disableConfig) ? nativeIsDisabled(component) : ariaIsDisabled(component);\n    const set$4 = (component, disableConfig, disableState, disabled) => {\n      const f = disabled ? disable : enable;\n      f(component, disableConfig);\n    };\n\n    var DisableApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        enable: enable,\n        disable: disable,\n        isDisabled: isDisabled,\n        onLoad: onLoad$1,\n        set: set$4\n    });\n\n    const exhibit$5 = (base, disableConfig) => nu$7({ classes: disableConfig.disabled() ? disableConfig.disableClass.toArray() : [] });\n    const events$e = (disableConfig, disableState) => derive$2([\n      abort(execute$5(), (component, _simulatedEvent) => isDisabled(component, disableConfig)),\n      loadEvent(disableConfig, disableState, onLoad$1)\n    ]);\n\n    var ActiveDisable = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$5,\n        events: events$e\n    });\n\n    var DisableSchema = [\n      defaultedFunction('disabled', never),\n      defaulted('useNative', true),\n      option$3('disableClass'),\n      onHandler('onDisabled'),\n      onHandler('onEnabled')\n    ];\n\n    const Disabling = create$4({\n      fields: DisableSchema,\n      name: 'disabling',\n      active: ActiveDisable,\n      apis: DisableApis\n    });\n\n    const dehighlightAllExcept = (component, hConfig, hState, skip) => {\n      const highlighted = descendants(component.element, '.' + hConfig.highlightClass);\n      each$1(highlighted, h => {\n        const shouldSkip = exists(skip, skipComp => eq(skipComp.element, h));\n        if (!shouldSkip) {\n          remove$2(h, hConfig.highlightClass);\n          component.getSystem().getByDom(h).each(target => {\n            hConfig.onDehighlight(component, target);\n            emit(target, dehighlight$1());\n          });\n        }\n      });\n    };\n    const dehighlightAll = (component, hConfig, hState) => dehighlightAllExcept(component, hConfig, hState, []);\n    const dehighlight = (component, hConfig, hState, target) => {\n      if (isHighlighted(component, hConfig, hState, target)) {\n        remove$2(target.element, hConfig.highlightClass);\n        hConfig.onDehighlight(component, target);\n        emit(target, dehighlight$1());\n      }\n    };\n    const highlight = (component, hConfig, hState, target) => {\n      dehighlightAllExcept(component, hConfig, hState, [target]);\n      if (!isHighlighted(component, hConfig, hState, target)) {\n        add$2(target.element, hConfig.highlightClass);\n        hConfig.onHighlight(component, target);\n        emit(target, highlight$1());\n      }\n    };\n    const highlightFirst = (component, hConfig, hState) => {\n      getFirst(component, hConfig).each(firstComp => {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    const highlightLast = (component, hConfig, hState) => {\n      getLast(component, hConfig).each(lastComp => {\n        highlight(component, hConfig, hState, lastComp);\n      });\n    };\n    const highlightAt = (component, hConfig, hState, index) => {\n      getByIndex(component, hConfig, hState, index).fold(err => {\n        throw err;\n      }, firstComp => {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    const highlightBy = (component, hConfig, hState, predicate) => {\n      const candidates = getCandidates(component, hConfig);\n      const targetComp = find$5(candidates, predicate);\n      targetComp.each(c => {\n        highlight(component, hConfig, hState, c);\n      });\n    };\n    const isHighlighted = (component, hConfig, hState, queryTarget) => has(queryTarget.element, hConfig.highlightClass);\n    const getHighlighted = (component, hConfig, _hState) => descendant(component.element, '.' + hConfig.highlightClass).bind(e => component.getSystem().getByDom(e).toOptional());\n    const getByIndex = (component, hConfig, hState, index) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      return Optional.from(items[index]).fold(() => Result.error(new Error('No element found with index ' + index)), component.getSystem().getByDom);\n    };\n    const getFirst = (component, hConfig, _hState) => descendant(component.element, '.' + hConfig.itemClass).bind(e => component.getSystem().getByDom(e).toOptional());\n    const getLast = (component, hConfig, _hState) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      const last = items.length > 0 ? Optional.some(items[items.length - 1]) : Optional.none();\n      return last.bind(c => component.getSystem().getByDom(c).toOptional());\n    };\n    const getDelta$2 = (component, hConfig, hState, delta) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      const current = findIndex$1(items, item => has(item, hConfig.highlightClass));\n      return current.bind(selected => {\n        const dest = cycleBy(selected, delta, 0, items.length - 1);\n        return component.getSystem().getByDom(items[dest]).toOptional();\n      });\n    };\n    const getPrevious = (component, hConfig, hState) => getDelta$2(component, hConfig, hState, -1);\n    const getNext = (component, hConfig, hState) => getDelta$2(component, hConfig, hState, +1);\n    const getCandidates = (component, hConfig, _hState) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      return cat(map$2(items, i => component.getSystem().getByDom(i).toOptional()));\n    };\n\n    var HighlightApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        dehighlightAll: dehighlightAll,\n        dehighlight: dehighlight,\n        highlight: highlight,\n        highlightFirst: highlightFirst,\n        highlightLast: highlightLast,\n        highlightAt: highlightAt,\n        highlightBy: highlightBy,\n        isHighlighted: isHighlighted,\n        getHighlighted: getHighlighted,\n        getFirst: getFirst,\n        getLast: getLast,\n        getPrevious: getPrevious,\n        getNext: getNext,\n        getCandidates: getCandidates\n    });\n\n    var HighlightSchema = [\n      required$1('highlightClass'),\n      required$1('itemClass'),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight')\n    ];\n\n    const Highlighting = create$4({\n      fields: HighlightSchema,\n      name: 'highlighting',\n      apis: HighlightApis\n    });\n\n    const BACKSPACE = [8];\n    const TAB = [9];\n    const ENTER = [13];\n    const ESCAPE = [27];\n    const SPACE = [32];\n    const LEFT = [37];\n    const UP = [38];\n    const RIGHT = [39];\n    const DOWN = [40];\n\n    const cyclePrev = (values, index, predicate) => {\n      const before = reverse(values.slice(0, index));\n      const after = reverse(values.slice(index + 1));\n      return find$5(before.concat(after), predicate);\n    };\n    const tryPrev = (values, index, predicate) => {\n      const before = reverse(values.slice(0, index));\n      return find$5(before, predicate);\n    };\n    const cycleNext = (values, index, predicate) => {\n      const before = values.slice(0, index);\n      const after = values.slice(index + 1);\n      return find$5(after.concat(before), predicate);\n    };\n    const tryNext = (values, index, predicate) => {\n      const after = values.slice(index + 1);\n      return find$5(after, predicate);\n    };\n\n    const inSet = keys => event => {\n      const raw = event.raw;\n      return contains$2(keys, raw.which);\n    };\n    const and = preds => event => forall(preds, pred => pred(event));\n    const isShift = event => {\n      const raw = event.raw;\n      return raw.shiftKey === true;\n    };\n    const isControl = event => {\n      const raw = event.raw;\n      return raw.ctrlKey === true;\n    };\n    const isNotShift = not(isShift);\n\n    const rule = (matches, action) => ({\n      matches,\n      classification: action\n    });\n    const choose = (transitions, event) => {\n      const transition = find$5(transitions, t => t.matches(event));\n      return transition.map(t => t.classification);\n    };\n\n    const reportFocusShifting = (component, prevFocus, newFocus) => {\n      const noChange = prevFocus.exists(p => newFocus.exists(n => eq(n, p)));\n      if (!noChange) {\n        emitWith(component, focusShifted(), {\n          prevFocus,\n          newFocus\n        });\n      }\n    };\n    const dom$2 = () => {\n      const get = component => search(component.element);\n      const set = (component, focusee) => {\n        const prevFocus = get(component);\n        component.getSystem().triggerFocus(focusee, component.element);\n        const newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get,\n        set\n      };\n    };\n    const highlights = () => {\n      const get = component => Highlighting.getHighlighted(component).map(item => item.element);\n      const set = (component, element) => {\n        const prevFocus = get(component);\n        component.getSystem().getByDom(element).fold(noop, item => {\n          Highlighting.highlight(component, item);\n        });\n        const newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    var FocusInsideModes;\n    (function (FocusInsideModes) {\n      FocusInsideModes['OnFocusMode'] = 'onFocus';\n      FocusInsideModes['OnEnterOrSpaceMode'] = 'onEnterOrSpace';\n      FocusInsideModes['OnApiMode'] = 'onApi';\n    }(FocusInsideModes || (FocusInsideModes = {})));\n\n    const typical = (infoSchema, stateInit, getKeydownRules, getKeyupRules, optFocusIn) => {\n      const schema = () => infoSchema.concat([\n        defaulted('focusManager', dom$2()),\n        defaultedOf('focusInside', 'onFocus', valueOf(val => contains$2([\n          'onFocus',\n          'onEnterOrSpace',\n          'onApi'\n        ], val) ? Result.value(val) : Result.error('Invalid value for focusInside'))),\n        output$1('handler', me),\n        output$1('state', stateInit),\n        output$1('sendFocusIn', optFocusIn)\n      ]);\n      const processKey = (component, simulatedEvent, getRules, keyingConfig, keyingState) => {\n        const rules = getRules(component, simulatedEvent, keyingConfig, keyingState);\n        return choose(rules, simulatedEvent.event).bind(rule => rule(component, simulatedEvent, keyingConfig, keyingState));\n      };\n      const toEvents = (keyingConfig, keyingState) => {\n        const onFocusHandler = keyingConfig.focusInside !== FocusInsideModes.OnFocusMode ? Optional.none() : optFocusIn(keyingConfig).map(focusIn => run$1(focus$4(), (component, simulatedEvent) => {\n          focusIn(component, keyingConfig, keyingState);\n          simulatedEvent.stop();\n        }));\n        const tryGoInsideComponent = (component, simulatedEvent) => {\n          const isEnterOrSpace = inSet(SPACE.concat(ENTER))(simulatedEvent.event);\n          if (keyingConfig.focusInside === FocusInsideModes.OnEnterOrSpaceMode && isEnterOrSpace && isSource(component, simulatedEvent)) {\n            optFocusIn(keyingConfig).each(focusIn => {\n              focusIn(component, keyingConfig, keyingState);\n              simulatedEvent.stop();\n            });\n          }\n        };\n        const keyboardEvents = [\n          run$1(keydown(), (component, simulatedEvent) => {\n            processKey(component, simulatedEvent, getKeydownRules, keyingConfig, keyingState).fold(() => {\n              tryGoInsideComponent(component, simulatedEvent);\n            }, _ => {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(keyup(), (component, simulatedEvent) => {\n            processKey(component, simulatedEvent, getKeyupRules, keyingConfig, keyingState).each(_ => {\n              simulatedEvent.stop();\n            });\n          })\n        ];\n        return derive$2(onFocusHandler.toArray().concat(keyboardEvents));\n      };\n      const me = {\n        schema,\n        processKey,\n        toEvents\n      };\n      return me;\n    };\n\n    const create$2 = cyclicField => {\n      const schema = [\n        option$3('onEscape'),\n        option$3('onEnter'),\n        defaulted('selector', '[data-alloy-tabstop=\"true\"]:not(:disabled)'),\n        defaulted('firstTabstop', 0),\n        defaulted('useTabstopAt', always),\n        option$3('visibilitySelector')\n      ].concat([cyclicField]);\n      const isVisible = (tabbingConfig, element) => {\n        const target = tabbingConfig.visibilitySelector.bind(sel => closest$1(element, sel)).getOr(element);\n        return get$d(target) > 0;\n      };\n      const findInitial = (component, tabbingConfig) => {\n        const tabstops = descendants(component.element, tabbingConfig.selector);\n        const visibles = filter$2(tabstops, elem => isVisible(tabbingConfig, elem));\n        return Optional.from(visibles[tabbingConfig.firstTabstop]);\n      };\n      const findCurrent = (component, tabbingConfig) => tabbingConfig.focusManager.get(component).bind(elem => closest$1(elem, tabbingConfig.selector));\n      const isTabstop = (tabbingConfig, element) => isVisible(tabbingConfig, element) && tabbingConfig.useTabstopAt(element);\n      const focusIn = (component, tabbingConfig, _tabbingState) => {\n        findInitial(component, tabbingConfig).each(target => {\n          tabbingConfig.focusManager.set(component, target);\n        });\n      };\n      const goFromTabstop = (component, tabstops, stopIndex, tabbingConfig, cycle) => cycle(tabstops, stopIndex, elem => isTabstop(tabbingConfig, elem)).fold(() => tabbingConfig.cyclic ? Optional.some(true) : Optional.none(), target => {\n        tabbingConfig.focusManager.set(component, target);\n        return Optional.some(true);\n      });\n      const go = (component, _simulatedEvent, tabbingConfig, cycle) => {\n        const tabstops = descendants(component.element, tabbingConfig.selector);\n        return findCurrent(component, tabbingConfig).bind(tabstop => {\n          const optStopIndex = findIndex$1(tabstops, curry(eq, tabstop));\n          return optStopIndex.bind(stopIndex => goFromTabstop(component, tabstops, stopIndex, tabbingConfig, cycle));\n        });\n      };\n      const goBackwards = (component, simulatedEvent, tabbingConfig) => {\n        const navigate = tabbingConfig.cyclic ? cyclePrev : tryPrev;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      const goForwards = (component, simulatedEvent, tabbingConfig) => {\n        const navigate = tabbingConfig.cyclic ? cycleNext : tryNext;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      const execute = (component, simulatedEvent, tabbingConfig) => tabbingConfig.onEnter.bind(f => f(component, simulatedEvent));\n      const exit = (component, simulatedEvent, tabbingConfig) => tabbingConfig.onEscape.bind(f => f(component, simulatedEvent));\n      const getKeydownRules = constant$1([\n        rule(and([\n          isShift,\n          inSet(TAB)\n        ]), goBackwards),\n        rule(inSet(TAB), goForwards),\n        rule(and([\n          isNotShift,\n          inSet(ENTER)\n        ]), execute)\n      ]);\n      const getKeyupRules = constant$1([rule(inSet(ESCAPE), exit)]);\n      return typical(schema, NoState.init, getKeydownRules, getKeyupRules, () => Optional.some(focusIn));\n    };\n\n    var AcyclicType = create$2(customField('cyclic', never));\n\n    var CyclicType = create$2(customField('cyclic', always));\n\n    const doDefaultExecute = (component, _simulatedEvent, focused) => {\n      dispatch(component, focused, execute$5());\n      return Optional.some(true);\n    };\n    const defaultExecute = (component, simulatedEvent, focused) => {\n      const isComplex = inside(focused) && inSet(SPACE)(simulatedEvent.event);\n      return isComplex ? Optional.none() : doDefaultExecute(component, simulatedEvent, focused);\n    };\n    const stopEventForFirefox = (_component, _simulatedEvent) => Optional.some(true);\n\n    const schema$v = [\n      defaulted('execute', defaultExecute),\n      defaulted('useSpace', false),\n      defaulted('useEnter', true),\n      defaulted('useControlEnter', false),\n      defaulted('useDown', false)\n    ];\n    const execute$4 = (component, simulatedEvent, executeConfig) => executeConfig.execute(component, simulatedEvent, component.element);\n    const getKeydownRules$5 = (component, _simulatedEvent, executeConfig, _executeState) => {\n      const spaceExec = executeConfig.useSpace && !inside(component.element) ? SPACE : [];\n      const enterExec = executeConfig.useEnter ? ENTER : [];\n      const downExec = executeConfig.useDown ? DOWN : [];\n      const execKeys = spaceExec.concat(enterExec).concat(downExec);\n      return [rule(inSet(execKeys), execute$4)].concat(executeConfig.useControlEnter ? [rule(and([\n          isControl,\n          inSet(ENTER)\n        ]), execute$4)] : []);\n    };\n    const getKeyupRules$5 = (component, _simulatedEvent, executeConfig, _executeState) => executeConfig.useSpace && !inside(component.element) ? [rule(inSet(SPACE), stopEventForFirefox)] : [];\n    var ExecutionType = typical(schema$v, NoState.init, getKeydownRules$5, getKeyupRules$5, () => Optional.none());\n\n    const flatgrid$1 = () => {\n      const dimensions = value$2();\n      const setGridSize = (numRows, numColumns) => {\n        dimensions.set({\n          numRows,\n          numColumns\n        });\n      };\n      const getNumRows = () => dimensions.get().map(d => d.numRows);\n      const getNumColumns = () => dimensions.get().map(d => d.numColumns);\n      return nu$8({\n        readState: () => dimensions.get().map(d => ({\n          numRows: String(d.numRows),\n          numColumns: String(d.numColumns)\n        })).getOr({\n          numRows: '?',\n          numColumns: '?'\n        }),\n        setGridSize,\n        getNumRows,\n        getNumColumns\n      });\n    };\n    const init$d = spec => spec.state(spec);\n\n    var KeyingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        flatgrid: flatgrid$1,\n        init: init$d\n    });\n\n    const useH = movement => (component, simulatedEvent, config, state) => {\n      const move = movement(component.element);\n      return use(move, component, simulatedEvent, config, state);\n    };\n    const west$1 = (moveLeft, moveRight) => {\n      const movement = onDirection(moveLeft, moveRight);\n      return useH(movement);\n    };\n    const east$1 = (moveLeft, moveRight) => {\n      const movement = onDirection(moveRight, moveLeft);\n      return useH(movement);\n    };\n    const useV = move => (component, simulatedEvent, config, state) => use(move, component, simulatedEvent, config, state);\n    const use = (move, component, simulatedEvent, config, state) => {\n      const outcome = config.focusManager.get(component).bind(focused => move(component.element, focused, config, state));\n      return outcome.map(newFocus => {\n        config.focusManager.set(component, newFocus);\n        return true;\n      });\n    };\n    const north$1 = useV;\n    const south$1 = useV;\n    const move$1 = useV;\n\n    const isHidden$1 = dom => dom.offsetWidth <= 0 && dom.offsetHeight <= 0;\n    const isVisible = element => !isHidden$1(element.dom);\n\n    const locate = (candidates, predicate) => findIndex$1(candidates, predicate).map(index => ({\n      index,\n      candidates\n    }));\n\n    const locateVisible = (container, current, selector) => {\n      const predicate = x => eq(x, current);\n      const candidates = descendants(container, selector);\n      const visible = filter$2(candidates, isVisible);\n      return locate(visible, predicate);\n    };\n    const findIndex = (elements, target) => findIndex$1(elements, elem => eq(target, elem));\n\n    const withGrid = (values, index, numCols, f) => {\n      const oldRow = Math.floor(index / numCols);\n      const oldColumn = index % numCols;\n      return f(oldRow, oldColumn).bind(address => {\n        const newIndex = address.row * numCols + address.column;\n        return newIndex >= 0 && newIndex < values.length ? Optional.some(values[newIndex]) : Optional.none();\n      });\n    };\n    const cycleHorizontal$1 = (values, index, numRows, numCols, delta) => withGrid(values, index, numCols, (oldRow, oldColumn) => {\n      const onLastRow = oldRow === numRows - 1;\n      const colsInRow = onLastRow ? values.length - oldRow * numCols : numCols;\n      const newColumn = cycleBy(oldColumn, delta, 0, colsInRow - 1);\n      return Optional.some({\n        row: oldRow,\n        column: newColumn\n      });\n    });\n    const cycleVertical$1 = (values, index, numRows, numCols, delta) => withGrid(values, index, numCols, (oldRow, oldColumn) => {\n      const newRow = cycleBy(oldRow, delta, 0, numRows - 1);\n      const onLastRow = newRow === numRows - 1;\n      const colsInRow = onLastRow ? values.length - newRow * numCols : numCols;\n      const newCol = clamp(oldColumn, 0, colsInRow - 1);\n      return Optional.some({\n        row: newRow,\n        column: newCol\n      });\n    });\n    const cycleRight$1 = (values, index, numRows, numCols) => cycleHorizontal$1(values, index, numRows, numCols, +1);\n    const cycleLeft$1 = (values, index, numRows, numCols) => cycleHorizontal$1(values, index, numRows, numCols, -1);\n    const cycleUp$1 = (values, index, numRows, numCols) => cycleVertical$1(values, index, numRows, numCols, -1);\n    const cycleDown$1 = (values, index, numRows, numCols) => cycleVertical$1(values, index, numRows, numCols, +1);\n\n    const schema$u = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('captureTab', false),\n      initSize()\n    ];\n    const focusIn$3 = (component, gridConfig, _gridState) => {\n      descendant(component.element, gridConfig.selector).each(first => {\n        gridConfig.focusManager.set(component, first);\n      });\n    };\n    const findCurrent$1 = (component, gridConfig) => gridConfig.focusManager.get(component).bind(elem => closest$1(elem, gridConfig.selector));\n    const execute$3 = (component, simulatedEvent, gridConfig, _gridState) => findCurrent$1(component, gridConfig).bind(focused => gridConfig.execute(component, simulatedEvent, focused));\n    const doMove$2 = cycle => (element, focused, gridConfig, gridState) => locateVisible(element, focused, gridConfig.selector).bind(identified => cycle(identified.candidates, identified.index, gridState.getNumRows().getOr(gridConfig.initSize.numRows), gridState.getNumColumns().getOr(gridConfig.initSize.numColumns)));\n    const handleTab = (_component, _simulatedEvent, gridConfig) => gridConfig.captureTab ? Optional.some(true) : Optional.none();\n    const doEscape$1 = (component, simulatedEvent, gridConfig) => gridConfig.onEscape(component, simulatedEvent);\n    const moveLeft$3 = doMove$2(cycleLeft$1);\n    const moveRight$3 = doMove$2(cycleRight$1);\n    const moveNorth$1 = doMove$2(cycleUp$1);\n    const moveSouth$1 = doMove$2(cycleDown$1);\n    const getKeydownRules$4 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft$3, moveRight$3)),\n      rule(inSet(RIGHT), east$1(moveLeft$3, moveRight$3)),\n      rule(inSet(UP), north$1(moveNorth$1)),\n      rule(inSet(DOWN), south$1(moveSouth$1)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(inSet(SPACE.concat(ENTER)), execute$3)\n    ]);\n    const getKeyupRules$4 = constant$1([\n      rule(inSet(ESCAPE), doEscape$1),\n      rule(inSet(SPACE), stopEventForFirefox)\n    ]);\n    var FlatgridType = typical(schema$u, flatgrid$1, getKeydownRules$4, getKeyupRules$4, () => Optional.some(focusIn$3));\n\n    const f = (container, selector, current, delta, getNewIndex) => {\n      const isDisabledButton = candidate => name$3(candidate) === 'button' && get$f(candidate, 'disabled') === 'disabled';\n      const tryNewIndex = (initial, index, candidates) => getNewIndex(initial, index, delta, 0, candidates.length - 1, candidates[index], newIndex => isDisabledButton(candidates[newIndex]) ? tryNewIndex(initial, newIndex, candidates) : Optional.from(candidates[newIndex]));\n      return locateVisible(container, current, selector).bind(identified => {\n        const index = identified.index;\n        const candidates = identified.candidates;\n        return tryNewIndex(index, index, candidates);\n      });\n    };\n    const horizontalWithoutCycles = (container, selector, current, delta) => f(container, selector, current, delta, (prevIndex, v, d, min, max, oldCandidate, onNewIndex) => {\n      const newIndex = clamp(v + d, min, max);\n      return newIndex === prevIndex ? Optional.from(oldCandidate) : onNewIndex(newIndex);\n    });\n    const horizontal = (container, selector, current, delta) => f(container, selector, current, delta, (prevIndex, v, d, min, max, _oldCandidate, onNewIndex) => {\n      const newIndex = cycleBy(v, d, min, max);\n      return newIndex === prevIndex ? Optional.none() : onNewIndex(newIndex);\n    });\n\n    const schema$t = [\n      required$1('selector'),\n      defaulted('getInitial', Optional.none),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('executeOnMove', false),\n      defaulted('allowVertical', true),\n      defaulted('allowHorizontal', true),\n      defaulted('cycles', true)\n    ];\n    const findCurrent = (component, flowConfig) => flowConfig.focusManager.get(component).bind(elem => closest$1(elem, flowConfig.selector));\n    const execute$2 = (component, simulatedEvent, flowConfig) => findCurrent(component, flowConfig).bind(focused => flowConfig.execute(component, simulatedEvent, focused));\n    const focusIn$2 = (component, flowConfig, _state) => {\n      flowConfig.getInitial(component).orThunk(() => descendant(component.element, flowConfig.selector)).each(first => {\n        flowConfig.focusManager.set(component, first);\n      });\n    };\n    const moveLeft$2 = (element, focused, info) => (info.cycles ? horizontal : horizontalWithoutCycles)(element, info.selector, focused, -1);\n    const moveRight$2 = (element, focused, info) => (info.cycles ? horizontal : horizontalWithoutCycles)(element, info.selector, focused, +1);\n    const doMove$1 = movement => (component, simulatedEvent, flowConfig, flowState) => movement(component, simulatedEvent, flowConfig, flowState).bind(() => flowConfig.executeOnMove ? execute$2(component, simulatedEvent, flowConfig) : Optional.some(true));\n    const doEscape = (component, simulatedEvent, flowConfig) => flowConfig.onEscape(component, simulatedEvent);\n    const getKeydownRules$3 = (_component, _se, flowConfig, _flowState) => {\n      const westMovers = [...flowConfig.allowHorizontal ? LEFT : []].concat(flowConfig.allowVertical ? UP : []);\n      const eastMovers = [...flowConfig.allowHorizontal ? RIGHT : []].concat(flowConfig.allowVertical ? DOWN : []);\n      return [\n        rule(inSet(westMovers), doMove$1(west$1(moveLeft$2, moveRight$2))),\n        rule(inSet(eastMovers), doMove$1(east$1(moveLeft$2, moveRight$2))),\n        rule(inSet(ENTER), execute$2),\n        rule(inSet(SPACE), execute$2)\n      ];\n    };\n    const getKeyupRules$3 = constant$1([\n      rule(inSet(SPACE), stopEventForFirefox),\n      rule(inSet(ESCAPE), doEscape)\n    ]);\n    var FlowType = typical(schema$t, NoState.init, getKeydownRules$3, getKeyupRules$3, () => Optional.some(focusIn$2));\n\n    const toCell = (matrix, rowIndex, columnIndex) => Optional.from(matrix[rowIndex]).bind(row => Optional.from(row[columnIndex]).map(cell => ({\n      rowIndex,\n      columnIndex,\n      cell\n    })));\n    const cycleHorizontal = (matrix, rowIndex, startCol, deltaCol) => {\n      const row = matrix[rowIndex];\n      const colsInRow = row.length;\n      const newColIndex = cycleBy(startCol, deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    const cycleVertical = (matrix, colIndex, startRow, deltaRow) => {\n      const nextRowIndex = cycleBy(startRow, deltaRow, 0, matrix.length - 1);\n      const colsInNextRow = matrix[nextRowIndex].length;\n      const nextColIndex = clamp(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    const moveHorizontal = (matrix, rowIndex, startCol, deltaCol) => {\n      const row = matrix[rowIndex];\n      const colsInRow = row.length;\n      const newColIndex = clamp(startCol + deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    const moveVertical = (matrix, colIndex, startRow, deltaRow) => {\n      const nextRowIndex = clamp(startRow + deltaRow, 0, matrix.length - 1);\n      const colsInNextRow = matrix[nextRowIndex].length;\n      const nextColIndex = clamp(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    const cycleRight = (matrix, startRow, startCol) => cycleHorizontal(matrix, startRow, startCol, +1);\n    const cycleLeft = (matrix, startRow, startCol) => cycleHorizontal(matrix, startRow, startCol, -1);\n    const cycleUp = (matrix, startRow, startCol) => cycleVertical(matrix, startCol, startRow, -1);\n    const cycleDown = (matrix, startRow, startCol) => cycleVertical(matrix, startCol, startRow, +1);\n    const moveLeft$1 = (matrix, startRow, startCol) => moveHorizontal(matrix, startRow, startCol, -1);\n    const moveRight$1 = (matrix, startRow, startCol) => moveHorizontal(matrix, startRow, startCol, +1);\n    const moveUp$1 = (matrix, startRow, startCol) => moveVertical(matrix, startCol, startRow, -1);\n    const moveDown$1 = (matrix, startRow, startCol) => moveVertical(matrix, startCol, startRow, +1);\n\n    const schema$s = [\n      requiredObjOf('selectors', [\n        required$1('row'),\n        required$1('cell')\n      ]),\n      defaulted('cycles', true),\n      defaulted('previousSelector', Optional.none),\n      defaulted('execute', defaultExecute)\n    ];\n    const focusIn$1 = (component, matrixConfig, _state) => {\n      const focused = matrixConfig.previousSelector(component).orThunk(() => {\n        const selectors = matrixConfig.selectors;\n        return descendant(component.element, selectors.cell);\n      });\n      focused.each(cell => {\n        matrixConfig.focusManager.set(component, cell);\n      });\n    };\n    const execute$1 = (component, simulatedEvent, matrixConfig) => search(component.element).bind(focused => matrixConfig.execute(component, simulatedEvent, focused));\n    const toMatrix = (rows, matrixConfig) => map$2(rows, row => descendants(row, matrixConfig.selectors.cell));\n    const doMove = (ifCycle, ifMove) => (element, focused, matrixConfig) => {\n      const move = matrixConfig.cycles ? ifCycle : ifMove;\n      return closest$1(focused, matrixConfig.selectors.row).bind(inRow => {\n        const cellsInRow = descendants(inRow, matrixConfig.selectors.cell);\n        return findIndex(cellsInRow, focused).bind(colIndex => {\n          const allRows = descendants(element, matrixConfig.selectors.row);\n          return findIndex(allRows, inRow).bind(rowIndex => {\n            const matrix = toMatrix(allRows, matrixConfig);\n            return move(matrix, rowIndex, colIndex).map(next => next.cell);\n          });\n        });\n      });\n    };\n    const moveLeft = doMove(cycleLeft, moveLeft$1);\n    const moveRight = doMove(cycleRight, moveRight$1);\n    const moveNorth = doMove(cycleUp, moveUp$1);\n    const moveSouth = doMove(cycleDown, moveDown$1);\n    const getKeydownRules$2 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft, moveRight)),\n      rule(inSet(RIGHT), east$1(moveLeft, moveRight)),\n      rule(inSet(UP), north$1(moveNorth)),\n      rule(inSet(DOWN), south$1(moveSouth)),\n      rule(inSet(SPACE.concat(ENTER)), execute$1)\n    ]);\n    const getKeyupRules$2 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MatrixType = typical(schema$s, NoState.init, getKeydownRules$2, getKeyupRules$2, () => Optional.some(focusIn$1));\n\n    const schema$r = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      defaulted('moveOnTab', false)\n    ];\n    const execute = (component, simulatedEvent, menuConfig) => menuConfig.focusManager.get(component).bind(focused => menuConfig.execute(component, simulatedEvent, focused));\n    const focusIn = (component, menuConfig, _state) => {\n      descendant(component.element, menuConfig.selector).each(first => {\n        menuConfig.focusManager.set(component, first);\n      });\n    };\n    const moveUp = (element, focused, info) => horizontal(element, info.selector, focused, -1);\n    const moveDown = (element, focused, info) => horizontal(element, info.selector, focused, +1);\n    const fireShiftTab = (component, simulatedEvent, menuConfig, menuState) => menuConfig.moveOnTab ? move$1(moveUp)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    const fireTab = (component, simulatedEvent, menuConfig, menuState) => menuConfig.moveOnTab ? move$1(moveDown)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    const getKeydownRules$1 = constant$1([\n      rule(inSet(UP), move$1(moveUp)),\n      rule(inSet(DOWN), move$1(moveDown)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), fireShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), fireTab),\n      rule(inSet(ENTER), execute),\n      rule(inSet(SPACE), execute)\n    ]);\n    const getKeyupRules$1 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MenuType = typical(schema$r, NoState.init, getKeydownRules$1, getKeyupRules$1, () => Optional.some(focusIn));\n\n    const schema$q = [\n      onKeyboardHandler('onSpace'),\n      onKeyboardHandler('onEnter'),\n      onKeyboardHandler('onShiftEnter'),\n      onKeyboardHandler('onLeft'),\n      onKeyboardHandler('onRight'),\n      onKeyboardHandler('onTab'),\n      onKeyboardHandler('onShiftTab'),\n      onKeyboardHandler('onUp'),\n      onKeyboardHandler('onDown'),\n      onKeyboardHandler('onEscape'),\n      defaulted('stopSpaceKeyup', false),\n      option$3('focusIn')\n    ];\n    const getKeydownRules = (component, simulatedEvent, specialInfo) => [\n      rule(inSet(SPACE), specialInfo.onSpace),\n      rule(and([\n        isNotShift,\n        inSet(ENTER)\n      ]), specialInfo.onEnter),\n      rule(and([\n        isShift,\n        inSet(ENTER)\n      ]), specialInfo.onShiftEnter),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), specialInfo.onShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), specialInfo.onTab),\n      rule(inSet(UP), specialInfo.onUp),\n      rule(inSet(DOWN), specialInfo.onDown),\n      rule(inSet(LEFT), specialInfo.onLeft),\n      rule(inSet(RIGHT), specialInfo.onRight),\n      rule(inSet(SPACE), specialInfo.onSpace)\n    ];\n    const getKeyupRules = (component, simulatedEvent, specialInfo) => [\n      ...specialInfo.stopSpaceKeyup ? [rule(inSet(SPACE), stopEventForFirefox)] : [],\n      rule(inSet(ESCAPE), specialInfo.onEscape)\n    ];\n    var SpecialType = typical(schema$q, NoState.init, getKeydownRules, getKeyupRules, specialInfo => specialInfo.focusIn);\n\n    const acyclic = AcyclicType.schema();\n    const cyclic = CyclicType.schema();\n    const flow = FlowType.schema();\n    const flatgrid = FlatgridType.schema();\n    const matrix = MatrixType.schema();\n    const execution = ExecutionType.schema();\n    const menu = MenuType.schema();\n    const special = SpecialType.schema();\n\n    var KeyboardBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        acyclic: acyclic,\n        cyclic: cyclic,\n        flow: flow,\n        flatgrid: flatgrid,\n        matrix: matrix,\n        execution: execution,\n        menu: menu,\n        special: special\n    });\n\n    const isFlatgridState = keyState => hasNonNullableKey(keyState, 'setGridSize');\n    const Keying = createModes({\n      branchKey: 'mode',\n      branches: KeyboardBranches,\n      name: 'keying',\n      active: {\n        events: (keyingConfig, keyingState) => {\n          const handler = keyingConfig.handler;\n          return handler.toEvents(keyingConfig, keyingState);\n        }\n      },\n      apis: {\n        focusIn: (component, keyConfig, keyState) => {\n          keyConfig.sendFocusIn(keyConfig).fold(() => {\n            component.getSystem().triggerFocus(component.element, component.element);\n          }, sendFocusIn => {\n            sendFocusIn(component, keyConfig, keyState);\n          });\n        },\n        setGridSize: (component, keyConfig, keyState, numRows, numColumns) => {\n          if (!isFlatgridState(keyState)) {\n            console.error('Layout does not support setGridSize');\n          } else {\n            keyState.setGridSize(numRows, numColumns);\n          }\n        }\n      },\n      state: KeyingState\n    });\n\n    const withoutReuse = (parent, data) => {\n      preserve$1(() => {\n        replaceChildren(parent, data, () => map$2(data, parent.getSystem().build));\n      }, parent.element);\n    };\n    const withReuse = (parent, data) => {\n      preserve$1(() => {\n        virtualReplaceChildren(parent, data, () => {\n          return patchSpecChildren(parent.element, data, parent.getSystem().buildOrPatch);\n        });\n      }, parent.element);\n    };\n\n    const virtualReplace = (component, replacee, replaceeIndex, childSpec) => {\n      virtualDetach(replacee);\n      const child = patchSpecChild(component.element, replaceeIndex, childSpec, component.getSystem().buildOrPatch);\n      virtualAttach(component, child);\n      component.syncComponents();\n    };\n    const insert = (component, insertion, childSpec) => {\n      const child = component.getSystem().build(childSpec);\n      attachWith(component, child, insertion);\n    };\n    const replace = (component, replacee, replaceeIndex, childSpec) => {\n      detach(replacee);\n      insert(component, (p, c) => appendAt(p, c, replaceeIndex), childSpec);\n    };\n    const set$3 = (component, replaceConfig, replaceState, data) => {\n      const replacer = replaceConfig.reuseDom ? withReuse : withoutReuse;\n      return replacer(component, data);\n    };\n    const append = (component, replaceConfig, replaceState, appendee) => {\n      insert(component, append$2, appendee);\n    };\n    const prepend = (component, replaceConfig, replaceState, prependee) => {\n      insert(component, prepend$1, prependee);\n    };\n    const remove = (component, replaceConfig, replaceState, removee) => {\n      const children = contents(component);\n      const foundChild = find$5(children, child => eq(removee.element, child.element));\n      foundChild.each(detach);\n    };\n    const contents = (component, _replaceConfig) => component.components();\n    const replaceAt = (component, replaceConfig, replaceState, replaceeIndex, replacer) => {\n      const children = contents(component);\n      return Optional.from(children[replaceeIndex]).map(replacee => {\n        replacer.fold(() => detach(replacee), r => {\n          const replacer = replaceConfig.reuseDom ? virtualReplace : replace;\n          replacer(component, replacee, replaceeIndex, r);\n        });\n        return replacee;\n      });\n    };\n    const replaceBy = (component, replaceConfig, replaceState, replaceePred, replacer) => {\n      const children = contents(component);\n      return findIndex$1(children, replaceePred).bind(replaceeIndex => replaceAt(component, replaceConfig, replaceState, replaceeIndex, replacer));\n    };\n\n    var ReplaceApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        append: append,\n        prepend: prepend,\n        remove: remove,\n        replaceAt: replaceAt,\n        replaceBy: replaceBy,\n        set: set$3,\n        contents: contents\n    });\n\n    const Replacing = create$4({\n      fields: [defaultedBoolean('reuseDom', true)],\n      name: 'replacing',\n      apis: ReplaceApis\n    });\n\n    const events$d = (name, eventHandlers) => {\n      const events = derive$2(eventHandlers);\n      return create$4({\n        fields: [required$1('enabled')],\n        name,\n        active: { events: constant$1(events) }\n      });\n    };\n    const config = (name, eventHandlers) => {\n      const me = events$d(name, eventHandlers);\n      return {\n        key: name,\n        value: {\n          config: {},\n          me,\n          configAsRaw: constant$1({}),\n          initialConfig: {},\n          state: NoState\n        }\n      };\n    };\n\n    const focus$2 = (component, focusConfig) => {\n      if (!focusConfig.ignore) {\n        focus$3(component.element);\n        focusConfig.onFocus(component);\n      }\n    };\n    const blur = (component, focusConfig) => {\n      if (!focusConfig.ignore) {\n        blur$1(component.element);\n      }\n    };\n    const isFocused = component => hasFocus(component.element);\n\n    var FocusApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        focus: focus$2,\n        blur: blur,\n        isFocused: isFocused\n    });\n\n    const exhibit$4 = (base, focusConfig) => {\n      const mod = focusConfig.ignore ? {} : { attributes: { tabindex: '-1' } };\n      return nu$7(mod);\n    };\n    const events$c = focusConfig => derive$2([run$1(focus$4(), (component, simulatedEvent) => {\n        focus$2(component, focusConfig);\n        simulatedEvent.stop();\n      })].concat(focusConfig.stopMousedown ? [run$1(mousedown(), (_, simulatedEvent) => {\n        simulatedEvent.event.prevent();\n      })] : []));\n\n    var ActiveFocus = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$4,\n        events: events$c\n    });\n\n    var FocusSchema = [\n      onHandler('onFocus'),\n      defaulted('stopMousedown', false),\n      defaulted('ignore', false)\n    ];\n\n    const Focusing = create$4({\n      fields: FocusSchema,\n      name: 'focusing',\n      active: ActiveFocus,\n      apis: FocusApis\n    });\n\n    const SetupBehaviourCellState = initialState => {\n      const init = () => {\n        const cell = Cell(initialState);\n        const get = () => cell.get();\n        const set = newState => cell.set(newState);\n        const clear = () => cell.set(initialState);\n        const readState = () => cell.get();\n        return {\n          get,\n          set,\n          clear,\n          readState\n        };\n      };\n      return { init };\n    };\n\n    const updateAriaState = (component, toggleConfig, toggleState) => {\n      const ariaInfo = toggleConfig.aria;\n      ariaInfo.update(component, ariaInfo, toggleState.get());\n    };\n    const updateClass = (component, toggleConfig, toggleState) => {\n      toggleConfig.toggleClass.each(toggleClass => {\n        if (toggleState.get()) {\n          add$2(component.element, toggleClass);\n        } else {\n          remove$2(component.element, toggleClass);\n        }\n      });\n    };\n    const set$2 = (component, toggleConfig, toggleState, state) => {\n      const initialState = toggleState.get();\n      toggleState.set(state);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n      if (initialState !== state) {\n        toggleConfig.onToggled(component, state);\n      }\n    };\n    const toggle$2 = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, !toggleState.get());\n    };\n    const on = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, true);\n    };\n    const off = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, false);\n    };\n    const isOn = (component, toggleConfig, toggleState) => toggleState.get();\n    const onLoad = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, toggleConfig.selected);\n    };\n\n    var ToggleApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad,\n        toggle: toggle$2,\n        isOn: isOn,\n        on: on,\n        off: off,\n        set: set$2\n    });\n\n    const exhibit$3 = () => nu$7({});\n    const events$b = (toggleConfig, toggleState) => {\n      const execute = executeEvent(toggleConfig, toggleState, toggle$2);\n      const load = loadEvent(toggleConfig, toggleState, onLoad);\n      return derive$2(flatten([\n        toggleConfig.toggleOnExecute ? [execute] : [],\n        [load]\n      ]));\n    };\n\n    var ActiveToggle = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$3,\n        events: events$b\n    });\n\n    const updatePressed = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-pressed', status);\n      if (ariaInfo.syncWithExpanded) {\n        updateExpanded(component, ariaInfo, status);\n      }\n    };\n    const updateSelected = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-selected', status);\n    };\n    const updateChecked = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-checked', status);\n    };\n    const updateExpanded = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-expanded', status);\n    };\n\n    var ToggleSchema = [\n      defaulted('selected', false),\n      option$3('toggleClass'),\n      defaulted('toggleOnExecute', true),\n      onHandler('onToggled'),\n      defaultedOf('aria', { mode: 'none' }, choose$1('mode', {\n        pressed: [\n          defaulted('syncWithExpanded', false),\n          output$1('update', updatePressed)\n        ],\n        checked: [output$1('update', updateChecked)],\n        expanded: [output$1('update', updateExpanded)],\n        selected: [output$1('update', updateSelected)],\n        none: [output$1('update', noop)]\n      }))\n    ];\n\n    const Toggling = create$4({\n      fields: ToggleSchema,\n      name: 'toggling',\n      active: ActiveToggle,\n      apis: ToggleApis,\n      state: SetupBehaviourCellState(false)\n    });\n\n    const pointerEvents = () => {\n      const onClick = (component, simulatedEvent) => {\n        simulatedEvent.stop();\n        emitExecute(component);\n      };\n      return [\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        cutter(touchstart()),\n        cutter(mousedown())\n      ];\n    };\n    const events$a = optAction => {\n      const executeHandler = action => runOnExecute$1((component, simulatedEvent) => {\n        action(component);\n        simulatedEvent.stop();\n      });\n      return derive$2(flatten([\n        optAction.map(executeHandler).toArray(),\n        pointerEvents()\n      ]));\n    };\n\n    const hoverEvent = 'alloy.item-hover';\n    const focusEvent = 'alloy.item-focus';\n    const toggledEvent = 'alloy.item-toggled';\n    const onHover = item => {\n      if (search(item.element).isNone() || Focusing.isFocused(item)) {\n        if (!Focusing.isFocused(item)) {\n          Focusing.focus(item);\n        }\n        emitWith(item, hoverEvent, { item });\n      }\n    };\n    const onFocus$1 = item => {\n      emitWith(item, focusEvent, { item });\n    };\n    const onToggled = (item, state) => {\n      emitWith(item, toggledEvent, {\n        item,\n        state\n      });\n    };\n    const hover = constant$1(hoverEvent);\n    const focus$1 = constant$1(focusEvent);\n    const toggled = constant$1(toggledEvent);\n\n    const getItemRole = detail => detail.toggling.map(toggling => toggling.exclusive ? 'menuitemradio' : 'menuitemcheckbox').getOr('menuitem');\n    const getTogglingSpec = tConfig => ({\n      aria: { mode: 'checked' },\n      ...filter$1(tConfig, (_value, name) => name !== 'exclusive'),\n      onToggled: (component, state) => {\n        if (isFunction(tConfig.onToggled)) {\n          tConfig.onToggled(component, state);\n        }\n        onToggled(component, state);\n      }\n    });\n    const builder$2 = detail => ({\n      dom: detail.dom,\n      domModification: {\n        ...detail.domModification,\n        attributes: {\n          'role': getItemRole(detail),\n          ...detail.domModification.attributes,\n          'aria-haspopup': detail.hasSubmenu,\n          ...detail.hasSubmenu ? { 'aria-expanded': false } : {}\n        }\n      },\n      behaviours: SketchBehaviours.augment(detail.itemBehaviours, [\n        detail.toggling.fold(Toggling.revoke, tConfig => Toggling.config(getTogglingSpec(tConfig))),\n        Focusing.config({\n          ignore: detail.ignoreFocus,\n          stopMousedown: detail.ignoreFocus,\n          onFocus: component => {\n            onFocus$1(component);\n          }\n        }),\n        Keying.config({ mode: 'execution' }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.data\n          }\n        }),\n        config('item-type-events', [\n          ...pointerEvents(),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), Focusing.focus)\n        ])\n      ]),\n      components: detail.components,\n      eventOrder: detail.eventOrder\n    });\n    const schema$p = [\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('hasSubmenu', false),\n      option$3('toggling'),\n      SketchBehaviours.field('itemBehaviours', [\n        Toggling,\n        Focusing,\n        Keying,\n        Representing\n      ]),\n      defaulted('ignoreFocus', false),\n      defaulted('domModification', {}),\n      output$1('builder', builder$2),\n      defaulted('eventOrder', {})\n    ];\n\n    const builder$1 = detail => ({\n      dom: detail.dom,\n      components: detail.components,\n      events: derive$2([stopper(focusItem())])\n    });\n    const schema$o = [\n      required$1('dom'),\n      required$1('components'),\n      output$1('builder', builder$1)\n    ];\n\n    const owner$2 = constant$1('item-widget');\n    const parts$h = constant$1([required({\n        name: 'widget',\n        overrides: detail => {\n          return {\n            behaviours: derive$1([Representing.config({\n                store: {\n                  mode: 'manual',\n                  getValue: _component => {\n                    return detail.data;\n                  },\n                  setValue: noop\n                }\n              })])\n          };\n        }\n      })]);\n\n    const builder = detail => {\n      const subs = substitutes(owner$2(), detail, parts$h());\n      const components = components$1(owner$2(), detail, subs.internals());\n      const focusWidget = component => getPart(component, detail, 'widget').map(widget => {\n        Keying.focusIn(widget);\n        return widget;\n      });\n      const onHorizontalArrow = (component, simulatedEvent) => inside(simulatedEvent.event.target) ? Optional.none() : (() => {\n        if (detail.autofocus) {\n          simulatedEvent.setSource(component.element);\n          return Optional.none();\n        } else {\n          return Optional.none();\n        }\n      })();\n      return {\n        dom: detail.dom,\n        components,\n        domModification: detail.domModification,\n        events: derive$2([\n          runOnExecute$1((component, simulatedEvent) => {\n            focusWidget(component).each(_widget => {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), (component, _simulatedEvent) => {\n            if (detail.autofocus) {\n              focusWidget(component);\n            } else {\n              Focusing.focus(component);\n            }\n          })\n        ]),\n        behaviours: SketchBehaviours.augment(detail.widgetBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            onFocus: component => {\n              onFocus$1(component);\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            focusIn: detail.autofocus ? component => {\n              focusWidget(component);\n            } : revoke(),\n            onLeft: onHorizontalArrow,\n            onRight: onHorizontalArrow,\n            onEscape: (component, simulatedEvent) => {\n              if (!Focusing.isFocused(component) && !detail.autofocus) {\n                Focusing.focus(component);\n                return Optional.some(true);\n              } else if (detail.autofocus) {\n                simulatedEvent.setSource(component.element);\n                return Optional.none();\n              } else {\n                return Optional.none();\n              }\n            }\n          })\n        ])\n      };\n    };\n    const schema$n = [\n      required$1('uid'),\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('autofocus', false),\n      defaulted('ignoreFocus', false),\n      SketchBehaviours.field('widgetBehaviours', [\n        Representing,\n        Focusing,\n        Keying\n      ]),\n      defaulted('domModification', {}),\n      defaultUidsSchema(parts$h()),\n      output$1('builder', builder)\n    ];\n\n    const itemSchema$2 = choose$1('type', {\n      widget: schema$n,\n      item: schema$p,\n      separator: schema$o\n    });\n    const configureGrid = (detail, movementInfo) => ({\n      mode: 'flatgrid',\n      selector: '.' + detail.markers.item,\n      initSize: {\n        numColumns: movementInfo.initSize.numColumns,\n        numRows: movementInfo.initSize.numRows\n      },\n      focusManager: detail.focusManager\n    });\n    const configureMatrix = (detail, movementInfo) => ({\n      mode: 'matrix',\n      selectors: {\n        row: movementInfo.rowSelector,\n        cell: '.' + detail.markers.item\n      },\n      previousSelector: movementInfo.previousSelector,\n      focusManager: detail.focusManager\n    });\n    const configureMenu = (detail, movementInfo) => ({\n      mode: 'menu',\n      selector: '.' + detail.markers.item,\n      moveOnTab: movementInfo.moveOnTab,\n      focusManager: detail.focusManager\n    });\n    const parts$g = constant$1([group({\n        factory: {\n          sketch: spec => {\n            const itemInfo = asRawOrDie$1('menu.spec item', itemSchema$2, spec);\n            return itemInfo.builder(itemInfo);\n          }\n        },\n        name: 'items',\n        unit: 'item',\n        defaults: (detail, u) => {\n          return has$2(u, 'uid') ? u : {\n            ...u,\n            uid: generate$5('item')\n          };\n        },\n        overrides: (detail, u) => {\n          return {\n            type: u.type,\n            ignoreFocus: detail.fakeFocus,\n            domModification: { classes: [detail.markers.item] }\n          };\n        }\n      })]);\n    const schema$m = constant$1([\n      required$1('value'),\n      required$1('items'),\n      required$1('dom'),\n      required$1('components'),\n      defaulted('eventOrder', {}),\n      field('menuBehaviours', [\n        Highlighting,\n        Representing,\n        Composing,\n        Keying\n      ]),\n      defaultedOf('movement', {\n        mode: 'menu',\n        moveOnTab: true\n      }, choose$1('mode', {\n        grid: [\n          initSize(),\n          output$1('config', configureGrid)\n        ],\n        matrix: [\n          output$1('config', configureMatrix),\n          required$1('rowSelector'),\n          defaulted('previousSelector', Optional.none)\n        ],\n        menu: [\n          defaulted('moveOnTab', true),\n          output$1('config', configureMenu)\n        ]\n      })),\n      itemMarkers(),\n      defaulted('fakeFocus', false),\n      defaulted('focusManager', dom$2()),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight')\n    ]);\n\n    const focus = constant$1('alloy.menu-focus');\n\n    const deselectOtherRadioItems = (menu, item) => {\n      const checkedRadioItems = descendants(menu.element, '[role=\"menuitemradio\"][aria-checked=\"true\"]');\n      each$1(checkedRadioItems, ele => {\n        if (!eq(ele, item.element)) {\n          menu.getSystem().getByDom(ele).each(c => {\n            Toggling.off(c);\n          });\n        }\n      });\n    };\n    const make$7 = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      markers: detail.markers,\n      behaviours: augment(detail.menuBehaviours, [\n        Highlighting.config({\n          highlightClass: detail.markers.selectedItem,\n          itemClass: detail.markers.item,\n          onHighlight: detail.onHighlight,\n          onDehighlight: detail.onDehighlight\n        }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.value\n          }\n        }),\n        Composing.config({ find: Optional.some }),\n        Keying.config(detail.movement.config(detail, detail.movement))\n      ]),\n      events: derive$2([\n        run$1(focus$1(), (menu, simulatedEvent) => {\n          const event = simulatedEvent.event;\n          menu.getSystem().getByDom(event.target).each(item => {\n            Highlighting.highlight(menu, item);\n            simulatedEvent.stop();\n            emitWith(menu, focus(), {\n              menu,\n              item\n            });\n          });\n        }),\n        run$1(hover(), (menu, simulatedEvent) => {\n          const item = simulatedEvent.event.item;\n          Highlighting.highlight(menu, item);\n        }),\n        run$1(toggled(), (menu, simulatedEvent) => {\n          const {item, state} = simulatedEvent.event;\n          if (state && get$f(item.element, 'role') === 'menuitemradio') {\n            deselectOtherRadioItems(menu, item);\n          }\n        })\n      ]),\n      components,\n      eventOrder: detail.eventOrder,\n      domModification: { attributes: { role: 'menu' } }\n    });\n\n    const Menu = composite({\n      name: 'Menu',\n      configFields: schema$m(),\n      partFields: parts$g(),\n      factory: make$7\n    });\n\n    const transpose$1 = obj => tupleMap(obj, (v, k) => ({\n      k: v,\n      v: k\n    }));\n    const trace = (items, byItem, byMenu, finish) => get$g(byMenu, finish).bind(triggerItem => get$g(items, triggerItem).bind(triggerMenu => {\n      const rest = trace(items, byItem, byMenu, triggerMenu);\n      return Optional.some([triggerMenu].concat(rest));\n    })).getOr([]);\n    const generate$2 = (menus, expansions) => {\n      const items = {};\n      each(menus, (menuItems, menu) => {\n        each$1(menuItems, item => {\n          items[item] = menu;\n        });\n      });\n      const byItem = expansions;\n      const byMenu = transpose$1(expansions);\n      const menuPaths = map$1(byMenu, (_triggerItem, submenu) => [submenu].concat(trace(items, byItem, byMenu, submenu)));\n      return map$1(items, menu => get$g(menuPaths, menu).getOr([menu]));\n    };\n\n    const init$c = () => {\n      const expansions = Cell({});\n      const menus = Cell({});\n      const paths = Cell({});\n      const primary = value$2();\n      const directory = Cell({});\n      const clear = () => {\n        expansions.set({});\n        menus.set({});\n        paths.set({});\n        primary.clear();\n      };\n      const isClear = () => primary.get().isNone();\n      const setMenuBuilt = (menuName, built) => {\n        menus.set({\n          ...menus.get(),\n          [menuName]: {\n            type: 'prepared',\n            menu: built\n          }\n        });\n      };\n      const setContents = (sPrimary, sMenus, sExpansions, dir) => {\n        primary.set(sPrimary);\n        expansions.set(sExpansions);\n        menus.set(sMenus);\n        directory.set(dir);\n        const sPaths = generate$2(dir, sExpansions);\n        paths.set(sPaths);\n      };\n      const getTriggeringItem = menuValue => find$4(expansions.get(), (v, _k) => v === menuValue);\n      const getTriggerData = (menuValue, getItemByValue, path) => getPreparedMenu(menuValue).bind(menu => getTriggeringItem(menuValue).bind(triggeringItemValue => getItemByValue(triggeringItemValue).map(triggeredItem => ({\n        triggeredMenu: menu,\n        triggeringItem: triggeredItem,\n        triggeringPath: path\n      }))));\n      const getTriggeringPath = (itemValue, getItemByValue) => {\n        const extraPath = filter$2(lookupItem(itemValue).toArray(), menuValue => getPreparedMenu(menuValue).isSome());\n        return get$g(paths.get(), itemValue).bind(path => {\n          const revPath = reverse(extraPath.concat(path));\n          const triggers = bind$3(revPath, (menuValue, menuIndex) => getTriggerData(menuValue, getItemByValue, revPath.slice(0, menuIndex + 1)).fold(() => is$1(primary.get(), menuValue) ? [] : [Optional.none()], data => [Optional.some(data)]));\n          return sequence(triggers);\n        });\n      };\n      const expand = itemValue => get$g(expansions.get(), itemValue).map(menu => {\n        const current = get$g(paths.get(), itemValue).getOr([]);\n        return [menu].concat(current);\n      });\n      const collapse = itemValue => get$g(paths.get(), itemValue).bind(path => path.length > 1 ? Optional.some(path.slice(1)) : Optional.none());\n      const refresh = itemValue => get$g(paths.get(), itemValue);\n      const getPreparedMenu = menuValue => lookupMenu(menuValue).bind(extractPreparedMenu);\n      const lookupMenu = menuValue => get$g(menus.get(), menuValue);\n      const lookupItem = itemValue => get$g(expansions.get(), itemValue);\n      const otherMenus = path => {\n        const menuValues = directory.get();\n        return difference(keys(menuValues), path);\n      };\n      const getPrimary = () => primary.get().bind(getPreparedMenu);\n      const getMenus = () => menus.get();\n      return {\n        setMenuBuilt,\n        setContents,\n        expand,\n        refresh,\n        collapse,\n        lookupMenu,\n        lookupItem,\n        otherMenus,\n        getPrimary,\n        getMenus,\n        clear,\n        isClear,\n        getTriggeringPath\n      };\n    };\n    const extractPreparedMenu = prep => prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none();\n    const LayeredState = {\n      init: init$c,\n      extractPreparedMenu\n    };\n\n    const onMenuItemHighlightedEvent = generate$6('tiered-menu-item-highlight');\n    const onMenuItemDehighlightedEvent = generate$6('tiered-menu-item-dehighlight');\n\n    var HighlightOnOpen;\n    (function (HighlightOnOpen) {\n      HighlightOnOpen[HighlightOnOpen['HighlightMenuAndItem'] = 0] = 'HighlightMenuAndItem';\n      HighlightOnOpen[HighlightOnOpen['HighlightJustMenu'] = 1] = 'HighlightJustMenu';\n      HighlightOnOpen[HighlightOnOpen['HighlightNone'] = 2] = 'HighlightNone';\n    }(HighlightOnOpen || (HighlightOnOpen = {})));\n\n    const make$6 = (detail, _rawUiSpec) => {\n      const submenuParentItems = value$2();\n      const buildMenus = (container, primaryName, menus) => map$1(menus, (spec, name) => {\n        const makeSketch = () => Menu.sketch({\n          ...spec,\n          value: name,\n          markers: detail.markers,\n          fakeFocus: detail.fakeFocus,\n          onHighlight: (menuComp, itemComp) => {\n            const highlightData = {\n              menuComp,\n              itemComp\n            };\n            emitWith(menuComp, onMenuItemHighlightedEvent, highlightData);\n          },\n          onDehighlight: (menuComp, itemComp) => {\n            const dehighlightData = {\n              menuComp,\n              itemComp\n            };\n            emitWith(menuComp, onMenuItemDehighlightedEvent, dehighlightData);\n          },\n          focusManager: detail.fakeFocus ? highlights() : dom$2()\n        });\n        return name === primaryName ? {\n          type: 'prepared',\n          menu: container.getSystem().build(makeSketch())\n        } : {\n          type: 'notbuilt',\n          nbMenu: makeSketch\n        };\n      });\n      const layeredState = LayeredState.init();\n      const setup = container => {\n        const componentMap = buildMenus(container, detail.data.primary, detail.data.menus);\n        const directory = toDirectory();\n        layeredState.setContents(detail.data.primary, componentMap, detail.data.expansions, directory);\n        return layeredState.getPrimary();\n      };\n      const getItemValue = item => Representing.getValue(item).value;\n      const getItemByValue = (_container, menus, itemValue) => findMap(menus, menu => {\n        if (!menu.getSystem().isConnected()) {\n          return Optional.none();\n        }\n        const candidates = Highlighting.getCandidates(menu);\n        return find$5(candidates, c => getItemValue(c) === itemValue);\n      });\n      const toDirectory = _container => map$1(detail.data.menus, (data, _menuName) => bind$3(data.items, item => item.type === 'separator' ? [] : [item.data.value]));\n      const setActiveMenu = Highlighting.highlight;\n      const setActiveMenuAndItem = (container, menu) => {\n        setActiveMenu(container, menu);\n        Highlighting.getHighlighted(menu).orThunk(() => Highlighting.getFirst(menu)).each(item => {\n          if (detail.fakeFocus) {\n            Highlighting.highlight(menu, item);\n          } else {\n            dispatch(container, item.element, focusItem());\n          }\n        });\n      };\n      const getMenus = (state, menuValues) => cat(map$2(menuValues, mv => state.lookupMenu(mv).bind(prep => prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none())));\n      const closeOthers = (container, state, path) => {\n        const others = getMenus(state, state.otherMenus(path));\n        each$1(others, o => {\n          remove$1(o.element, [detail.markers.backgroundMenu]);\n          if (!detail.stayInDom) {\n            Replacing.remove(container, o);\n          }\n        });\n      };\n      const getSubmenuParents = container => submenuParentItems.get().getOrThunk(() => {\n        const r = {};\n        const items = descendants(container.element, `.${ detail.markers.item }`);\n        const parentItems = filter$2(items, i => get$f(i, 'aria-haspopup') === 'true');\n        each$1(parentItems, i => {\n          container.getSystem().getByDom(i).each(itemComp => {\n            const key = getItemValue(itemComp);\n            r[key] = itemComp;\n          });\n        });\n        submenuParentItems.set(r);\n        return r;\n      });\n      const updateAriaExpansions = (container, path) => {\n        const parentItems = getSubmenuParents(container);\n        each(parentItems, (v, k) => {\n          const expanded = contains$2(path, k);\n          set$9(v.element, 'aria-expanded', expanded);\n        });\n      };\n      const updateMenuPath = (container, state, path) => Optional.from(path[0]).bind(latestMenuName => state.lookupMenu(latestMenuName).bind(menuPrep => {\n        if (menuPrep.type === 'notbuilt') {\n          return Optional.none();\n        } else {\n          const activeMenu = menuPrep.menu;\n          const rest = getMenus(state, path.slice(1));\n          each$1(rest, r => {\n            add$2(r.element, detail.markers.backgroundMenu);\n          });\n          if (!inBody(activeMenu.element)) {\n            Replacing.append(container, premade(activeMenu));\n          }\n          remove$1(activeMenu.element, [detail.markers.backgroundMenu]);\n          setActiveMenuAndItem(container, activeMenu);\n          closeOthers(container, state, path);\n          return Optional.some(activeMenu);\n        }\n      }));\n      let ExpandHighlightDecision;\n      (function (ExpandHighlightDecision) {\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightSubmenu'] = 0] = 'HighlightSubmenu';\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightParent'] = 1] = 'HighlightParent';\n      }(ExpandHighlightDecision || (ExpandHighlightDecision = {})));\n      const buildIfRequired = (container, menuName, menuPrep) => {\n        if (menuPrep.type === 'notbuilt') {\n          const menu = container.getSystem().build(menuPrep.nbMenu());\n          layeredState.setMenuBuilt(menuName, menu);\n          return menu;\n        } else {\n          return menuPrep.menu;\n        }\n      };\n      const expandRight = (container, item, decision = ExpandHighlightDecision.HighlightSubmenu) => {\n        if (item.hasConfigured(Disabling) && Disabling.isDisabled(item)) {\n          return Optional.some(item);\n        } else {\n          const value = getItemValue(item);\n          return layeredState.expand(value).bind(path => {\n            updateAriaExpansions(container, path);\n            return Optional.from(path[0]).bind(menuName => layeredState.lookupMenu(menuName).bind(activeMenuPrep => {\n              const activeMenu = buildIfRequired(container, menuName, activeMenuPrep);\n              if (!inBody(activeMenu.element)) {\n                Replacing.append(container, premade(activeMenu));\n              }\n              detail.onOpenSubmenu(container, item, activeMenu, reverse(path));\n              if (decision === ExpandHighlightDecision.HighlightSubmenu) {\n                Highlighting.highlightFirst(activeMenu);\n                return updateMenuPath(container, layeredState, path);\n              } else {\n                Highlighting.dehighlightAll(activeMenu);\n                return Optional.some(item);\n              }\n            }));\n          });\n        }\n      };\n      const collapseLeft = (container, item) => {\n        const value = getItemValue(item);\n        return layeredState.collapse(value).bind(path => {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path).map(activeMenu => {\n            detail.onCollapseMenu(container, item, activeMenu);\n            return activeMenu;\n          });\n        });\n      };\n      const updateView = (container, item) => {\n        const value = getItemValue(item);\n        return layeredState.refresh(value).bind(path => {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path);\n        });\n      };\n      const onRight = (container, item) => inside(item.element) ? Optional.none() : expandRight(container, item, ExpandHighlightDecision.HighlightSubmenu);\n      const onLeft = (container, item) => inside(item.element) ? Optional.none() : collapseLeft(container, item);\n      const onEscape = (container, item) => collapseLeft(container, item).orThunk(() => detail.onEscape(container, item).map(() => container));\n      const keyOnItem = f => (container, simulatedEvent) => {\n        return closest$1(simulatedEvent.getSource(), `.${ detail.markers.item }`).bind(target => container.getSystem().getByDom(target).toOptional().bind(item => f(container, item).map(always)));\n      };\n      const events = derive$2([\n        run$1(focus(), (tmenu, simulatedEvent) => {\n          const item = simulatedEvent.event.item;\n          layeredState.lookupItem(getItemValue(item)).each(() => {\n            const menu = simulatedEvent.event.menu;\n            Highlighting.highlight(tmenu, menu);\n            const value = getItemValue(simulatedEvent.event.item);\n            layeredState.refresh(value).each(path => closeOthers(tmenu, layeredState, path));\n          });\n        }),\n        runOnExecute$1((component, simulatedEvent) => {\n          const target = simulatedEvent.event.target;\n          component.getSystem().getByDom(target).each(item => {\n            const itemValue = getItemValue(item);\n            if (itemValue.indexOf('collapse-item') === 0) {\n              collapseLeft(component, item);\n            }\n            expandRight(component, item, ExpandHighlightDecision.HighlightSubmenu).fold(() => {\n              detail.onExecute(component, item);\n            }, noop);\n          });\n        }),\n        runOnAttached((container, _simulatedEvent) => {\n          setup(container).each(primary => {\n            Replacing.append(container, premade(primary));\n            detail.onOpenMenu(container, primary);\n            if (detail.highlightOnOpen === HighlightOnOpen.HighlightMenuAndItem) {\n              setActiveMenuAndItem(container, primary);\n            } else if (detail.highlightOnOpen === HighlightOnOpen.HighlightJustMenu) {\n              setActiveMenu(container, primary);\n            }\n          });\n        }),\n        run$1(onMenuItemHighlightedEvent, (tmenuComp, se) => {\n          detail.onHighlightItem(tmenuComp, se.event.menuComp, se.event.itemComp);\n        }),\n        run$1(onMenuItemDehighlightedEvent, (tmenuComp, se) => {\n          detail.onDehighlightItem(tmenuComp, se.event.menuComp, se.event.itemComp);\n        }),\n        ...detail.navigateOnHover ? [run$1(hover(), (tmenu, simulatedEvent) => {\n            const item = simulatedEvent.event.item;\n            updateView(tmenu, item);\n            expandRight(tmenu, item, ExpandHighlightDecision.HighlightParent);\n            detail.onHover(tmenu, item);\n          })] : []\n      ]);\n      const getActiveItem = container => Highlighting.getHighlighted(container).bind(Highlighting.getHighlighted);\n      const collapseMenuApi = container => {\n        getActiveItem(container).each(currentItem => {\n          collapseLeft(container, currentItem);\n        });\n      };\n      const highlightPrimary = container => {\n        layeredState.getPrimary().each(primary => {\n          setActiveMenuAndItem(container, primary);\n        });\n      };\n      const extractMenuFromContainer = container => Optional.from(container.components()[0]).filter(comp => get$f(comp.element, 'role') === 'menu');\n      const repositionMenus = container => {\n        const maybeActivePrimary = layeredState.getPrimary().bind(primary => getActiveItem(container).bind(currentItem => {\n          const itemValue = getItemValue(currentItem);\n          const allMenus = values(layeredState.getMenus());\n          const preparedMenus = cat(map$2(allMenus, LayeredState.extractPreparedMenu));\n          return layeredState.getTriggeringPath(itemValue, v => getItemByValue(container, preparedMenus, v));\n        }).map(triggeringPath => ({\n          primary,\n          triggeringPath\n        })));\n        maybeActivePrimary.fold(() => {\n          extractMenuFromContainer(container).each(primaryMenu => {\n            detail.onRepositionMenu(container, primaryMenu, []);\n          });\n        }, ({primary, triggeringPath}) => {\n          detail.onRepositionMenu(container, primary, triggeringPath);\n        });\n      };\n      const apis = {\n        collapseMenu: collapseMenuApi,\n        highlightPrimary,\n        repositionMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.tmenuBehaviours, [\n          Keying.config({\n            mode: 'special',\n            onRight: keyOnItem(onRight),\n            onLeft: keyOnItem(onLeft),\n            onEscape: keyOnItem(onEscape),\n            focusIn: (container, _keyInfo) => {\n              layeredState.getPrimary().each(primary => {\n                dispatch(container, primary.element, focusItem());\n              });\n            }\n          }),\n          Highlighting.config({\n            highlightClass: detail.markers.selectedMenu,\n            itemClass: detail.markers.menu\n          }),\n          Composing.config({\n            find: container => {\n              return Highlighting.getHighlighted(container);\n            }\n          }),\n          Replacing.config({})\n        ]),\n        eventOrder: detail.eventOrder,\n        apis,\n        events\n      };\n    };\n    const collapseItem$1 = constant$1('collapse-item');\n\n    const tieredData = (primary, menus, expansions) => ({\n      primary,\n      menus,\n      expansions\n    });\n    const singleData = (name, menu) => ({\n      primary: name,\n      menus: wrap$1(name, menu),\n      expansions: {}\n    });\n    const collapseItem = text => ({\n      value: generate$6(collapseItem$1()),\n      meta: { text }\n    });\n    const tieredMenu = single({\n      name: 'TieredMenu',\n      configFields: [\n        onStrictKeyboardHandler('onExecute'),\n        onStrictKeyboardHandler('onEscape'),\n        onStrictHandler('onOpenMenu'),\n        onStrictHandler('onOpenSubmenu'),\n        onHandler('onRepositionMenu'),\n        onHandler('onCollapseMenu'),\n        defaulted('highlightOnOpen', HighlightOnOpen.HighlightMenuAndItem),\n        requiredObjOf('data', [\n          required$1('primary'),\n          required$1('menus'),\n          required$1('expansions')\n        ]),\n        defaulted('fakeFocus', false),\n        onHandler('onHighlightItem'),\n        onHandler('onDehighlightItem'),\n        onHandler('onHover'),\n        tieredMenuMarkers(),\n        required$1('dom'),\n        defaulted('navigateOnHover', true),\n        defaulted('stayInDom', false),\n        field('tmenuBehaviours', [\n          Keying,\n          Highlighting,\n          Composing,\n          Replacing\n        ]),\n        defaulted('eventOrder', {})\n      ],\n      apis: {\n        collapseMenu: (apis, tmenu) => {\n          apis.collapseMenu(tmenu);\n        },\n        highlightPrimary: (apis, tmenu) => {\n          apis.highlightPrimary(tmenu);\n        },\n        repositionMenus: (apis, tmenu) => {\n          apis.repositionMenus(tmenu);\n        }\n      },\n      factory: make$6,\n      extraApis: {\n        tieredData,\n        singleData,\n        collapseItem\n      }\n    });\n\n    const makeMenu = (detail, menuSandbox, placementSpec, menuSpec, getBounds) => {\n      const lazySink = () => detail.lazySink(menuSandbox);\n      const layouts = menuSpec.type === 'horizontal' ? {\n        layouts: {\n          onLtr: () => belowOrAbove(),\n          onRtl: () => belowOrAboveRtl()\n        }\n      } : {};\n      const isFirstTierSubmenu = triggeringPaths => triggeringPaths.length === 2;\n      const getSubmenuLayouts = triggeringPaths => isFirstTierSubmenu(triggeringPaths) ? layouts : {};\n      return tieredMenu.sketch({\n        dom: { tag: 'div' },\n        data: menuSpec.data,\n        markers: menuSpec.menu.markers,\n        highlightOnOpen: menuSpec.menu.highlightOnOpen,\n        fakeFocus: menuSpec.menu.fakeFocus,\n        onEscape: () => {\n          Sandboxing.close(menuSandbox);\n          detail.onEscape.map(handler => handler(menuSandbox));\n          return Optional.some(true);\n        },\n        onExecute: () => {\n          return Optional.some(true);\n        },\n        onOpenMenu: (tmenu, menu) => {\n          Positioning.positionWithinBounds(lazySink().getOrDie(), menu, placementSpec, getBounds());\n        },\n        onOpenSubmenu: (tmenu, item, submenu, triggeringPaths) => {\n          const sink = lazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: {\n              type: 'submenu',\n              item,\n              ...getSubmenuLayouts(triggeringPaths)\n            }\n          });\n        },\n        onRepositionMenu: (tmenu, primaryMenu, submenuTriggers) => {\n          const sink = lazySink().getOrDie();\n          Positioning.positionWithinBounds(sink, primaryMenu, placementSpec, getBounds());\n          each$1(submenuTriggers, st => {\n            const submenuLayouts = getSubmenuLayouts(st.triggeringPath);\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: {\n                type: 'submenu',\n                item: st.triggeringItem,\n                ...submenuLayouts\n              }\n            });\n          });\n        }\n      });\n    };\n    const factory$o = (detail, spec) => {\n      const isPartOfRelated = (sandbox, queryElem) => {\n        const related = detail.getRelated(sandbox);\n        return related.exists(rel => isPartOf$1(rel, queryElem));\n      };\n      const setContent = (sandbox, thing) => {\n        Sandboxing.setContent(sandbox, thing);\n      };\n      const showAt = (sandbox, thing, placementSpec) => {\n        const getBounds = Optional.none;\n        showWithinBounds(sandbox, thing, placementSpec, getBounds);\n      };\n      const showWithinBounds = (sandbox, thing, placementSpec, getBounds) => {\n        const sink = detail.lazySink(sandbox).getOrDie();\n        Sandboxing.openWhileCloaked(sandbox, thing, () => Positioning.positionWithinBounds(sink, sandbox, placementSpec, getBounds()));\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'position',\n          config: placementSpec,\n          getBounds\n        }));\n      };\n      const showMenuAt = (sandbox, placementSpec, menuSpec) => {\n        showMenuWithinBounds(sandbox, placementSpec, menuSpec, Optional.none);\n      };\n      const showMenuWithinBounds = (sandbox, placementSpec, menuSpec, getBounds) => {\n        const menu = makeMenu(detail, sandbox, placementSpec, menuSpec, getBounds);\n        Sandboxing.open(sandbox, menu);\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'menu',\n          menu\n        }));\n      };\n      const hide = sandbox => {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.setValue(sandbox, Optional.none());\n          Sandboxing.close(sandbox);\n        }\n      };\n      const getContent = sandbox => Sandboxing.getState(sandbox);\n      const reposition = sandbox => {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.getValue(sandbox).each(state => {\n            switch (state.mode) {\n            case 'menu':\n              Sandboxing.getState(sandbox).each(tieredMenu.repositionMenus);\n              break;\n            case 'position':\n              const sink = detail.lazySink(sandbox).getOrDie();\n              Positioning.positionWithinBounds(sink, sandbox, state.config, state.getBounds());\n              break;\n            }\n          });\n        }\n      };\n      const apis = {\n        setContent,\n        showAt,\n        showWithinBounds,\n        showMenuAt,\n        showMenuWithinBounds,\n        hide,\n        getContent,\n        reposition,\n        isOpen: Sandboxing.isOpen\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.inlineBehaviours, [\n          Sandboxing.config({\n            isPartOf: (sandbox, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOfRelated(sandbox, queryElem);\n            },\n            getAttachPoint: sandbox => {\n              return detail.lazySink(sandbox).getOrDie();\n            },\n            onOpen: sandbox => {\n              detail.onShow(sandbox);\n            },\n            onClose: sandbox => {\n              detail.onHide(sandbox);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: Optional.none()\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({\n                isExtraPart: spec.isExtraPart,\n                ...detail.fireDismissalEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({})\n              }),\n              ...receivingChannel({\n                ...detail.fireRepositionEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({}),\n                doReposition: reposition\n              })\n            }\n          })\n        ]),\n        eventOrder: detail.eventOrder,\n        apis\n      };\n    };\n    const InlineView = single({\n      name: 'InlineView',\n      configFields: [\n        required$1('lazySink'),\n        onHandler('onShow'),\n        onHandler('onHide'),\n        optionFunction('onEscape'),\n        field('inlineBehaviours', [\n          Sandboxing,\n          Representing,\n          Receiving\n        ]),\n        optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n        optionObjOf('fireRepositionEventInstead', [defaulted('event', repositionRequested())]),\n        defaulted('getRelated', Optional.none),\n        defaulted('isExtraPart', never),\n        defaulted('eventOrder', Optional.none)\n      ],\n      factory: factory$o,\n      apis: {\n        showAt: (apis, component, anchor, thing) => {\n          apis.showAt(component, anchor, thing);\n        },\n        showWithinBounds: (apis, component, anchor, thing, bounds) => {\n          apis.showWithinBounds(component, anchor, thing, bounds);\n        },\n        showMenuAt: (apis, component, anchor, menuSpec) => {\n          apis.showMenuAt(component, anchor, menuSpec);\n        },\n        showMenuWithinBounds: (apis, component, anchor, menuSpec, bounds) => {\n          apis.showMenuWithinBounds(component, anchor, menuSpec, bounds);\n        },\n        hide: (apis, component) => {\n          apis.hide(component);\n        },\n        isOpen: (apis, component) => apis.isOpen(component),\n        getContent: (apis, component) => apis.getContent(component),\n        setContent: (apis, component, thing) => {\n          apis.setContent(component, thing);\n        },\n        reposition: (apis, component) => {\n          apis.reposition(component);\n        }\n      }\n    });\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    const factory$n = detail => {\n      const events = events$a(detail.action);\n      const tag = detail.dom.tag;\n      const lookupAttr = attr => get$g(detail.dom, 'attributes').bind(attrs => get$g(attrs, attr));\n      const getModAttributes = () => {\n        if (tag === 'button') {\n          const type = lookupAttr('type').getOr('button');\n          const roleAttrs = lookupAttr('role').map(role => ({ role })).getOr({});\n          return {\n            type,\n            ...roleAttrs\n          };\n        } else {\n          const role = detail.role.getOr(lookupAttr('role').getOr('button'));\n          return { role };\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events,\n        behaviours: SketchBehaviours.augment(detail.buttonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          })\n        ]),\n        domModification: { attributes: getModAttributes() },\n        eventOrder: detail.eventOrder\n      };\n    };\n    const Button = single({\n      name: 'Button',\n      factory: factory$n,\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('dom'),\n        defaulted('components', []),\n        SketchBehaviours.field('buttonBehaviours', [\n          Focusing,\n          Keying\n        ]),\n        option$3('action'),\n        option$3('role'),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    const record = spec => {\n      const uid = isSketchSpec(spec) && hasNonNullableKey(spec, 'uid') ? spec.uid : generate$5('memento');\n      const get = anyInSystem => anyInSystem.getSystem().getByUid(uid).getOrDie();\n      const getOpt = anyInSystem => anyInSystem.getSystem().getByUid(uid).toOptional();\n      const asSpec = () => ({\n        ...spec,\n        uid\n      });\n      return {\n        get,\n        getOpt,\n        asSpec\n      };\n    };\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    const rtlTransform = {\n      'indent': true,\n      'outdent': true,\n      'table-insert-column-after': true,\n      'table-insert-column-before': true,\n      'paste-column-after': true,\n      'paste-column-before': true,\n      'unordered-list': true,\n      'list-bull-circle': true,\n      'list-bull-default': true,\n      'list-bull-square': true\n    };\n    const defaultIconName = 'temporary-placeholder';\n    const defaultIcon = icons => () => get$g(icons, defaultIconName).getOr('!not found!');\n    const getIconName = (name, icons) => {\n      const lcName = name.toLowerCase();\n      if (global$8.isRtl()) {\n        const rtlName = ensureTrailing(lcName, '-rtl');\n        return has$2(icons, rtlName) ? rtlName : lcName;\n      } else {\n        return lcName;\n      }\n    };\n    const lookupIcon = (name, icons) => get$g(icons, getIconName(name, icons));\n    const get$2 = (name, iconProvider) => {\n      const icons = iconProvider();\n      return lookupIcon(name, icons).getOrThunk(defaultIcon(icons));\n    };\n    const getOr = (name, iconProvider, fallbackIcon) => {\n      const icons = iconProvider();\n      return lookupIcon(name, icons).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n    };\n    const needsRtlTransform = iconName => global$8.isRtl() ? has$2(rtlTransform, iconName) : false;\n    const addFocusableBehaviour = () => config('add-focusable', [runOnAttached(comp => {\n        child(comp.element, 'svg').each(svg => set$9(svg, 'focusable', 'false'));\n      })]);\n    const renderIcon$3 = (spec, iconName, icons, fallbackIcon) => {\n      var _a, _b;\n      const rtlIconClasses = needsRtlTransform(iconName) ? ['tox-icon--flip'] : [];\n      const iconHtml = get$g(icons, getIconName(iconName, icons)).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n      return {\n        dom: {\n          tag: spec.tag,\n          attributes: (_a = spec.attributes) !== null && _a !== void 0 ? _a : {},\n          classes: spec.classes.concat(rtlIconClasses),\n          innerHtml: iconHtml\n        },\n        behaviours: derive$1([\n          ...(_b = spec.behaviours) !== null && _b !== void 0 ? _b : [],\n          addFocusableBehaviour()\n        ])\n      };\n    };\n    const render$3 = (iconName, spec, iconProvider, fallbackIcon = Optional.none()) => renderIcon$3(spec, iconName, iconProvider(), fallbackIcon);\n    const renderFirst = (iconNames, spec, iconProvider) => {\n      const icons = iconProvider();\n      const iconName = find$5(iconNames, name => has$2(icons, getIconName(name, icons)));\n      return renderIcon$3(spec, iconName.getOr(defaultIconName), icons, Optional.none());\n    };\n\n    const notificationIconMap = {\n      success: 'checkmark',\n      error: 'warning',\n      err: 'error',\n      warning: 'warning',\n      warn: 'warning',\n      info: 'info'\n    };\n    const factory$m = detail => {\n      const memBannerText = record({\n        dom: {\n          tag: 'p',\n          innerHtml: detail.translationProvider(detail.text)\n        },\n        behaviours: derive$1([Replacing.config({})])\n      });\n      const renderPercentBar = percent => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-bar'],\n          styles: { width: `${ percent }%` }\n        }\n      });\n      const renderPercentText = percent => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-text'],\n          innerHtml: `${ percent }%`\n        }\n      });\n      const memBannerProgress = record({\n        dom: {\n          tag: 'div',\n          classes: detail.progress ? [\n            'tox-progress-bar',\n            'tox-progress-indicator'\n          ] : ['tox-progress-bar']\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-bar-container']\n            },\n            components: [renderPercentBar(0)]\n          },\n          renderPercentText(0)\n        ],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      const updateProgress = (comp, percent) => {\n        if (comp.getSystem().isConnected()) {\n          memBannerProgress.getOpt(comp).each(progress => {\n            Replacing.set(progress, [\n              {\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-bar-container']\n                },\n                components: [renderPercentBar(percent)]\n              },\n              renderPercentText(percent)\n            ]);\n          });\n        }\n      };\n      const updateText = (comp, text) => {\n        if (comp.getSystem().isConnected()) {\n          const banner = memBannerText.get(comp);\n          Replacing.set(banner, [text$2(text)]);\n        }\n      };\n      const apis = {\n        updateProgress,\n        updateText\n      };\n      const iconChoices = flatten([\n        detail.icon.toArray(),\n        detail.level.toArray(),\n        detail.level.bind(level => Optional.from(notificationIconMap[level])).toArray()\n      ]);\n      const memButton = record(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-notification__dismiss',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ]\n        },\n        components: [render$3('close', {\n            tag: 'div',\n            classes: ['tox-icon'],\n            attributes: { 'aria-label': detail.translationProvider('Close') }\n          }, detail.iconProvider)],\n        action: comp => {\n          detail.onAction(comp);\n        }\n      }));\n      const notificationIconSpec = renderFirst(iconChoices, {\n        tag: 'div',\n        classes: ['tox-notification__icon']\n      }, detail.iconProvider);\n      const notificationBodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-notification__body']\n        },\n        components: [memBannerText.asSpec()],\n        behaviours: derive$1([Replacing.config({})])\n      };\n      const components = [\n        notificationIconSpec,\n        notificationBodySpec\n      ];\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: detail.level.map(level => [\n            'tox-notification',\n            'tox-notification--in',\n            `tox-notification--${ level }`\n          ]).getOr([\n            'tox-notification',\n            'tox-notification--in'\n          ])\n        },\n        behaviours: derive$1([\n          Focusing.config({}),\n          config('notification-events', [run$1(focusin(), comp => {\n              memButton.getOpt(comp).each(Focusing.focus);\n            })])\n        ]),\n        components: components.concat(detail.progress ? [memBannerProgress.asSpec()] : []).concat(!detail.closeButton ? [] : [memButton.asSpec()]),\n        apis\n      };\n    };\n    const Notification = single({\n      name: 'Notification',\n      factory: factory$m,\n      configFields: [\n        option$3('level'),\n        required$1('progress'),\n        option$3('icon'),\n        required$1('onAction'),\n        required$1('text'),\n        required$1('iconProvider'),\n        required$1('translationProvider'),\n        defaultedBoolean('closeButton', true)\n      ],\n      apis: {\n        updateProgress: (apis, comp, percent) => {\n          apis.updateProgress(comp, percent);\n        },\n        updateText: (apis, comp, text) => {\n          apis.updateText(comp, text);\n        }\n      }\n    });\n\n    var NotificationManagerImpl = (editor, extras, uiMothership) => {\n      const sharedBackstage = extras.backstage.shared;\n      const getBounds = () => {\n        const contentArea = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n        const win$1 = win();\n        const x = clamp(win$1.x, contentArea.x, contentArea.right);\n        const y = clamp(win$1.y, contentArea.y, contentArea.bottom);\n        const right = Math.max(contentArea.right, win$1.right);\n        const bottom = Math.max(contentArea.bottom, win$1.bottom);\n        return Optional.some(bounds(x, y, right - x, bottom - y));\n      };\n      const open = (settings, closeCallback) => {\n        const close = () => {\n          closeCallback();\n          InlineView.hide(notificationWrapper);\n        };\n        const notification = build$1(Notification.sketch({\n          text: settings.text,\n          level: contains$2([\n            'success',\n            'error',\n            'warning',\n            'warn',\n            'info'\n          ], settings.type) ? settings.type : undefined,\n          progress: settings.progressBar === true,\n          icon: settings.icon,\n          closeButton: settings.closeButton,\n          onAction: close,\n          iconProvider: sharedBackstage.providers.icons,\n          translationProvider: sharedBackstage.providers.translate\n        }));\n        const notificationWrapper = build$1(InlineView.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-notifications-container']\n          },\n          lazySink: sharedBackstage.getSink,\n          fireDismissalEventInstead: {},\n          ...sharedBackstage.header.isPositionedAtTop() ? {} : { fireRepositionEventInstead: {} }\n        }));\n        uiMothership.add(notificationWrapper);\n        if (isNumber(settings.timeout) && settings.timeout > 0) {\n          global$9.setEditorTimeout(editor, () => {\n            close();\n          }, settings.timeout);\n        }\n        const reposition = () => {\n          const notificationSpec = premade(notification);\n          const anchorOverrides = { maxHeightFunction: expandable$1() };\n          const allNotifications = editor.notificationManager.getNotifications();\n          if (allNotifications[0] === thisNotification) {\n            const anchor = {\n              ...sharedBackstage.anchors.banner(),\n              overrides: anchorOverrides\n            };\n            InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor }, getBounds);\n          } else {\n            indexOf(allNotifications, thisNotification).each(idx => {\n              const previousNotification = allNotifications[idx - 1].getEl();\n              const nodeAnchor = {\n                type: 'node',\n                root: body(),\n                node: Optional.some(SugarElement.fromDom(previousNotification)),\n                overrides: anchorOverrides,\n                layouts: {\n                  onRtl: () => [south$2],\n                  onLtr: () => [south$2]\n                }\n              };\n              InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor: nodeAnchor }, getBounds);\n            });\n          }\n        };\n        const thisNotification = {\n          close,\n          reposition,\n          text: nuText => {\n            Notification.updateText(notification, nuText);\n          },\n          settings,\n          getEl: () => notification.element.dom,\n          progressBar: {\n            value: percent => {\n              Notification.updateProgress(notification, percent);\n            }\n          }\n        };\n        return thisNotification;\n      };\n      const close = notification => {\n        notification.close();\n      };\n      const getArgs = notification => {\n        return notification.settings;\n      };\n      return {\n        open,\n        close,\n        getArgs\n      };\n    };\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var ToolbarMode$1;\n    (function (ToolbarMode) {\n      ToolbarMode['default'] = 'wrap';\n      ToolbarMode['floating'] = 'floating';\n      ToolbarMode['sliding'] = 'sliding';\n      ToolbarMode['scrolling'] = 'scrolling';\n    }(ToolbarMode$1 || (ToolbarMode$1 = {})));\n    var ToolbarLocation$1;\n    (function (ToolbarLocation) {\n      ToolbarLocation['auto'] = 'auto';\n      ToolbarLocation['top'] = 'top';\n      ToolbarLocation['bottom'] = 'bottom';\n    }(ToolbarLocation$1 || (ToolbarLocation$1 = {})));\n    const option$2 = name => editor => editor.options.get(name);\n    const wrapOptional = fn => editor => Optional.from(fn(editor));\n    const register$e = editor => {\n      const isPhone = global$5.deviceType.isPhone();\n      const isMobile = global$5.deviceType.isTablet() || isPhone;\n      const registerOption = editor.options.register;\n      const stringOrFalseProcessor = value => isString(value) || value === false;\n      const stringOrNumberProcessor = value => isString(value) || isNumber(value);\n      registerOption('skin', {\n        processor: value => isString(value) || value === false,\n        default: 'oxide'\n      });\n      registerOption('skin_url', { processor: 'string' });\n      registerOption('height', {\n        processor: stringOrNumberProcessor,\n        default: Math.max(editor.getElement().offsetHeight, 400)\n      });\n      registerOption('width', {\n        processor: stringOrNumberProcessor,\n        default: global$7.DOM.getStyle(editor.getElement(), 'width')\n      });\n      registerOption('min_height', {\n        processor: 'number',\n        default: 100\n      });\n      registerOption('min_width', { processor: 'number' });\n      registerOption('max_height', { processor: 'number' });\n      registerOption('max_width', { processor: 'number' });\n      registerOption('style_formats', { processor: 'object[]' });\n      registerOption('style_formats_merge', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('style_formats_autohide', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('line_height_formats', {\n        processor: 'string',\n        default: '1 1.1 1.2 1.3 1.4 1.5 2'\n      });\n      registerOption('font_family_formats', {\n        processor: 'string',\n        default: 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats'\n      });\n      registerOption('font_size_formats', {\n        processor: 'string',\n        default: '8pt 10pt 12pt 14pt 18pt 24pt 36pt'\n      });\n      registerOption('font_size_input_default_unit', {\n        processor: 'string',\n        default: 'pt'\n      });\n      registerOption('block_formats', {\n        processor: 'string',\n        default: 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre'\n      });\n      registerOption('content_langs', { processor: 'object[]' });\n      registerOption('removed_menuitems', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('menubar', {\n        processor: value => isString(value) || isBoolean(value),\n        default: !isPhone\n      });\n      registerOption('menu', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('toolbar', {\n        processor: value => {\n          if (isBoolean(value) || isString(value) || isArray(value)) {\n            return {\n              value,\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a boolean, string or array.'\n            };\n          }\n        },\n        default: true\n      });\n      range$2(9, num => {\n        registerOption('toolbar' + (num + 1), { processor: 'string' });\n      });\n      registerOption('toolbar_mode', {\n        processor: 'string',\n        default: isMobile ? 'scrolling' : 'floating'\n      });\n      registerOption('toolbar_groups', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('toolbar_location', {\n        processor: 'string',\n        default: ToolbarLocation$1.auto\n      });\n      registerOption('toolbar_persist', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('toolbar_sticky', {\n        processor: 'boolean',\n        default: editor.inline\n      });\n      registerOption('toolbar_sticky_offset', {\n        processor: 'number',\n        default: 0\n      });\n      registerOption('fixed_toolbar_container', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('fixed_toolbar_container_target', { processor: 'object' });\n      registerOption('ui_mode', {\n        processor: 'string',\n        default: 'combined'\n      });\n      registerOption('file_picker_callback', { processor: 'function' });\n      registerOption('file_picker_validator_handler', { processor: 'function' });\n      registerOption('file_picker_types', { processor: 'string' });\n      registerOption('typeahead_urls', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('anchor_top', {\n        processor: stringOrFalseProcessor,\n        default: '#top'\n      });\n      registerOption('anchor_bottom', {\n        processor: stringOrFalseProcessor,\n        default: '#bottom'\n      });\n      registerOption('draggable_modal', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('statusbar', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('elementpath', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('branding', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('promotion', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('resize', {\n        processor: value => value === 'both' || isBoolean(value),\n        default: !global$5.deviceType.isTouch()\n      });\n      registerOption('sidebar_show', { processor: 'string' });\n    };\n    const isReadOnly = option$2('readonly');\n    const getHeightOption = option$2('height');\n    const getWidthOption = option$2('width');\n    const getMinWidthOption = wrapOptional(option$2('min_width'));\n    const getMinHeightOption = wrapOptional(option$2('min_height'));\n    const getMaxWidthOption = wrapOptional(option$2('max_width'));\n    const getMaxHeightOption = wrapOptional(option$2('max_height'));\n    const getUserStyleFormats = wrapOptional(option$2('style_formats'));\n    const shouldMergeStyleFormats = option$2('style_formats_merge');\n    const shouldAutoHideStyleFormats = option$2('style_formats_autohide');\n    const getContentLanguages = option$2('content_langs');\n    const getRemovedMenuItems = option$2('removed_menuitems');\n    const getToolbarMode = option$2('toolbar_mode');\n    const getToolbarGroups = option$2('toolbar_groups');\n    const getToolbarLocation = option$2('toolbar_location');\n    const fixedContainerSelector = option$2('fixed_toolbar_container');\n    const fixedToolbarContainerTarget = option$2('fixed_toolbar_container_target');\n    const isToolbarPersist = option$2('toolbar_persist');\n    const getStickyToolbarOffset = option$2('toolbar_sticky_offset');\n    const getMenubar = option$2('menubar');\n    const getToolbar = option$2('toolbar');\n    const getFilePickerCallback = option$2('file_picker_callback');\n    const getFilePickerValidatorHandler = option$2('file_picker_validator_handler');\n    const getFontSizeInputDefaultUnit = option$2('font_size_input_default_unit');\n    const getFilePickerTypes = option$2('file_picker_types');\n    const useTypeaheadUrls = option$2('typeahead_urls');\n    const getAnchorTop = option$2('anchor_top');\n    const getAnchorBottom = option$2('anchor_bottom');\n    const isDraggableModal$1 = option$2('draggable_modal');\n    const useStatusBar = option$2('statusbar');\n    const useElementPath = option$2('elementpath');\n    const useBranding = option$2('branding');\n    const getResize = option$2('resize');\n    const getPasteAsText = option$2('paste_as_text');\n    const getSidebarShow = option$2('sidebar_show');\n    const promotionEnabled = option$2('promotion');\n    const isSkinDisabled = editor => editor.options.get('skin') === false;\n    const isMenubarEnabled = editor => editor.options.get('menubar') !== false;\n    const getSkinUrl = editor => {\n      const skinUrl = editor.options.get('skin_url');\n      if (isSkinDisabled(editor)) {\n        return skinUrl;\n      } else {\n        if (skinUrl) {\n          return editor.documentBaseURI.toAbsolute(skinUrl);\n        } else {\n          const skin = editor.options.get('skin');\n          return global$6.baseURL + '/skins/ui/' + skin;\n        }\n      }\n    };\n    const getLineHeightFormats = editor => editor.options.get('line_height_formats').split(' ');\n    const isToolbarEnabled = editor => {\n      const toolbar = getToolbar(editor);\n      const isToolbarString = isString(toolbar);\n      const isToolbarObjectArray = isArray(toolbar) && toolbar.length > 0;\n      return !isMultipleToolbars(editor) && (isToolbarObjectArray || isToolbarString || toolbar === true);\n    };\n    const getMultipleToolbarsOption = editor => {\n      const toolbars = range$2(9, num => editor.options.get('toolbar' + (num + 1)));\n      const toolbarArray = filter$2(toolbars, isString);\n      return someIf(toolbarArray.length > 0, toolbarArray);\n    };\n    const isMultipleToolbars = editor => getMultipleToolbarsOption(editor).fold(() => {\n      const toolbar = getToolbar(editor);\n      return isArrayOf(toolbar, isString) && toolbar.length > 0;\n    }, always);\n    const isToolbarLocationBottom = editor => getToolbarLocation(editor) === ToolbarLocation$1.bottom;\n    const fixedContainerTarget = editor => {\n      var _a;\n      if (!editor.inline) {\n        return Optional.none();\n      }\n      const selector = (_a = fixedContainerSelector(editor)) !== null && _a !== void 0 ? _a : '';\n      if (selector.length > 0) {\n        return descendant(body(), selector);\n      }\n      const element = fixedToolbarContainerTarget(editor);\n      if (isNonNullable(element)) {\n        return Optional.some(SugarElement.fromDom(element));\n      }\n      return Optional.none();\n    };\n    const useFixedContainer = editor => editor.inline && fixedContainerTarget(editor).isSome();\n    const getUiContainer = editor => {\n      const fixedContainer = fixedContainerTarget(editor);\n      return fixedContainer.getOrThunk(() => getContentContainer(getRootNode(SugarElement.fromDom(editor.getElement()))));\n    };\n    const isDistractionFree = editor => editor.inline && !isMenubarEnabled(editor) && !isToolbarEnabled(editor) && !isMultipleToolbars(editor);\n    const isStickyToolbar = editor => {\n      const isStickyToolbar = editor.options.get('toolbar_sticky');\n      return (isStickyToolbar || editor.inline) && !useFixedContainer(editor) && !isDistractionFree(editor);\n    };\n    const isSplitUiMode = editor => !useFixedContainer(editor) && editor.options.get('ui_mode') === 'split';\n    const getMenus = editor => {\n      const menu = editor.options.get('menu');\n      return map$1(menu, menu => ({\n        ...menu,\n        items: menu.items\n      }));\n    };\n\n    var Options = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        get ToolbarMode () { return ToolbarMode$1; },\n        get ToolbarLocation () { return ToolbarLocation$1; },\n        register: register$e,\n        getSkinUrl: getSkinUrl,\n        isReadOnly: isReadOnly,\n        isSkinDisabled: isSkinDisabled,\n        getHeightOption: getHeightOption,\n        getWidthOption: getWidthOption,\n        getMinWidthOption: getMinWidthOption,\n        getMinHeightOption: getMinHeightOption,\n        getMaxWidthOption: getMaxWidthOption,\n        getMaxHeightOption: getMaxHeightOption,\n        getUserStyleFormats: getUserStyleFormats,\n        shouldMergeStyleFormats: shouldMergeStyleFormats,\n        shouldAutoHideStyleFormats: shouldAutoHideStyleFormats,\n        getLineHeightFormats: getLineHeightFormats,\n        getContentLanguages: getContentLanguages,\n        getRemovedMenuItems: getRemovedMenuItems,\n        isMenubarEnabled: isMenubarEnabled,\n        isMultipleToolbars: isMultipleToolbars,\n        isToolbarEnabled: isToolbarEnabled,\n        isToolbarPersist: isToolbarPersist,\n        getMultipleToolbarsOption: getMultipleToolbarsOption,\n        getUiContainer: getUiContainer,\n        useFixedContainer: useFixedContainer,\n        isSplitUiMode: isSplitUiMode,\n        getToolbarMode: getToolbarMode,\n        isDraggableModal: isDraggableModal$1,\n        isDistractionFree: isDistractionFree,\n        isStickyToolbar: isStickyToolbar,\n        getStickyToolbarOffset: getStickyToolbarOffset,\n        getToolbarLocation: getToolbarLocation,\n        isToolbarLocationBottom: isToolbarLocationBottom,\n        getToolbarGroups: getToolbarGroups,\n        getMenus: getMenus,\n        getMenubar: getMenubar,\n        getToolbar: getToolbar,\n        getFilePickerCallback: getFilePickerCallback,\n        getFilePickerTypes: getFilePickerTypes,\n        useTypeaheadUrls: useTypeaheadUrls,\n        getAnchorTop: getAnchorTop,\n        getAnchorBottom: getAnchorBottom,\n        getFilePickerValidatorHandler: getFilePickerValidatorHandler,\n        getFontSizeInputDefaultUnit: getFontSizeInputDefaultUnit,\n        useStatusBar: useStatusBar,\n        useElementPath: useElementPath,\n        promotionEnabled: promotionEnabled,\n        useBranding: useBranding,\n        getResize: getResize,\n        getPasteAsText: getPasteAsText,\n        getSidebarShow: getSidebarShow\n    });\n\n    const autocompleteSelector = '[data-mce-autocompleter]';\n    const detect$1 = elm => closest$1(elm, autocompleteSelector);\n    const findIn = elm => descendant(elm, autocompleteSelector);\n\n    const setup$e = (api, editor) => {\n      const redirectKeyToItem = (item, e) => {\n        emitWith(item, keydown(), { raw: e });\n      };\n      const getItem = () => api.getMenu().bind(Highlighting.getHighlighted);\n      editor.on('keydown', e => {\n        const keyCode = e.which;\n        if (!api.isActive()) {\n          return;\n        }\n        if (api.isMenuOpen()) {\n          if (keyCode === 13) {\n            getItem().each(emitExecute);\n            e.preventDefault();\n          } else if (keyCode === 40) {\n            getItem().fold(() => {\n              api.getMenu().each(Highlighting.highlightFirst);\n            }, item => {\n              redirectKeyToItem(item, e);\n            });\n            e.preventDefault();\n            e.stopImmediatePropagation();\n          } else if (keyCode === 37 || keyCode === 38 || keyCode === 39) {\n            getItem().each(item => {\n              redirectKeyToItem(item, e);\n              e.preventDefault();\n              e.stopImmediatePropagation();\n            });\n          }\n        } else {\n          if (keyCode === 13 || keyCode === 38 || keyCode === 40) {\n            api.cancelIfNecessary();\n          }\n        }\n      });\n      editor.on('NodeChange', e => {\n        if (api.isActive() && !api.isProcessingAction() && detect$1(SugarElement.fromDom(e.element)).isNone()) {\n          api.cancelIfNecessary();\n        }\n      });\n    };\n    const AutocompleterEditorEvents = { setup: setup$e };\n\n    var ItemResponse;\n    (function (ItemResponse) {\n      ItemResponse[ItemResponse['CLOSE_ON_EXECUTE'] = 0] = 'CLOSE_ON_EXECUTE';\n      ItemResponse[ItemResponse['BUBBLE_TO_SANDBOX'] = 1] = 'BUBBLE_TO_SANDBOX';\n    }(ItemResponse || (ItemResponse = {})));\n    var ItemResponse$1 = ItemResponse;\n\n    const navClass = 'tox-menu-nav__js';\n    const selectableClass = 'tox-collection__item';\n    const colorClass = 'tox-swatch';\n    const presetClasses = {\n      normal: navClass,\n      color: colorClass\n    };\n    const tickedClass = 'tox-collection__item--enabled';\n    const groupHeadingClass = 'tox-collection__group-heading';\n    const iconClass = 'tox-collection__item-icon';\n    const textClass = 'tox-collection__item-label';\n    const accessoryClass = 'tox-collection__item-accessory';\n    const caretClass = 'tox-collection__item-caret';\n    const checkmarkClass = 'tox-collection__item-checkmark';\n    const activeClass = 'tox-collection__item--active';\n    const containerClass = 'tox-collection__item-container';\n    const containerColumnClass = 'tox-collection__item-container--column';\n    const containerRowClass = 'tox-collection__item-container--row';\n    const containerAlignRightClass = 'tox-collection__item-container--align-right';\n    const containerAlignLeftClass = 'tox-collection__item-container--align-left';\n    const containerValignTopClass = 'tox-collection__item-container--valign-top';\n    const containerValignMiddleClass = 'tox-collection__item-container--valign-middle';\n    const containerValignBottomClass = 'tox-collection__item-container--valign-bottom';\n    const classForPreset = presets => get$g(presetClasses, presets).getOr(navClass);\n\n    const forMenu = presets => {\n      if (presets === 'color') {\n        return 'tox-swatches';\n      } else {\n        return 'tox-menu';\n      }\n    };\n    const classes = presets => ({\n      backgroundMenu: 'tox-background-menu',\n      selectedMenu: 'tox-selected-menu',\n      selectedItem: 'tox-collection__item--active',\n      hasIcons: 'tox-menu--has-icons',\n      menu: forMenu(presets),\n      tieredMenu: 'tox-tiered-menu'\n    });\n\n    const markers = presets => {\n      const menuClasses = classes(presets);\n      return {\n        backgroundMenu: menuClasses.backgroundMenu,\n        selectedMenu: menuClasses.selectedMenu,\n        menu: menuClasses.menu,\n        selectedItem: menuClasses.selectedItem,\n        item: classForPreset(presets)\n      };\n    };\n    const dom$1 = (hasIcons, columns, presets) => {\n      const menuClasses = classes(presets);\n      return {\n        tag: 'div',\n        classes: flatten([\n          [\n            menuClasses.menu,\n            `tox-menu-${ columns }-column`\n          ],\n          hasIcons ? [menuClasses.hasIcons] : []\n        ])\n      };\n    };\n    const components = [Menu.parts.items({})];\n    const part = (hasIcons, columns, presets) => {\n      const menuClasses = classes(presets);\n      const d = {\n        tag: 'div',\n        classes: flatten([[menuClasses.tieredMenu]])\n      };\n      return {\n        dom: d,\n        markers: markers(presets)\n      };\n    };\n\n    const schema$l = constant$1([\n      option$3('data'),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('tag', 'input'),\n      defaulted('inputClasses', []),\n      onHandler('onSetValue'),\n      defaulted('styles', {}),\n      defaulted('eventOrder', {}),\n      field('inputBehaviours', [\n        Representing,\n        Focusing\n      ]),\n      defaulted('selectOnFocus', true)\n    ]);\n    const focusBehaviours = detail => derive$1([Focusing.config({\n        onFocus: !detail.selectOnFocus ? noop : component => {\n          const input = component.element;\n          const value = get$6(input);\n          input.dom.setSelectionRange(0, value.length);\n        }\n      })]);\n    const behaviours = detail => ({\n      ...focusBehaviours(detail),\n      ...augment(detail.inputBehaviours, [Representing.config({\n          store: {\n            mode: 'manual',\n            ...detail.data.map(data => ({ initialValue: data })).getOr({}),\n            getValue: input => {\n              return get$6(input.element);\n            },\n            setValue: (input, data) => {\n              const current = get$6(input.element);\n              if (current !== data) {\n                set$5(input.element, data);\n              }\n            }\n          },\n          onSetValue: detail.onSetValue\n        })])\n    });\n    const dom = detail => ({\n      tag: detail.tag,\n      attributes: {\n        type: 'text',\n        ...detail.inputAttributes\n      },\n      styles: detail.inputStyles,\n      classes: detail.inputClasses\n    });\n\n    const factory$l = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: dom(detail),\n      components: [],\n      behaviours: behaviours(detail),\n      eventOrder: detail.eventOrder\n    });\n    const Input = single({\n      name: 'Input',\n      configFields: schema$l(),\n      factory: factory$l\n    });\n\n    const refetchTriggerEvent = generate$6('refetch-trigger-event');\n    const redirectMenuItemInteractionEvent = generate$6('redirect-menu-item-interaction');\n\n    const menuSearcherClass = 'tox-menu__searcher';\n    const findWithinSandbox = sandboxComp => {\n      return descendant(sandboxComp.element, `.${ menuSearcherClass }`).bind(inputElem => sandboxComp.getSystem().getByDom(inputElem).toOptional());\n    };\n    const findWithinMenu = findWithinSandbox;\n    const restoreState = (inputComp, searcherState) => {\n      Representing.setValue(inputComp, searcherState.fetchPattern);\n      inputComp.element.dom.selectionStart = searcherState.selectionStart;\n      inputComp.element.dom.selectionEnd = searcherState.selectionEnd;\n    };\n    const saveState = inputComp => {\n      const fetchPattern = Representing.getValue(inputComp);\n      const selectionStart = inputComp.element.dom.selectionStart;\n      const selectionEnd = inputComp.element.dom.selectionEnd;\n      return {\n        fetchPattern,\n        selectionStart,\n        selectionEnd\n      };\n    };\n    const setActiveDescendant = (inputComp, active) => {\n      getOpt(active.element, 'id').each(id => set$9(inputComp.element, 'aria-activedescendant', id));\n    };\n    const renderMenuSearcher = spec => {\n      const handleByBrowser = (comp, se) => {\n        se.cut();\n        return Optional.none();\n      };\n      const handleByHighlightedItem = (comp, se) => {\n        const eventData = {\n          interactionEvent: se.event,\n          eventType: se.event.raw.type\n        };\n        emitWith(comp, redirectMenuItemInteractionEvent, eventData);\n        return Optional.some(true);\n      };\n      const customSearcherEventsName = 'searcher-events';\n      return {\n        dom: {\n          tag: 'div',\n          classes: [selectableClass]\n        },\n        components: [Input.sketch({\n            inputClasses: [\n              menuSearcherClass,\n              'tox-textfield'\n            ],\n            inputAttributes: {\n              ...spec.placeholder.map(placeholder => ({ placeholder: spec.i18n(placeholder) })).getOr({}),\n              'type': 'search',\n              'aria-autocomplete': 'list'\n            },\n            inputBehaviours: derive$1([\n              config(customSearcherEventsName, [\n                run$1(input(), inputComp => {\n                  emit(inputComp, refetchTriggerEvent);\n                }),\n                run$1(keydown(), (inputComp, se) => {\n                  if (se.event.raw.key === 'Escape') {\n                    se.stop();\n                  }\n                })\n              ]),\n              Keying.config({\n                mode: 'special',\n                onLeft: handleByBrowser,\n                onRight: handleByBrowser,\n                onSpace: handleByBrowser,\n                onEnter: handleByHighlightedItem,\n                onEscape: handleByHighlightedItem,\n                onUp: handleByHighlightedItem,\n                onDown: handleByHighlightedItem\n              })\n            ]),\n            eventOrder: {\n              keydown: [\n                customSearcherEventsName,\n                Keying.name()\n              ]\n            }\n          })]\n      };\n    };\n\n    const searchResultsClass = 'tox-collection--results__js';\n    const augmentWithAria = item => {\n      var _a;\n      if (item.dom) {\n        return {\n          ...item,\n          dom: {\n            ...item.dom,\n            attributes: {\n              ...(_a = item.dom.attributes) !== null && _a !== void 0 ? _a : {},\n              'id': generate$6('aria-item-search-result-id'),\n              'aria-selected': 'false'\n            }\n          }\n        };\n      } else {\n        return item;\n      }\n    };\n\n    const chunk = (rowDom, numColumns) => items => {\n      const chunks = chunk$1(items, numColumns);\n      return map$2(chunks, c => ({\n        dom: rowDom,\n        components: c\n      }));\n    };\n    const forSwatch = columns => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-swatches-menu'\n        ]\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-swatches']\n          },\n          components: [Menu.parts.items({\n              preprocess: columns !== 'auto' ? chunk({\n                tag: 'div',\n                classes: ['tox-swatches__row']\n              }, columns) : identity\n            })]\n        }]\n    });\n    const forToolbar = columns => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-collection',\n          'tox-collection--toolbar',\n          'tox-collection--toolbar-lg'\n        ]\n      },\n      components: [Menu.parts.items({\n          preprocess: chunk({\n            tag: 'div',\n            classes: ['tox-collection__group']\n          }, columns)\n        })]\n    });\n    const preprocessCollection = (items, isSeparator) => {\n      const allSplits = [];\n      let currentSplit = [];\n      each$1(items, (item, i) => {\n        if (isSeparator(item, i)) {\n          if (currentSplit.length > 0) {\n            allSplits.push(currentSplit);\n          }\n          currentSplit = [];\n          if (has$2(item.dom, 'innerHtml') || item.components && item.components.length > 0) {\n            currentSplit.push(item);\n          }\n        } else {\n          currentSplit.push(item);\n        }\n      });\n      if (currentSplit.length > 0) {\n        allSplits.push(currentSplit);\n      }\n      return map$2(allSplits, s => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection__group']\n        },\n        components: s\n      }));\n    };\n    const insertItemsPlaceholder = (columns, initItems, onItem) => {\n      return Menu.parts.items({\n        preprocess: rawItems => {\n          const enrichedItems = map$2(rawItems, onItem);\n          if (columns !== 'auto' && columns > 1) {\n            return chunk({\n              tag: 'div',\n              classes: ['tox-collection__group']\n            }, columns)(enrichedItems);\n          } else {\n            return preprocessCollection(enrichedItems, (_item, i) => initItems[i].type === 'separator');\n          }\n        }\n      });\n    };\n    const forCollection = (columns, initItems, _hasIcons = true) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-collection'\n        ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n      },\n      components: [insertItemsPlaceholder(columns, initItems, identity)]\n    });\n    const forCollectionWithSearchResults = (columns, initItems, _hasIcons = true) => {\n      const ariaControlsSearchResults = generate$6('aria-controls-search-results');\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection',\n            searchResultsClass\n          ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid']),\n          attributes: { id: ariaControlsSearchResults }\n        },\n        components: [insertItemsPlaceholder(columns, initItems, augmentWithAria)]\n      };\n    };\n    const forCollectionWithSearchField = (columns, initItems, searchField) => {\n      const ariaControlsSearchResults = generate$6('aria-controls-search-results');\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection'\n          ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n        },\n        components: [\n          renderMenuSearcher({\n            i18n: global$8.translate,\n            placeholder: searchField.placeholder\n          }),\n          {\n            dom: {\n              tag: 'div',\n              classes: [\n                ...columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'],\n                searchResultsClass\n              ],\n              attributes: { id: ariaControlsSearchResults }\n            },\n            components: [insertItemsPlaceholder(columns, initItems, augmentWithAria)]\n          }\n        ]\n      };\n    };\n    const forHorizontalCollection = (initItems, _hasIcons = true) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-collection',\n          'tox-collection--horizontal'\n        ]\n      },\n      components: [Menu.parts.items({ preprocess: items => preprocessCollection(items, (_item, i) => initItems[i].type === 'separator') })]\n    });\n\n    const menuHasIcons = xs => exists(xs, item => 'icon' in item && item.icon !== undefined);\n    const handleError = error => {\n      console.error(formatError(error));\n      console.log(error);\n      return Optional.none();\n    };\n    const createHorizontalPartialMenuWithAlloyItems = (value, _hasIcons, items, _columns, _menuLayout) => {\n      const structure = forHorizontalCollection(items);\n      return {\n        value,\n        dom: structure.dom,\n        components: structure.components,\n        items\n      };\n    };\n    const createPartialMenuWithAlloyItems = (value, hasIcons, items, columns, menuLayout) => {\n      const getNormalStructure = () => {\n        if (menuLayout.menuType !== 'searchable') {\n          return forCollection(columns, items);\n        } else {\n          return menuLayout.searchMode.searchMode === 'search-with-field' ? forCollectionWithSearchField(columns, items, menuLayout.searchMode) : forCollectionWithSearchResults(columns, items);\n        }\n      };\n      if (menuLayout.menuType === 'color') {\n        const structure = forSwatch(columns);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else if (menuLayout.menuType === 'normal' && columns === 'auto') {\n        const structure = forCollection(columns, items);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else if (menuLayout.menuType === 'normal' || menuLayout.menuType === 'searchable') {\n        const structure = getNormalStructure();\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else if (menuLayout.menuType === 'listpreview' && columns !== 'auto') {\n        const structure = forToolbar(columns);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else {\n        return {\n          value,\n          dom: dom$1(hasIcons, columns, menuLayout.menuType),\n          components: components,\n          items\n        };\n      }\n    };\n\n    const type = requiredString('type');\n    const name$1 = requiredString('name');\n    const label = requiredString('label');\n    const text$1 = requiredString('text');\n    const title = requiredString('title');\n    const icon = requiredString('icon');\n    const value$1 = requiredString('value');\n    const fetch$1 = requiredFunction('fetch');\n    const getSubmenuItems = requiredFunction('getSubmenuItems');\n    const onAction = requiredFunction('onAction');\n    const onItemAction = requiredFunction('onItemAction');\n    const onSetup = defaultedFunction('onSetup', () => noop);\n    const optionalName = optionString('name');\n    const optionalText = optionString('text');\n    const optionalIcon = optionString('icon');\n    const optionalTooltip = optionString('tooltip');\n    const optionalLabel = optionString('label');\n    const optionalShortcut = optionString('shortcut');\n    const optionalSelect = optionFunction('select');\n    const active = defaultedBoolean('active', false);\n    const borderless = defaultedBoolean('borderless', false);\n    const enabled = defaultedBoolean('enabled', true);\n    const primary = defaultedBoolean('primary', false);\n    const defaultedColumns = num => defaulted('columns', num);\n    const defaultedMeta = defaulted('meta', {});\n    const defaultedOnAction = defaultedFunction('onAction', noop);\n    const defaultedType = type => defaultedString('type', type);\n    const generatedName = namePrefix => field$1('name', 'name', defaultedThunk(() => generate$6(`${ namePrefix }-name`)), string);\n    const generatedValue = valuePrefix => field$1('value', 'value', defaultedThunk(() => generate$6(`${ valuePrefix }-value`)), anyValue());\n\n    const separatorMenuItemSchema = objOf([\n      type,\n      optionalText\n    ]);\n    const createSeparatorMenuItem = spec => asRaw('separatormenuitem', separatorMenuItemSchema, spec);\n\n    const autocompleterItemSchema = objOf([\n      defaultedType('autocompleteitem'),\n      active,\n      enabled,\n      defaultedMeta,\n      value$1,\n      optionalText,\n      optionalIcon\n    ]);\n    const createSeparatorItem = spec => asRaw('Autocompleter.Separator', separatorMenuItemSchema, spec);\n    const createAutocompleterItem = spec => asRaw('Autocompleter.Item', autocompleterItemSchema, spec);\n\n    const baseToolbarButtonFields = [\n      enabled,\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      onSetup\n    ];\n    const toolbarButtonSchema = objOf([\n      type,\n      onAction\n    ].concat(baseToolbarButtonFields));\n    const createToolbarButton = spec => asRaw('toolbarbutton', toolbarButtonSchema, spec);\n\n    const baseToolbarToggleButtonFields = [active].concat(baseToolbarButtonFields);\n    const toggleButtonSchema = objOf(baseToolbarToggleButtonFields.concat([\n      type,\n      onAction\n    ]));\n    const createToggleButton = spec => asRaw('ToggleButton', toggleButtonSchema, spec);\n\n    const contextBarFields = [\n      defaultedFunction('predicate', never),\n      defaultedStringEnum('scope', 'node', [\n        'node',\n        'editor'\n      ]),\n      defaultedStringEnum('position', 'selection', [\n        'node',\n        'selection',\n        'line'\n      ])\n    ];\n\n    const contextButtonFields = baseToolbarButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const contextToggleButtonFields = baseToolbarToggleButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const launchButtonFields = baseToolbarButtonFields.concat([defaultedType('contextformbutton')]);\n    const launchToggleButtonFields = baseToolbarToggleButtonFields.concat([defaultedType('contextformtogglebutton')]);\n    const toggleOrNormal = choose$1('type', {\n      contextformbutton: contextButtonFields,\n      contextformtogglebutton: contextToggleButtonFields\n    });\n    const contextFormSchema = objOf([\n      defaultedType('contextform'),\n      defaultedFunction('initValue', constant$1('')),\n      optionalLabel,\n      requiredArrayOf('commands', toggleOrNormal),\n      optionOf('launch', choose$1('type', {\n        contextformbutton: launchButtonFields,\n        contextformtogglebutton: launchToggleButtonFields\n      }))\n    ].concat(contextBarFields));\n    const createContextForm = spec => asRaw('ContextForm', contextFormSchema, spec);\n\n    const contextToolbarSchema = objOf([\n      defaultedType('contexttoolbar'),\n      requiredString('items')\n    ].concat(contextBarFields));\n    const createContextToolbar = spec => asRaw('ContextToolbar', contextToolbarSchema, spec);\n\n    const cardImageFields = [\n      type,\n      requiredString('src'),\n      optionString('alt'),\n      defaultedArrayOf('classes', [], string)\n    ];\n    const cardImageSchema = objOf(cardImageFields);\n\n    const cardTextFields = [\n      type,\n      text$1,\n      optionalName,\n      defaultedArrayOf('classes', ['tox-collection__item-label'], string)\n    ];\n    const cardTextSchema = objOf(cardTextFields);\n\n    const itemSchema$1 = valueThunk(() => choose$2('type', {\n      cardimage: cardImageSchema,\n      cardtext: cardTextSchema,\n      cardcontainer: cardContainerSchema\n    }));\n    const cardContainerSchema = objOf([\n      type,\n      defaultedString('direction', 'horizontal'),\n      defaultedString('align', 'left'),\n      defaultedString('valign', 'middle'),\n      requiredArrayOf('items', itemSchema$1)\n    ]);\n\n    const commonMenuItemFields = [\n      enabled,\n      optionalText,\n      optionalShortcut,\n      generatedValue('menuitem'),\n      defaultedMeta\n    ];\n\n    const cardMenuItemSchema = objOf([\n      type,\n      optionalLabel,\n      requiredArrayOf('items', itemSchema$1),\n      onSetup,\n      defaultedOnAction\n    ].concat(commonMenuItemFields));\n    const createCardMenuItem = spec => asRaw('cardmenuitem', cardMenuItemSchema, spec);\n\n    const choiceMenuItemSchema = objOf([\n      type,\n      active,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createChoiceMenuItem = spec => asRaw('choicemenuitem', choiceMenuItemSchema, spec);\n\n    const baseFields = [\n      type,\n      requiredString('fancytype'),\n      defaultedOnAction\n    ];\n    const insertTableFields = [defaulted('initData', {})].concat(baseFields);\n    const colorSwatchFields = [\n      optionFunction('select'),\n      defaultedObjOf('initData', {}, [\n        defaultedBoolean('allowCustomColors', true),\n        defaultedString('storageKey', 'default'),\n        optionArrayOf('colors', anyValue())\n      ])\n    ].concat(baseFields);\n    const fancyMenuItemSchema = choose$1('fancytype', {\n      inserttable: insertTableFields,\n      colorswatch: colorSwatchFields\n    });\n    const createFancyMenuItem = spec => asRaw('fancymenuitem', fancyMenuItemSchema, spec);\n\n    const menuItemSchema = objOf([\n      type,\n      onSetup,\n      defaultedOnAction,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createMenuItem = spec => asRaw('menuitem', menuItemSchema, spec);\n\n    const nestedMenuItemSchema = objOf([\n      type,\n      getSubmenuItems,\n      onSetup,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createNestedMenuItem = spec => asRaw('nestedmenuitem', nestedMenuItemSchema, spec);\n\n    const toggleMenuItemSchema = objOf([\n      type,\n      optionalIcon,\n      active,\n      onSetup,\n      onAction\n    ].concat(commonMenuItemFields));\n    const createToggleMenuItem = spec => asRaw('togglemenuitem', toggleMenuItemSchema, spec);\n\n    const detectSize = (comp, margin, selectorClass) => {\n      const descendants$1 = descendants(comp.element, '.' + selectorClass);\n      if (descendants$1.length > 0) {\n        const columnLength = findIndex$1(descendants$1, c => {\n          const thisTop = c.dom.getBoundingClientRect().top;\n          const cTop = descendants$1[0].dom.getBoundingClientRect().top;\n          return Math.abs(thisTop - cTop) > margin;\n        }).getOr(descendants$1.length);\n        return Optional.some({\n          numColumns: columnLength,\n          numRows: Math.ceil(descendants$1.length / columnLength)\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const namedEvents = (name, handlers) => derive$1([config(name, handlers)]);\n    const unnamedEvents = handlers => namedEvents(generate$6('unnamed-events'), handlers);\n    const SimpleBehaviours = {\n      namedEvents,\n      unnamedEvents\n    };\n\n    const ExclusivityChannel = generate$6('tooltip.exclusive');\n    const ShowTooltipEvent = generate$6('tooltip.show');\n    const HideTooltipEvent = generate$6('tooltip.hide');\n\n    const hideAllExclusive = (component, _tConfig, _tState) => {\n      component.getSystem().broadcastOn([ExclusivityChannel], {});\n    };\n    const setComponents = (component, tConfig, tState, specs) => {\n      tState.getTooltip().each(tooltip => {\n        if (tooltip.getSystem().isConnected()) {\n          Replacing.set(tooltip, specs);\n        }\n      });\n    };\n\n    var TooltippingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        hideAllExclusive: hideAllExclusive,\n        setComponents: setComponents\n    });\n\n    const events$9 = (tooltipConfig, state) => {\n      const hide = comp => {\n        state.getTooltip().each(p => {\n          detach(p);\n          tooltipConfig.onHide(comp, p);\n          state.clearTooltip();\n        });\n        state.clearTimer();\n      };\n      const show = comp => {\n        if (!state.isShowing()) {\n          hideAllExclusive(comp);\n          const sink = tooltipConfig.lazySink(comp).getOrDie();\n          const popup = comp.getSystem().build({\n            dom: tooltipConfig.tooltipDom,\n            components: tooltipConfig.tooltipComponents,\n            events: derive$2(tooltipConfig.mode === 'normal' ? [\n              run$1(mouseover(), _ => {\n                emit(comp, ShowTooltipEvent);\n              }),\n              run$1(mouseout(), _ => {\n                emit(comp, HideTooltipEvent);\n              })\n            ] : []),\n            behaviours: derive$1([Replacing.config({})])\n          });\n          state.setTooltip(popup);\n          attach(sink, popup);\n          tooltipConfig.onShow(comp, popup);\n          Positioning.position(sink, popup, { anchor: tooltipConfig.anchor(comp) });\n        }\n      };\n      return derive$2(flatten([\n        [\n          run$1(ShowTooltipEvent, comp => {\n            state.resetTimer(() => {\n              show(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(HideTooltipEvent, comp => {\n            state.resetTimer(() => {\n              hide(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(receive(), (comp, message) => {\n            const receivingData = message;\n            if (!receivingData.universal) {\n              if (contains$2(receivingData.channels, ExclusivityChannel)) {\n                hide(comp);\n              }\n            }\n          }),\n          runOnDetached(comp => {\n            hide(comp);\n          })\n        ],\n        tooltipConfig.mode === 'normal' ? [\n          run$1(focusin(), comp => {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(postBlur(), comp => {\n            emit(comp, HideTooltipEvent);\n          }),\n          run$1(mouseover(), comp => {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(mouseout(), comp => {\n            emit(comp, HideTooltipEvent);\n          })\n        ] : [\n          run$1(highlight$1(), (comp, _se) => {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(dehighlight$1(), comp => {\n            emit(comp, HideTooltipEvent);\n          })\n        ]\n      ]));\n    };\n\n    var ActiveTooltipping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$9\n    });\n\n    var TooltippingSchema = [\n      required$1('lazySink'),\n      required$1('tooltipDom'),\n      defaulted('exclusive', true),\n      defaulted('tooltipComponents', []),\n      defaulted('delay', 300),\n      defaultedStringEnum('mode', 'normal', [\n        'normal',\n        'follow-highlight'\n      ]),\n      defaulted('anchor', comp => ({\n        type: 'hotspot',\n        hotspot: comp,\n        layouts: {\n          onLtr: constant$1([\n            south$2,\n            north$2,\n            southeast$2,\n            northeast$2,\n            southwest$2,\n            northwest$2\n          ]),\n          onRtl: constant$1([\n            south$2,\n            north$2,\n            southeast$2,\n            northeast$2,\n            southwest$2,\n            northwest$2\n          ])\n        }\n      })),\n      onHandler('onHide'),\n      onHandler('onShow')\n    ];\n\n    const init$b = () => {\n      const timer = value$2();\n      const popup = value$2();\n      const clearTimer = () => {\n        timer.on(clearTimeout);\n      };\n      const resetTimer = (f, delay) => {\n        clearTimer();\n        timer.set(setTimeout(f, delay));\n      };\n      const readState = constant$1('not-implemented');\n      return nu$8({\n        getTooltip: popup.get,\n        isShowing: popup.isSet,\n        setTooltip: popup.set,\n        clearTooltip: popup.clear,\n        clearTimer,\n        resetTimer,\n        readState\n      });\n    };\n\n    var TooltippingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$b\n    });\n\n    const Tooltipping = create$4({\n      fields: TooltippingSchema,\n      name: 'tooltipping',\n      active: ActiveTooltipping,\n      state: TooltippingState,\n      apis: TooltippingApis\n    });\n\n    const escape = text => text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\n    const ReadOnlyChannel = 'silver.readonly';\n    const ReadOnlyDataSchema = objOf([requiredBoolean('readonly')]);\n    const broadcastReadonly = (uiRefs, readonly) => {\n      const outerContainer = uiRefs.mainUi.outerContainer;\n      const target = outerContainer.element;\n      const motherships = [\n        uiRefs.mainUi.mothership,\n        ...uiRefs.uiMotherships\n      ];\n      if (readonly) {\n        each$1(motherships, m => {\n          m.broadcastOn([dismissPopups()], { target });\n        });\n      }\n      each$1(motherships, m => {\n        m.broadcastOn([ReadOnlyChannel], { readonly });\n      });\n    };\n    const setupReadonlyModeSwitch = (editor, uiRefs) => {\n      editor.on('init', () => {\n        if (editor.mode.isReadOnly()) {\n          broadcastReadonly(uiRefs, true);\n        }\n      });\n      editor.on('SwitchMode', () => broadcastReadonly(uiRefs, editor.mode.isReadOnly()));\n      if (isReadOnly(editor)) {\n        editor.mode.set('readonly');\n      }\n    };\n    const receivingConfig = () => Receiving.config({\n      channels: {\n        [ReadOnlyChannel]: {\n          schema: ReadOnlyDataSchema,\n          onReceive: (comp, data) => {\n            Disabling.set(comp, data.readonly);\n          }\n        }\n      }\n    });\n\n    const item = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-collection__item--state-disabled'\n    });\n    const button = disabled => Disabling.config({ disabled });\n    const splitButton = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-tbtn--disabled'\n    });\n    const toolbarButton = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-tbtn--disabled',\n      useNative: false\n    });\n    const DisablingConfigs = {\n      item,\n      button,\n      splitButton,\n      toolbarButton\n    };\n\n    const runWithApi = (info, comp) => {\n      const api = info.getApi(comp);\n      return f => {\n        f(api);\n      };\n    };\n    const onControlAttached = (info, editorOffCell) => runOnAttached(comp => {\n      const run = runWithApi(info, comp);\n      run(api => {\n        const onDestroy = info.onSetup(api);\n        if (isFunction(onDestroy)) {\n          editorOffCell.set(onDestroy);\n        }\n      });\n    });\n    const onControlDetached = (getApi, editorOffCell) => runOnDetached(comp => runWithApi(getApi, comp)(editorOffCell.get()));\n\n    const onMenuItemExecute = (info, itemResponse) => runOnExecute$1((comp, simulatedEvent) => {\n      runWithApi(info, comp)(info.onAction);\n      if (!info.triggersSubmenu && itemResponse === ItemResponse$1.CLOSE_ON_EXECUTE) {\n        if (comp.getSystem().isConnected()) {\n          emit(comp, sandboxClose());\n        }\n        simulatedEvent.stop();\n      }\n    });\n    const menuItemEventOrder = {\n      [execute$5()]: [\n        'disabling',\n        'alloy.base.behaviour',\n        'toggling',\n        'item-events'\n      ]\n    };\n\n    const componentRenderPipeline = cat;\n    const renderCommonItem = (spec, structure, itemResponse, providersBackstage) => {\n      const editorOffCell = Cell(noop);\n      return {\n        type: 'item',\n        dom: structure.dom,\n        components: componentRenderPipeline(structure.optComponents),\n        data: spec.data,\n        eventOrder: menuItemEventOrder,\n        hasSubmenu: spec.triggersSubmenu,\n        itemBehaviours: derive$1([\n          config('item-events', [\n            onMenuItemExecute(spec, itemResponse),\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          DisablingConfigs.item(() => !spec.enabled || providersBackstage.isDisabled()),\n          receivingConfig(),\n          Replacing.config({})\n        ].concat(spec.itemBehaviours))\n      };\n    };\n    const buildData = source => ({\n      value: source.value,\n      meta: {\n        text: source.text.getOr(''),\n        ...source.meta\n      }\n    });\n\n    const convertText = source => {\n      const isMac = global$5.os.isMacOS() || global$5.os.isiOS();\n      const mac = {\n        alt: '\\u2325',\n        ctrl: '\\u2303',\n        shift: '\\u21E7',\n        meta: '\\u2318',\n        access: '\\u2303\\u2325'\n      };\n      const other = {\n        meta: 'Ctrl',\n        access: 'Shift+Alt'\n      };\n      const replace = isMac ? mac : other;\n      const shortcut = source.split('+');\n      const updated = map$2(shortcut, segment => {\n        const search = segment.toLowerCase().trim();\n        return has$2(replace, search) ? replace[search] : segment;\n      });\n      return isMac ? updated.join('') : updated.join('+');\n    };\n\n    const renderIcon$2 = (name, icons, classes = [iconClass]) => render$3(name, {\n      tag: 'div',\n      classes\n    }, icons);\n    const renderText = text => ({\n      dom: {\n        tag: 'div',\n        classes: [textClass]\n      },\n      components: [text$2(global$8.translate(text))]\n    });\n    const renderHtml = (html, classes) => ({\n      dom: {\n        tag: 'div',\n        classes,\n        innerHtml: html\n      }\n    });\n    const renderStyledText = (style, text) => ({\n      dom: {\n        tag: 'div',\n        classes: [textClass]\n      },\n      components: [{\n          dom: {\n            tag: style.tag,\n            styles: style.styles\n          },\n          components: [text$2(global$8.translate(text))]\n        }]\n    });\n    const renderShortcut = shortcut => ({\n      dom: {\n        tag: 'div',\n        classes: [accessoryClass]\n      },\n      components: [text$2(convertText(shortcut))]\n    });\n    const renderCheckmark = icons => renderIcon$2('checkmark', icons, [checkmarkClass]);\n    const renderSubmenuCaret = icons => renderIcon$2('chevron-right', icons, [caretClass]);\n    const renderDownwardsCaret = icons => renderIcon$2('chevron-down', icons, [caretClass]);\n    const renderContainer = (container, components) => {\n      const directionClass = container.direction === 'vertical' ? containerColumnClass : containerRowClass;\n      const alignClass = container.align === 'left' ? containerAlignLeftClass : containerAlignRightClass;\n      const getValignClass = () => {\n        switch (container.valign) {\n        case 'top':\n          return containerValignTopClass;\n        case 'middle':\n          return containerValignMiddleClass;\n        case 'bottom':\n          return containerValignBottomClass;\n        }\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            containerClass,\n            directionClass,\n            alignClass,\n            getValignClass()\n          ]\n        },\n        components\n      };\n    };\n    const renderImage = (src, classes, alt) => ({\n      dom: {\n        tag: 'img',\n        classes,\n        attributes: {\n          src,\n          alt: alt.getOr('')\n        }\n      }\n    });\n\n    const renderColorStructure = (item, providerBackstage, fallbackIcon) => {\n      const colorPickerCommand = 'custom';\n      const removeColorCommand = 'remove';\n      const itemText = item.ariaLabel;\n      const itemValue = item.value;\n      const iconSvg = item.iconContent.map(name => getOr(name, providerBackstage.icons, fallbackIcon));\n      const getDom = () => {\n        const common = colorClass;\n        const icon = iconSvg.getOr('');\n        const attributes = itemText.map(text => ({ title: providerBackstage.translate(text) })).getOr({});\n        const baseDom = {\n          tag: 'div',\n          attributes,\n          classes: [common]\n        };\n        if (itemValue === colorPickerCommand) {\n          return {\n            ...baseDom,\n            tag: 'button',\n            classes: [\n              ...baseDom.classes,\n              'tox-swatches__picker-btn'\n            ],\n            innerHtml: icon\n          };\n        } else if (itemValue === removeColorCommand) {\n          return {\n            ...baseDom,\n            classes: [\n              ...baseDom.classes,\n              'tox-swatch--remove'\n            ],\n            innerHtml: icon\n          };\n        } else if (isNonNullable(itemValue)) {\n          return {\n            ...baseDom,\n            attributes: {\n              ...baseDom.attributes,\n              'data-mce-color': itemValue\n            },\n            styles: { 'background-color': itemValue },\n            innerHtml: icon\n          };\n        } else {\n          return baseDom;\n        }\n      };\n      return {\n        dom: getDom(),\n        optComponents: []\n      };\n    };\n    const renderItemDomStructure = ariaLabel => {\n      const domTitle = ariaLabel.map(label => ({ attributes: { title: global$8.translate(label) } })).getOr({});\n      return {\n        tag: 'div',\n        classes: [\n          navClass,\n          selectableClass\n        ],\n        ...domTitle\n      };\n    };\n    const renderNormalItemStructure = (info, providersBackstage, renderIcons, fallbackIcon) => {\n      const iconSpec = {\n        tag: 'div',\n        classes: [iconClass]\n      };\n      const renderIcon = iconName => render$3(iconName, iconSpec, providersBackstage.icons, fallbackIcon);\n      const renderEmptyIcon = () => Optional.some({ dom: iconSpec });\n      const leftIcon = renderIcons ? info.iconContent.map(renderIcon).orThunk(renderEmptyIcon) : Optional.none();\n      const checkmark = info.checkMark;\n      const textRender = Optional.from(info.meta).fold(() => renderText, meta => has$2(meta, 'style') ? curry(renderStyledText, meta.style) : renderText);\n      const content = info.htmlContent.fold(() => info.textContent.map(textRender), html => Optional.some(renderHtml(html, [textClass])));\n      const menuItem = {\n        dom: renderItemDomStructure(info.ariaLabel),\n        optComponents: [\n          leftIcon,\n          content,\n          info.shortcutContent.map(renderShortcut),\n          checkmark,\n          info.caret\n        ]\n      };\n      return menuItem;\n    };\n    const renderItemStructure = (info, providersBackstage, renderIcons, fallbackIcon = Optional.none()) => {\n      if (info.presets === 'color') {\n        return renderColorStructure(info, providersBackstage, fallbackIcon);\n      } else {\n        return renderNormalItemStructure(info, providersBackstage, renderIcons, fallbackIcon);\n      }\n    };\n\n    const tooltipBehaviour = (meta, sharedBackstage) => get$g(meta, 'tooltipWorker').map(tooltipWorker => [Tooltipping.config({\n        lazySink: sharedBackstage.getSink,\n        tooltipDom: {\n          tag: 'div',\n          classes: ['tox-tooltip-worker-container']\n        },\n        tooltipComponents: [],\n        anchor: comp => ({\n          type: 'submenu',\n          item: comp,\n          overrides: { maxHeightFunction: expandable$1 }\n        }),\n        mode: 'follow-highlight',\n        onShow: (component, _tooltip) => {\n          tooltipWorker(elm => {\n            Tooltipping.setComponents(component, [external$1({ element: SugarElement.fromDom(elm) })]);\n          });\n        }\n      })]).getOr([]);\n    const encodeText = text => global$7.DOM.encode(text);\n    const replaceText = (text, matchText) => {\n      const translated = global$8.translate(text);\n      const encoded = encodeText(translated);\n      if (matchText.length > 0) {\n        const escapedMatchRegex = new RegExp(escape(matchText), 'gi');\n        return encoded.replace(escapedMatchRegex, match => `<span class=\"tox-autocompleter-highlight\">${ match }</span>`);\n      } else {\n        return encoded;\n      }\n    };\n    const renderAutocompleteItem = (spec, matchText, useText, presets, onItemValueHandler, itemResponse, sharedBackstage, renderIcons = true) => {\n      const structure = renderItemStructure({\n        presets,\n        textContent: Optional.none(),\n        htmlContent: useText ? spec.text.map(text => replaceText(text, matchText)) : Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: Optional.none(),\n        checkMark: Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, sharedBackstage.providers, renderIcons, spec.icon);\n      return renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi: constant$1({}),\n        onAction: _api => onItemValueHandler(spec.value, spec.meta),\n        onSetup: constant$1(noop),\n        triggersSubmenu: false,\n        itemBehaviours: tooltipBehaviour(spec.meta, sharedBackstage)\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    const render$2 = (items, extras) => map$2(items, item => {\n      switch (item.type) {\n      case 'cardcontainer':\n        return renderContainer(item, render$2(item.items, extras));\n      case 'cardimage':\n        return renderImage(item.src, item.classes, item.alt);\n      case 'cardtext':\n        const shouldHighlight = item.name.exists(name => contains$2(extras.cardText.highlightOn, name));\n        const matchText = shouldHighlight ? Optional.from(extras.cardText.matchText).getOr('') : '';\n        return renderHtml(replaceText(item.text, matchText), item.classes);\n      }\n    });\n    const renderCardMenuItem = (spec, itemResponse, sharedBackstage, extras) => {\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => {\n          Disabling.set(component, !state);\n          each$1(descendants(component.element, '*'), elm => {\n            component.getSystem().getByDom(elm).each(comp => {\n              if (comp.hasConfigured(Disabling)) {\n                Disabling.set(comp, !state);\n              }\n            });\n          });\n        }\n      });\n      const structure = {\n        dom: renderItemDomStructure(spec.label),\n        optComponents: [Optional.some({\n            dom: {\n              tag: 'div',\n              classes: [\n                containerClass,\n                containerRowClass\n              ]\n            },\n            components: render$2(spec.items, extras)\n          })]\n      };\n      return renderCommonItem({\n        data: buildData({\n          text: Optional.none(),\n          ...spec\n        }),\n        enabled: spec.enabled,\n        getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: Optional.from(extras.itemBehaviours).getOr([])\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    const renderChoiceItem = (spec, useText, presets, onItemValueHandler, isSelected, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        setActive: state => {\n          Toggling.set(component, state);\n        },\n        isActive: () => Toggling.isOn(component),\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        presets,\n        textContent: useText ? spec.text : Optional.none(),\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: useText ? spec.shortcut : Optional.none(),\n        checkMark: useText ? Optional.some(renderCheckmark(providersBackstage.icons)) : Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi,\n        onAction: _api => onItemValueHandler(spec.value),\n        onSetup: api => {\n          api.setActive(isSelected);\n          return noop;\n        },\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active,\n          exclusive: true\n        }\n      });\n    };\n\n    const parts$f = generate$3(owner$2(), parts$h());\n\n    const hexColour = value => ({ value: normalizeHex(value) });\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    const longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    const isHexString = hex => shorthandRegex.test(hex) || longformRegex.test(hex);\n    const normalizeHex = hex => removeLeading(hex, '#').toUpperCase();\n    const fromString$1 = hex => isHexString(hex) ? Optional.some({ value: normalizeHex(hex) }) : Optional.none();\n    const getLongForm = hex => {\n      const hexString = hex.value.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b);\n      return { value: hexString };\n    };\n    const extractValues = hex => {\n      const longForm = getLongForm(hex);\n      const splitForm = longformRegex.exec(longForm.value);\n      return splitForm === null ? [\n        'FFFFFF',\n        'FF',\n        'FF',\n        'FF'\n      ] : splitForm;\n    };\n    const toHex = component => {\n      const hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    const fromRgba = rgbaColour => {\n      const value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    const min = Math.min;\n    const max = Math.max;\n    const round$1 = Math.round;\n    const rgbRegex = /^\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\\s*$/i;\n    const rgbaRegex = /^\\s*rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d?(?:\\.\\d+)?)\\s*\\)\\s*$/i;\n    const rgbaColour = (red, green, blue, alpha) => ({\n      red,\n      green,\n      blue,\n      alpha\n    });\n    const isRgbaComponent = value => {\n      const num = parseInt(value, 10);\n      return num.toString() === value && num >= 0 && num <= 255;\n    };\n    const fromHsv = hsv => {\n      let r;\n      let g;\n      let b;\n      const hue = (hsv.hue || 0) % 360;\n      let saturation = hsv.saturation / 100;\n      let brightness = hsv.value / 100;\n      saturation = max(0, min(saturation, 1));\n      brightness = max(0, min(brightness, 1));\n      if (saturation === 0) {\n        r = g = b = round$1(255 * brightness);\n        return rgbaColour(r, g, b, 1);\n      }\n      const side = hue / 60;\n      const chroma = brightness * saturation;\n      const x = chroma * (1 - Math.abs(side % 2 - 1));\n      const match = brightness - chroma;\n      switch (Math.floor(side)) {\n      case 0:\n        r = chroma;\n        g = x;\n        b = 0;\n        break;\n      case 1:\n        r = x;\n        g = chroma;\n        b = 0;\n        break;\n      case 2:\n        r = 0;\n        g = chroma;\n        b = x;\n        break;\n      case 3:\n        r = 0;\n        g = x;\n        b = chroma;\n        break;\n      case 4:\n        r = x;\n        g = 0;\n        b = chroma;\n        break;\n      case 5:\n        r = chroma;\n        g = 0;\n        b = x;\n        break;\n      default:\n        r = g = b = 0;\n      }\n      r = round$1(255 * (r + match));\n      g = round$1(255 * (g + match));\n      b = round$1(255 * (b + match));\n      return rgbaColour(r, g, b, 1);\n    };\n    const fromHex = hexColour => {\n      const result = extractValues(hexColour);\n      const red = parseInt(result[1], 16);\n      const green = parseInt(result[2], 16);\n      const blue = parseInt(result[3], 16);\n      return rgbaColour(red, green, blue, 1);\n    };\n    const fromStringValues = (red, green, blue, alpha) => {\n      const r = parseInt(red, 10);\n      const g = parseInt(green, 10);\n      const b = parseInt(blue, 10);\n      const a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    const fromString = rgbaString => {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      const rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      const rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n    const toString = rgba => `rgba(${ rgba.red },${ rgba.green },${ rgba.blue },${ rgba.alpha })`;\n    const red = rgbaColour(255, 0, 0, 1);\n\n    const fireSkinLoaded$1 = editor => {\n      editor.dispatch('SkinLoaded');\n    };\n    const fireSkinLoadError$1 = (editor, error) => {\n      editor.dispatch('SkinLoadError', error);\n    };\n    const fireResizeEditor = editor => {\n      editor.dispatch('ResizeEditor');\n    };\n    const fireResizeContent = (editor, e) => {\n      editor.dispatch('ResizeContent', e);\n    };\n    const fireScrollContent = (editor, e) => {\n      editor.dispatch('ScrollContent', e);\n    };\n    const fireTextColorChange = (editor, data) => {\n      editor.dispatch('TextColorChange', data);\n    };\n    const fireAfterProgressState = (editor, state) => {\n      editor.dispatch('AfterProgressState', { state });\n    };\n    const fireResolveName = (editor, node) => editor.dispatch('ResolveName', {\n      name: node.nodeName.toLowerCase(),\n      target: node\n    });\n    const fireToggleToolbarDrawer = (editor, state) => {\n      editor.dispatch('ToggleToolbarDrawer', { state });\n    };\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.LocalStorage');\n\n    const cacheStorage = {};\n    const ColorCache = (storageId, max = 10) => {\n      const storageString = global$4.getItem(storageId);\n      const localstorage = isString(storageString) ? JSON.parse(storageString) : [];\n      const prune = list => {\n        const diff = max - list.length;\n        return diff < 0 ? list.slice(0, max) : list;\n      };\n      const cache = prune(localstorage);\n      const add = key => {\n        indexOf(cache, key).each(remove);\n        cache.unshift(key);\n        if (cache.length > max) {\n          cache.pop();\n        }\n        global$4.setItem(storageId, JSON.stringify(cache));\n      };\n      const remove = idx => {\n        cache.splice(idx, 1);\n      };\n      const state = () => cache.slice(0);\n      return {\n        add,\n        state\n      };\n    };\n    const getCacheForId = id => get$g(cacheStorage, id).getOrThunk(() => {\n      const storageId = `tinymce-custom-colors-${ id }`;\n      const currentData = global$4.getItem(storageId);\n      if (isNullable(currentData)) {\n        const legacyDefault = global$4.getItem('tinymce-custom-colors');\n        global$4.setItem(storageId, isNonNullable(legacyDefault) ? legacyDefault : '[]');\n      }\n      const storage = ColorCache(storageId, 10);\n      cacheStorage[id] = storage;\n      return storage;\n    });\n    const getCurrentColors = id => map$2(getCacheForId(id).state(), color => ({\n      type: 'choiceitem',\n      text: color,\n      icon: 'checkmark',\n      value: color\n    }));\n    const addColor = (id, color) => {\n      getCacheForId(id).add(color);\n    };\n\n    const hsvColour = (hue, saturation, value) => ({\n      hue,\n      saturation,\n      value\n    });\n    const fromRgb = rgbaColour => {\n      let h = 0;\n      let s = 0;\n      let v = 0;\n      const r = rgbaColour.red / 255;\n      const g = rgbaColour.green / 255;\n      const b = rgbaColour.blue / 255;\n      const minRGB = Math.min(r, Math.min(g, b));\n      const maxRGB = Math.max(r, Math.max(g, b));\n      if (minRGB === maxRGB) {\n        v = minRGB;\n        return hsvColour(0, 0, v * 100);\n      }\n      const d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n      h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n      h = 60 * (h - d / (maxRGB - minRGB));\n      s = (maxRGB - minRGB) / maxRGB;\n      v = maxRGB;\n      return hsvColour(Math.round(h), Math.round(s * 100), Math.round(v * 100));\n    };\n\n    const hexToHsv = hex => fromRgb(fromHex(hex));\n    const hsvToHex = hsv => fromRgba(fromHsv(hsv));\n    const anyToHex = color => fromString$1(color).orThunk(() => fromString(color).map(fromRgba)).getOrThunk(() => {\n      const canvas = document.createElement('canvas');\n      canvas.height = 1;\n      canvas.width = 1;\n      const canvasContext = canvas.getContext('2d');\n      canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n      canvasContext.fillStyle = '#FFFFFF';\n      canvasContext.fillStyle = color;\n      canvasContext.fillRect(0, 0, 1, 1);\n      const rgba = canvasContext.getImageData(0, 0, 1, 1).data;\n      const r = rgba[0];\n      const g = rgba[1];\n      const b = rgba[2];\n      const a = rgba[3];\n      return fromRgba(rgbaColour(r, g, b, a));\n    });\n\n    const foregroundId = 'forecolor';\n    const backgroundId = 'hilitecolor';\n    const defaultCols = 5;\n    const calcCols = colors => Math.max(defaultCols, Math.ceil(Math.sqrt(colors)));\n    const calcColsOption = (editor, numColors) => {\n      const calculatedCols = calcCols(numColors);\n      const fallbackCols = option$1('color_cols')(editor);\n      return defaultCols === calculatedCols ? fallbackCols : calculatedCols;\n    };\n    const mapColors = colorMap => {\n      const colors = [];\n      for (let i = 0; i < colorMap.length; i += 2) {\n        colors.push({\n          text: colorMap[i + 1],\n          value: '#' + anyToHex(colorMap[i]).value,\n          icon: 'checkmark',\n          type: 'choiceitem'\n        });\n      }\n      return colors;\n    };\n    const option$1 = name => editor => editor.options.get(name);\n    const fallbackColor = '#000000';\n    const register$d = editor => {\n      const registerOption = editor.options.register;\n      const colorProcessor = value => {\n        if (isArrayOf(value, isString)) {\n          return {\n            value: mapColors(value),\n            valid: true\n          };\n        } else {\n          return {\n            valid: false,\n            message: 'Must be an array of strings.'\n          };\n        }\n      };\n      registerOption('color_map', {\n        processor: colorProcessor,\n        default: [\n          '#BFEDD2',\n          'Light Green',\n          '#FBEEB8',\n          'Light Yellow',\n          '#F8CAC6',\n          'Light Red',\n          '#ECCAFA',\n          'Light Purple',\n          '#C2E0F4',\n          'Light Blue',\n          '#2DC26B',\n          'Green',\n          '#F1C40F',\n          'Yellow',\n          '#E03E2D',\n          'Red',\n          '#B96AD9',\n          'Purple',\n          '#3598DB',\n          'Blue',\n          '#169179',\n          'Dark Turquoise',\n          '#E67E23',\n          'Orange',\n          '#BA372A',\n          'Dark Red',\n          '#843FA1',\n          'Dark Purple',\n          '#236FA1',\n          'Dark Blue',\n          '#ECF0F1',\n          'Light Gray',\n          '#CED4D9',\n          'Medium Gray',\n          '#95A5A6',\n          'Gray',\n          '#7E8C8D',\n          'Dark Gray',\n          '#34495E',\n          'Navy Blue',\n          '#000000',\n          'Black',\n          '#ffffff',\n          'White'\n        ]\n      });\n      registerOption('color_map_background', { processor: colorProcessor });\n      registerOption('color_map_foreground', { processor: colorProcessor });\n      registerOption('color_cols', {\n        processor: 'number',\n        default: calcCols(getColors$2(editor, 'default').length)\n      });\n      registerOption('color_cols_foreground', {\n        processor: 'number',\n        default: calcColsOption(editor, getColors$2(editor, foregroundId).length)\n      });\n      registerOption('color_cols_background', {\n        processor: 'number',\n        default: calcColsOption(editor, getColors$2(editor, backgroundId).length)\n      });\n      registerOption('custom_colors', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('color_default_foreground', {\n        processor: 'string',\n        default: fallbackColor\n      });\n      registerOption('color_default_background', {\n        processor: 'string',\n        default: fallbackColor\n      });\n    };\n    const colorColsOption = (editor, id) => {\n      if (id === foregroundId) {\n        return option$1('color_cols_foreground')(editor);\n      } else if (id === backgroundId) {\n        return option$1('color_cols_background')(editor);\n      } else {\n        return option$1('color_cols')(editor);\n      }\n    };\n    const getColorCols$1 = (editor, id) => {\n      const colorCols = colorColsOption(editor, id);\n      return colorCols > 0 ? colorCols : defaultCols;\n    };\n    const hasCustomColors$1 = option$1('custom_colors');\n    const getColors$2 = (editor, id) => {\n      if (id === foregroundId && editor.options.isSet('color_map_foreground')) {\n        return option$1('color_map_foreground')(editor);\n      } else if (id === backgroundId && editor.options.isSet('color_map_background')) {\n        return option$1('color_map_background')(editor);\n      } else {\n        return option$1('color_map')(editor);\n      }\n    };\n    const getDefaultForegroundColor = option$1('color_default_foreground');\n    const getDefaultBackgroundColor = option$1('color_default_background');\n\n    const defaultBackgroundColor = 'rgba(0, 0, 0, 0)';\n    const isValidBackgroundColor = value => fromString(value).exists(c => c.alpha !== 0);\n    const getClosestCssBackgroundColorValue = scope => {\n      return closest$4(scope, node => {\n        if (isElement$1(node)) {\n          const color = get$e(node, 'background-color');\n          return someIf(isValidBackgroundColor(color), color);\n        } else {\n          return Optional.none();\n        }\n      }).getOr(defaultBackgroundColor);\n    };\n    const getCurrentColor = (editor, format) => {\n      const node = SugarElement.fromDom(editor.selection.getStart());\n      const cssRgbValue = format === 'hilitecolor' ? getClosestCssBackgroundColorValue(node) : get$e(node, 'color');\n      return fromString(cssRgbValue).map(rgba => '#' + fromRgba(rgba).value);\n    };\n    const applyFormat = (editor, format, value) => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.formatter.apply(format, { value });\n        editor.nodeChanged();\n      });\n    };\n    const removeFormat = (editor, format) => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.formatter.remove(format, { value: null }, undefined, true);\n        editor.nodeChanged();\n      });\n    };\n    const registerCommands = editor => {\n      editor.addCommand('mceApplyTextcolor', (format, value) => {\n        applyFormat(editor, format, value);\n      });\n      editor.addCommand('mceRemoveTextcolor', format => {\n        removeFormat(editor, format);\n      });\n    };\n    const getAdditionalColors = hasCustom => {\n      const type = 'choiceitem';\n      const remove = {\n        type,\n        text: 'Remove color',\n        icon: 'color-swatch-remove-color',\n        value: 'remove'\n      };\n      const custom = {\n        type,\n        text: 'Custom color',\n        icon: 'color-picker',\n        value: 'custom'\n      };\n      return hasCustom ? [\n        remove,\n        custom\n      ] : [remove];\n    };\n    const applyColor = (editor, format, value, onChoice) => {\n      if (value === 'custom') {\n        const dialog = colorPickerDialog(editor);\n        dialog(colorOpt => {\n          colorOpt.each(color => {\n            addColor(format, color);\n            editor.execCommand('mceApplyTextcolor', format, color);\n            onChoice(color);\n          });\n        }, getCurrentColor(editor, format).getOr(fallbackColor));\n      } else if (value === 'remove') {\n        onChoice('');\n        editor.execCommand('mceRemoveTextcolor', format);\n      } else {\n        onChoice(value);\n        editor.execCommand('mceApplyTextcolor', format, value);\n      }\n    };\n    const getColors$1 = (colors, id, hasCustom) => colors.concat(getCurrentColors(id).concat(getAdditionalColors(hasCustom)));\n    const getFetch$1 = (colors, id, hasCustom) => callback => {\n      callback(getColors$1(colors, id, hasCustom));\n    };\n    const setIconColor = (splitButtonApi, name, newColor) => {\n      const id = name === 'forecolor' ? 'tox-icon-text-color__color' : 'tox-icon-highlight-bg-color__color';\n      splitButtonApi.setIconFill(id, newColor);\n    };\n    const select$1 = (editor, format) => value => {\n      const optCurrentHex = getCurrentColor(editor, format);\n      return is$1(optCurrentHex, value.toUpperCase());\n    };\n    const registerTextColorButton = (editor, name, format, tooltip, lastColor) => {\n      editor.ui.registry.addSplitButton(name, {\n        tooltip,\n        presets: 'color',\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        select: select$1(editor, format),\n        columns: getColorCols$1(editor, format),\n        fetch: getFetch$1(getColors$2(editor, format), format, hasCustomColors$1(editor)),\n        onAction: _splitButtonApi => {\n          applyColor(editor, format, lastColor.get(), noop);\n        },\n        onItemAction: (_splitButtonApi, value) => {\n          applyColor(editor, format, value, newColor => {\n            lastColor.set(newColor);\n            fireTextColorChange(editor, {\n              name,\n              color: newColor\n            });\n          });\n        },\n        onSetup: splitButtonApi => {\n          setIconColor(splitButtonApi, name, lastColor.get());\n          const handler = e => {\n            if (e.name === name) {\n              setIconColor(splitButtonApi, e.name, e.color);\n            }\n          };\n          editor.on('TextColorChange', handler);\n          return () => {\n            editor.off('TextColorChange', handler);\n          };\n        }\n      });\n    };\n    const registerTextColorMenuItem = (editor, name, format, text, lastColor) => {\n      editor.ui.registry.addNestedMenuItem(name, {\n        text,\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        onSetup: api => {\n          setIconColor(api, name, lastColor.get());\n          return noop;\n        },\n        getSubmenuItems: () => [{\n            type: 'fancymenuitem',\n            fancytype: 'colorswatch',\n            select: select$1(editor, format),\n            initData: { storageKey: format },\n            onAction: data => {\n              applyColor(editor, format, data.value, newColor => {\n                lastColor.set(newColor);\n                fireTextColorChange(editor, {\n                  name,\n                  color: newColor\n                });\n              });\n            }\n          }]\n      });\n    };\n    const colorPickerDialog = editor => (callback, value) => {\n      let isValid = false;\n      const onSubmit = api => {\n        const data = api.getData();\n        const hex = data.colorpicker;\n        if (isValid) {\n          callback(Optional.from(hex));\n          api.close();\n        } else {\n          editor.windowManager.alert(editor.translate([\n            'Invalid hex color code: {0}',\n            hex\n          ]));\n        }\n      };\n      const onAction = (_api, details) => {\n        if (details.name === 'hex-valid') {\n          isValid = details.value;\n        }\n      };\n      const initialData = { colorpicker: value };\n      editor.windowManager.open({\n        title: 'Color Picker',\n        size: 'normal',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'colorpicker',\n              name: 'colorpicker',\n              label: 'Color'\n            }]\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData,\n        onAction,\n        onSubmit,\n        onClose: noop,\n        onCancel: () => {\n          callback(Optional.none());\n        }\n      });\n    };\n    const register$c = editor => {\n      registerCommands(editor);\n      const fallbackColorForeground = getDefaultForegroundColor(editor);\n      const fallbackColorBackground = getDefaultBackgroundColor(editor);\n      const lastForeColor = Cell(fallbackColorForeground);\n      const lastBackColor = Cell(fallbackColorBackground);\n      registerTextColorButton(editor, 'forecolor', 'forecolor', 'Text color', lastForeColor);\n      registerTextColorButton(editor, 'backcolor', 'hilitecolor', 'Background color', lastBackColor);\n      registerTextColorMenuItem(editor, 'forecolor', 'forecolor', 'Text color', lastForeColor);\n      registerTextColorMenuItem(editor, 'backcolor', 'hilitecolor', 'Background color', lastBackColor);\n    };\n\n    const createPartialChoiceMenu = (value, items, onItemValueHandler, columns, presets, itemResponse, select, providersBackstage) => {\n      const hasIcons = menuHasIcons(items);\n      const presetItemTypes = presets !== 'color' ? 'normal' : 'color';\n      const alloyItems = createChoiceItems(items, onItemValueHandler, columns, presetItemTypes, itemResponse, select, providersBackstage);\n      const menuLayout = { menuType: presets };\n      return createPartialMenuWithAlloyItems(value, hasIcons, alloyItems, columns, menuLayout);\n    };\n    const createChoiceItems = (items, onItemValueHandler, columns, itemPresets, itemResponse, select, providersBackstage) => cat(map$2(items, item => {\n      if (item.type === 'choiceitem') {\n        return createChoiceMenuItem(item).fold(handleError, d => Optional.some(renderChoiceItem(d, columns === 1, itemPresets, onItemValueHandler, select(d.value), itemResponse, providersBackstage, menuHasIcons(items))));\n      } else {\n        return Optional.none();\n      }\n    }));\n\n    const deriveMenuMovement = (columns, presets) => {\n      const menuMarkers = markers(presets);\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: true\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'grid',\n          selector: '.' + menuMarkers.item,\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        const rowClass = presets === 'color' ? 'tox-swatches__row' : 'tox-collection__group';\n        return {\n          mode: 'matrix',\n          rowSelector: '.' + rowClass,\n          previousSelector: menu => {\n            return presets === 'color' ? descendant(menu.element, '[aria-checked=true]') : Optional.none();\n          }\n        };\n      }\n    };\n    const deriveCollectionMovement = (columns, presets) => {\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: false,\n          selector: '.tox-collection__item'\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'flatgrid',\n          selector: '.' + 'tox-collection__item',\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        return {\n          mode: 'matrix',\n          selectors: {\n            row: presets === 'color' ? '.tox-swatches__row' : '.tox-collection__group',\n            cell: presets === 'color' ? `.${ colorClass }` : `.${ selectableClass }`\n          }\n        };\n      }\n    };\n\n    const renderColorSwatchItem = (spec, backstage) => {\n      const items = getColorItems(spec, backstage);\n      const columns = backstage.colorinput.getColorCols(spec.initData.storageKey);\n      const presets = 'color';\n      const menuSpec = createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n        spec.onAction({ value });\n      }, columns, presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(never), backstage.shared.providers);\n      const widgetSpec = {\n        ...menuSpec,\n        markers: markers(presets),\n        movement: deriveMenuMovement(columns, presets)\n      };\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget(Menu.sketch(widgetSpec))]\n      };\n    };\n    const getColorItems = (spec, backstage) => {\n      const useCustomColors = spec.initData.allowCustomColors && backstage.colorinput.hasCustomColors();\n      return spec.initData.colors.fold(() => getColors$1(backstage.colorinput.getColors(spec.initData.storageKey), spec.initData.storageKey, useCustomColors), colors => colors.concat(getAdditionalColors(useCustomColors)));\n    };\n\n    const cellOverEvent = generate$6('cell-over');\n    const cellExecuteEvent = generate$6('cell-execute');\n    const makeCell = (row, col, labelId) => {\n      const emitCellOver = c => emitWith(c, cellOverEvent, {\n        row,\n        col\n      });\n      const emitExecute = c => emitWith(c, cellExecuteEvent, {\n        row,\n        col\n      });\n      const onClick = (c, se) => {\n        se.stop();\n        emitExecute(c);\n      };\n      return build$1({\n        dom: {\n          tag: 'div',\n          attributes: {\n            role: 'button',\n            ['aria-labelledby']: labelId\n          }\n        },\n        behaviours: derive$1([\n          config('insert-table-picker-cell', [\n            run$1(mouseover(), Focusing.focus),\n            run$1(execute$5(), emitExecute),\n            run$1(click(), onClick),\n            run$1(tap(), onClick)\n          ]),\n          Toggling.config({\n            toggleClass: 'tox-insert-table-picker__selected',\n            toggleOnExecute: false\n          }),\n          Focusing.config({ onFocus: emitCellOver })\n        ])\n      });\n    };\n    const makeCells = (labelId, numRows, numCols) => {\n      const cells = [];\n      for (let i = 0; i < numRows; i++) {\n        const row = [];\n        for (let j = 0; j < numCols; j++) {\n          row.push(makeCell(i, j, labelId));\n        }\n        cells.push(row);\n      }\n      return cells;\n    };\n    const selectCells = (cells, selectedRow, selectedColumn, numRows, numColumns) => {\n      for (let i = 0; i < numRows; i++) {\n        for (let j = 0; j < numColumns; j++) {\n          Toggling.set(cells[i][j], i <= selectedRow && j <= selectedColumn);\n        }\n      }\n    };\n    const makeComponents = cells => bind$3(cells, cellRow => map$2(cellRow, premade));\n    const makeLabelText = (row, col) => text$2(`${ col }x${ row }`);\n    const renderInsertTableMenuItem = spec => {\n      const numRows = 10;\n      const numColumns = 10;\n      const sizeLabelId = generate$6('size-label');\n      const cells = makeCells(sizeLabelId, numRows, numColumns);\n      const emptyLabelText = makeLabelText(0, 0);\n      const memLabel = record({\n        dom: {\n          tag: 'span',\n          classes: ['tox-insert-table-picker__label'],\n          attributes: { id: sizeLabelId }\n        },\n        components: [emptyLabelText],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget({\n            dom: {\n              tag: 'div',\n              classes: ['tox-insert-table-picker']\n            },\n            components: makeComponents(cells).concat(memLabel.asSpec()),\n            behaviours: derive$1([\n              config('insert-table-picker', [\n                runOnAttached(c => {\n                  Replacing.set(memLabel.get(c), [emptyLabelText]);\n                }),\n                runWithTarget(cellOverEvent, (c, t, e) => {\n                  const {row, col} = e.event;\n                  selectCells(cells, row, col, numRows, numColumns);\n                  Replacing.set(memLabel.get(c), [makeLabelText(row + 1, col + 1)]);\n                }),\n                runWithTarget(cellExecuteEvent, (c, _, e) => {\n                  const {row, col} = e.event;\n                  spec.onAction({\n                    numRows: row + 1,\n                    numColumns: col + 1\n                  });\n                  emit(c, sandboxClose());\n                })\n              ]),\n              Keying.config({\n                initSize: {\n                  numRows,\n                  numColumns\n                },\n                mode: 'flatgrid',\n                selector: '[role=\"button\"]'\n              })\n            ])\n          })]\n      };\n    };\n\n    const fancyMenuItems = {\n      inserttable: renderInsertTableMenuItem,\n      colorswatch: renderColorSwatchItem\n    };\n    const renderFancyMenuItem = (spec, backstage) => get$g(fancyMenuItems, spec.fancytype).map(render => render(spec, backstage));\n\n    const renderNestedItem = (spec, itemResponse, providersBackstage, renderIcons = true, downwardsCaret = false) => {\n      const caret = downwardsCaret ? renderDownwardsCaret(providersBackstage.icons) : renderSubmenuCaret(providersBackstage.icons);\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state),\n        setIconFill: (id, value) => {\n          descendant(component.element, `svg path[id=\"${ id }\"], rect[id=\"${ id }\"]`).each(underlinePath => {\n            set$9(underlinePath, 'fill', value);\n          });\n        }\n      });\n      const structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.some(caret),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi,\n        enabled: spec.enabled,\n        onAction: noop,\n        onSetup: spec.onSetup,\n        triggersSubmenu: true,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    const renderNormalItem = (spec, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.none(),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi,\n        enabled: spec.enabled,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    const renderSeparatorItem = spec => ({\n      type: 'separator',\n      dom: {\n        tag: 'div',\n        classes: [\n          selectableClass,\n          groupHeadingClass\n        ]\n      },\n      components: spec.text.map(text$2).toArray()\n    });\n\n    const renderToggleMenuItem = (spec, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        setActive: state => {\n          Toggling.set(component, state);\n        },\n        isActive: () => Toggling.isOn(component),\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        checkMark: Optional.some(renderCheckmark(providersBackstage.icons)),\n        caret: Optional.none(),\n        shortcutContent: spec.shortcut,\n        presets: 'normal',\n        meta: spec.meta\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    const autocomplete = renderAutocompleteItem;\n    const separator$3 = renderSeparatorItem;\n    const normal = renderNormalItem;\n    const nested = renderNestedItem;\n    const toggle$1 = renderToggleMenuItem;\n    const fancy = renderFancyMenuItem;\n    const card = renderCardMenuItem;\n\n    const getCoupled = (component, coupleConfig, coupleState, name) => coupleState.getOrCreate(component, coupleConfig, name);\n    const getExistingCoupled = (component, coupleConfig, coupleState, name) => coupleState.getExisting(component, coupleConfig, name);\n\n    var CouplingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCoupled: getCoupled,\n        getExistingCoupled: getExistingCoupled\n    });\n\n    var CouplingSchema = [requiredOf('others', setOf(Result.value, anyValue()))];\n\n    const init$a = () => {\n      const coupled = {};\n      const lookupCoupled = (coupleConfig, coupledName) => {\n        const available = keys(coupleConfig.others);\n        if (available.length === 0) {\n          throw new Error('Cannot find any known coupled components');\n        } else {\n          return get$g(coupled, coupledName);\n        }\n      };\n      const getOrCreate = (component, coupleConfig, name) => {\n        return lookupCoupled(coupleConfig, name).getOrThunk(() => {\n          const builder = get$g(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n          const spec = builder(component);\n          const built = component.getSystem().build(spec);\n          coupled[name] = built;\n          return built;\n        });\n      };\n      const getExisting = (component, coupleConfig, name) => {\n        return lookupCoupled(coupleConfig, name).orThunk(() => {\n          get$g(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n          return Optional.none();\n        });\n      };\n      const readState = constant$1({});\n      return nu$8({\n        readState,\n        getExisting,\n        getOrCreate\n      });\n    };\n\n    var CouplingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$a\n    });\n\n    const Coupling = create$4({\n      fields: CouplingSchema,\n      name: 'coupling',\n      apis: CouplingApis,\n      state: CouplingState\n    });\n\n    const nu$3 = baseFn => {\n      let data = Optional.none();\n      let callbacks = [];\n      const map = f => nu$3(nCallback => {\n        get(data => {\n          nCallback(f(data));\n        });\n      });\n      const get = nCallback => {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      const set = x => {\n        if (!isReady()) {\n          data = Optional.some(x);\n          run(callbacks);\n          callbacks = [];\n        }\n      };\n      const isReady = () => data.isSome();\n      const run = cbs => {\n        each$1(cbs, call);\n      };\n      const call = cb => {\n        data.each(x => {\n          setTimeout(() => {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get,\n        map,\n        isReady\n      };\n    };\n    const pure$1 = a => nu$3(callback => {\n      callback(a);\n    });\n    const LazyValue = {\n      nu: nu$3,\n      pure: pure$1\n    };\n\n    const errorReporter = err => {\n      setTimeout(() => {\n        throw err;\n      }, 0);\n    };\n    const make$5 = run => {\n      const get = callback => {\n        run().then(callback, errorReporter);\n      };\n      const map = fab => {\n        return make$5(() => run().then(fab));\n      };\n      const bind = aFutureB => {\n        return make$5(() => run().then(v => aFutureB(v).toPromise()));\n      };\n      const anonBind = futureB => {\n        return make$5(() => run().then(() => futureB.toPromise()));\n      };\n      const toLazy = () => {\n        return LazyValue.nu(get);\n      };\n      const toCached = () => {\n        let cache = null;\n        return make$5(() => {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      const toPromise = run;\n      return {\n        map,\n        bind,\n        anonBind,\n        toLazy,\n        toCached,\n        toPromise,\n        get\n      };\n    };\n    const nu$2 = baseFn => {\n      return make$5(() => new Promise(baseFn));\n    };\n    const pure = a => {\n      return make$5(() => Promise.resolve(a));\n    };\n    const Future = {\n      nu: nu$2,\n      pure\n    };\n\n    const suffix = constant$1('sink');\n    const partType$1 = constant$1(optional({\n      name: suffix(),\n      overrides: constant$1({\n        dom: { tag: 'div' },\n        behaviours: derive$1([Positioning.config({ useFixed: always })]),\n        events: derive$2([\n          cutter(keydown()),\n          cutter(mousedown()),\n          cutter(click())\n        ])\n      })\n    }));\n\n    const getAnchor = (detail, component) => {\n      const hotspot = detail.getHotspot(component).getOr(component);\n      const type = 'hotspot';\n      const overrides = detail.getAnchorOverrides();\n      return detail.layouts.fold(() => ({\n        type,\n        hotspot,\n        overrides\n      }), layouts => ({\n        type,\n        hotspot,\n        overrides,\n        layouts\n      }));\n    };\n    const fetch = (detail, mapFetch, component) => {\n      const fetcher = detail.fetch;\n      return fetcher(component).map(mapFetch);\n    };\n    const openF = (detail, mapFetch, anchor, component, sandbox, externals, highlightOnOpen) => {\n      const futureData = fetch(detail, mapFetch, component);\n      const getLazySink = getSink(component, detail);\n      return futureData.map(tdata => tdata.bind(data => Optional.from(tieredMenu.sketch({\n        ...externals.menu(),\n        uid: generate$5(''),\n        data,\n        highlightOnOpen,\n        onOpenMenu: (tmenu, menu) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, menu, { anchor });\n          Sandboxing.decloak(sandbox);\n        },\n        onOpenSubmenu: (tmenu, item, submenu) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: {\n              type: 'submenu',\n              item\n            }\n          });\n          Sandboxing.decloak(sandbox);\n        },\n        onRepositionMenu: (tmenu, primaryMenu, submenuTriggers) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, primaryMenu, { anchor });\n          each$1(submenuTriggers, st => {\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: {\n                type: 'submenu',\n                item: st.triggeringItem\n              }\n            });\n          });\n        },\n        onEscape: () => {\n          Focusing.focus(component);\n          Sandboxing.close(sandbox);\n          return Optional.some(true);\n        }\n      }))));\n    };\n    const open = (detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen) => {\n      const anchor = getAnchor(detail, hotspot);\n      const processed = openF(detail, mapFetch, anchor, hotspot, sandbox, externals, highlightOnOpen);\n      return processed.map(tdata => {\n        tdata.fold(() => {\n          if (Sandboxing.isOpen(sandbox)) {\n            Sandboxing.close(sandbox);\n          }\n        }, data => {\n          Sandboxing.cloak(sandbox);\n          Sandboxing.open(sandbox, data);\n          onOpenSync(sandbox);\n        });\n        return sandbox;\n      });\n    };\n    const close = (detail, mapFetch, component, sandbox, _externals, _onOpenSync, _highlightOnOpen) => {\n      Sandboxing.close(sandbox);\n      return Future.pure(sandbox);\n    };\n    const togglePopup = (detail, mapFetch, hotspot, externals, onOpenSync, highlightOnOpen) => {\n      const sandbox = Coupling.getCoupled(hotspot, 'sandbox');\n      const showing = Sandboxing.isOpen(sandbox);\n      const action = showing ? close : open;\n      return action(detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen);\n    };\n    const matchWidth = (hotspot, container, useMinWidth) => {\n      const menu = Composing.getCurrent(container).getOr(container);\n      const buttonWidth = get$c(hotspot.element);\n      if (useMinWidth) {\n        set$8(menu.element, 'min-width', buttonWidth + 'px');\n      } else {\n        set$7(menu.element, buttonWidth);\n      }\n    };\n    const getSink = (anyInSystem, sinkDetail) => anyInSystem.getSystem().getByUid(sinkDetail.uid + '-' + suffix()).map(internalSink => () => Result.value(internalSink)).getOrThunk(() => sinkDetail.lazySink.fold(() => () => Result.error(new Error('No internal sink is specified, nor could an external sink be found')), lazySinkFn => () => lazySinkFn(anyInSystem)));\n    const doRepositionMenus = sandbox => {\n      Sandboxing.getState(sandbox).each(tmenu => {\n        tieredMenu.repositionMenus(tmenu);\n      });\n    };\n    const makeSandbox$1 = (detail, hotspot, extras) => {\n      const ariaControls = manager();\n      const onOpen = (component, menu) => {\n        const anchor = getAnchor(detail, hotspot);\n        ariaControls.link(hotspot.element);\n        if (detail.matchWidth) {\n          matchWidth(anchor.hotspot, menu, detail.useMinWidth);\n        }\n        detail.onOpen(anchor, component, menu);\n        if (extras !== undefined && extras.onOpen !== undefined) {\n          extras.onOpen(component, menu);\n        }\n      };\n      const onClose = (component, menu) => {\n        ariaControls.unlink(hotspot.element);\n        if (extras !== undefined && extras.onClose !== undefined) {\n          extras.onClose(component, menu);\n        }\n      };\n      const lazySink = getSink(hotspot, detail);\n      return {\n        dom: {\n          tag: 'div',\n          classes: detail.sandboxClasses,\n          attributes: {\n            id: ariaControls.id,\n            role: 'listbox'\n          }\n        },\n        behaviours: SketchBehaviours.augment(detail.sandboxBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: hotspot\n            }\n          }),\n          Sandboxing.config({\n            onOpen,\n            onClose,\n            isPartOf: (container, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOf$1(hotspot, queryElem);\n            },\n            getAttachPoint: () => {\n              return lazySink().getOrDie();\n            }\n          }),\n          Composing.config({\n            find: sandbox => {\n              return Sandboxing.getState(sandbox).bind(menu => Composing.getCurrent(menu));\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({ isExtraPart: never }),\n              ...receivingChannel({ doReposition: doRepositionMenus })\n            }\n          })\n        ])\n      };\n    };\n    const repositionMenus = comp => {\n      const sandbox = Coupling.getCoupled(comp, 'sandbox');\n      doRepositionMenus(sandbox);\n    };\n\n    const sandboxFields = () => [\n      defaulted('sandboxClasses', []),\n      SketchBehaviours.field('sandboxBehaviours', [\n        Composing,\n        Receiving,\n        Sandboxing,\n        Representing\n      ])\n    ];\n\n    const schema$k = constant$1([\n      required$1('dom'),\n      required$1('fetch'),\n      onHandler('onOpen'),\n      onKeyboardHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      field('dropdownBehaviours', [\n        Toggling,\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      required$1('toggleClass'),\n      defaulted('eventOrder', {}),\n      option$3('lazySink'),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      option$3('role')\n    ].concat(sandboxFields()));\n    const parts$e = constant$1([\n      external({\n        schema: [\n          tieredMenuMarkers(),\n          defaulted('fakeFocus', false)\n        ],\n        name: 'menu',\n        defaults: detail => {\n          return { onExecute: detail.onExecute };\n        }\n      }),\n      partType$1()\n    ]);\n\n    const factory$k = (detail, components, _spec, externals) => {\n      const lookupAttr = attr => get$g(detail.dom, 'attributes').bind(attrs => get$g(attrs, attr));\n      const switchToMenu = sandbox => {\n        Sandboxing.getState(sandbox).each(tmenu => {\n          tieredMenu.highlightPrimary(tmenu);\n        });\n      };\n      const togglePopup$1 = (dropdownComp, onOpenSync, highlightOnOpen) => {\n        return togglePopup(detail, identity, dropdownComp, externals, onOpenSync, highlightOnOpen);\n      };\n      const action = component => {\n        const onOpenSync = switchToMenu;\n        togglePopup$1(component, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n      };\n      const apis = {\n        expand: comp => {\n          if (!Toggling.isOn(comp)) {\n            togglePopup$1(comp, noop, HighlightOnOpen.HighlightNone).get(noop);\n          }\n        },\n        open: comp => {\n          if (!Toggling.isOn(comp)) {\n            togglePopup$1(comp, noop, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n          }\n        },\n        refetch: comp => {\n          const optSandbox = Coupling.getExistingCoupled(comp, 'sandbox');\n          return optSandbox.fold(() => {\n            return togglePopup$1(comp, noop, HighlightOnOpen.HighlightMenuAndItem).map(noop);\n          }, sandboxComp => {\n            return open(detail, identity, comp, sandboxComp, externals, noop, HighlightOnOpen.HighlightMenuAndItem).map(noop);\n          });\n        },\n        isOpen: Toggling.isOn,\n        close: comp => {\n          if (Toggling.isOn(comp)) {\n            togglePopup$1(comp, noop, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n          }\n        },\n        repositionMenus: comp => {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      const triggerExecute = (comp, _se) => {\n        emitExecute(comp);\n        return Optional.some(true);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.dropdownBehaviours, [\n          Toggling.config({\n            toggleClass: detail.toggleClass,\n            aria: { mode: 'expanded' }\n          }),\n          Coupling.config({\n            others: {\n              sandbox: hotspot => {\n                return makeSandbox$1(detail, hotspot, {\n                  onOpen: () => Toggling.on(hotspot),\n                  onClose: () => Toggling.off(hotspot)\n                });\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: triggerExecute,\n            onEnter: triggerExecute,\n            onDown: (comp, _se) => {\n              if (Dropdown.isOpen(comp)) {\n                const sandbox = Coupling.getCoupled(comp, 'sandbox');\n                switchToMenu(sandbox);\n              } else {\n                Dropdown.open(comp);\n              }\n              return Optional.some(true);\n            },\n            onEscape: (comp, _se) => {\n              if (Dropdown.isOpen(comp)) {\n                Dropdown.close(comp);\n                return Optional.some(true);\n              } else {\n                return Optional.none();\n              }\n            }\n          }),\n          Focusing.config({})\n        ]),\n        events: events$a(Optional.some(action)),\n        eventOrder: {\n          ...detail.eventOrder,\n          [execute$5()]: [\n            'disabling',\n            'toggling',\n            'alloy.base.behaviour'\n          ]\n        },\n        apis,\n        domModification: {\n          attributes: {\n            'aria-haspopup': 'true',\n            ...detail.role.fold(() => ({}), role => ({ role })),\n            ...detail.dom.tag === 'button' ? { type: lookupAttr('type').getOr('button') } : {}\n          }\n        }\n      };\n    };\n    const Dropdown = composite({\n      name: 'Dropdown',\n      configFields: schema$k(),\n      partFields: parts$e(),\n      factory: factory$k,\n      apis: {\n        open: (apis, comp) => apis.open(comp),\n        refetch: (apis, comp) => apis.refetch(comp),\n        expand: (apis, comp) => apis.expand(comp),\n        close: (apis, comp) => apis.close(comp),\n        isOpen: (apis, comp) => apis.isOpen(comp),\n        repositionMenus: (apis, comp) => apis.repositionMenus(comp)\n      }\n    });\n\n    const identifyMenuLayout = searchMode => {\n      switch (searchMode.searchMode) {\n      case 'no-search': {\n          return { menuType: 'normal' };\n        }\n      default: {\n          return {\n            menuType: 'searchable',\n            searchMode\n          };\n        }\n      }\n    };\n    const handleRefetchTrigger = originalSandboxComp => {\n      const dropdown = Representing.getValue(originalSandboxComp);\n      const optSearcherState = findWithinSandbox(originalSandboxComp).map(saveState);\n      Dropdown.refetch(dropdown).get(() => {\n        const newSandboxComp = Coupling.getCoupled(dropdown, 'sandbox');\n        optSearcherState.each(searcherState => findWithinSandbox(newSandboxComp).each(inputComp => restoreState(inputComp, searcherState)));\n      });\n    };\n    const handleRedirectToMenuItem = (sandboxComp, se) => {\n      getActiveMenuItemFrom(sandboxComp).each(activeItem => {\n        retargetAndDispatchWith(sandboxComp, activeItem.element, se.event.eventType, se.event.interactionEvent);\n      });\n    };\n    const getActiveMenuItemFrom = sandboxComp => {\n      return Sandboxing.getState(sandboxComp).bind(Highlighting.getHighlighted).bind(Highlighting.getHighlighted);\n    };\n    const getSearchResults = activeMenuComp => {\n      return has(activeMenuComp.element, searchResultsClass) ? Optional.some(activeMenuComp.element) : descendant(activeMenuComp.element, '.' + searchResultsClass);\n    };\n    const updateAriaOnHighlight = (tmenuComp, menuComp, itemComp) => {\n      findWithinMenu(tmenuComp).each(inputComp => {\n        setActiveDescendant(inputComp, itemComp);\n        const optActiveResults = getSearchResults(menuComp);\n        optActiveResults.each(resultsElem => {\n          getOpt(resultsElem, 'id').each(controlledId => set$9(inputComp.element, 'aria-controls', controlledId));\n        });\n      });\n      set$9(itemComp.element, 'aria-selected', 'true');\n    };\n    const updateAriaOnDehighlight = (tmenuComp, menuComp, itemComp) => {\n      set$9(itemComp.element, 'aria-selected', 'false');\n    };\n    const focusSearchField = tmenuComp => {\n      findWithinMenu(tmenuComp).each(searcherComp => Focusing.focus(searcherComp));\n    };\n    const getSearchPattern = dropdownComp => {\n      const optSandboxComp = Coupling.getExistingCoupled(dropdownComp, 'sandbox');\n      return optSandboxComp.bind(findWithinSandbox).map(saveState).map(state => state.fetchPattern).getOr('');\n    };\n\n    var FocusMode;\n    (function (FocusMode) {\n      FocusMode[FocusMode['ContentFocus'] = 0] = 'ContentFocus';\n      FocusMode[FocusMode['UiFocus'] = 1] = 'UiFocus';\n    }(FocusMode || (FocusMode = {})));\n    const createMenuItemFromBridge = (item, itemResponse, backstage, menuHasIcons, isHorizontalMenu) => {\n      const providersBackstage = backstage.shared.providers;\n      const parseForHorizontalMenu = menuitem => !isHorizontalMenu ? menuitem : {\n        ...menuitem,\n        shortcut: Optional.none(),\n        icon: menuitem.text.isSome() ? Optional.none() : menuitem.icon\n      };\n      switch (item.type) {\n      case 'menuitem':\n        return createMenuItem(item).fold(handleError, d => Optional.some(normal(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons)));\n      case 'nestedmenuitem':\n        return createNestedMenuItem(item).fold(handleError, d => Optional.some(nested(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons, isHorizontalMenu)));\n      case 'togglemenuitem':\n        return createToggleMenuItem(item).fold(handleError, d => Optional.some(toggle$1(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons)));\n      case 'separator':\n        return createSeparatorMenuItem(item).fold(handleError, d => Optional.some(separator$3(d)));\n      case 'fancymenuitem':\n        return createFancyMenuItem(item).fold(handleError, d => fancy(d, backstage));\n      default: {\n          console.error('Unknown item in general menu', item);\n          return Optional.none();\n        }\n      }\n    };\n    const createAutocompleteItems = (items, matchText, onItemValueHandler, columns, itemResponse, sharedBackstage, highlightOn) => {\n      const renderText = columns === 1;\n      const renderIcons = !renderText || menuHasIcons(items);\n      return cat(map$2(items, item => {\n        switch (item.type) {\n        case 'separator':\n          return createSeparatorItem(item).fold(handleError, d => Optional.some(separator$3(d)));\n        case 'cardmenuitem':\n          return createCardMenuItem(item).fold(handleError, d => Optional.some(card({\n            ...d,\n            onAction: api => {\n              d.onAction(api);\n              onItemValueHandler(d.value, d.meta);\n            }\n          }, itemResponse, sharedBackstage, {\n            itemBehaviours: tooltipBehaviour(d.meta, sharedBackstage),\n            cardText: {\n              matchText,\n              highlightOn\n            }\n          })));\n        case 'autocompleteitem':\n        default:\n          return createAutocompleterItem(item).fold(handleError, d => Optional.some(autocomplete(d, matchText, renderText, 'normal', onItemValueHandler, itemResponse, sharedBackstage, renderIcons)));\n        }\n      }));\n    };\n    const createPartialMenu = (value, items, itemResponse, backstage, isHorizontalMenu, searchMode) => {\n      const hasIcons = menuHasIcons(items);\n      const alloyItems = cat(map$2(items, item => {\n        const itemHasIcon = i => isHorizontalMenu ? !has$2(i, 'text') : hasIcons;\n        const createItem = i => createMenuItemFromBridge(i, itemResponse, backstage, itemHasIcon(i), isHorizontalMenu);\n        if (item.type === 'nestedmenuitem' && item.getSubmenuItems().length <= 0) {\n          return createItem({\n            ...item,\n            enabled: false\n          });\n        } else {\n          return createItem(item);\n        }\n      }));\n      const menuLayout = identifyMenuLayout(searchMode);\n      const createPartial = isHorizontalMenu ? createHorizontalPartialMenuWithAlloyItems : createPartialMenuWithAlloyItems;\n      return createPartial(value, hasIcons, alloyItems, 1, menuLayout);\n    };\n    const createTieredDataFrom = partialMenu => tieredMenu.singleData(partialMenu.value, partialMenu);\n    const createInlineMenuFrom = (partialMenu, columns, focusMode, presets) => {\n      const movement = deriveMenuMovement(columns, presets);\n      const menuMarkers = markers(presets);\n      return {\n        data: createTieredDataFrom({\n          ...partialMenu,\n          movement,\n          menuBehaviours: SimpleBehaviours.unnamedEvents(columns !== 'auto' ? [] : [runOnAttached((comp, _se) => {\n              detectSize(comp, 4, menuMarkers.item).each(({numColumns, numRows}) => {\n                Keying.setGridSize(comp, numRows, numColumns);\n              });\n            })])\n        }),\n        menu: {\n          markers: markers(presets),\n          fakeFocus: focusMode === FocusMode.ContentFocus\n        }\n      };\n    };\n\n    const getAutocompleterRange = (dom, initRange) => {\n      return detect$1(SugarElement.fromDom(initRange.startContainer)).map(elm => {\n        const range = dom.createRng();\n        range.selectNode(elm.dom);\n        return range;\n      });\n    };\n    const register$b = (editor, sharedBackstage) => {\n      const processingAction = Cell(false);\n      const activeState = Cell(false);\n      const autocompleter = build$1(InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-autocompleter']\n        },\n        components: [],\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissAutocompleter', [run$1(dismissRequested(), () => cancelIfNecessary())])]),\n        lazySink: sharedBackstage.getSink\n      }));\n      const isMenuOpen = () => InlineView.isOpen(autocompleter);\n      const isActive = activeState.get;\n      const hideIfNecessary = () => {\n        if (isMenuOpen()) {\n          InlineView.hide(autocompleter);\n        }\n      };\n      const getMenu = () => InlineView.getContent(autocompleter).bind(tmenu => {\n        return get$h(tmenu.components(), 0);\n      });\n      const cancelIfNecessary = () => editor.execCommand('mceAutocompleterClose');\n      const getCombinedItems = matches => {\n        const columns = findMap(matches, m => Optional.from(m.columns)).getOr(1);\n        return bind$3(matches, match => {\n          const choices = match.items;\n          return createAutocompleteItems(choices, match.matchText, (itemValue, itemMeta) => {\n            const nr = editor.selection.getRng();\n            getAutocompleterRange(editor.dom, nr).each(range => {\n              const autocompleterApi = {\n                hide: () => cancelIfNecessary(),\n                reload: fetchOptions => {\n                  hideIfNecessary();\n                  editor.execCommand('mceAutocompleterReload', false, { fetchOptions });\n                }\n              };\n              processingAction.set(true);\n              match.onAction(autocompleterApi, range, itemValue, itemMeta);\n              processingAction.set(false);\n            });\n          }, columns, ItemResponse$1.BUBBLE_TO_SANDBOX, sharedBackstage, match.highlightOn);\n        });\n      };\n      const display = (lookupData, items) => {\n        findIn(SugarElement.fromDom(editor.getBody())).each(element => {\n          const columns = findMap(lookupData, ld => Optional.from(ld.columns)).getOr(1);\n          InlineView.showMenuAt(autocompleter, {\n            anchor: {\n              type: 'node',\n              root: SugarElement.fromDom(editor.getBody()),\n              node: Optional.from(element)\n            }\n          }, createInlineMenuFrom(createPartialMenuWithAlloyItems('autocompleter-value', true, items, columns, { menuType: 'normal' }), columns, FocusMode.ContentFocus, 'normal'));\n        });\n        getMenu().each(Highlighting.highlightFirst);\n      };\n      const updateDisplay = lookupData => {\n        const combinedItems = getCombinedItems(lookupData);\n        if (combinedItems.length > 0) {\n          display(lookupData, combinedItems);\n        } else {\n          hideIfNecessary();\n        }\n      };\n      editor.on('AutocompleterStart', ({lookupData}) => {\n        activeState.set(true);\n        processingAction.set(false);\n        updateDisplay(lookupData);\n      });\n      editor.on('AutocompleterUpdate', ({lookupData}) => updateDisplay(lookupData));\n      editor.on('AutocompleterEnd', () => {\n        hideIfNecessary();\n        activeState.set(false);\n        processingAction.set(false);\n      });\n      const autocompleterUiApi = {\n        cancelIfNecessary,\n        isMenuOpen,\n        isActive,\n        isProcessingAction: processingAction.get,\n        getMenu\n      };\n      AutocompleterEditorEvents.setup(autocompleterUiApi, editor);\n    };\n    const Autocompleter = { register: register$b };\n\n    const nonScrollingOverflows = [\n      'visible',\n      'hidden'\n    ];\n    const isScroller = elem => {\n      if (isHTMLElement(elem)) {\n        const overflow = get$e(elem, 'overflow');\n        return trim$1(overflow).length > 0 && !contains$2(nonScrollingOverflows, overflow);\n      } else {\n        return false;\n      }\n    };\n    const detect = poupSinkElem => {\n      const scrollers = ancestors(poupSinkElem, isScroller);\n      return head(scrollers).map(element => ({\n        element,\n        others: scrollers.slice(1)\n      }));\n    };\n    const detectWhenSplitUiMode = (editor, popupSinkElem) => isSplitUiMode(editor) ? detect(popupSinkElem) : Optional.none();\n    const getBoundsFrom = sc => {\n      const scrollableBoxes = [\n        ...map$2(sc.others, box$1),\n        win()\n      ];\n      return constrainByMany(box$1(sc.element), scrollableBoxes);\n    };\n\n    const closest = (scope, selector, isRoot) => closest$1(scope, selector, isRoot).isSome();\n\n    const DelayedFunction = (fun, delay) => {\n      let ref = null;\n      const schedule = (...args) => {\n        ref = setTimeout(() => {\n          fun.apply(null, args);\n          ref = null;\n        }, delay);\n      };\n      const cancel = () => {\n        if (ref !== null) {\n          clearTimeout(ref);\n          ref = null;\n        }\n      };\n      return {\n        cancel,\n        schedule\n      };\n    };\n\n    const SIGNIFICANT_MOVE = 5;\n    const LONGPRESS_DELAY = 400;\n    const getTouch = event => {\n      const raw = event.raw;\n      if (raw.touches === undefined || raw.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(raw.touches[0]);\n    };\n    const isFarEnough = (touch, data) => {\n      const distX = Math.abs(touch.clientX - data.x);\n      const distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    const monitor = settings => {\n      const startData = value$2();\n      const longpressFired = Cell(false);\n      const longpress$1 = DelayedFunction(event => {\n        settings.triggerEvent(longpress(), event);\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      const handleTouchstart = event => {\n        getTouch(event).each(touch => {\n          longpress$1.cancel();\n          const data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: event.target\n          };\n          longpress$1.schedule(event);\n          longpressFired.set(false);\n          startData.set(data);\n        });\n        return Optional.none();\n      };\n      const handleTouchmove = event => {\n        longpress$1.cancel();\n        getTouch(event).each(touch => {\n          startData.on(data => {\n            if (isFarEnough(touch, data)) {\n              startData.clear();\n            }\n          });\n        });\n        return Optional.none();\n      };\n      const handleTouchend = event => {\n        longpress$1.cancel();\n        const isSame = data => eq(data.target, event.target);\n        return startData.get().filter(isSame).map(_data => {\n          if (longpressFired.get()) {\n            event.prevent();\n            return false;\n          } else {\n            return settings.triggerEvent(tap(), event);\n          }\n        });\n      };\n      const handlers = wrapAll([\n        {\n          key: touchstart(),\n          value: handleTouchstart\n        },\n        {\n          key: touchmove(),\n          value: handleTouchmove\n        },\n        {\n          key: touchend(),\n          value: handleTouchend\n        }\n      ]);\n      const fireIfReady = (event, type) => get$g(handlers, type).bind(handler => handler(event));\n      return { fireIfReady };\n    };\n\n    const isDangerous = event => {\n      const keyEv = event.raw;\n      return keyEv.which === BACKSPACE[0] && !contains$2([\n        'input',\n        'textarea'\n      ], name$3(event.target)) && !closest(event.target, '[contenteditable=\"true\"]');\n    };\n    const setup$d = (container, rawSettings) => {\n      const settings = {\n        stopBackspace: true,\n        ...rawSettings\n      };\n      const pointerEvents = [\n        'touchstart',\n        'touchmove',\n        'touchend',\n        'touchcancel',\n        'gesturestart',\n        'mousedown',\n        'mouseup',\n        'mouseover',\n        'mousemove',\n        'mouseout',\n        'click'\n      ];\n      const tapEvent = monitor(settings);\n      const simpleEvents = map$2(pointerEvents.concat([\n        'selectstart',\n        'input',\n        'contextmenu',\n        'change',\n        'transitionend',\n        'transitioncancel',\n        'drag',\n        'dragstart',\n        'dragend',\n        'dragenter',\n        'dragleave',\n        'dragover',\n        'drop',\n        'keyup'\n      ]), type => bind(container, type, event => {\n        tapEvent.fireIfReady(event, type).each(tapStopped => {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        const stopped = settings.triggerEvent(type, event);\n        if (stopped) {\n          event.kill();\n        }\n      }));\n      const pasteTimeout = value$2();\n      const onPaste = bind(container, 'paste', event => {\n        tapEvent.fireIfReady(event, 'paste').each(tapStopped => {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        const stopped = settings.triggerEvent('paste', event);\n        if (stopped) {\n          event.kill();\n        }\n        pasteTimeout.set(setTimeout(() => {\n          settings.triggerEvent(postPaste(), event);\n        }, 0));\n      });\n      const onKeydown = bind(container, 'keydown', event => {\n        const stopped = settings.triggerEvent('keydown', event);\n        if (stopped) {\n          event.kill();\n        } else if (settings.stopBackspace && isDangerous(event)) {\n          event.prevent();\n        }\n      });\n      const onFocusIn = bind(container, 'focusin', event => {\n        const stopped = settings.triggerEvent('focusin', event);\n        if (stopped) {\n          event.kill();\n        }\n      });\n      const focusoutTimeout = value$2();\n      const onFocusOut = bind(container, 'focusout', event => {\n        const stopped = settings.triggerEvent('focusout', event);\n        if (stopped) {\n          event.kill();\n        }\n        focusoutTimeout.set(setTimeout(() => {\n          settings.triggerEvent(postBlur(), event);\n        }, 0));\n      });\n      const unbind = () => {\n        each$1(simpleEvents, e => {\n          e.unbind();\n        });\n        onKeydown.unbind();\n        onFocusIn.unbind();\n        onFocusOut.unbind();\n        onPaste.unbind();\n        pasteTimeout.on(clearTimeout);\n        focusoutTimeout.on(clearTimeout);\n      };\n      return { unbind };\n    };\n\n    const derive = (rawEvent, rawTarget) => {\n      const source = get$g(rawEvent, 'target').getOr(rawTarget);\n      return Cell(source);\n    };\n\n    const fromSource = (event, source) => {\n      const stopper = Cell(false);\n      const cutter = Cell(false);\n      const stop = () => {\n        stopper.set(true);\n      };\n      const cut = () => {\n        cutter.set(true);\n      };\n      return {\n        stop,\n        cut,\n        isStopped: stopper.get,\n        isCut: cutter.get,\n        event,\n        setSource: source.set,\n        getSource: source.get\n      };\n    };\n    const fromExternal = event => {\n      const stopper = Cell(false);\n      const stop = () => {\n        stopper.set(true);\n      };\n      return {\n        stop,\n        cut: noop,\n        isStopped: stopper.get,\n        isCut: never,\n        event,\n        setSource: die('Cannot set source of a broadcasted event'),\n        getSource: die('Cannot get source of a broadcasted event')\n      };\n    };\n\n    const adt$1 = Adt.generate([\n      { stopped: [] },\n      { resume: ['element'] },\n      { complete: [] }\n    ]);\n    const doTriggerHandler = (lookup, eventType, rawEvent, target, source, logger) => {\n      const handler = lookup(eventType, target);\n      const simulatedEvent = fromSource(rawEvent, source);\n      return handler.fold(() => {\n        logger.logEventNoHandlers(eventType, target);\n        return adt$1.complete();\n      }, handlerInfo => {\n        const descHandler = handlerInfo.descHandler;\n        const eventHandler = getCurried(descHandler);\n        eventHandler(simulatedEvent);\n        if (simulatedEvent.isStopped()) {\n          logger.logEventStopped(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.stopped();\n        } else if (simulatedEvent.isCut()) {\n          logger.logEventCut(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.complete();\n        } else {\n          return parent(handlerInfo.element).fold(() => {\n            logger.logNoParent(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.complete();\n          }, parent => {\n            logger.logEventResponse(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.resume(parent);\n          });\n        }\n      });\n    };\n    const doTriggerOnUntilStopped = (lookup, eventType, rawEvent, rawTarget, source, logger) => doTriggerHandler(lookup, eventType, rawEvent, rawTarget, source, logger).fold(always, parent => doTriggerOnUntilStopped(lookup, eventType, rawEvent, parent, source, logger), never);\n    const triggerHandler = (lookup, eventType, rawEvent, target, logger) => {\n      const source = derive(rawEvent, target);\n      return doTriggerHandler(lookup, eventType, rawEvent, target, source, logger);\n    };\n    const broadcast = (listeners, rawEvent, _logger) => {\n      const simulatedEvent = fromExternal(rawEvent);\n      each$1(listeners, listener => {\n        const descHandler = listener.descHandler;\n        const handler = getCurried(descHandler);\n        handler(simulatedEvent);\n      });\n      return simulatedEvent.isStopped();\n    };\n    const triggerUntilStopped = (lookup, eventType, rawEvent, logger) => triggerOnUntilStopped(lookup, eventType, rawEvent, rawEvent.target, logger);\n    const triggerOnUntilStopped = (lookup, eventType, rawEvent, rawTarget, logger) => {\n      const source = derive(rawEvent, rawTarget);\n      return doTriggerOnUntilStopped(lookup, eventType, rawEvent, rawTarget, source, logger);\n    };\n\n    const eventHandler = (element, descHandler) => ({\n      element,\n      descHandler\n    });\n    const broadcastHandler = (id, handler) => ({\n      id,\n      descHandler: handler\n    });\n    const EventRegistry = () => {\n      const registry = {};\n      const registerId = (extraArgs, id, events) => {\n        each(events, (v, k) => {\n          const handlers = registry[k] !== undefined ? registry[k] : {};\n          handlers[id] = curryArgs(v, extraArgs);\n          registry[k] = handlers;\n        });\n      };\n      const findHandler = (handlers, elem) => read$1(elem).bind(id => get$g(handlers, id)).map(descHandler => eventHandler(elem, descHandler));\n      const filterByType = type => get$g(registry, type).map(handlers => mapToArray(handlers, (f, id) => broadcastHandler(id, f))).getOr([]);\n      const find = (isAboveRoot, type, target) => get$g(registry, type).bind(handlers => closest$4(target, elem => findHandler(handlers, elem), isAboveRoot));\n      const unregisterId = id => {\n        each(registry, (handlersById, _eventName) => {\n          if (has$2(handlersById, id)) {\n            delete handlersById[id];\n          }\n        });\n      };\n      return {\n        registerId,\n        unregisterId,\n        filterByType,\n        find\n      };\n    };\n\n    const Registry = () => {\n      const events = EventRegistry();\n      const components = {};\n      const readOrTag = component => {\n        const elem = component.element;\n        return read$1(elem).getOrThunk(() => write('uid-', component.element));\n      };\n      const failOnDuplicate = (component, tagId) => {\n        const conflict = components[tagId];\n        if (conflict === component) {\n          unregister(component);\n        } else {\n          throw new Error('The tagId \"' + tagId + '\" is already used by: ' + element(conflict.element) + '\\nCannot use it for: ' + element(component.element) + '\\n' + 'The conflicting element is' + (inBody(conflict.element) ? ' ' : ' not ') + 'already in the DOM');\n        }\n      };\n      const register = component => {\n        const tagId = readOrTag(component);\n        if (hasNonNullableKey(components, tagId)) {\n          failOnDuplicate(component, tagId);\n        }\n        const extraArgs = [component];\n        events.registerId(extraArgs, tagId, component.events);\n        components[tagId] = component;\n      };\n      const unregister = component => {\n        read$1(component.element).each(tagId => {\n          delete components[tagId];\n          events.unregisterId(tagId);\n        });\n      };\n      const filter = type => events.filterByType(type);\n      const find = (isAboveRoot, type, target) => events.find(isAboveRoot, type, target);\n      const getById = id => get$g(components, id);\n      return {\n        find,\n        filter,\n        register,\n        unregister,\n        getById\n      };\n    };\n\n    const factory$j = detail => {\n      const {attributes, ...domWithoutAttributes} = detail.dom;\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: {\n            role: 'presentation',\n            ...attributes\n          },\n          ...domWithoutAttributes\n        },\n        components: detail.components,\n        behaviours: get$3(detail.containerBehaviours),\n        events: detail.events,\n        domModification: detail.domModification,\n        eventOrder: detail.eventOrder\n      };\n    };\n    const Container = single({\n      name: 'Container',\n      factory: factory$j,\n      configFields: [\n        defaulted('components', []),\n        field('containerBehaviours', []),\n        defaulted('events', {}),\n        defaulted('domModification', {}),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    const takeover = root => {\n      const isAboveRoot = el => parent(root.element).fold(always, parent => eq(el, parent));\n      const registry = Registry();\n      const lookup = (eventName, target) => registry.find(isAboveRoot, eventName, target);\n      const domEvents = setup$d(root.element, {\n        triggerEvent: (eventName, event) => {\n          return monitorEvent(eventName, event.target, logger => triggerUntilStopped(lookup, eventName, event, logger));\n        }\n      });\n      const systemApi = {\n        debugInfo: constant$1('real'),\n        triggerEvent: (eventName, target, data) => {\n          monitorEvent(eventName, target, logger => triggerOnUntilStopped(lookup, eventName, data, target, logger));\n        },\n        triggerFocus: (target, originator) => {\n          read$1(target).fold(() => {\n            focus$3(target);\n          }, _alloyId => {\n            monitorEvent(focus$4(), target, logger => {\n              triggerHandler(lookup, focus$4(), {\n                originator,\n                kill: noop,\n                prevent: noop,\n                target\n              }, target, logger);\n              return false;\n            });\n          });\n        },\n        triggerEscape: (comp, simulatedEvent) => {\n          systemApi.triggerEvent('keydown', comp.element, simulatedEvent.event);\n        },\n        getByUid: uid => {\n          return getByUid(uid);\n        },\n        getByDom: elem => {\n          return getByDom(elem);\n        },\n        build: build$1,\n        buildOrPatch: buildOrPatch,\n        addToGui: c => {\n          add(c);\n        },\n        removeFromGui: c => {\n          remove(c);\n        },\n        addToWorld: c => {\n          addToWorld(c);\n        },\n        removeFromWorld: c => {\n          removeFromWorld(c);\n        },\n        broadcast: message => {\n          broadcast$1(message);\n        },\n        broadcastOn: (channels, message) => {\n          broadcastOn(channels, message);\n        },\n        broadcastEvent: (eventName, event) => {\n          broadcastEvent(eventName, event);\n        },\n        isConnected: always\n      };\n      const addToWorld = component => {\n        component.connect(systemApi);\n        if (!isText(component.element)) {\n          registry.register(component);\n          each$1(component.components(), addToWorld);\n          systemApi.triggerEvent(systemInit(), component.element, { target: component.element });\n        }\n      };\n      const removeFromWorld = component => {\n        if (!isText(component.element)) {\n          each$1(component.components(), removeFromWorld);\n          registry.unregister(component);\n        }\n        component.disconnect();\n      };\n      const add = component => {\n        attach(root, component);\n      };\n      const remove = component => {\n        detach(component);\n      };\n      const destroy = () => {\n        domEvents.unbind();\n        remove$5(root.element);\n      };\n      const broadcastData = data => {\n        const receivers = registry.filter(receive());\n        each$1(receivers, receiver => {\n          const descHandler = receiver.descHandler;\n          const handler = getCurried(descHandler);\n          handler(data);\n        });\n      };\n      const broadcast$1 = message => {\n        broadcastData({\n          universal: true,\n          data: message\n        });\n      };\n      const broadcastOn = (channels, message) => {\n        broadcastData({\n          universal: false,\n          channels,\n          data: message\n        });\n      };\n      const broadcastEvent = (eventName, event) => {\n        const listeners = registry.filter(eventName);\n        return broadcast(listeners, event);\n      };\n      const getByUid = uid => registry.getById(uid).fold(() => Result.error(new Error('Could not find component with uid: \"' + uid + '\" in system.')), Result.value);\n      const getByDom = elem => {\n        const uid = read$1(elem).getOr('not found');\n        return getByUid(uid);\n      };\n      addToWorld(root);\n      return {\n        root,\n        element: root.element,\n        destroy,\n        add,\n        remove,\n        getByUid,\n        getByDom,\n        addToWorld,\n        removeFromWorld,\n        broadcast: broadcast$1,\n        broadcastOn,\n        broadcastEvent\n      };\n    };\n\n    const renderBar = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-bar',\n          'tox-form__controls-h-stack'\n        ]\n      },\n      components: map$2(spec.items, backstage.interpreter)\n    });\n\n    const schema$j = constant$1([\n      defaulted('prefix', 'form-field'),\n      field('fieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    const parts$d = constant$1([\n      optional({\n        schema: [required$1('dom')],\n        name: 'label'\n      }),\n      optional({\n        factory: {\n          sketch: spec => {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      required({\n        factory: {\n          sketch: spec => {\n            const excludeFactory = exclude(spec, ['factory']);\n            return spec.factory.sketch(excludeFactory);\n          }\n        },\n        schema: [required$1('factory')],\n        name: 'field'\n      })\n    ]);\n\n    const factory$i = (detail, components, _spec, _externals) => {\n      const behaviours = augment(detail.fieldBehaviours, [\n        Composing.config({\n          find: container => {\n            return getPart(container, detail, 'field');\n          }\n        }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: field => {\n              return Composing.getCurrent(field).bind(Representing.getValue);\n            },\n            setValue: (field, value) => {\n              Composing.getCurrent(field).each(current => {\n                Representing.setValue(current, value);\n              });\n            }\n          }\n        })\n      ]);\n      const events = derive$2([runOnAttached((component, _simulatedEvent) => {\n          const ps = getParts(component, detail, [\n            'label',\n            'field',\n            'aria-descriptor'\n          ]);\n          ps.field().each(field => {\n            const id = generate$6(detail.prefix);\n            ps.label().each(label => {\n              set$9(label.element, 'for', id);\n              set$9(field.element, 'id', id);\n            });\n            ps['aria-descriptor']().each(descriptor => {\n              const descriptorId = generate$6(detail.prefix);\n              set$9(descriptor.element, 'id', descriptorId);\n              set$9(field.element, 'aria-describedby', descriptorId);\n            });\n          });\n        })]);\n      const apis = {\n        getField: container => getPart(container, detail, 'field'),\n        getLabel: container => getPart(container, detail, 'label')\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours,\n        events,\n        apis\n      };\n    };\n    const FormField = composite({\n      name: 'FormField',\n      configFields: schema$j(),\n      partFields: parts$d(),\n      factory: factory$i,\n      apis: {\n        getField: (apis, comp) => apis.getField(comp),\n        getLabel: (apis, comp) => apis.getLabel(comp)\n      }\n    });\n\n    const exhibit$2 = (base, tabConfig) => nu$7({\n      attributes: wrapAll([{\n          key: tabConfig.tabAttr,\n          value: 'true'\n        }])\n    });\n\n    var ActiveTabstopping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$2\n    });\n\n    var TabstopSchema = [defaulted('tabAttr', 'data-alloy-tabstop')];\n\n    const Tabstopping = create$4({\n      fields: TabstopSchema,\n      name: 'tabstopping',\n      active: ActiveTabstopping\n    });\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    const renderFormFieldWith = (pLabel, pField, extraClasses, extraBehaviours) => {\n      const spec = renderFormFieldSpecWith(pLabel, pField, extraClasses, extraBehaviours);\n      return FormField.sketch(spec);\n    };\n    const renderFormField = (pLabel, pField) => renderFormFieldWith(pLabel, pField, [], []);\n    const renderFormFieldSpecWith = (pLabel, pField, extraClasses, extraBehaviours) => ({\n      dom: renderFormFieldDomWith(extraClasses),\n      components: pLabel.toArray().concat([pField]),\n      fieldBehaviours: derive$1(extraBehaviours)\n    });\n    const renderFormFieldDom = () => renderFormFieldDomWith([]);\n    const renderFormFieldDomWith = extraClasses => ({\n      tag: 'div',\n      classes: ['tox-form__group'].concat(extraClasses)\n    });\n    const renderLabel$3 = (label, providersBackstage) => FormField.parts.label({\n      dom: {\n        tag: 'label',\n        classes: ['tox-label']\n      },\n      components: [text$2(providersBackstage.translate(label))]\n    });\n\n    const formChangeEvent = generate$6('form-component-change');\n    const formCloseEvent = generate$6('form-close');\n    const formCancelEvent = generate$6('form-cancel');\n    const formActionEvent = generate$6('form-action');\n    const formSubmitEvent = generate$6('form-submit');\n    const formBlockEvent = generate$6('form-block');\n    const formUnblockEvent = generate$6('form-unblock');\n    const formTabChangeEvent = generate$6('form-tabchange');\n    const formResizeEvent = generate$6('form-resize');\n\n    const renderCollection = (spec, providersBackstage, initialData) => {\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const runOnItem = f => (comp, se) => {\n        closest$1(se.event.target, '[data-collection-item-value]').each(target => {\n          f(comp, se, target, get$f(target, 'data-collection-item-value'));\n        });\n      };\n      const setContents = (comp, items) => {\n        const htmlLines = map$2(items, item => {\n          const itemText = global$8.translate(item.text);\n          const textContent = spec.columns === 1 ? `<div class=\"tox-collection__item-label\">${ itemText }</div>` : '';\n          const iconContent = `<div class=\"tox-collection__item-icon\">${ item.icon }</div>`;\n          const mapItemName = {\n            '_': ' ',\n            ' - ': ' ',\n            '-': ' '\n          };\n          const ariaLabel = itemText.replace(/\\_| \\- |\\-/g, match => mapItemName[match]);\n          const disabledClass = providersBackstage.isDisabled() ? ' tox-collection__item--state-disabled' : '';\n          return `<div class=\"tox-collection__item${ disabledClass }\" tabindex=\"-1\" data-collection-item-value=\"${ global$3.encodeAllRaw(item.value) }\" title=\"${ ariaLabel }\" aria-label=\"${ ariaLabel }\">${ iconContent }${ textContent }</div>`;\n        });\n        const chunks = spec.columns !== 'auto' && spec.columns > 1 ? chunk$1(htmlLines, spec.columns) : [htmlLines];\n        const html = map$2(chunks, ch => `<div class=\"tox-collection__group\">${ ch.join('') }</div>`);\n        set$6(comp.element, html.join(''));\n      };\n      const onClick = runOnItem((comp, se, tgt, itemValue) => {\n        se.stop();\n        if (!providersBackstage.isDisabled()) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }\n      });\n      const collectionEvents = [\n        run$1(mouseover(), runOnItem((comp, se, tgt) => {\n          focus$3(tgt);\n        })),\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        run$1(focusin(), runOnItem((comp, se, tgt) => {\n          descendant(comp.element, '.' + activeClass).each(currentActive => {\n            remove$2(currentActive, activeClass);\n          });\n          add$2(tgt, activeClass);\n        })),\n        run$1(focusout(), runOnItem(comp => {\n          descendant(comp.element, '.' + activeClass).each(currentActive => {\n            remove$2(currentActive, activeClass);\n          });\n        })),\n        runOnExecute$1(runOnItem((comp, se, tgt, itemValue) => {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }))\n      ];\n      const iterCollectionItems = (comp, applyAttributes) => map$2(descendants(comp.element, '.tox-collection__item'), applyAttributes);\n      const pField = FormField.parts.field({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection'].concat(spec.columns !== 1 ? ['tox-collection--grid'] : ['tox-collection--list'])\n        },\n        components: [],\n        factory: { sketch: identity },\n        behaviours: derive$1([\n          Disabling.config({\n            disabled: providersBackstage.isDisabled,\n            onDisabled: comp => {\n              iterCollectionItems(comp, childElm => {\n                add$2(childElm, 'tox-collection__item--state-disabled');\n                set$9(childElm, 'aria-disabled', true);\n              });\n            },\n            onEnabled: comp => {\n              iterCollectionItems(comp, childElm => {\n                remove$2(childElm, 'tox-collection__item--state-disabled');\n                remove$7(childElm, 'aria-disabled');\n              });\n            }\n          }),\n          receivingConfig(),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: initialData.getOr([])\n            },\n            onSetValue: (comp, items) => {\n              setContents(comp, items);\n              if (spec.columns === 'auto') {\n                detectSize(comp, 5, 'tox-collection__item').each(({numRows, numColumns}) => {\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              }\n              emit(comp, formResizeEvent);\n            }\n          }),\n          Tabstopping.config({}),\n          Keying.config(deriveCollectionMovement(spec.columns, 'normal')),\n          config('collection-events', collectionEvents)\n        ]),\n        eventOrder: {\n          [execute$5()]: [\n            'disabling',\n            'alloy.base.behaviour',\n            'collection-events'\n          ]\n        }\n      });\n      const extraClasses = ['tox-form__group--collection'];\n      return renderFormFieldWith(pLabel, pField, extraClasses, []);\n    };\n\n    const ariaElements = [\n      'input',\n      'textarea'\n    ];\n    const isAriaElement = elem => {\n      const name = name$3(elem);\n      return contains$2(ariaElements, name);\n    };\n    const markValid = (component, invalidConfig) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      remove$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(notifyInfo => {\n        if (isAriaElement(component.element)) {\n          set$9(component.element, 'aria-invalid', false);\n        }\n        notifyInfo.getContainer(component).each(container => {\n          set$6(container, notifyInfo.validHtml);\n        });\n        notifyInfo.onValid(component);\n      });\n    };\n    const markInvalid = (component, invalidConfig, invalidState, text) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      add$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(notifyInfo => {\n        if (isAriaElement(component.element)) {\n          set$9(component.element, 'aria-invalid', true);\n        }\n        notifyInfo.getContainer(component).each(container => {\n          set$6(container, text);\n        });\n        notifyInfo.onInvalid(component, text);\n      });\n    };\n    const query = (component, invalidConfig, _invalidState) => invalidConfig.validator.fold(() => Future.pure(Result.value(true)), validatorInfo => validatorInfo.validate(component));\n    const run = (component, invalidConfig, invalidState) => {\n      invalidConfig.notify.each(notifyInfo => {\n        notifyInfo.onValidate(component);\n      });\n      return query(component, invalidConfig).map(valid => {\n        if (component.getSystem().isConnected()) {\n          return valid.fold(err => {\n            markInvalid(component, invalidConfig, invalidState, err);\n            return Result.error(err);\n          }, v => {\n            markValid(component, invalidConfig);\n            return Result.value(v);\n          });\n        } else {\n          return Result.error('No longer in system');\n        }\n      });\n    };\n    const isInvalid = (component, invalidConfig) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      return has(elem, invalidConfig.invalidClass);\n    };\n\n    var InvalidateApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        markValid: markValid,\n        markInvalid: markInvalid,\n        query: query,\n        run: run,\n        isInvalid: isInvalid\n    });\n\n    const events$8 = (invalidConfig, invalidState) => invalidConfig.validator.map(validatorInfo => derive$2([run$1(validatorInfo.onEvent, component => {\n        run(component, invalidConfig, invalidState).get(identity);\n      })].concat(validatorInfo.validateOnLoad ? [runOnAttached(component => {\n        run(component, invalidConfig, invalidState).get(noop);\n      })] : []))).getOr({});\n\n    var ActiveInvalidate = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$8\n    });\n\n    var InvalidateSchema = [\n      required$1('invalidClass'),\n      defaulted('getRoot', Optional.none),\n      optionObjOf('notify', [\n        defaulted('aria', 'alert'),\n        defaulted('getContainer', Optional.none),\n        defaulted('validHtml', ''),\n        onHandler('onValid'),\n        onHandler('onInvalid'),\n        onHandler('onValidate')\n      ]),\n      optionObjOf('validator', [\n        required$1('validate'),\n        defaulted('onEvent', 'input'),\n        defaulted('validateOnLoad', true)\n      ])\n    ];\n\n    const Invalidating = create$4({\n      fields: InvalidateSchema,\n      name: 'invalidating',\n      active: ActiveInvalidate,\n      apis: InvalidateApis,\n      extra: {\n        validation: validator => {\n          return component => {\n            const v = Representing.getValue(component);\n            return Future.pure(validator(v));\n          };\n        }\n      }\n    });\n\n    const exhibit$1 = () => nu$7({\n      styles: {\n        '-webkit-user-select': 'none',\n        'user-select': 'none',\n        '-ms-user-select': 'none',\n        '-moz-user-select': '-moz-none'\n      },\n      attributes: { unselectable: 'on' }\n    });\n    const events$7 = () => derive$2([abort(selectstart(), always)]);\n\n    var ActiveUnselecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$7,\n        exhibit: exhibit$1\n    });\n\n    const Unselecting = create$4({\n      fields: [],\n      name: 'unselecting',\n      active: ActiveUnselecting\n    });\n\n    const renderPanelButton = (spec, sharedBackstage) => Dropdown.sketch({\n      dom: spec.dom,\n      components: spec.components,\n      toggleClass: 'mce-active',\n      dropdownBehaviours: derive$1([\n        DisablingConfigs.button(sharedBackstage.providers.isDisabled),\n        receivingConfig(),\n        Unselecting.config({}),\n        Tabstopping.config({})\n      ]),\n      layouts: spec.layouts,\n      sandboxClasses: ['tox-dialog__popups'],\n      lazySink: sharedBackstage.getSink,\n      fetch: comp => Future.nu(callback => spec.fetch(callback)).map(items => Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n        spec.onItemAction(comp, value);\n      }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, sharedBackstage.providers), { movement: deriveMenuMovement(spec.columns, spec.presets) })))),\n      parts: { menu: part(false, 1, spec.presets) }\n    });\n\n    const colorInputChangeEvent = generate$6('color-input-change');\n    const colorSwatchChangeEvent = generate$6('color-swatch-change');\n    const colorPickerCancelEvent = generate$6('color-picker-cancel');\n    const renderColorInput = (spec, sharedBackstage, colorInputBackstage, initialData) => {\n      const pField = FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        data: initialData,\n        onSetValue: c => Invalidating.run(c).get(noop),\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: sharedBackstage.providers.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Invalidating.config({\n            invalidClass: 'tox-textbox-field-invalid',\n            getRoot: comp => parentElement(comp.element),\n            notify: {\n              onValid: comp => {\n                const val = Representing.getValue(comp);\n                emitWith(comp, colorInputChangeEvent, { color: val });\n              }\n            },\n            validator: {\n              validateOnLoad: false,\n              validate: input => {\n                const inputValue = Representing.getValue(input);\n                if (inputValue.length === 0) {\n                  return Future.pure(Result.value(true));\n                } else {\n                  const span = SugarElement.fromTag('span');\n                  set$8(span, 'background-color', inputValue);\n                  const res = getRaw(span, 'background-color').fold(() => Result.error('blah'), _ => Result.value(inputValue));\n                  return Future.pure(res);\n                }\n              }\n            }\n          })\n        ]),\n        selectOnFocus: false\n      });\n      const pLabel = spec.label.map(label => renderLabel$3(label, sharedBackstage.providers));\n      const emitSwatchChange = (colorBit, value) => {\n        emitWith(colorBit, colorSwatchChangeEvent, { value });\n      };\n      const onItemAction = (comp, value) => {\n        memColorButton.getOpt(comp).each(colorBit => {\n          if (value === 'custom') {\n            colorInputBackstage.colorPicker(valueOpt => {\n              valueOpt.fold(() => emit(colorBit, colorPickerCancelEvent), value => {\n                emitSwatchChange(colorBit, value);\n                addColor(spec.storageKey, value);\n              });\n            }, '#ffffff');\n          } else if (value === 'remove') {\n            emitSwatchChange(colorBit, '');\n          } else {\n            emitSwatchChange(colorBit, value);\n          }\n        });\n      };\n      const memColorButton = record(renderPanelButton({\n        dom: {\n          tag: 'span',\n          attributes: { 'aria-label': sharedBackstage.providers.translate('Color swatch') }\n        },\n        layouts: {\n          onRtl: () => [\n            southwest$2,\n            southeast$2,\n            south$2\n          ],\n          onLtr: () => [\n            southeast$2,\n            southwest$2,\n            south$2\n          ]\n        },\n        components: [],\n        fetch: getFetch$1(colorInputBackstage.getColors(spec.storageKey), spec.storageKey, colorInputBackstage.hasCustomColors()),\n        columns: colorInputBackstage.getColorCols(spec.storageKey),\n        presets: 'color',\n        onItemAction\n      }, sharedBackstage));\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: pLabel.toArray().concat([{\n            dom: {\n              tag: 'div',\n              classes: ['tox-color-input']\n            },\n            components: [\n              pField,\n              memColorButton.asSpec()\n            ]\n          }]),\n        fieldBehaviours: derive$1([config('form-field-events', [\n            run$1(colorInputChangeEvent, (comp, se) => {\n              memColorButton.getOpt(comp).each(colorButton => {\n                set$8(colorButton.element, 'background-color', se.event.color);\n              });\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            }),\n            run$1(colorSwatchChangeEvent, (comp, se) => {\n              FormField.getField(comp).each(field => {\n                Representing.setValue(field, se.event.value);\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            }),\n            run$1(colorPickerCancelEvent, (comp, _se) => {\n              FormField.getField(comp).each(_field => {\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            })\n          ])])\n      });\n    };\n\n    const labelPart = optional({\n      schema: [required$1('dom')],\n      name: 'label'\n    });\n    const edgePart = name => optional({\n      name: '' + name + '-edge',\n      overrides: detail => {\n        const action = detail.model.manager.edgeActions[name];\n        return action.fold(() => ({}), a => ({\n          events: derive$2([\n            runActionExtra(touchstart(), (comp, se, d) => a(comp, d), [detail]),\n            runActionExtra(mousedown(), (comp, se, d) => a(comp, d), [detail]),\n            runActionExtra(mousemove(), (comp, se, det) => {\n              if (det.mouseIsDown.get()) {\n                a(comp, det);\n              }\n            }, [detail])\n          ])\n        }));\n      }\n    });\n    const tlEdgePart = edgePart('top-left');\n    const tedgePart = edgePart('top');\n    const trEdgePart = edgePart('top-right');\n    const redgePart = edgePart('right');\n    const brEdgePart = edgePart('bottom-right');\n    const bedgePart = edgePart('bottom');\n    const blEdgePart = edgePart('bottom-left');\n    const ledgePart = edgePart('left');\n    const thumbPart = required({\n      name: 'thumb',\n      defaults: constant$1({ dom: { styles: { position: 'absolute' } } }),\n      overrides: detail => {\n        return {\n          events: derive$2([\n            redirectToPart(touchstart(), detail, 'spectrum'),\n            redirectToPart(touchmove(), detail, 'spectrum'),\n            redirectToPart(touchend(), detail, 'spectrum'),\n            redirectToPart(mousedown(), detail, 'spectrum'),\n            redirectToPart(mousemove(), detail, 'spectrum'),\n            redirectToPart(mouseup(), detail, 'spectrum')\n          ])\n        };\n      }\n    });\n    const spectrumPart = required({\n      schema: [customField('mouseIsDown', () => Cell(false))],\n      name: 'spectrum',\n      overrides: detail => {\n        const modelDetail = detail.model;\n        const model = modelDetail.manager;\n        const setValueFrom = (component, simulatedEvent) => model.getValueFromEvent(simulatedEvent).map(value => model.setValueFrom(component, detail, value));\n        return {\n          behaviours: derive$1([\n            Keying.config({\n              mode: 'special',\n              onLeft: spectrum => model.onLeft(spectrum, detail),\n              onRight: spectrum => model.onRight(spectrum, detail),\n              onUp: spectrum => model.onUp(spectrum, detail),\n              onDown: spectrum => model.onDown(spectrum, detail)\n            }),\n            Focusing.config({})\n          ]),\n          events: derive$2([\n            run$1(touchstart(), setValueFrom),\n            run$1(touchmove(), setValueFrom),\n            run$1(mousedown(), setValueFrom),\n            run$1(mousemove(), (spectrum, se) => {\n              if (detail.mouseIsDown.get()) {\n                setValueFrom(spectrum, se);\n              }\n            })\n          ])\n        };\n      }\n    });\n    var SliderParts = [\n      labelPart,\n      ledgePart,\n      redgePart,\n      tedgePart,\n      bedgePart,\n      tlEdgePart,\n      trEdgePart,\n      blEdgePart,\n      brEdgePart,\n      thumbPart,\n      spectrumPart\n    ];\n\n    const _sliderChangeEvent = 'slider.change.value';\n    const sliderChangeEvent = constant$1(_sliderChangeEvent);\n    const isTouchEvent$2 = evt => evt.type.indexOf('touch') !== -1;\n    const getEventSource = simulatedEvent => {\n      const evt = simulatedEvent.event.raw;\n      if (isTouchEvent$2(evt)) {\n        const touchEvent = evt;\n        return touchEvent.touches !== undefined && touchEvent.touches.length === 1 ? Optional.some(touchEvent.touches[0]).map(t => SugarPosition(t.clientX, t.clientY)) : Optional.none();\n      } else {\n        const mouseEvent = evt;\n        return mouseEvent.clientX !== undefined ? Optional.some(mouseEvent).map(me => SugarPosition(me.clientX, me.clientY)) : Optional.none();\n      }\n    };\n\n    const t = 'top', r = 'right', b = 'bottom', l = 'left';\n    const minX = detail => detail.model.minX;\n    const minY = detail => detail.model.minY;\n    const min1X = detail => detail.model.minX - 1;\n    const min1Y = detail => detail.model.minY - 1;\n    const maxX = detail => detail.model.maxX;\n    const maxY = detail => detail.model.maxY;\n    const max1X = detail => detail.model.maxX + 1;\n    const max1Y = detail => detail.model.maxY + 1;\n    const range = (detail, max, min) => max(detail) - min(detail);\n    const xRange = detail => range(detail, maxX, minX);\n    const yRange = detail => range(detail, maxY, minY);\n    const halfX = detail => xRange(detail) / 2;\n    const halfY = detail => yRange(detail) / 2;\n    const step = detail => detail.stepSize;\n    const snap = detail => detail.snapToGrid;\n    const snapStart = detail => detail.snapStart;\n    const rounded = detail => detail.rounded;\n    const hasEdge = (detail, edgeName) => detail[edgeName + '-edge'] !== undefined;\n    const hasLEdge = detail => hasEdge(detail, l);\n    const hasREdge = detail => hasEdge(detail, r);\n    const hasTEdge = detail => hasEdge(detail, t);\n    const hasBEdge = detail => hasEdge(detail, b);\n    const currentValue = detail => detail.model.value.get();\n\n    const xyValue = (x, y) => ({\n      x,\n      y\n    });\n    const fireSliderChange$3 = (component, value) => {\n      emitWith(component, sliderChangeEvent(), { value });\n    };\n    const setToTLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), min1Y(detail)));\n    };\n    const setToTEdge = (edge, detail) => {\n      fireSliderChange$3(edge, min1Y(detail));\n    };\n    const setToTEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(halfX(detail), min1Y(detail)));\n    };\n    const setToTREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), min1Y(detail)));\n    };\n    const setToREdge = (edge, detail) => {\n      fireSliderChange$3(edge, max1X(detail));\n    };\n    const setToREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), halfY(detail)));\n    };\n    const setToBREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), max1Y(detail)));\n    };\n    const setToBEdge = (edge, detail) => {\n      fireSliderChange$3(edge, max1Y(detail));\n    };\n    const setToBEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(halfX(detail), max1Y(detail)));\n    };\n    const setToBLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), max1Y(detail)));\n    };\n    const setToLEdge = (edge, detail) => {\n      fireSliderChange$3(edge, min1X(detail));\n    };\n    const setToLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), halfY(detail)));\n    };\n\n    const reduceBy = (value, min, max, step) => {\n      if (value < min) {\n        return value;\n      } else if (value > max) {\n        return max;\n      } else if (value === min) {\n        return min - 1;\n      } else {\n        return Math.max(min, value - step);\n      }\n    };\n    const increaseBy = (value, min, max, step) => {\n      if (value > max) {\n        return value;\n      } else if (value < min) {\n        return min;\n      } else if (value === max) {\n        return max + 1;\n      } else {\n        return Math.min(max, value + step);\n      }\n    };\n    const capValue = (value, min, max) => Math.max(min, Math.min(max, value));\n    const snapValueOf = (value, min, max, step, snapStart) => snapStart.fold(() => {\n      const initValue = value - min;\n      const extraValue = Math.round(initValue / step) * step;\n      return capValue(min + extraValue, min - 1, max + 1);\n    }, start => {\n      const remainder = (value - start) % step;\n      const adjustment = Math.round(remainder / step);\n      const rawSteps = Math.floor((value - start) / step);\n      const maxSteps = Math.floor((max - start) / step);\n      const numSteps = Math.min(maxSteps, rawSteps + adjustment);\n      const r = start + numSteps * step;\n      return Math.max(start, r);\n    });\n    const findOffsetOf = (value, min, max) => Math.min(max, Math.max(value, min)) - min;\n    const findValueOf = args => {\n      const {min, max, range, value, step, snap, snapStart, rounded, hasMinEdge, hasMaxEdge, minBound, maxBound, screenRange} = args;\n      const capMin = hasMinEdge ? min - 1 : min;\n      const capMax = hasMaxEdge ? max + 1 : max;\n      if (value < minBound) {\n        return capMin;\n      } else if (value > maxBound) {\n        return capMax;\n      } else {\n        const offset = findOffsetOf(value, minBound, maxBound);\n        const newValue = capValue(offset / screenRange * range + min, capMin, capMax);\n        if (snap && newValue >= min && newValue <= max) {\n          return snapValueOf(newValue, min, max, step, snapStart);\n        } else if (rounded) {\n          return Math.round(newValue);\n        } else {\n          return newValue;\n        }\n      }\n    };\n    const findOffsetOfValue$2 = args => {\n      const {min, max, range, value, hasMinEdge, hasMaxEdge, maxBound, maxOffset, centerMinEdge, centerMaxEdge} = args;\n      if (value < min) {\n        return hasMinEdge ? 0 : centerMinEdge;\n      } else if (value > max) {\n        return hasMaxEdge ? maxBound : centerMaxEdge;\n      } else {\n        return (value - min) / range * maxOffset;\n      }\n    };\n\n    const top = 'top', right = 'right', bottom = 'bottom', left = 'left', width = 'width', height = 'height';\n    const getBounds = component => component.element.dom.getBoundingClientRect();\n    const getBoundsProperty = (bounds, property) => bounds[property];\n    const getMinXBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, left);\n    };\n    const getMaxXBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, right);\n    };\n    const getMinYBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, top);\n    };\n    const getMaxYBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, bottom);\n    };\n    const getXScreenRange = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, width);\n    };\n    const getYScreenRange = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, height);\n    };\n    const getCenterOffsetOf = (componentMinEdge, componentMaxEdge, spectrumMinEdge) => (componentMinEdge + componentMaxEdge) / 2 - spectrumMinEdge;\n    const getXCenterOffSetOf = (component, spectrum) => {\n      const componentBounds = getBounds(component);\n      const spectrumBounds = getBounds(spectrum);\n      const componentMinEdge = getBoundsProperty(componentBounds, left);\n      const componentMaxEdge = getBoundsProperty(componentBounds, right);\n      const spectrumMinEdge = getBoundsProperty(spectrumBounds, left);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n    const getYCenterOffSetOf = (component, spectrum) => {\n      const componentBounds = getBounds(component);\n      const spectrumBounds = getBounds(spectrum);\n      const componentMinEdge = getBoundsProperty(componentBounds, top);\n      const componentMaxEdge = getBoundsProperty(componentBounds, bottom);\n      const spectrumMinEdge = getBoundsProperty(spectrumBounds, top);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n\n    const fireSliderChange$2 = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const findValueOfOffset$1 = (spectrum, detail, left) => {\n      const args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: left,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        maxBound: getMaxXBounds(spectrum),\n        screenRange: getXScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    const setValueFrom$2 = (spectrum, detail, value) => {\n      const xValue = findValueOfOffset$1(spectrum, detail, value);\n      const sliderVal = xValue;\n      fireSliderChange$2(spectrum, sliderVal);\n      return xValue;\n    };\n    const setToMin$2 = (spectrum, detail) => {\n      const min = minX(detail);\n      fireSliderChange$2(spectrum, min);\n    };\n    const setToMax$2 = (spectrum, detail) => {\n      const max = maxX(detail);\n      fireSliderChange$2(spectrum, max);\n    };\n    const moveBy$2 = (direction, spectrum, detail) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const xValue = f(currentValue(detail), minX(detail), maxX(detail), step(detail));\n      fireSliderChange$2(spectrum, xValue);\n      return Optional.some(xValue);\n    };\n    const handleMovement$2 = direction => (spectrum, detail) => moveBy$2(direction, spectrum, detail).map(always);\n    const getValueFromEvent$2 = simulatedEvent => {\n      const pos = getEventSource(simulatedEvent);\n      return pos.map(p => p.left);\n    };\n    const findOffsetOfValue$1 = (spectrum, detail, value, minEdge, maxEdge) => {\n      const minOffset = 0;\n      const maxOffset = getXScreenRange(spectrum);\n      const centerMinEdge = minEdge.bind(edge => Optional.some(getXCenterOffSetOf(edge, spectrum))).getOr(minOffset);\n      const centerMaxEdge = maxEdge.bind(edge => Optional.some(getXCenterOffSetOf(edge, spectrum))).getOr(maxOffset);\n      const args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value,\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        minOffset,\n        maxBound: getMaxXBounds(spectrum),\n        maxOffset,\n        centerMinEdge,\n        centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    const findPositionOfValue$1 = (slider, spectrum, value, minEdge, maxEdge, detail) => {\n      const offset = findOffsetOfValue$1(spectrum, detail, value, minEdge, maxEdge);\n      return getMinXBounds(spectrum) - getMinXBounds(slider) + offset;\n    };\n    const setPositionFromValue$2 = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const pos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      const thumbRadius = get$c(thumb.element) / 2;\n      set$8(thumb.element, 'left', pos - thumbRadius + 'px');\n    };\n    const onLeft$2 = handleMovement$2(-1);\n    const onRight$2 = handleMovement$2(1);\n    const onUp$2 = Optional.none;\n    const onDown$2 = Optional.none;\n    const edgeActions$2 = {\n      'top-left': Optional.none(),\n      'top': Optional.none(),\n      'top-right': Optional.none(),\n      'right': Optional.some(setToREdge),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.none(),\n      'bottom-left': Optional.none(),\n      'left': Optional.some(setToLEdge)\n    };\n\n    var HorizontalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$2,\n        setToMin: setToMin$2,\n        setToMax: setToMax$2,\n        findValueOfOffset: findValueOfOffset$1,\n        getValueFromEvent: getValueFromEvent$2,\n        findPositionOfValue: findPositionOfValue$1,\n        setPositionFromValue: setPositionFromValue$2,\n        onLeft: onLeft$2,\n        onRight: onRight$2,\n        onUp: onUp$2,\n        onDown: onDown$2,\n        edgeActions: edgeActions$2\n    });\n\n    const fireSliderChange$1 = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const findValueOfOffset = (spectrum, detail, top) => {\n      const args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: top,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        maxBound: getMaxYBounds(spectrum),\n        screenRange: getYScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    const setValueFrom$1 = (spectrum, detail, value) => {\n      const yValue = findValueOfOffset(spectrum, detail, value);\n      const sliderVal = yValue;\n      fireSliderChange$1(spectrum, sliderVal);\n      return yValue;\n    };\n    const setToMin$1 = (spectrum, detail) => {\n      const min = minY(detail);\n      fireSliderChange$1(spectrum, min);\n    };\n    const setToMax$1 = (spectrum, detail) => {\n      const max = maxY(detail);\n      fireSliderChange$1(spectrum, max);\n    };\n    const moveBy$1 = (direction, spectrum, detail) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const yValue = f(currentValue(detail), minY(detail), maxY(detail), step(detail));\n      fireSliderChange$1(spectrum, yValue);\n      return Optional.some(yValue);\n    };\n    const handleMovement$1 = direction => (spectrum, detail) => moveBy$1(direction, spectrum, detail).map(always);\n    const getValueFromEvent$1 = simulatedEvent => {\n      const pos = getEventSource(simulatedEvent);\n      return pos.map(p => {\n        return p.top;\n      });\n    };\n    const findOffsetOfValue = (spectrum, detail, value, minEdge, maxEdge) => {\n      const minOffset = 0;\n      const maxOffset = getYScreenRange(spectrum);\n      const centerMinEdge = minEdge.bind(edge => Optional.some(getYCenterOffSetOf(edge, spectrum))).getOr(minOffset);\n      const centerMaxEdge = maxEdge.bind(edge => Optional.some(getYCenterOffSetOf(edge, spectrum))).getOr(maxOffset);\n      const args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value,\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        minOffset,\n        maxBound: getMaxYBounds(spectrum),\n        maxOffset,\n        centerMinEdge,\n        centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    const findPositionOfValue = (slider, spectrum, value, minEdge, maxEdge, detail) => {\n      const offset = findOffsetOfValue(spectrum, detail, value, minEdge, maxEdge);\n      return getMinYBounds(spectrum) - getMinYBounds(slider) + offset;\n    };\n    const setPositionFromValue$1 = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const pos = findPositionOfValue(slider, edges.getSpectrum(slider), value, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      const thumbRadius = get$d(thumb.element) / 2;\n      set$8(thumb.element, 'top', pos - thumbRadius + 'px');\n    };\n    const onLeft$1 = Optional.none;\n    const onRight$1 = Optional.none;\n    const onUp$1 = handleMovement$1(-1);\n    const onDown$1 = handleMovement$1(1);\n    const edgeActions$1 = {\n      'top-left': Optional.none(),\n      'top': Optional.some(setToTEdge),\n      'top-right': Optional.none(),\n      'right': Optional.none(),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.some(setToBEdge),\n      'bottom-left': Optional.none(),\n      'left': Optional.none()\n    };\n\n    var VerticalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$1,\n        setToMin: setToMin$1,\n        setToMax: setToMax$1,\n        findValueOfOffset: findValueOfOffset,\n        getValueFromEvent: getValueFromEvent$1,\n        findPositionOfValue: findPositionOfValue,\n        setPositionFromValue: setPositionFromValue$1,\n        onLeft: onLeft$1,\n        onRight: onRight$1,\n        onUp: onUp$1,\n        onDown: onDown$1,\n        edgeActions: edgeActions$1\n    });\n\n    const fireSliderChange = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const sliderValue = (x, y) => ({\n      x,\n      y\n    });\n    const setValueFrom = (spectrum, detail, value) => {\n      const xValue = findValueOfOffset$1(spectrum, detail, value.left);\n      const yValue = findValueOfOffset(spectrum, detail, value.top);\n      const val = sliderValue(xValue, yValue);\n      fireSliderChange(spectrum, val);\n      return val;\n    };\n    const moveBy = (direction, isVerticalMovement, spectrum, detail) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const xValue = isVerticalMovement ? currentValue(detail).x : f(currentValue(detail).x, minX(detail), maxX(detail), step(detail));\n      const yValue = !isVerticalMovement ? currentValue(detail).y : f(currentValue(detail).y, minY(detail), maxY(detail), step(detail));\n      fireSliderChange(spectrum, sliderValue(xValue, yValue));\n      return Optional.some(xValue);\n    };\n    const handleMovement = (direction, isVerticalMovement) => (spectrum, detail) => moveBy(direction, isVerticalMovement, spectrum, detail).map(always);\n    const setToMin = (spectrum, detail) => {\n      const mX = minX(detail);\n      const mY = minY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    const setToMax = (spectrum, detail) => {\n      const mX = maxX(detail);\n      const mY = maxY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    const getValueFromEvent = simulatedEvent => getEventSource(simulatedEvent);\n    const setPositionFromValue = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const xPos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.x, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      const yPos = findPositionOfValue(slider, edges.getSpectrum(slider), value.y, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      const thumbXRadius = get$c(thumb.element) / 2;\n      const thumbYRadius = get$d(thumb.element) / 2;\n      set$8(thumb.element, 'left', xPos - thumbXRadius + 'px');\n      set$8(thumb.element, 'top', yPos - thumbYRadius + 'px');\n    };\n    const onLeft = handleMovement(-1, false);\n    const onRight = handleMovement(1, false);\n    const onUp = handleMovement(-1, true);\n    const onDown = handleMovement(1, true);\n    const edgeActions = {\n      'top-left': Optional.some(setToTLEdgeXY),\n      'top': Optional.some(setToTEdgeXY),\n      'top-right': Optional.some(setToTREdgeXY),\n      'right': Optional.some(setToREdgeXY),\n      'bottom-right': Optional.some(setToBREdgeXY),\n      'bottom': Optional.some(setToBEdgeXY),\n      'bottom-left': Optional.some(setToBLEdgeXY),\n      'left': Optional.some(setToLEdgeXY)\n    };\n\n    var TwoDModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom,\n        setToMin: setToMin,\n        setToMax: setToMax,\n        getValueFromEvent: getValueFromEvent,\n        setPositionFromValue: setPositionFromValue,\n        onLeft: onLeft,\n        onRight: onRight,\n        onUp: onUp,\n        onDown: onDown,\n        edgeActions: edgeActions\n    });\n\n    const SliderSchema = [\n      defaulted('stepSize', 1),\n      defaulted('onChange', noop),\n      defaulted('onChoose', noop),\n      defaulted('onInit', noop),\n      defaulted('onDragStart', noop),\n      defaulted('onDragEnd', noop),\n      defaulted('snapToGrid', false),\n      defaulted('rounded', true),\n      option$3('snapStart'),\n      requiredOf('model', choose$1('mode', {\n        x: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          customField('value', spec => Cell(spec.mode.minX)),\n          required$1('getInitialValue'),\n          output$1('manager', HorizontalModel)\n        ],\n        y: [\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', spec => Cell(spec.mode.minY)),\n          required$1('getInitialValue'),\n          output$1('manager', VerticalModel)\n        ],\n        xy: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', spec => Cell({\n            x: spec.mode.minX,\n            y: spec.mode.minY\n          })),\n          required$1('getInitialValue'),\n          output$1('manager', TwoDModel)\n        ]\n      })),\n      field('sliderBehaviours', [\n        Keying,\n        Representing\n      ]),\n      customField('mouseIsDown', () => Cell(false))\n    ];\n\n    const sketch$2 = (detail, components, _spec, _externals) => {\n      const getThumb = component => getPartOrDie(component, detail, 'thumb');\n      const getSpectrum = component => getPartOrDie(component, detail, 'spectrum');\n      const getLeftEdge = component => getPart(component, detail, 'left-edge');\n      const getRightEdge = component => getPart(component, detail, 'right-edge');\n      const getTopEdge = component => getPart(component, detail, 'top-edge');\n      const getBottomEdge = component => getPart(component, detail, 'bottom-edge');\n      const modelDetail = detail.model;\n      const model = modelDetail.manager;\n      const refresh = (slider, thumb) => {\n        model.setPositionFromValue(slider, thumb, detail, {\n          getLeftEdge,\n          getRightEdge,\n          getTopEdge,\n          getBottomEdge,\n          getSpectrum\n        });\n      };\n      const setValue = (slider, newValue) => {\n        modelDetail.value.set(newValue);\n        const thumb = getThumb(slider);\n        refresh(slider, thumb);\n      };\n      const changeValue = (slider, newValue) => {\n        setValue(slider, newValue);\n        const thumb = getThumb(slider);\n        detail.onChange(slider, thumb, newValue);\n        return Optional.some(true);\n      };\n      const resetToMin = slider => {\n        model.setToMin(slider, detail);\n      };\n      const resetToMax = slider => {\n        model.setToMax(slider, detail);\n      };\n      const choose = slider => {\n        const fireOnChoose = () => {\n          getPart(slider, detail, 'thumb').each(thumb => {\n            const value = modelDetail.value.get();\n            detail.onChoose(slider, thumb, value);\n          });\n        };\n        const wasDown = detail.mouseIsDown.get();\n        detail.mouseIsDown.set(false);\n        if (wasDown) {\n          fireOnChoose();\n        }\n      };\n      const onDragStart = (slider, simulatedEvent) => {\n        simulatedEvent.stop();\n        detail.mouseIsDown.set(true);\n        detail.onDragStart(slider, getThumb(slider));\n      };\n      const onDragEnd = (slider, simulatedEvent) => {\n        simulatedEvent.stop();\n        detail.onDragEnd(slider, getThumb(slider));\n        choose(slider);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.sliderBehaviours, [\n          Keying.config({\n            mode: 'special',\n            focusIn: slider => {\n              return getPart(slider, detail, 'spectrum').map(Keying.focusIn).map(always);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: _ => {\n                return modelDetail.value.get();\n              },\n              setValue\n            }\n          }),\n          Receiving.config({ channels: { [mouseReleased()]: { onReceive: choose } } })\n        ]),\n        events: derive$2([\n          run$1(sliderChangeEvent(), (slider, simulatedEvent) => {\n            changeValue(slider, simulatedEvent.event.value);\n          }),\n          runOnAttached((slider, _simulatedEvent) => {\n            const getInitial = modelDetail.getInitialValue();\n            modelDetail.value.set(getInitial);\n            const thumb = getThumb(slider);\n            refresh(slider, thumb);\n            const spectrum = getSpectrum(slider);\n            detail.onInit(slider, thumb, spectrum, modelDetail.value.get());\n          }),\n          run$1(touchstart(), onDragStart),\n          run$1(touchend(), onDragEnd),\n          run$1(mousedown(), onDragStart),\n          run$1(mouseup(), onDragEnd)\n        ]),\n        apis: {\n          resetToMin,\n          resetToMax,\n          setValue,\n          refresh\n        },\n        domModification: { styles: { position: 'relative' } }\n      };\n    };\n\n    const Slider = composite({\n      name: 'Slider',\n      configFields: SliderSchema,\n      partFields: SliderParts,\n      factory: sketch$2,\n      apis: {\n        setValue: (apis, slider, value) => {\n          apis.setValue(slider, value);\n        },\n        resetToMin: (apis, slider) => {\n          apis.resetToMin(slider);\n        },\n        resetToMax: (apis, slider) => {\n          apis.resetToMax(slider);\n        },\n        refresh: (apis, slider) => {\n          apis.refresh(slider);\n        }\n      }\n    });\n\n    const fieldsUpdate = generate$6('rgb-hex-update');\n    const sliderUpdate = generate$6('slider-update');\n    const paletteUpdate = generate$6('palette-update');\n\n    const sliderFactory = (translate, getClass) => {\n      const spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-spectrum')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      const thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-thumb')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider')],\n          attributes: { role: 'presentation' }\n        },\n        rounded: false,\n        model: {\n          mode: 'y',\n          getInitialValue: constant$1(0)\n        },\n        components: [\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([Focusing.config({})]),\n        onChange: (slider, _thumb, value) => {\n          emitWith(slider, sliderUpdate, { value });\n        }\n      });\n    };\n\n    const owner$1 = 'form';\n    const schema$i = [field('formBehaviours', [Representing])];\n    const getPartName$1 = name => '<alloy.field.' + name + '>';\n    const sketch$1 = fSpec => {\n      const parts = (() => {\n        const record = [];\n        const field = (name, config) => {\n          record.push(name);\n          return generateOne$1(owner$1, getPartName$1(name), config);\n        };\n        return {\n          field,\n          record: constant$1(record)\n        };\n      })();\n      const spec = fSpec(parts);\n      const partNames = parts.record();\n      const fieldParts = map$2(partNames, n => required({\n        name: n,\n        pname: getPartName$1(n)\n      }));\n      return composite$1(owner$1, schema$i, fieldParts, make$4, spec);\n    };\n    const toResult = (o, e) => o.fold(() => Result.error(e), Result.value);\n    const make$4 = (detail, components) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: augment(detail.formBehaviours, [Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: form => {\n              const resPs = getAllParts(form, detail);\n              return map$1(resPs, (resPThunk, pName) => resPThunk().bind(v => {\n                const opt = Composing.getCurrent(v);\n                return toResult(opt, new Error(`Cannot find a current component to extract the value from for form part '${ pName }': ` + element(v.element)));\n              }).map(Representing.getValue));\n            },\n            setValue: (form, values) => {\n              each(values, (newValue, key) => {\n                getPart(form, detail, key).each(wrapper => {\n                  Composing.getCurrent(wrapper).each(field => {\n                    Representing.setValue(field, newValue);\n                  });\n                });\n              });\n            }\n          }\n        })]),\n      apis: {\n        getField: (form, key) => {\n          return getPart(form, detail, key).bind(Composing.getCurrent);\n        }\n      }\n    });\n    const Form = {\n      getField: makeApi((apis, component, key) => apis.getField(component, key)),\n      sketch: sketch$1\n    };\n\n    const validInput = generate$6('valid-input');\n    const invalidInput = generate$6('invalid-input');\n    const validatingInput = generate$6('validating-input');\n    const translatePrefix = 'colorcustom.rgb.';\n    const rgbFormFactory = (translate, getClass, onValidHexx, onInvalidHexx) => {\n      const invalidation = (label, isValid) => Invalidating.config({\n        invalidClass: getClass('invalid'),\n        notify: {\n          onValidate: comp => {\n            emitWith(comp, validatingInput, { type: label });\n          },\n          onValid: comp => {\n            emitWith(comp, validInput, {\n              type: label,\n              value: Representing.getValue(comp)\n            });\n          },\n          onInvalid: comp => {\n            emitWith(comp, invalidInput, {\n              type: label,\n              value: Representing.getValue(comp)\n            });\n          }\n        },\n        validator: {\n          validate: comp => {\n            const value = Representing.getValue(comp);\n            const res = isValid(value) ? Result.value(true) : Result.error(translate('aria.input.invalid'));\n            return Future.pure(res);\n          },\n          validateOnLoad: false\n        }\n      });\n      const renderTextField = (isValid, name, label, description, data) => {\n        const helptext = translate(translatePrefix + 'range');\n        const pLabel = FormField.parts.label({\n          dom: {\n            tag: 'label',\n            attributes: { 'aria-label': description }\n          },\n          components: [text$2(label)]\n        });\n        const pField = FormField.parts.field({\n          data,\n          factory: Input,\n          inputAttributes: {\n            type: 'text',\n            ...name === 'hex' ? { 'aria-live': 'polite' } : {}\n          },\n          inputClasses: [getClass('textfield')],\n          inputBehaviours: derive$1([\n            invalidation(name, isValid),\n            Tabstopping.config({})\n          ]),\n          onSetValue: input => {\n            if (Invalidating.isInvalid(input)) {\n              const run = Invalidating.run(input);\n              run.get(noop);\n            }\n          }\n        });\n        const comps = [\n          pLabel,\n          pField\n        ];\n        const concats = name !== 'hex' ? [FormField.parts['aria-descriptor']({ text: helptext })] : [];\n        const components = comps.concat(concats);\n        return {\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' }\n          },\n          components\n        };\n      };\n      const copyRgbToHex = (form, rgba) => {\n        const hex = fromRgba(rgba);\n        Form.getField(form, 'hex').each(hexField => {\n          if (!Focusing.isFocused(hexField)) {\n            Representing.setValue(form, { hex: hex.value });\n          }\n        });\n        return hex;\n      };\n      const copyRgbToForm = (form, rgb) => {\n        const red = rgb.red;\n        const green = rgb.green;\n        const blue = rgb.blue;\n        Representing.setValue(form, {\n          red,\n          green,\n          blue\n        });\n      };\n      const memPreview = record({\n        dom: {\n          tag: 'div',\n          classes: [getClass('rgba-preview')],\n          styles: { 'background-color': 'white' },\n          attributes: { role: 'presentation' }\n        }\n      });\n      const updatePreview = (anyInSystem, hex) => {\n        memPreview.getOpt(anyInSystem).each(preview => {\n          set$8(preview.element, 'background-color', '#' + hex.value);\n        });\n      };\n      const factory = () => {\n        const state = {\n          red: Cell(Optional.some(255)),\n          green: Cell(Optional.some(255)),\n          blue: Cell(Optional.some(255)),\n          hex: Cell(Optional.some('ffffff'))\n        };\n        const copyHexToRgb = (form, hex) => {\n          const rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n        };\n        const get = prop => state[prop].get();\n        const set = (prop, value) => {\n          state[prop].set(value);\n        };\n        const getValueRgb = () => get('red').bind(red => get('green').bind(green => get('blue').map(blue => rgbaColour(red, green, blue, 1))));\n        const setValueRgb = rgb => {\n          const red = rgb.red;\n          const green = rgb.green;\n          const blue = rgb.blue;\n          set('red', Optional.some(red));\n          set('green', Optional.some(green));\n          set('blue', Optional.some(blue));\n        };\n        const onInvalidInput = (form, simulatedEvent) => {\n          const data = simulatedEvent.event;\n          if (data.type !== 'hex') {\n            set(data.type, Optional.none());\n          } else {\n            onInvalidHexx(form);\n          }\n        };\n        const onValidHex = (form, value) => {\n          onValidHexx(form);\n          const hex = hexColour(value);\n          set('hex', Optional.some(hex.value));\n          const rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n          emitWith(form, fieldsUpdate, { hex });\n          updatePreview(form, hex);\n        };\n        const onValidRgb = (form, prop, value) => {\n          const val = parseInt(value, 10);\n          set(prop, Optional.some(val));\n          getValueRgb().each(rgb => {\n            const hex = copyRgbToHex(form, rgb);\n            emitWith(form, fieldsUpdate, { hex });\n            updatePreview(form, hex);\n          });\n        };\n        const isHexInputEvent = data => data.type === 'hex';\n        const onValidInput = (form, simulatedEvent) => {\n          const data = simulatedEvent.event;\n          if (isHexInputEvent(data)) {\n            onValidHex(form, data.value);\n          } else {\n            onValidRgb(form, data.type, data.value);\n          }\n        };\n        const formPartStrings = key => ({\n          label: translate(translatePrefix + key + '.label'),\n          description: translate(translatePrefix + key + '.description')\n        });\n        const redStrings = formPartStrings('red');\n        const greenStrings = formPartStrings('green');\n        const blueStrings = formPartStrings('blue');\n        const hexStrings = formPartStrings('hex');\n        return deepMerge(Form.sketch(parts => ({\n          dom: {\n            tag: 'form',\n            classes: [getClass('rgb-form')],\n            attributes: { 'aria-label': translate('aria.color.picker') }\n          },\n          components: [\n            parts.field('red', FormField.sketch(renderTextField(isRgbaComponent, 'red', redStrings.label, redStrings.description, 255))),\n            parts.field('green', FormField.sketch(renderTextField(isRgbaComponent, 'green', greenStrings.label, greenStrings.description, 255))),\n            parts.field('blue', FormField.sketch(renderTextField(isRgbaComponent, 'blue', blueStrings.label, blueStrings.description, 255))),\n            parts.field('hex', FormField.sketch(renderTextField(isHexString, 'hex', hexStrings.label, hexStrings.description, 'ffffff'))),\n            memPreview.asSpec()\n          ],\n          formBehaviours: derive$1([\n            Invalidating.config({ invalidClass: getClass('form-invalid') }),\n            config('rgb-form-events', [\n              run$1(validInput, onValidInput),\n              run$1(invalidInput, onInvalidInput),\n              run$1(validatingInput, onInvalidInput)\n            ])\n          ])\n        })), {\n          apis: {\n            updateHex: (form, hex) => {\n              Representing.setValue(form, { hex: hex.value });\n              copyHexToRgb(form, hex);\n              updatePreview(form, hex);\n            }\n          }\n        });\n      };\n      const rgbFormSketcher = single({\n        factory,\n        name: 'RgbForm',\n        configFields: [],\n        apis: {\n          updateHex: (apis, form, hex) => {\n            apis.updateHex(form, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return rgbFormSketcher;\n    };\n\n    const paletteFactory = (_translate, getClass) => {\n      const spectrumPart = Slider.parts.spectrum({\n        dom: {\n          tag: 'canvas',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-spectrum')]\n        }\n      });\n      const thumbPart = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-thumb')],\n          innerHtml: `<div class=${ getClass('sv-palette-inner-thumb') } role=\"presentation\"></div>`\n        }\n      });\n      const setColour = (canvas, rgba) => {\n        const {width, height} = canvas;\n        const ctx = canvas.getContext('2d');\n        if (ctx === null) {\n          return;\n        }\n        ctx.fillStyle = rgba;\n        ctx.fillRect(0, 0, width, height);\n        const grdWhite = ctx.createLinearGradient(0, 0, width, 0);\n        grdWhite.addColorStop(0, 'rgba(255,255,255,1)');\n        grdWhite.addColorStop(1, 'rgba(255,255,255,0)');\n        ctx.fillStyle = grdWhite;\n        ctx.fillRect(0, 0, width, height);\n        const grdBlack = ctx.createLinearGradient(0, 0, 0, height);\n        grdBlack.addColorStop(0, 'rgba(0,0,0,0)');\n        grdBlack.addColorStop(1, 'rgba(0,0,0,1)');\n        ctx.fillStyle = grdBlack;\n        ctx.fillRect(0, 0, width, height);\n      };\n      const setPaletteHue = (slider, hue) => {\n        const canvas = slider.components()[0].element.dom;\n        const hsv = hsvColour(hue, 100, 100);\n        const rgba = fromHsv(hsv);\n        setColour(canvas, toString(rgba));\n      };\n      const setPaletteThumb = (slider, hex) => {\n        const hsv = fromRgb(fromHex(hex));\n        Slider.setValue(slider, {\n          x: hsv.saturation,\n          y: 100 - hsv.value\n        });\n      };\n      const factory = _detail => {\n        const getInitialValue = constant$1({\n          x: 0,\n          y: 0\n        });\n        const onChange = (slider, _thumb, value) => {\n          emitWith(slider, paletteUpdate, { value });\n        };\n        const onInit = (_slider, _thumb, spectrum, _value) => {\n          setColour(spectrum.element.dom, toString(red));\n        };\n        const sliderBehaviours = derive$1([\n          Composing.config({ find: Optional.some }),\n          Focusing.config({})\n        ]);\n        return Slider.sketch({\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' },\n            classes: [getClass('sv-palette')]\n          },\n          model: {\n            mode: 'xy',\n            getInitialValue\n          },\n          rounded: false,\n          components: [\n            spectrumPart,\n            thumbPart\n          ],\n          onChange,\n          onInit,\n          sliderBehaviours\n        });\n      };\n      const saturationBrightnessPaletteSketcher = single({\n        factory,\n        name: 'SaturationBrightnessPalette',\n        configFields: [],\n        apis: {\n          setHue: (_apis, slider, hue) => {\n            setPaletteHue(slider, hue);\n          },\n          setThumb: (_apis, slider, hex) => {\n            setPaletteThumb(slider, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return saturationBrightnessPaletteSketcher;\n    };\n\n    const makeFactory = (translate, getClass) => {\n      const factory = detail => {\n        const rgbForm = rgbFormFactory(translate, getClass, detail.onValidHex, detail.onInvalidHex);\n        const sbPalette = paletteFactory(translate, getClass);\n        const hueSliderToDegrees = hue => (100 - hue) / 100 * 360;\n        const hueDegreesToSlider = hue => 100 - hue / 360 * 100;\n        const state = {\n          paletteRgba: Cell(red),\n          paletteHue: Cell(0)\n        };\n        const memSlider = record(sliderFactory(translate, getClass));\n        const memPalette = record(sbPalette.sketch({}));\n        const memRgb = record(rgbForm.sketch({}));\n        const updatePalette = (anyInSystem, _hex, hue) => {\n          memPalette.getOpt(anyInSystem).each(palette => {\n            sbPalette.setHue(palette, hue);\n          });\n        };\n        const updateFields = (anyInSystem, hex) => {\n          memRgb.getOpt(anyInSystem).each(form => {\n            rgbForm.updateHex(form, hex);\n          });\n        };\n        const updateSlider = (anyInSystem, _hex, hue) => {\n          memSlider.getOpt(anyInSystem).each(slider => {\n            Slider.setValue(slider, hueDegreesToSlider(hue));\n          });\n        };\n        const updatePaletteThumb = (anyInSystem, hex) => {\n          memPalette.getOpt(anyInSystem).each(palette => {\n            sbPalette.setThumb(palette, hex);\n          });\n        };\n        const updateState = (hex, hue) => {\n          const rgba = fromHex(hex);\n          state.paletteRgba.set(rgba);\n          state.paletteHue.set(hue);\n        };\n        const runUpdates = (anyInSystem, hex, hue, updates) => {\n          updateState(hex, hue);\n          each$1(updates, update => {\n            update(anyInSystem, hex, hue);\n          });\n        };\n        const onPaletteUpdate = () => {\n          const updates = [updateFields];\n          return (form, simulatedEvent) => {\n            const value = simulatedEvent.event.value;\n            const oldHue = state.paletteHue.get();\n            const newHsv = hsvColour(oldHue, value.x, 100 - value.y);\n            const newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, oldHue, updates);\n          };\n        };\n        const onSliderUpdate = () => {\n          const updates = [\n            updatePalette,\n            updateFields\n          ];\n          return (form, simulatedEvent) => {\n            const hue = hueSliderToDegrees(simulatedEvent.event.value);\n            const oldRgb = state.paletteRgba.get();\n            const oldHsv = fromRgb(oldRgb);\n            const newHsv = hsvColour(hue, oldHsv.saturation, oldHsv.value);\n            const newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, hue, updates);\n          };\n        };\n        const onFieldsUpdate = () => {\n          const updates = [\n            updatePalette,\n            updateSlider,\n            updatePaletteThumb\n          ];\n          return (form, simulatedEvent) => {\n            const hex = simulatedEvent.event.hex;\n            const hsv = hexToHsv(hex);\n            runUpdates(form, hex, hsv.hue, updates);\n          };\n        };\n        return {\n          uid: detail.uid,\n          dom: detail.dom,\n          components: [\n            memPalette.asSpec(),\n            memSlider.asSpec(),\n            memRgb.asSpec()\n          ],\n          behaviours: derive$1([\n            config('colour-picker-events', [\n              run$1(fieldsUpdate, onFieldsUpdate()),\n              run$1(paletteUpdate, onPaletteUpdate()),\n              run$1(sliderUpdate, onSliderUpdate())\n            ]),\n            Composing.config({ find: comp => memRgb.getOpt(comp) }),\n            Keying.config({ mode: 'acyclic' })\n          ])\n        };\n      };\n      const colourPickerSketcher = single({\n        name: 'ColourPicker',\n        configFields: [\n          required$1('dom'),\n          defaulted('onValidHex', noop),\n          defaulted('onInvalidHex', noop)\n        ],\n        factory\n      });\n      return colourPickerSketcher;\n    };\n\n    const self = () => Composing.config({ find: Optional.some });\n    const memento$1 = mem => Composing.config({ find: mem.getOpt });\n    const childAt = index => Composing.config({ find: comp => child$2(comp.element, index).bind(element => comp.getSystem().getByDom(element).toOptional()) });\n    const ComposingConfigs = {\n      self,\n      memento: memento$1,\n      childAt\n    };\n\n    const processors = objOf([\n      defaulted('preprocess', identity),\n      defaulted('postprocess', identity)\n    ]);\n    const memento = (mem, rawProcessors) => {\n      const ps = asRawOrDie$1('RepresentingConfigs.memento processors', processors, rawProcessors);\n      return Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: comp => {\n            const other = mem.get(comp);\n            const rawValue = Representing.getValue(other);\n            return ps.postprocess(rawValue);\n          },\n          setValue: (comp, rawValue) => {\n            const newValue = ps.preprocess(rawValue);\n            const other = mem.get(comp);\n            Representing.setValue(other, newValue);\n          }\n        }\n      });\n    };\n    const withComp = (optInitialValue, getter, setter) => Representing.config({\n      store: {\n        mode: 'manual',\n        ...optInitialValue.map(initialValue => ({ initialValue })).getOr({}),\n        getValue: getter,\n        setValue: setter\n      }\n    });\n    const withElement = (initialValue, getter, setter) => withComp(initialValue, c => getter(c.element), (c, v) => setter(c.element, v));\n    const domValue = optInitialValue => withElement(optInitialValue, get$6, set$5);\n    const domHtml = optInitialValue => withElement(optInitialValue, get$9, set$6);\n    const memory = initialValue => Representing.config({\n      store: {\n        mode: 'memory',\n        initialValue\n      }\n    });\n    const RepresentingConfigs = {\n      memento,\n      withElement,\n      withComp,\n      domValue,\n      domHtml,\n      memory\n    };\n\n    const english = {\n      'colorcustom.rgb.red.label': 'R',\n      'colorcustom.rgb.red.description': 'Red component',\n      'colorcustom.rgb.green.label': 'G',\n      'colorcustom.rgb.green.description': 'Green component',\n      'colorcustom.rgb.blue.label': 'B',\n      'colorcustom.rgb.blue.description': 'Blue component',\n      'colorcustom.rgb.hex.label': '#',\n      'colorcustom.rgb.hex.description': 'Hex color code',\n      'colorcustom.rgb.range': 'Range 0 to 255',\n      'aria.color.picker': 'Color Picker',\n      'aria.input.invalid': 'Invalid input'\n    };\n    const translate$1 = providerBackstage => key => {\n      return providerBackstage.translate(english[key]);\n    };\n    const renderColorPicker = (_spec, providerBackstage, initialData) => {\n      const getClass = key => 'tox-' + key;\n      const colourPickerFactory = makeFactory(translate$1(providerBackstage), getClass);\n      const onValidHex = form => {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: true\n        });\n      };\n      const onInvalidHex = form => {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: false\n        });\n      };\n      const memPicker = record(colourPickerFactory.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('color-picker-container')],\n          attributes: { role: 'presentation' }\n        },\n        onValidHex,\n        onInvalidHex\n      }));\n      return {\n        dom: { tag: 'div' },\n        components: [memPicker.asSpec()],\n        behaviours: derive$1([\n          RepresentingConfigs.withComp(initialData, comp => {\n            const picker = memPicker.get(comp);\n            const optRgbForm = Composing.getCurrent(picker);\n            const optHex = optRgbForm.bind(rgbForm => {\n              const formValues = Representing.getValue(rgbForm);\n              return formValues.hex;\n            });\n            return optHex.map(hex => '#' + removeLeading(hex, '#')).getOr('');\n          }, (comp, newValue) => {\n            const pattern = /^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;\n            const valOpt = Optional.from(pattern.exec(newValue)).bind(matches => get$h(matches, 1));\n            const picker = memPicker.get(comp);\n            const optRgbForm = Composing.getCurrent(picker);\n            optRgbForm.fold(() => {\n              console.log('Can not find form');\n            }, rgbForm => {\n              Representing.setValue(rgbForm, { hex: valOpt.getOr('') });\n              Form.getField(rgbForm, 'hex').each(hexField => {\n                emit(hexField, input());\n              });\n            });\n          }),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.Resource');\n\n    const isOldCustomEditor = spec => has$2(spec, 'init');\n    const renderCustomEditor = spec => {\n      const editorApi = value$2();\n      const memReplaced = record({ dom: { tag: spec.tag } });\n      const initialValue = value$2();\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-custom-editor']\n        },\n        behaviours: derive$1([\n          config('custom-editor-events', [runOnAttached(component => {\n              memReplaced.getOpt(component).each(ta => {\n                (isOldCustomEditor(spec) ? spec.init(ta.element.dom) : global$2.load(spec.scriptId, spec.scriptUrl).then(init => init(ta.element.dom, spec.settings))).then(ea => {\n                  initialValue.on(cvalue => {\n                    ea.setValue(cvalue);\n                  });\n                  initialValue.clear();\n                  editorApi.set(ea);\n                });\n              });\n            })]),\n          RepresentingConfigs.withComp(Optional.none(), () => editorApi.get().fold(() => initialValue.get().getOr(''), ed => ed.getValue()), (component, value) => {\n            editorApi.get().fold(() => initialValue.set(value), ed => ed.setValue(value));\n          }),\n          ComposingConfigs.self()\n        ]),\n        components: [memReplaced.asSpec()]\n      };\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const filterByExtension = (files, providersBackstage) => {\n      const allowedImageFileTypes = global$1.explode(providersBackstage.getOption('images_file_types'));\n      const isFileInAllowedTypes = file => exists(allowedImageFileTypes, type => endsWith(file.name.toLowerCase(), `.${ type.toLowerCase() }`));\n      return filter$2(from(files), isFileInAllowedTypes);\n    };\n    const renderDropZone = (spec, providersBackstage, initialData) => {\n      const stopper = (_, se) => {\n        se.stop();\n      };\n      const sequence = actions => (comp, se) => {\n        each$1(actions, a => {\n          a(comp, se);\n        });\n      };\n      const onDrop = (comp, se) => {\n        var _a;\n        if (!Disabling.isDisabled(comp)) {\n          const transferEvent = se.event.raw;\n          handleFiles(comp, (_a = transferEvent.dataTransfer) === null || _a === void 0 ? void 0 : _a.files);\n        }\n      };\n      const onSelect = (component, simulatedEvent) => {\n        const input = simulatedEvent.event.raw.target;\n        handleFiles(component, input.files);\n      };\n      const handleFiles = (component, files) => {\n        if (files) {\n          Representing.setValue(component, filterByExtension(files, providersBackstage));\n          emitWith(component, formChangeEvent, { name: spec.name });\n        }\n      };\n      const memInput = record({\n        dom: {\n          tag: 'input',\n          attributes: {\n            type: 'file',\n            accept: 'image/*'\n          },\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([config('input-file-events', [\n            cutter(click()),\n            cutter(tap())\n          ])])\n      });\n      const renderField = s => ({\n        uid: s.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-dropzone-container']\n        },\n        behaviours: derive$1([\n          RepresentingConfigs.memory(initialData.getOr([])),\n          ComposingConfigs.self(),\n          Disabling.config({}),\n          Toggling.config({\n            toggleClass: 'dragenter',\n            toggleOnExecute: false\n          }),\n          config('dropzone-events', [\n            run$1('dragenter', sequence([\n              stopper,\n              Toggling.toggle\n            ])),\n            run$1('dragleave', sequence([\n              stopper,\n              Toggling.toggle\n            ])),\n            run$1('dragover', stopper),\n            run$1('drop', sequence([\n              stopper,\n              onDrop\n            ])),\n            run$1(change(), onSelect)\n          ])\n        ]),\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dropzone'],\n              styles: {}\n            },\n            components: [\n              {\n                dom: { tag: 'p' },\n                components: [text$2(providersBackstage.translate('Drop an image here'))]\n              },\n              Button.sketch({\n                dom: {\n                  tag: 'button',\n                  styles: { position: 'relative' },\n                  classes: [\n                    'tox-button',\n                    'tox-button--secondary'\n                  ]\n                },\n                components: [\n                  text$2(providersBackstage.translate('Browse for an image')),\n                  memInput.asSpec()\n                ],\n                action: comp => {\n                  const inputComp = memInput.get(comp);\n                  inputComp.element.dom.click();\n                },\n                buttonBehaviours: derive$1([\n                  Tabstopping.config({}),\n                  DisablingConfigs.button(providersBackstage.isDisabled),\n                  receivingConfig()\n                ])\n              })\n            ]\n          }]\n      });\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const pField = FormField.parts.field({ factory: { sketch: renderField } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    const renderGrid = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-form__grid',\n          `tox-form__grid--${ spec.columns }col`\n        ]\n      },\n      components: map$2(spec.items, backstage.interpreter)\n    });\n\n    const beforeObject = generate$6('alloy-fake-before-tabstop');\n    const afterObject = generate$6('alloy-fake-after-tabstop');\n    const craftWithClasses = classes => {\n      return {\n        dom: {\n          tag: 'div',\n          styles: {\n            width: '1px',\n            height: '1px',\n            outline: 'none'\n          },\n          attributes: { tabindex: '0' },\n          classes\n        },\n        behaviours: derive$1([\n          Focusing.config({ ignore: true }),\n          Tabstopping.config({})\n        ])\n      };\n    };\n    const craft = spec => {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-navobj']\n        },\n        components: [\n          craftWithClasses([beforeObject]),\n          spec,\n          craftWithClasses([afterObject])\n        ],\n        behaviours: derive$1([ComposingConfigs.childAt(1)])\n      };\n    };\n    const triggerTab = (placeholder, shiftKey) => {\n      emitWith(placeholder, keydown(), {\n        raw: {\n          which: 9,\n          shiftKey\n        }\n      });\n    };\n    const onFocus = (container, targetComp) => {\n      const target = targetComp.element;\n      if (has(target, beforeObject)) {\n        triggerTab(container, true);\n      } else if (has(target, afterObject)) {\n        triggerTab(container, false);\n      }\n    };\n    const isPseudoStop = element => {\n      return closest(element, [\n        '.' + beforeObject,\n        '.' + afterObject\n      ].join(','), never);\n    };\n\n    const getDynamicSource = initialData => {\n      const cachedValue = Cell(initialData.getOr(''));\n      return {\n        getValue: _frameComponent => cachedValue.get(),\n        setValue: (frameComponent, html) => {\n          if (cachedValue.get() !== html) {\n            set$9(frameComponent.element, 'srcdoc', html);\n          }\n          cachedValue.set(html);\n        }\n      };\n    };\n    const renderIFrame = (spec, providersBackstage, initialData) => {\n      const isSandbox = spec.sandboxed;\n      const isTransparent = spec.transparent;\n      const baseClass = 'tox-dialog__iframe';\n      const attributes = {\n        ...spec.label.map(title => ({ title })).getOr({}),\n        ...initialData.map(html => ({ srcdoc: html })).getOr({}),\n        ...isSandbox ? { sandbox: 'allow-scripts allow-same-origin' } : {}\n      };\n      const sourcing = getDynamicSource(initialData);\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const factory = newSpec => craft({\n        uid: newSpec.uid,\n        dom: {\n          tag: 'iframe',\n          attributes,\n          classes: isTransparent ? [baseClass] : [\n            baseClass,\n            `${ baseClass }--opaque`\n          ]\n        },\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({}),\n          RepresentingConfigs.withComp(initialData, sourcing.getValue, sourcing.setValue)\n        ])\n      });\n      const pField = FormField.parts.field({ factory: { sketch: factory } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    const image = image => new Promise((resolve, reject) => {\n      const loaded = () => {\n        destroy();\n        resolve(image);\n      };\n      const listeners = [\n        bind(image, 'load', loaded),\n        bind(image, 'error', () => {\n          destroy();\n          reject('Unable to load data from image: ' + image.dom.src);\n        })\n      ];\n      const destroy = () => each$1(listeners, l => l.unbind());\n      if (image.dom.complete) {\n        loaded();\n      }\n    });\n\n    const calculateImagePosition = (panelWidth, panelHeight, imageWidth, imageHeight, zoom) => {\n      const width = imageWidth * zoom;\n      const height = imageHeight * zoom;\n      const left = Math.max(0, panelWidth / 2 - width / 2);\n      const top = Math.max(0, panelHeight / 2 - height / 2);\n      return {\n        left: left.toString() + 'px',\n        top: top.toString() + 'px',\n        width: width.toString() + 'px',\n        height: height.toString() + 'px'\n      };\n    };\n    const zoomToFit = (panel, width, height) => {\n      const panelW = get$c(panel);\n      const panelH = get$d(panel);\n      return Math.min(panelW / width, panelH / height, 1);\n    };\n    const renderImagePreview = (spec, initialData) => {\n      const cachedData = Cell(initialData.getOr({ url: '' }));\n      const memImage = record({\n        dom: {\n          tag: 'img',\n          classes: ['tox-imagepreview__image'],\n          attributes: initialData.map(data => ({ src: data.url })).getOr({})\n        }\n      });\n      const memContainer = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-imagepreview__container'],\n          attributes: { role: 'presentation' }\n        },\n        components: [memImage.asSpec()]\n      });\n      const setValue = (frameComponent, data) => {\n        const translatedData = { url: data.url };\n        data.zoom.each(z => translatedData.zoom = z);\n        data.cachedWidth.each(z => translatedData.cachedWidth = z);\n        data.cachedHeight.each(z => translatedData.cachedHeight = z);\n        cachedData.set(translatedData);\n        const applyFramePositioning = () => {\n          const {cachedWidth, cachedHeight, zoom} = translatedData;\n          if (!isUndefined(cachedWidth) && !isUndefined(cachedHeight)) {\n            if (isUndefined(zoom)) {\n              const z = zoomToFit(frameComponent.element, cachedWidth, cachedHeight);\n              translatedData.zoom = z;\n            }\n            const position = calculateImagePosition(get$c(frameComponent.element), get$d(frameComponent.element), cachedWidth, cachedHeight, translatedData.zoom);\n            memContainer.getOpt(frameComponent).each(container => {\n              setAll(container.element, position);\n            });\n          }\n        };\n        memImage.getOpt(frameComponent).each(imageComponent => {\n          const img = imageComponent.element;\n          if (data.url !== get$f(img, 'src')) {\n            set$9(img, 'src', data.url);\n            remove$2(frameComponent.element, 'tox-imagepreview__loaded');\n          }\n          applyFramePositioning();\n          image(img).then(img => {\n            if (frameComponent.getSystem().isConnected()) {\n              add$2(frameComponent.element, 'tox-imagepreview__loaded');\n              translatedData.cachedWidth = img.dom.naturalWidth;\n              translatedData.cachedHeight = img.dom.naturalHeight;\n              applyFramePositioning();\n            }\n          });\n        });\n      };\n      const styles = {};\n      spec.height.each(h => styles.height = h);\n      const fakeValidatedData = initialData.map(d => ({\n        url: d.url,\n        zoom: Optional.from(d.zoom),\n        cachedWidth: Optional.from(d.cachedWidth),\n        cachedHeight: Optional.from(d.cachedHeight)\n      }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-imagepreview'],\n          styles,\n          attributes: { role: 'presentation' }\n        },\n        components: [memContainer.asSpec()],\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          RepresentingConfigs.withComp(fakeValidatedData, () => cachedData.get(), setValue)\n        ])\n      };\n    };\n\n    const renderLabel$2 = (spec, backstageShared) => {\n      const label = {\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$2(backstageShared.providers.translate(spec.label))]\n      };\n      const comps = map$2(spec.items, backstageShared.interpreter);\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [\n          label,\n          ...comps\n        ],\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Replacing.config({}),\n          RepresentingConfigs.domHtml(Optional.none()),\n          Keying.config({ mode: 'acyclic' })\n        ])\n      };\n    };\n\n    const internalToolbarButtonExecute = generate$6('toolbar.button.execute');\n    const onToolbarButtonExecute = info => runOnExecute$1((comp, _simulatedEvent) => {\n      runWithApi(info, comp)(itemApi => {\n        emitWith(comp, internalToolbarButtonExecute, { buttonApi: itemApi });\n        info.onAction(itemApi);\n      });\n    });\n    const commonButtonDisplayEvent = generate$6('common-button-display-events');\n    const toolbarButtonEventOrder = {\n      [execute$5()]: [\n        'disabling',\n        'alloy.base.behaviour',\n        'toggling',\n        'toolbar-button-events'\n      ],\n      [attachedToDom()]: [\n        'toolbar-button-events',\n        commonButtonDisplayEvent\n      ],\n      [mousedown()]: [\n        'focusing',\n        'alloy.base.behaviour',\n        commonButtonDisplayEvent\n      ]\n    };\n\n    const forceInitialSize = comp => set$8(comp.element, 'width', get$e(comp.element, 'width'));\n\n    const renderIcon$1 = (iconName, iconsProvider, behaviours) => render$3(iconName, {\n      tag: 'span',\n      classes: [\n        'tox-icon',\n        'tox-tbtn__icon-wrap'\n      ],\n      behaviours\n    }, iconsProvider);\n    const renderIconFromPack$1 = (iconName, iconsProvider) => renderIcon$1(iconName, iconsProvider, []);\n    const renderReplaceableIconFromPack = (iconName, iconsProvider) => renderIcon$1(iconName, iconsProvider, [Replacing.config({})]);\n    const renderLabel$1 = (text, prefix, providersBackstage) => ({\n      dom: {\n        tag: 'span',\n        classes: [`${ prefix }__select-label`]\n      },\n      components: [text$2(providersBackstage.translate(text))],\n      behaviours: derive$1([Replacing.config({})])\n    });\n\n    const updateMenuText = generate$6('update-menu-text');\n    const updateMenuIcon = generate$6('update-menu-icon');\n    const renderCommonDropdown = (spec, prefix, sharedBackstage) => {\n      const editorOffCell = Cell(noop);\n      const optMemDisplayText = spec.text.map(text => record(renderLabel$1(text, prefix, sharedBackstage.providers)));\n      const optMemDisplayIcon = spec.icon.map(iconName => record(renderReplaceableIconFromPack(iconName, sharedBackstage.providers.icons)));\n      const onLeftOrRightInMenu = (comp, se) => {\n        const dropdown = Representing.getValue(comp);\n        Focusing.focus(dropdown);\n        emitWith(dropdown, 'keydown', { raw: se.event.raw });\n        Dropdown.close(dropdown);\n        return Optional.some(true);\n      };\n      const role = spec.role.fold(() => ({}), role => ({ role }));\n      const tooltipAttributes = spec.tooltip.fold(() => ({}), tooltip => {\n        const translatedTooltip = sharedBackstage.providers.translate(tooltip);\n        return {\n          'title': translatedTooltip,\n          'aria-label': translatedTooltip\n        };\n      });\n      const iconSpec = render$3('chevron-down', {\n        tag: 'div',\n        classes: [`${ prefix }__select-chevron`]\n      }, sharedBackstage.providers.icons);\n      const fixWidthBehaviourName = generate$6('common-button-display-events');\n      const memDropdown = record(Dropdown.sketch({\n        ...spec.uid ? { uid: spec.uid } : {},\n        ...role,\n        dom: {\n          tag: 'button',\n          classes: [\n            prefix,\n            `${ prefix }--select`\n          ].concat(map$2(spec.classes, c => `${ prefix }--${ c }`)),\n          attributes: { ...tooltipAttributes }\n        },\n        components: componentRenderPipeline([\n          optMemDisplayIcon.map(mem => mem.asSpec()),\n          optMemDisplayText.map(mem => mem.asSpec()),\n          Optional.some(iconSpec)\n        ]),\n        matchWidth: true,\n        useMinWidth: true,\n        onOpen: (anchor, dropdownComp, tmenuComp) => {\n          if (spec.searchable) {\n            focusSearchField(tmenuComp);\n          }\n        },\n        dropdownBehaviours: derive$1([\n          ...spec.dropdownBehaviours,\n          DisablingConfigs.button(() => spec.disabled || sharedBackstage.providers.isDisabled()),\n          receivingConfig(),\n          Unselecting.config({}),\n          Replacing.config({}),\n          config('dropdown-events', [\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          config(fixWidthBehaviourName, [runOnAttached((comp, _se) => forceInitialSize(comp))]),\n          config('menubutton-update-display-text', [\n            run$1(updateMenuText, (comp, se) => {\n              optMemDisplayText.bind(mem => mem.getOpt(comp)).each(displayText => {\n                Replacing.set(displayText, [text$2(sharedBackstage.providers.translate(se.event.text))]);\n              });\n            }),\n            run$1(updateMenuIcon, (comp, se) => {\n              optMemDisplayIcon.bind(mem => mem.getOpt(comp)).each(displayIcon => {\n                Replacing.set(displayIcon, [renderReplaceableIconFromPack(se.event.icon, sharedBackstage.providers.icons)]);\n              });\n            })\n          ])\n        ]),\n        eventOrder: deepMerge(toolbarButtonEventOrder, {\n          mousedown: [\n            'focusing',\n            'alloy.base.behaviour',\n            'item-type-events',\n            'normal-dropdown-events'\n          ],\n          [attachedToDom()]: [\n            'toolbar-button-events',\n            'dropdown-events',\n            fixWidthBehaviourName\n          ]\n        }),\n        sandboxBehaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onLeft: onLeftOrRightInMenu,\n            onRight: onLeftOrRightInMenu\n          }),\n          config('dropdown-sandbox-events', [\n            run$1(refetchTriggerEvent, (originalSandboxComp, se) => {\n              handleRefetchTrigger(originalSandboxComp);\n              se.stop();\n            }),\n            run$1(redirectMenuItemInteractionEvent, (sandboxComp, se) => {\n              handleRedirectToMenuItem(sandboxComp, se);\n              se.stop();\n            })\n          ])\n        ]),\n        lazySink: sharedBackstage.getSink,\n        toggleClass: `${ prefix }--active`,\n        parts: {\n          menu: {\n            ...part(false, spec.columns, spec.presets),\n            fakeFocus: spec.searchable,\n            onHighlightItem: updateAriaOnHighlight,\n            onCollapseMenu: (tmenuComp, itemCompCausingCollapse, nowActiveMenuComp) => {\n              Highlighting.getHighlighted(nowActiveMenuComp).each(itemComp => {\n                updateAriaOnHighlight(tmenuComp, nowActiveMenuComp, itemComp);\n              });\n            },\n            onDehighlightItem: updateAriaOnDehighlight\n          }\n        },\n        fetch: comp => Future.nu(curry(spec.fetch, comp))\n      }));\n      return memDropdown.asSpec();\n    };\n\n    const isMenuItemReference = item => isString(item);\n    const isSeparator$2 = item => item.type === 'separator';\n    const isExpandingMenuItem = item => has$2(item, 'getSubmenuItems');\n    const separator$2 = { type: 'separator' };\n    const unwrapReferences = (items, menuItems) => {\n      const realItems = foldl(items, (acc, item) => {\n        if (isMenuItemReference(item)) {\n          if (item === '') {\n            return acc;\n          } else if (item === '|') {\n            return acc.length > 0 && !isSeparator$2(acc[acc.length - 1]) ? acc.concat([separator$2]) : acc;\n          } else if (has$2(menuItems, item.toLowerCase())) {\n            return acc.concat([menuItems[item.toLowerCase()]]);\n          } else {\n            return acc;\n          }\n        } else {\n          return acc.concat([item]);\n        }\n      }, []);\n      if (realItems.length > 0 && isSeparator$2(realItems[realItems.length - 1])) {\n        realItems.pop();\n      }\n      return realItems;\n    };\n    const getFromExpandingItem = (item, menuItems) => {\n      const submenuItems = item.getSubmenuItems();\n      const rest = expand(submenuItems, menuItems);\n      const newMenus = deepMerge(rest.menus, { [item.value]: rest.items });\n      const newExpansions = deepMerge(rest.expansions, { [item.value]: item.value });\n      return {\n        item,\n        menus: newMenus,\n        expansions: newExpansions\n      };\n    };\n    const generateValueIfRequired = item => {\n      const itemValue = get$g(item, 'value').getOrThunk(() => generate$6('generated-menu-item'));\n      return deepMerge({ value: itemValue }, item);\n    };\n    const expand = (items, menuItems) => {\n      const realItems = unwrapReferences(isString(items) ? items.split(' ') : items, menuItems);\n      return foldr(realItems, (acc, item) => {\n        if (isExpandingMenuItem(item)) {\n          const itemWithValue = generateValueIfRequired(item);\n          const newData = getFromExpandingItem(itemWithValue, menuItems);\n          return {\n            menus: deepMerge(acc.menus, newData.menus),\n            items: [\n              newData.item,\n              ...acc.items\n            ],\n            expansions: deepMerge(acc.expansions, newData.expansions)\n          };\n        } else {\n          return {\n            ...acc,\n            items: [\n              item,\n              ...acc.items\n            ]\n          };\n        }\n      }, {\n        menus: {},\n        expansions: {},\n        items: []\n      });\n    };\n\n    const getSearchModeForField = settings => {\n      return settings.search.fold(() => ({ searchMode: 'no-search' }), searchSettings => ({\n        searchMode: 'search-with-field',\n        placeholder: searchSettings.placeholder\n      }));\n    };\n    const getSearchModeForResults = settings => {\n      return settings.search.fold(() => ({ searchMode: 'no-search' }), _ => ({ searchMode: 'search-with-results' }));\n    };\n    const build = (items, itemResponse, backstage, settings) => {\n      const primary = generate$6('primary-menu');\n      const data = expand(items, backstage.shared.providers.menuItems());\n      if (data.items.length === 0) {\n        return Optional.none();\n      }\n      const mainMenuSearchMode = getSearchModeForField(settings);\n      const mainMenu = createPartialMenu(primary, data.items, itemResponse, backstage, settings.isHorizontalMenu, mainMenuSearchMode);\n      const submenuSearchMode = getSearchModeForResults(settings);\n      const submenus = map$1(data.menus, (menuItems, menuName) => createPartialMenu(menuName, menuItems, itemResponse, backstage, false, submenuSearchMode));\n      const menus = deepMerge(submenus, wrap$1(primary, mainMenu));\n      return Optional.from(tieredMenu.tieredData(primary, menus, data.expansions));\n    };\n\n    const isSingleListItem = item => !has$2(item, 'items');\n    const dataAttribute = 'data-value';\n    const fetchItems = (dropdownComp, name, items, selectedValue) => map$2(items, item => {\n      if (!isSingleListItem(item)) {\n        return {\n          type: 'nestedmenuitem',\n          text: item.text,\n          getSubmenuItems: () => fetchItems(dropdownComp, name, item.items, selectedValue)\n        };\n      } else {\n        return {\n          type: 'togglemenuitem',\n          text: item.text,\n          value: item.value,\n          active: item.value === selectedValue,\n          onAction: () => {\n            Representing.setValue(dropdownComp, item.value);\n            emitWith(dropdownComp, formChangeEvent, { name });\n            Focusing.focus(dropdownComp);\n          }\n        };\n      }\n    });\n    const findItemByValue = (items, value) => findMap(items, item => {\n      if (!isSingleListItem(item)) {\n        return findItemByValue(item.items, value);\n      } else {\n        return someIf(item.value === value, item);\n      }\n    });\n    const renderListBox = (spec, backstage, initialData) => {\n      const providersBackstage = backstage.shared.providers;\n      const initialItem = initialData.bind(value => findItemByValue(spec.items, value)).orThunk(() => head(spec.items).filter(isSingleListItem));\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const pField = FormField.parts.field({\n        dom: {},\n        factory: {\n          sketch: sketchSpec => renderCommonDropdown({\n            uid: sketchSpec.uid,\n            text: initialItem.map(item => item.text),\n            icon: Optional.none(),\n            tooltip: spec.label,\n            role: Optional.none(),\n            fetch: (comp, callback) => {\n              const items = fetchItems(comp, spec.name, spec.items, Representing.getValue(comp));\n              callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n                isHorizontalMenu: false,\n                search: Optional.none()\n              }));\n            },\n            onSetup: constant$1(noop),\n            getApi: constant$1({}),\n            columns: 1,\n            presets: 'normal',\n            classes: [],\n            dropdownBehaviours: [\n              Tabstopping.config({}),\n              RepresentingConfigs.withComp(initialItem.map(item => item.value), comp => get$f(comp.element, dataAttribute), (comp, data) => {\n                findItemByValue(spec.items, data).each(item => {\n                  set$9(comp.element, dataAttribute, item.value);\n                  emitWith(comp, updateMenuText, { text: item.text });\n                });\n              })\n            ]\n          }, 'tox-listbox', backstage.shared)\n        }\n      });\n      const listBoxWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-listboxfield']\n        },\n        components: [pField]\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [listBoxWrap]\n        ]),\n        fieldBehaviours: derive$1([Disabling.config({\n            disabled: constant$1(!spec.enabled),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          })])\n      });\n    };\n\n    const renderPanel = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: spec.classes\n      },\n      components: map$2(spec.items, backstage.shared.interpreter)\n    });\n\n    const factory$h = (detail, _spec) => {\n      const options = map$2(detail.options, option => ({\n        dom: {\n          tag: 'option',\n          value: option.value,\n          innerHtml: option.text\n        }\n      }));\n      const initialValues = detail.data.map(v => wrap$1('initialValue', v)).getOr({});\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'select',\n          classes: detail.selectClasses,\n          attributes: detail.selectAttributes\n        },\n        components: options,\n        behaviours: augment(detail.selectBehaviours, [\n          Focusing.config({}),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: select => {\n                return get$6(select.element);\n              },\n              setValue: (select, newValue) => {\n                const found = find$5(detail.options, opt => opt.value === newValue);\n                if (found.isSome()) {\n                  set$5(select.element, newValue);\n                }\n              },\n              ...initialValues\n            }\n          })\n        ])\n      };\n    };\n    const HtmlSelect = single({\n      name: 'HtmlSelect',\n      configFields: [\n        required$1('options'),\n        field('selectBehaviours', [\n          Focusing,\n          Representing\n        ]),\n        defaulted('selectClasses', []),\n        defaulted('selectAttributes', {}),\n        option$3('data')\n      ],\n      factory: factory$h\n    });\n\n    const renderSelectBox = (spec, providersBackstage, initialData) => {\n      const translatedOptions = map$2(spec.items, item => ({\n        text: providersBackstage.translate(item.text),\n        value: item.value\n      }));\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const pField = FormField.parts.field({\n        dom: {},\n        ...initialData.map(data => ({ data })).getOr({}),\n        selectAttributes: { size: spec.size },\n        options: translatedOptions,\n        factory: HtmlSelect,\n        selectBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          Tabstopping.config({}),\n          config('selectbox-change', [run$1(change(), (component, _) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      const chevron = spec.size > 1 ? Optional.none() : Optional.some(render$3('chevron-down', {\n        tag: 'div',\n        classes: ['tox-selectfield__icon-js']\n      }, providersBackstage.icons));\n      const selectWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-selectfield']\n        },\n        components: flatten([\n          [pField],\n          chevron.toArray()\n        ])\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [selectWrap]\n        ]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    const schema$h = constant$1([\n      defaulted('field1Name', 'field1'),\n      defaulted('field2Name', 'field2'),\n      onStrictHandler('onLockedChange'),\n      markers$1(['lockClass']),\n      defaulted('locked', false),\n      SketchBehaviours.field('coupledFieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    const getField = (comp, detail, partName) => getPart(comp, detail, partName).bind(Composing.getCurrent);\n    const coupledPart = (selfName, otherName) => required({\n      factory: FormField,\n      name: selfName,\n      overrides: detail => {\n        return {\n          fieldBehaviours: derive$1([config('coupled-input-behaviour', [run$1(input(), me => {\n                getField(me, detail, otherName).each(other => {\n                  getPart(me, detail, 'lock').each(lock => {\n                    if (Toggling.isOn(lock)) {\n                      detail.onLockedChange(me, other, lock);\n                    }\n                  });\n                });\n              })])])\n        };\n      }\n    });\n    const parts$c = constant$1([\n      coupledPart('field1', 'field2'),\n      coupledPart('field2', 'field1'),\n      required({\n        factory: Button,\n        schema: [required$1('dom')],\n        name: 'lock',\n        overrides: detail => {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                selected: detail.locked,\n                toggleClass: detail.markers.lockClass,\n                aria: { mode: 'pressed' }\n              })])\n          };\n        }\n      })\n    ]);\n\n    const factory$g = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: SketchBehaviours.augment(detail.coupledFieldBehaviours, [\n        Composing.config({ find: Optional.some }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: comp => {\n              const parts = getPartsOrDie(comp, detail, [\n                'field1',\n                'field2'\n              ]);\n              return {\n                [detail.field1Name]: Representing.getValue(parts.field1()),\n                [detail.field2Name]: Representing.getValue(parts.field2())\n              };\n            },\n            setValue: (comp, value) => {\n              const parts = getPartsOrDie(comp, detail, [\n                'field1',\n                'field2'\n              ]);\n              if (hasNonNullableKey(value, detail.field1Name)) {\n                Representing.setValue(parts.field1(), value[detail.field1Name]);\n              }\n              if (hasNonNullableKey(value, detail.field2Name)) {\n                Representing.setValue(parts.field2(), value[detail.field2Name]);\n              }\n            }\n          }\n        })\n      ]),\n      apis: {\n        getField1: component => getPart(component, detail, 'field1'),\n        getField2: component => getPart(component, detail, 'field2'),\n        getLock: component => getPart(component, detail, 'lock')\n      }\n    });\n    const FormCoupledInputs = composite({\n      name: 'FormCoupledInputs',\n      configFields: schema$h(),\n      partFields: parts$c(),\n      factory: factory$g,\n      apis: {\n        getField1: (apis, component) => apis.getField1(component),\n        getField2: (apis, component) => apis.getField2(component),\n        getLock: (apis, component) => apis.getLock(component)\n      }\n    });\n\n    const formatSize = size => {\n      const unitDec = {\n        '': 0,\n        'px': 0,\n        'pt': 1,\n        'mm': 1,\n        'pc': 2,\n        'ex': 2,\n        'em': 2,\n        'ch': 2,\n        'rem': 2,\n        'cm': 3,\n        'in': 4,\n        '%': 4\n      };\n      const maxDecimal = unit => unit in unitDec ? unitDec[unit] : 1;\n      let numText = size.value.toFixed(maxDecimal(size.unit));\n      if (numText.indexOf('.') !== -1) {\n        numText = numText.replace(/\\.?0*$/, '');\n      }\n      return numText + size.unit;\n    };\n    const parseSize = sizeText => {\n      const numPattern = /^\\s*(\\d+(?:\\.\\d+)?)\\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\\s*$/;\n      const match = numPattern.exec(sizeText);\n      if (match !== null) {\n        const value = parseFloat(match[1]);\n        const unit = match[2];\n        return Result.value({\n          value,\n          unit\n        });\n      } else {\n        return Result.error(sizeText);\n      }\n    };\n    const convertUnit = (size, unit) => {\n      const inInch = {\n        '': 96,\n        'px': 96,\n        'pt': 72,\n        'cm': 2.54,\n        'pc': 12,\n        'mm': 25.4,\n        'in': 1\n      };\n      const supported = u => has$2(inInch, u);\n      if (size.unit === unit) {\n        return Optional.some(size.value);\n      } else if (supported(size.unit) && supported(unit)) {\n        if (inInch[size.unit] === inInch[unit]) {\n          return Optional.some(size.value);\n        } else {\n          return Optional.some(size.value / inInch[size.unit] * inInch[unit]);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    const noSizeConversion = _input => Optional.none();\n    const ratioSizeConversion = (scale, unit) => size => convertUnit(size, unit).map(value => ({\n      value: value * scale,\n      unit\n    }));\n    const makeRatioConverter = (currentFieldText, otherFieldText) => {\n      const cValue = parseSize(currentFieldText).toOptional();\n      const oValue = parseSize(otherFieldText).toOptional();\n      return lift2(cValue, oValue, (cSize, oSize) => convertUnit(cSize, oSize.unit).map(val => oSize.value / val).map(r => ratioSizeConversion(r, oSize.unit)).getOr(noSizeConversion)).getOr(noSizeConversion);\n    };\n\n    const renderSizeInput = (spec, providersBackstage) => {\n      let converter = noSizeConversion;\n      const ratioEvent = generate$6('ratio-event');\n      const makeIcon = iconName => render$3(iconName, {\n        tag: 'span',\n        classes: [\n          'tox-icon',\n          'tox-lock-icon__' + iconName\n        ]\n      }, providersBackstage.icons);\n      const pLock = FormCoupledInputs.parts.lock({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-lock',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ],\n          attributes: { title: providersBackstage.translate(spec.label.getOr('Constrain proportions')) }\n        },\n        components: [\n          makeIcon('lock'),\n          makeIcon('unlock')\n        ],\n        buttonBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          receivingConfig(),\n          Tabstopping.config({})\n        ])\n      });\n      const formGroup = components => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components\n      });\n      const getFieldPart = isField1 => FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          config('size-input-events', [\n            run$1(focusin(), (component, _simulatedEvent) => {\n              emitWith(component, ratioEvent, { isField1 });\n            }),\n            run$1(change(), (component, _simulatedEvent) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })\n          ])\n        ]),\n        selectOnFocus: false\n      });\n      const getLabel = label => ({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$2(providersBackstage.translate(label))]\n      });\n      const widthField = FormCoupledInputs.parts.field1(formGroup([\n        FormField.parts.label(getLabel('Width')),\n        getFieldPart(true)\n      ]));\n      const heightField = FormCoupledInputs.parts.field2(formGroup([\n        FormField.parts.label(getLabel('Height')),\n        getFieldPart(false)\n      ]));\n      return FormCoupledInputs.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-form__controls-h-stack']\n            },\n            components: [\n              widthField,\n              heightField,\n              formGroup([\n                getLabel(nbsp),\n                pLock\n              ])\n            ]\n          }],\n        field1Name: 'width',\n        field2Name: 'height',\n        locked: true,\n        markers: { lockClass: 'tox-locked' },\n        onLockedChange: (current, other, _lock) => {\n          parseSize(Representing.getValue(current)).each(size => {\n            converter(size).each(newSize => {\n              Representing.setValue(other, formatSize(newSize));\n            });\n          });\n        },\n        coupledFieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getLock(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getLock(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('size-input-events2', [run$1(ratioEvent, (component, simulatedEvent) => {\n              const isField1 = simulatedEvent.event.isField1;\n              const optCurrent = isField1 ? FormCoupledInputs.getField1(component) : FormCoupledInputs.getField2(component);\n              const optOther = isField1 ? FormCoupledInputs.getField2(component) : FormCoupledInputs.getField1(component);\n              const value1 = optCurrent.map(Representing.getValue).getOr('');\n              const value2 = optOther.map(Representing.getValue).getOr('');\n              converter = makeRatioConverter(value1, value2);\n            })])\n        ])\n      });\n    };\n\n    const renderSlider = (spec, providerBackstage, initialData) => {\n      const labelPart = Slider.parts.label({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$2(providerBackstage.translate(spec.label))]\n      });\n      const spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider__rail'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      const thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider__handle'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider'],\n          attributes: { role: 'presentation' }\n        },\n        model: {\n          mode: 'x',\n          minX: spec.min,\n          maxX: spec.max,\n          getInitialValue: constant$1(initialData.getOrThunk(() => (Math.abs(spec.max) - Math.abs(spec.min)) / 2))\n        },\n        components: [\n          labelPart,\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([\n          ComposingConfigs.self(),\n          Focusing.config({})\n        ]),\n        onChoose: (component, thumb, value) => {\n          emitWith(component, formChangeEvent, {\n            name: spec.name,\n            value\n          });\n        }\n      });\n    };\n\n    const renderTable = (spec, providersBackstage) => {\n      const renderTh = text => ({\n        dom: {\n          tag: 'th',\n          innerHtml: providersBackstage.translate(text)\n        }\n      });\n      const renderHeader = header => ({\n        dom: { tag: 'thead' },\n        components: [{\n            dom: { tag: 'tr' },\n            components: map$2(header, renderTh)\n          }]\n      });\n      const renderTd = text => ({\n        dom: {\n          tag: 'td',\n          innerHtml: providersBackstage.translate(text)\n        }\n      });\n      const renderTr = row => ({\n        dom: { tag: 'tr' },\n        components: map$2(row, renderTd)\n      });\n      const renderRows = rows => ({\n        dom: { tag: 'tbody' },\n        components: map$2(rows, renderTr)\n      });\n      return {\n        dom: {\n          tag: 'table',\n          classes: ['tox-dialog__table']\n        },\n        components: [\n          renderHeader(spec.header),\n          renderRows(spec.cells)\n        ],\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n\n    const renderTextField = (spec, providersBackstage) => {\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const baseInputBehaviours = [\n        Disabling.config({ disabled: () => spec.disabled || providersBackstage.isDisabled() }),\n        receivingConfig(),\n        Keying.config({\n          mode: 'execution',\n          useEnter: spec.multiline !== true,\n          useControlEnter: spec.multiline === true,\n          execute: comp => {\n            emit(comp, formSubmitEvent);\n            return Optional.some(true);\n          }\n        }),\n        config('textfield-change', [\n          run$1(input(), (component, _) => {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          }),\n          run$1(postPaste(), (component, _) => {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          })\n        ]),\n        Tabstopping.config({})\n      ];\n      const validatingBehaviours = spec.validation.map(vl => Invalidating.config({\n        getRoot: input => {\n          return parentElement(input.element);\n        },\n        invalidClass: 'tox-invalid',\n        validator: {\n          validate: input => {\n            const v = Representing.getValue(input);\n            const result = vl.validator(v);\n            return Future.pure(result === true ? Result.value(v) : Result.error(result));\n          },\n          validateOnLoad: vl.validateOnLoad\n        }\n      })).toArray();\n      const placeholder = spec.placeholder.fold(constant$1({}), p => ({ placeholder: providersBackstage.translate(p) }));\n      const inputMode = spec.inputMode.fold(constant$1({}), mode => ({ inputmode: mode }));\n      const inputAttributes = {\n        ...placeholder,\n        ...inputMode\n      };\n      const pField = FormField.parts.field({\n        tag: spec.multiline === true ? 'textarea' : 'input',\n        ...spec.data.map(data => ({ data })).getOr({}),\n        inputAttributes,\n        inputClasses: [spec.classname],\n        inputBehaviours: derive$1(flatten([\n          baseInputBehaviours,\n          validatingBehaviours\n        ])),\n        selectOnFocus: false,\n        factory: Input\n      });\n      const pTextField = spec.multiline ? {\n        dom: {\n          tag: 'div',\n          classes: ['tox-textarea-wrap']\n        },\n        components: [pField]\n      } : pField;\n      const extraClasses = spec.flex ? ['tox-form__group--stretched'] : [];\n      const extraClasses2 = extraClasses.concat(spec.maximized ? ['tox-form-group--maximize'] : []);\n      const extraBehaviours = [\n        Disabling.config({\n          disabled: () => spec.disabled || providersBackstage.isDisabled(),\n          onDisabled: comp => {\n            FormField.getField(comp).each(Disabling.disable);\n          },\n          onEnabled: comp => {\n            FormField.getField(comp).each(Disabling.enable);\n          }\n        }),\n        receivingConfig()\n      ];\n      return renderFormFieldWith(pLabel, pTextField, extraClasses2, extraBehaviours);\n    };\n    const renderInput = (spec, providersBackstage, initialData) => renderTextField({\n      name: spec.name,\n      multiline: false,\n      label: spec.label,\n      inputMode: spec.inputMode,\n      placeholder: spec.placeholder,\n      flex: false,\n      disabled: !spec.enabled,\n      classname: 'tox-textfield',\n      validation: Optional.none(),\n      maximized: spec.maximized,\n      data: initialData\n    }, providersBackstage);\n    const renderTextarea = (spec, providersBackstage, initialData) => renderTextField({\n      name: spec.name,\n      multiline: true,\n      label: spec.label,\n      inputMode: Optional.none(),\n      placeholder: spec.placeholder,\n      flex: true,\n      disabled: !spec.enabled,\n      classname: 'tox-textarea',\n      validation: Optional.none(),\n      maximized: spec.maximized,\n      data: initialData\n    }, providersBackstage);\n\n    const getAnimationRoot = (component, slideConfig) => slideConfig.getAnimationRoot.fold(() => component.element, get => get(component));\n\n    const getDimensionProperty = slideConfig => slideConfig.dimension.property;\n    const getDimension = (slideConfig, elem) => slideConfig.dimension.getDimension(elem);\n    const disableTransitions = (component, slideConfig) => {\n      const root = getAnimationRoot(component, slideConfig);\n      remove$1(root, [\n        slideConfig.shrinkingClass,\n        slideConfig.growingClass\n      ]);\n    };\n    const setShrunk = (component, slideConfig) => {\n      remove$2(component.element, slideConfig.openClass);\n      add$2(component.element, slideConfig.closedClass);\n      set$8(component.element, getDimensionProperty(slideConfig), '0px');\n      reflow(component.element);\n    };\n    const setGrown = (component, slideConfig) => {\n      remove$2(component.element, slideConfig.closedClass);\n      add$2(component.element, slideConfig.openClass);\n      remove$6(component.element, getDimensionProperty(slideConfig));\n    };\n    const doImmediateShrink = (component, slideConfig, slideState, _calculatedSize) => {\n      slideState.setCollapsed();\n      set$8(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n      disableTransitions(component, slideConfig);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n      slideConfig.onShrunk(component);\n    };\n    const doStartShrink = (component, slideConfig, slideState, calculatedSize) => {\n      const size = calculatedSize.getOrThunk(() => getDimension(slideConfig, component.element));\n      slideState.setCollapsed();\n      set$8(component.element, getDimensionProperty(slideConfig), size);\n      reflow(component.element);\n      const root = getAnimationRoot(component, slideConfig);\n      remove$2(root, slideConfig.growingClass);\n      add$2(root, slideConfig.shrinkingClass);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n    };\n    const doStartSmartShrink = (component, slideConfig, slideState) => {\n      const size = getDimension(slideConfig, component.element);\n      const shrinker = size === '0px' ? doImmediateShrink : doStartShrink;\n      shrinker(component, slideConfig, slideState, Optional.some(size));\n    };\n    const doStartGrow = (component, slideConfig, slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      const wasShrinking = has(root, slideConfig.shrinkingClass);\n      const beforeSize = getDimension(slideConfig, component.element);\n      setGrown(component, slideConfig);\n      const fullSize = getDimension(slideConfig, component.element);\n      const startPartialGrow = () => {\n        set$8(component.element, getDimensionProperty(slideConfig), beforeSize);\n        reflow(component.element);\n      };\n      const startCompleteGrow = () => {\n        setShrunk(component, slideConfig);\n      };\n      const setStartSize = wasShrinking ? startPartialGrow : startCompleteGrow;\n      setStartSize();\n      remove$2(root, slideConfig.shrinkingClass);\n      add$2(root, slideConfig.growingClass);\n      setGrown(component, slideConfig);\n      set$8(component.element, getDimensionProperty(slideConfig), fullSize);\n      slideState.setExpanded();\n      slideConfig.onStartGrow(component);\n    };\n    const refresh$4 = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        remove$6(component.element, getDimensionProperty(slideConfig));\n        const fullSize = getDimension(slideConfig, component.element);\n        set$8(component.element, getDimensionProperty(slideConfig), fullSize);\n      }\n    };\n    const grow = (component, slideConfig, slideState) => {\n      if (!slideState.isExpanded()) {\n        doStartGrow(component, slideConfig, slideState);\n      }\n    };\n    const shrink = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        doStartSmartShrink(component, slideConfig, slideState);\n      }\n    };\n    const immediateShrink = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        doImmediateShrink(component, slideConfig, slideState);\n      }\n    };\n    const hasGrown = (component, slideConfig, slideState) => slideState.isExpanded();\n    const hasShrunk = (component, slideConfig, slideState) => slideState.isCollapsed();\n    const isGrowing = (component, slideConfig, _slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.growingClass) === true;\n    };\n    const isShrinking = (component, slideConfig, _slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.shrinkingClass) === true;\n    };\n    const isTransitioning = (component, slideConfig, slideState) => isGrowing(component, slideConfig) || isShrinking(component, slideConfig);\n    const toggleGrow = (component, slideConfig, slideState) => {\n      const f = slideState.isExpanded() ? doStartSmartShrink : doStartGrow;\n      f(component, slideConfig, slideState);\n    };\n    const immediateGrow = (component, slideConfig, slideState) => {\n      if (!slideState.isExpanded()) {\n        setGrown(component, slideConfig);\n        set$8(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n        disableTransitions(component, slideConfig);\n        slideState.setExpanded();\n        slideConfig.onStartGrow(component);\n        slideConfig.onGrown(component);\n      }\n    };\n\n    var SlidingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$4,\n        grow: grow,\n        shrink: shrink,\n        immediateShrink: immediateShrink,\n        hasGrown: hasGrown,\n        hasShrunk: hasShrunk,\n        isGrowing: isGrowing,\n        isShrinking: isShrinking,\n        isTransitioning: isTransitioning,\n        toggleGrow: toggleGrow,\n        disableTransitions: disableTransitions,\n        immediateGrow: immediateGrow\n    });\n\n    const exhibit = (base, slideConfig, _slideState) => {\n      const expanded = slideConfig.expanded;\n      return expanded ? nu$7({\n        classes: [slideConfig.openClass],\n        styles: {}\n      }) : nu$7({\n        classes: [slideConfig.closedClass],\n        styles: wrap$1(slideConfig.dimension.property, '0px')\n      });\n    };\n    const events$6 = (slideConfig, slideState) => derive$2([runOnSource(transitionend(), (component, simulatedEvent) => {\n        const raw = simulatedEvent.event.raw;\n        if (raw.propertyName === slideConfig.dimension.property) {\n          disableTransitions(component, slideConfig);\n          if (slideState.isExpanded()) {\n            remove$6(component.element, slideConfig.dimension.property);\n          }\n          const notify = slideState.isExpanded() ? slideConfig.onGrown : slideConfig.onShrunk;\n          notify(component);\n        }\n      })]);\n\n    var ActiveSliding = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit,\n        events: events$6\n    });\n\n    var SlidingSchema = [\n      required$1('closedClass'),\n      required$1('openClass'),\n      required$1('shrinkingClass'),\n      required$1('growingClass'),\n      option$3('getAnimationRoot'),\n      onHandler('onShrunk'),\n      onHandler('onStartShrink'),\n      onHandler('onGrown'),\n      onHandler('onStartGrow'),\n      defaulted('expanded', false),\n      requiredOf('dimension', choose$1('property', {\n        width: [\n          output$1('property', 'width'),\n          output$1('getDimension', elem => get$c(elem) + 'px')\n        ],\n        height: [\n          output$1('property', 'height'),\n          output$1('getDimension', elem => get$d(elem) + 'px')\n        ]\n      }))\n    ];\n\n    const init$9 = spec => {\n      const state = Cell(spec.expanded);\n      const readState = () => 'expanded: ' + state.get();\n      return nu$8({\n        isExpanded: () => state.get() === true,\n        isCollapsed: () => state.get() === false,\n        setCollapsed: curry(state.set, false),\n        setExpanded: curry(state.set, true),\n        readState\n      });\n    };\n\n    var SlidingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$9\n    });\n\n    const Sliding = create$4({\n      fields: SlidingSchema,\n      name: 'sliding',\n      active: ActiveSliding,\n      apis: SlidingApis,\n      state: SlidingState\n    });\n\n    const getMenuButtonApi = component => ({\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state),\n      setActive: state => {\n        const elm = component.element;\n        if (state) {\n          add$2(elm, 'tox-tbtn--enabled');\n          set$9(elm, 'aria-pressed', true);\n        } else {\n          remove$2(elm, 'tox-tbtn--enabled');\n          remove$7(elm, 'aria-pressed');\n        }\n      },\n      isActive: () => has(component.element, 'tox-tbtn--enabled'),\n      setText: text => {\n        emitWith(component, updateMenuText, { text });\n      },\n      setIcon: icon => emitWith(component, updateMenuIcon, { icon })\n    });\n    const renderMenuButton = (spec, prefix, backstage, role, tabstopping = true) => {\n      return renderCommonDropdown({\n        text: spec.text,\n        icon: spec.icon,\n        tooltip: spec.tooltip,\n        searchable: spec.search.isSome(),\n        role,\n        fetch: (dropdownComp, callback) => {\n          const fetchContext = { pattern: spec.search.isSome() ? getSearchPattern(dropdownComp) : '' };\n          spec.fetch(items => {\n            callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n              isHorizontalMenu: false,\n              search: spec.search\n            }));\n          }, fetchContext, getMenuButtonApi(dropdownComp));\n        },\n        onSetup: spec.onSetup,\n        getApi: getMenuButtonApi,\n        columns: 1,\n        presets: 'normal',\n        classes: [],\n        dropdownBehaviours: [...tabstopping ? [Tabstopping.config({})] : []]\n      }, prefix, backstage.shared);\n    };\n    const getFetch = (items, getButton, backstage) => {\n      const getMenuItemAction = item => api => {\n        const newValue = !api.isActive();\n        api.setActive(newValue);\n        item.storage.set(newValue);\n        backstage.shared.getSink().each(sink => {\n          getButton().getOpt(sink).each(orig => {\n            focus$3(orig.element);\n            emitWith(orig, formActionEvent, {\n              name: item.name,\n              value: item.storage.get()\n            });\n          });\n        });\n      };\n      const getMenuItemSetup = item => api => {\n        api.setActive(item.storage.get());\n      };\n      return success => {\n        success(map$2(items, item => {\n          const text = item.text.fold(() => ({}), text => ({ text }));\n          return {\n            type: item.type,\n            active: false,\n            ...text,\n            onAction: getMenuItemAction(item),\n            onSetup: getMenuItemSetup(item)\n          };\n        }));\n      };\n    };\n\n    const renderLabel = text => ({\n      dom: {\n        tag: 'span',\n        classes: ['tox-tree__label'],\n        attributes: {\n          'title': text,\n          'aria-label': text\n        }\n      },\n      components: [text$2(text)]\n    });\n    const leafLabelEventsId = generate$6('leaf-label-event-id');\n    const renderLeafLabel = ({leaf, onLeafAction, visible, treeId, backstage}) => {\n      const internalMenuButton = leaf.menu.map(btn => renderMenuButton(btn, 'tox-mbtn', backstage, Optional.none(), visible));\n      const components = [renderLabel(leaf.title)];\n      internalMenuButton.each(btn => components.push(btn));\n      return Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-tree--leaf__label',\n            'tox-trbtn'\n          ].concat(visible ? ['tox-tree--leaf__label--visible'] : [])\n        },\n        components,\n        role: 'treeitem',\n        action: button => {\n          onLeafAction(leaf.id);\n          button.getSystem().broadcastOn([`update-active-item-${ treeId }`], { value: leaf.id });\n        },\n        eventOrder: {\n          [keydown()]: [\n            leafLabelEventsId,\n            'keying'\n          ]\n        },\n        buttonBehaviours: derive$1([\n          ...visible ? [Tabstopping.config({})] : [],\n          Toggling.config({\n            toggleClass: 'tox-trbtn--enabled',\n            toggleOnExecute: false,\n            aria: { mode: 'selected' }\n          }),\n          Receiving.config({\n            channels: {\n              [`update-active-item-${ treeId }`]: {\n                onReceive: (comp, message) => {\n                  (message.value === leaf.id ? Toggling.on : Toggling.off)(comp);\n                }\n              }\n            }\n          }),\n          config(leafLabelEventsId, [run$1(keydown(), (comp, se) => {\n              const isLeftArrowKey = se.event.raw.code === 'ArrowLeft';\n              const isRightArrowKey = se.event.raw.code === 'ArrowRight';\n              if (isLeftArrowKey) {\n                ancestor(comp.element, '.tox-tree--directory').each(dirElement => {\n                  comp.getSystem().getByDom(dirElement).each(dirComp => {\n                    child(dirElement, '.tox-tree--directory__label').each(dirLabelElement => {\n                      dirComp.getSystem().getByDom(dirLabelElement).each(Focusing.focus);\n                    });\n                  });\n                });\n                se.stop();\n              } else if (isRightArrowKey) {\n                se.stop();\n              }\n            })])\n        ])\n      });\n    };\n    const renderIcon = (iconName, iconsProvider, behaviours) => render$3(iconName, {\n      tag: 'span',\n      classes: [\n        'tox-tree__icon-wrap',\n        'tox-icon'\n      ],\n      behaviours\n    }, iconsProvider);\n    const renderIconFromPack = (iconName, iconsProvider) => renderIcon(iconName, iconsProvider, []);\n    const directoryLabelEventsId = generate$6('directory-label-event-id');\n    const renderDirectoryLabel = ({directory, visible, noChildren, backstage}) => {\n      const internalMenuButton = directory.menu.map(btn => renderMenuButton(btn, 'tox-mbtn', backstage, Optional.none()));\n      const components = [\n        {\n          dom: {\n            tag: 'div',\n            classes: ['tox-chevron']\n          },\n          components: [renderIconFromPack('chevron-right', backstage.shared.providers.icons)]\n        },\n        renderLabel(directory.title)\n      ];\n      internalMenuButton.each(btn => {\n        components.push(btn);\n      });\n      const expandChildren = button => {\n        ancestor(button.element, '.tox-tree--directory').each(directoryEle => {\n          button.getSystem().getByDom(directoryEle).each(directoryComp => Toggling.toggle(directoryComp));\n        });\n      };\n      return Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-tree--directory__label',\n            'tox-trbtn'\n          ].concat(visible ? ['tox-tree--directory__label--visible'] : [])\n        },\n        components,\n        action: expandChildren,\n        eventOrder: {\n          [keydown()]: [\n            directoryLabelEventsId,\n            'keying'\n          ]\n        },\n        buttonBehaviours: derive$1([\n          ...visible ? [Tabstopping.config({})] : [],\n          config(directoryLabelEventsId, [run$1(keydown(), (comp, se) => {\n              const isRightArrowKey = se.event.raw.code === 'ArrowRight';\n              const isLeftArrowKey = se.event.raw.code === 'ArrowLeft';\n              if (isRightArrowKey && noChildren) {\n                se.stop();\n              }\n              if (isRightArrowKey || isLeftArrowKey) {\n                ancestor(comp.element, '.tox-tree--directory').each(directoryEle => {\n                  comp.getSystem().getByDom(directoryEle).each(directoryComp => {\n                    if (!Toggling.isOn(directoryComp) && isRightArrowKey || Toggling.isOn(directoryComp) && isLeftArrowKey) {\n                      expandChildren(comp);\n                      se.stop();\n                    } else if (isLeftArrowKey && !Toggling.isOn(directoryComp)) {\n                      ancestor(directoryComp.element, '.tox-tree--directory').each(parentDirElement => {\n                        child(parentDirElement, '.tox-tree--directory__label').each(parentDirLabelElement => {\n                          directoryComp.getSystem().getByDom(parentDirLabelElement).each(Focusing.focus);\n                        });\n                      });\n                      se.stop();\n                    }\n                  });\n                });\n              }\n            })])\n        ])\n      });\n    };\n    const renderDirectoryChildren = ({children, onLeafAction, visible, treeId, backstage}) => {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-tree--directory__children']\n        },\n        components: children.map(item => {\n          return item.type === 'leaf' ? renderLeafLabel({\n            leaf: item,\n            onLeafAction,\n            visible,\n            treeId,\n            backstage\n          }) : renderDirectory({\n            directory: item,\n            onLeafAction,\n            labelTabstopping: visible,\n            treeId,\n            backstage\n          });\n        }),\n        behaviours: derive$1([\n          Sliding.config({\n            dimension: { property: 'height' },\n            closedClass: 'tox-tree--directory__children--closed',\n            openClass: 'tox-tree--directory__children--open',\n            growingClass: 'tox-tree--directory__children--growing',\n            shrinkingClass: 'tox-tree--directory__children--shrinking'\n          }),\n          Replacing.config({})\n        ])\n      };\n    };\n    const renderDirectory = ({directory, onLeafAction, labelTabstopping, treeId, backstage}) => {\n      const {children} = directory;\n      const computedChildrenComponents = visible => children.map(item => {\n        return item.type === 'leaf' ? renderLeafLabel({\n          leaf: item,\n          onLeafAction,\n          visible,\n          treeId,\n          backstage\n        }) : renderDirectory({\n          directory: item,\n          onLeafAction,\n          labelTabstopping: visible,\n          treeId,\n          backstage\n        });\n      });\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-tree--directory'],\n          attributes: { role: 'treeitem' }\n        },\n        components: [\n          renderDirectoryLabel({\n            directory,\n            visible: labelTabstopping,\n            noChildren: directory.children.length === 0,\n            backstage\n          }),\n          renderDirectoryChildren({\n            children,\n            onLeafAction,\n            visible: false,\n            treeId,\n            backstage\n          })\n        ],\n        behaviours: derive$1([Toggling.config({\n            ...directory.children.length > 0 ? { aria: { mode: 'expanded' } } : {},\n            toggleClass: 'tox-tree--directory--expanded',\n            onToggled: (comp, childrenVisible) => {\n              const childrenComp = comp.components()[1];\n              const newChildren = computedChildrenComponents(childrenVisible);\n              if (childrenVisible) {\n                Sliding.grow(childrenComp);\n              } else {\n                Sliding.shrink(childrenComp);\n              }\n              Replacing.set(childrenComp, newChildren);\n            }\n          })])\n      };\n    };\n    const renderTree = (spec, backstage) => {\n      const onLeafAction = spec.onLeafAction.getOr(noop);\n      const treeId = generate$6('tree-id');\n      const children = spec.items.map(item => {\n        return item.type === 'leaf' ? renderLeafLabel({\n          leaf: item,\n          onLeafAction,\n          visible: true,\n          treeId,\n          backstage\n        }) : renderDirectory({\n          directory: item,\n          onLeafAction,\n          labelTabstopping: true,\n          treeId,\n          backstage\n        });\n      });\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-tree'],\n          attributes: { role: 'tree' }\n        },\n        components: children,\n        behaviours: derive$1([Keying.config({\n            mode: 'flow',\n            selector: '.tox-tree--leaf__label--visible, .tox-tree--directory__label--visible',\n            cycles: false\n          })])\n      };\n    };\n\n    const events$5 = (streamConfig, streamState) => {\n      const streams = streamConfig.stream.streams;\n      const processor = streams.setup(streamConfig, streamState);\n      return derive$2([\n        run$1(streamConfig.event, processor),\n        runOnDetached(() => streamState.cancel())\n      ].concat(streamConfig.cancelEvent.map(e => [run$1(e, () => streamState.cancel())]).getOr([])));\n    };\n\n    var ActiveStreaming = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$5\n    });\n\n    const first = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        if (isNull(timer)) {\n          timer = setTimeout(() => {\n            timer = null;\n            fn.apply(null, args);\n          }, rate);\n        }\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n    const last = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        cancel();\n        timer = setTimeout(() => {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n\n    const throttle = _config => {\n      const state = Cell(null);\n      const readState = () => ({ timer: state.get() !== null ? 'set' : 'unset' });\n      const setTimer = t => {\n        state.set(t);\n      };\n      const cancel = () => {\n        const t = state.get();\n        if (t !== null) {\n          t.cancel();\n        }\n      };\n      return nu$8({\n        readState,\n        setTimer,\n        cancel\n      });\n    };\n    const init$8 = spec => spec.stream.streams.state(spec);\n\n    var StreamingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        throttle: throttle,\n        init: init$8\n    });\n\n    const setup$c = (streamInfo, streamState) => {\n      const sInfo = streamInfo.stream;\n      const throttler = last(streamInfo.onStream, sInfo.delay);\n      streamState.setTimer(throttler);\n      return (component, simulatedEvent) => {\n        throttler.throttle(component, simulatedEvent);\n        if (sInfo.stopEvent) {\n          simulatedEvent.stop();\n        }\n      };\n    };\n    var StreamingSchema = [\n      requiredOf('stream', choose$1('mode', {\n        throttle: [\n          required$1('delay'),\n          defaulted('stopEvent', true),\n          output$1('streams', {\n            setup: setup$c,\n            state: throttle\n          })\n        ]\n      })),\n      defaulted('event', 'input'),\n      option$3('cancelEvent'),\n      onStrictHandler('onStream')\n    ];\n\n    const Streaming = create$4({\n      fields: StreamingSchema,\n      name: 'streaming',\n      active: ActiveStreaming,\n      state: StreamingState\n    });\n\n    const setValueFromItem = (model, input, item) => {\n      const itemData = Representing.getValue(item);\n      Representing.setValue(input, itemData);\n      setCursorAtEnd(input);\n    };\n    const setSelectionOn = (input, f) => {\n      const el = input.element;\n      const value = get$6(el);\n      const node = el.dom;\n      if (get$f(el, 'type') !== 'number') {\n        f(node, value);\n      }\n    };\n    const setCursorAtEnd = input => {\n      setSelectionOn(input, (node, value) => node.setSelectionRange(value.length, value.length));\n    };\n    const setSelectionToEnd = (input, startOffset) => {\n      setSelectionOn(input, (node, value) => node.setSelectionRange(startOffset, value.length));\n    };\n    const attemptSelectOver = (model, input, item) => {\n      if (!model.selectsOver) {\n        return Optional.none();\n      } else {\n        const currentValue = Representing.getValue(input);\n        const inputDisplay = model.getDisplayText(currentValue);\n        const itemValue = Representing.getValue(item);\n        const itemDisplay = model.getDisplayText(itemValue);\n        return itemDisplay.indexOf(inputDisplay) === 0 ? Optional.some(() => {\n          setValueFromItem(model, input, item);\n          setSelectionToEnd(input, inputDisplay.length);\n        }) : Optional.none();\n      }\n    };\n\n    const itemExecute = constant$1('alloy.typeahead.itemexecute');\n\n    const make$3 = (detail, components, spec, externals) => {\n      const navigateList = (comp, simulatedEvent, highlighter) => {\n        detail.previewing.set(false);\n        const sandbox = Coupling.getCoupled(comp, 'sandbox');\n        if (Sandboxing.isOpen(sandbox)) {\n          Composing.getCurrent(sandbox).each(menu => {\n            Highlighting.getHighlighted(menu).fold(() => {\n              highlighter(menu);\n            }, () => {\n              dispatchEvent(sandbox, menu.element, 'keydown', simulatedEvent);\n            });\n          });\n        } else {\n          const onOpenSync = sandbox => {\n            Composing.getCurrent(sandbox).each(highlighter);\n          };\n          open(detail, mapFetch(comp), comp, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n        }\n      };\n      const focusBehaviours$1 = focusBehaviours(detail);\n      const mapFetch = comp => tdata => tdata.map(data => {\n        const menus = values(data.menus);\n        const items = bind$3(menus, menu => filter$2(menu.items, item => item.type === 'item'));\n        const repState = Representing.getState(comp);\n        repState.update(map$2(items, item => item.data));\n        return data;\n      });\n      const getActiveMenu = sandboxComp => Composing.getCurrent(sandboxComp);\n      const typeaheadCustomEvents = 'typeaheadevents';\n      const behaviours = [\n        Focusing.config({}),\n        Representing.config({\n          onSetValue: detail.onSetValue,\n          store: {\n            mode: 'dataset',\n            getDataKey: comp => get$6(comp.element),\n            getFallbackEntry: itemString => ({\n              value: itemString,\n              meta: {}\n            }),\n            setValue: (comp, data) => {\n              set$5(comp.element, detail.model.getDisplayText(data));\n            },\n            ...detail.initialData.map(d => wrap$1('initialValue', d)).getOr({})\n          }\n        }),\n        Streaming.config({\n          stream: {\n            mode: 'throttle',\n            delay: detail.responseTime,\n            stopEvent: false\n          },\n          onStream: (component, _simulatedEvent) => {\n            const sandbox = Coupling.getCoupled(component, 'sandbox');\n            const focusInInput = Focusing.isFocused(component);\n            if (focusInInput) {\n              if (get$6(component.element).length >= detail.minChars) {\n                const previousValue = getActiveMenu(sandbox).bind(activeMenu => Highlighting.getHighlighted(activeMenu).map(Representing.getValue));\n                detail.previewing.set(true);\n                const onOpenSync = _sandbox => {\n                  getActiveMenu(sandbox).each(activeMenu => {\n                    previousValue.fold(() => {\n                      if (detail.model.selectsOver) {\n                        Highlighting.highlightFirst(activeMenu);\n                      }\n                    }, pv => {\n                      Highlighting.highlightBy(activeMenu, item => {\n                        const itemData = Representing.getValue(item);\n                        return itemData.value === pv.value;\n                      });\n                      Highlighting.getHighlighted(activeMenu).orThunk(() => {\n                        Highlighting.highlightFirst(activeMenu);\n                        return Optional.none();\n                      });\n                    });\n                  });\n                };\n                open(detail, mapFetch(component), component, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightJustMenu).get(noop);\n              }\n            }\n          },\n          cancelEvent: typeaheadCancel()\n        }),\n        Keying.config({\n          mode: 'special',\n          onDown: (comp, simulatedEvent) => {\n            navigateList(comp, simulatedEvent, Highlighting.highlightFirst);\n            return Optional.some(true);\n          },\n          onEscape: comp => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            if (Sandboxing.isOpen(sandbox)) {\n              Sandboxing.close(sandbox);\n              return Optional.some(true);\n            }\n            return Optional.none();\n          },\n          onUp: (comp, simulatedEvent) => {\n            navigateList(comp, simulatedEvent, Highlighting.highlightLast);\n            return Optional.some(true);\n          },\n          onEnter: comp => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            const sandboxIsOpen = Sandboxing.isOpen(sandbox);\n            if (sandboxIsOpen && !detail.previewing.get()) {\n              return getActiveMenu(sandbox).bind(activeMenu => Highlighting.getHighlighted(activeMenu)).map(item => {\n                emitWith(comp, itemExecute(), { item });\n                return true;\n              });\n            } else {\n              const currentValue = Representing.getValue(comp);\n              emit(comp, typeaheadCancel());\n              detail.onExecute(sandbox, comp, currentValue);\n              if (sandboxIsOpen) {\n                Sandboxing.close(sandbox);\n              }\n              return Optional.some(true);\n            }\n          }\n        }),\n        Toggling.config({\n          toggleClass: detail.markers.openClass,\n          aria: { mode: 'expanded' }\n        }),\n        Coupling.config({\n          others: {\n            sandbox: hotspot => {\n              return makeSandbox$1(detail, hotspot, {\n                onOpen: () => Toggling.on(hotspot),\n                onClose: () => Toggling.off(hotspot)\n              });\n            }\n          }\n        }),\n        config(typeaheadCustomEvents, [\n          runOnAttached(typeaheadComp => {\n            detail.lazyTypeaheadComp.set(Optional.some(typeaheadComp));\n          }),\n          runOnDetached(_typeaheadComp => {\n            detail.lazyTypeaheadComp.set(Optional.none());\n          }),\n          runOnExecute$1(comp => {\n            const onOpenSync = noop;\n            togglePopup(detail, mapFetch(comp), comp, externals, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n          }),\n          run$1(itemExecute(), (comp, se) => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            setValueFromItem(detail.model, comp, se.event.item);\n            emit(comp, typeaheadCancel());\n            detail.onItemExecute(comp, sandbox, se.event.item, Representing.getValue(comp));\n            Sandboxing.close(sandbox);\n            setCursorAtEnd(comp);\n          })\n        ].concat(detail.dismissOnBlur ? [run$1(postBlur(), typeahead => {\n            const sandbox = Coupling.getCoupled(typeahead, 'sandbox');\n            if (search(sandbox.element).isNone()) {\n              Sandboxing.close(sandbox);\n            }\n          })] : []))\n      ];\n      const eventOrder = {\n        [detachedFromDom()]: [\n          Representing.name(),\n          Streaming.name(),\n          typeaheadCustomEvents\n        ],\n        ...detail.eventOrder\n      };\n      return {\n        uid: detail.uid,\n        dom: dom(deepMerge(detail, {\n          inputAttributes: {\n            'role': 'combobox',\n            'aria-autocomplete': 'list',\n            'aria-haspopup': 'true'\n          }\n        })),\n        behaviours: {\n          ...focusBehaviours$1,\n          ...augment(detail.typeaheadBehaviours, behaviours)\n        },\n        eventOrder\n      };\n    };\n\n    const schema$g = constant$1([\n      option$3('lazySink'),\n      required$1('fetch'),\n      defaulted('minChars', 5),\n      defaulted('responseTime', 1000),\n      onHandler('onOpen'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      defaulted('layouts', Optional.none()),\n      defaulted('eventOrder', {}),\n      defaultedObjOf('model', {}, [\n        defaulted('getDisplayText', itemData => itemData.meta !== undefined && itemData.meta.text !== undefined ? itemData.meta.text : itemData.value),\n        defaulted('selectsOver', true),\n        defaulted('populateFromBrowse', true)\n      ]),\n      onHandler('onSetValue'),\n      onKeyboardHandler('onExecute'),\n      onHandler('onItemExecute'),\n      defaulted('inputClasses', []),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('matchWidth', true),\n      defaulted('useMinWidth', false),\n      defaulted('dismissOnBlur', true),\n      markers$1(['openClass']),\n      option$3('initialData'),\n      field('typeaheadBehaviours', [\n        Focusing,\n        Representing,\n        Streaming,\n        Keying,\n        Toggling,\n        Coupling\n      ]),\n      customField('lazyTypeaheadComp', () => Cell(Optional.none)),\n      customField('previewing', () => Cell(true))\n    ].concat(schema$l()).concat(sandboxFields()));\n    const parts$b = constant$1([external({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        overrides: detail => {\n          return {\n            fakeFocus: true,\n            onHighlightItem: (_tmenu, menu, item) => {\n              if (!detail.previewing.get()) {\n                detail.lazyTypeaheadComp.get().each(input => {\n                  if (detail.model.populateFromBrowse) {\n                    setValueFromItem(detail.model, input, item);\n                  }\n                });\n              } else {\n                detail.lazyTypeaheadComp.get().each(input => {\n                  attemptSelectOver(detail.model, input, item).fold(() => {\n                    if (detail.model.selectsOver) {\n                      Highlighting.dehighlight(menu, item);\n                      detail.previewing.set(true);\n                    } else {\n                      detail.previewing.set(false);\n                    }\n                  }, selectOverTextInInput => {\n                    selectOverTextInInput();\n                    detail.previewing.set(false);\n                  });\n                });\n              }\n            },\n            onExecute: (_menu, item) => {\n              return detail.lazyTypeaheadComp.get().map(typeahead => {\n                emitWith(typeahead, itemExecute(), { item });\n                return true;\n              });\n            },\n            onHover: (menu, item) => {\n              detail.previewing.set(false);\n              detail.lazyTypeaheadComp.get().each(input => {\n                if (detail.model.populateFromBrowse) {\n                  setValueFromItem(detail.model, input, item);\n                }\n              });\n            }\n          };\n        }\n      })]);\n\n    const Typeahead = composite({\n      name: 'Typeahead',\n      configFields: schema$g(),\n      partFields: parts$b(),\n      factory: make$3\n    });\n\n    const wrap = delegate => {\n      const toCached = () => {\n        return wrap(delegate.toCached());\n      };\n      const bindFuture = f => {\n        return wrap(delegate.bind(resA => resA.fold(err => Future.pure(Result.error(err)), a => f(a))));\n      };\n      const bindResult = f => {\n        return wrap(delegate.map(resA => resA.bind(f)));\n      };\n      const mapResult = f => {\n        return wrap(delegate.map(resA => resA.map(f)));\n      };\n      const mapError = f => {\n        return wrap(delegate.map(resA => resA.mapError(f)));\n      };\n      const foldResult = (whenError, whenValue) => {\n        return delegate.map(res => res.fold(whenError, whenValue));\n      };\n      const withTimeout = (timeout, errorThunk) => {\n        return wrap(Future.nu(callback => {\n          let timedOut = false;\n          const timer = setTimeout(() => {\n            timedOut = true;\n            callback(Result.error(errorThunk()));\n          }, timeout);\n          delegate.get(result => {\n            if (!timedOut) {\n              clearTimeout(timer);\n              callback(result);\n            }\n          });\n        }));\n      };\n      return {\n        ...delegate,\n        toCached,\n        bindFuture,\n        bindResult,\n        mapResult,\n        mapError,\n        foldResult,\n        withTimeout\n      };\n    };\n    const nu$1 = worker => {\n      return wrap(Future.nu(worker));\n    };\n    const value = value => {\n      return wrap(Future.pure(Result.value(value)));\n    };\n    const error = error => {\n      return wrap(Future.pure(Result.error(error)));\n    };\n    const fromResult = result => {\n      return wrap(Future.pure(result));\n    };\n    const fromFuture = future => {\n      return wrap(future.map(Result.value));\n    };\n    const fromPromise = promise => {\n      return nu$1(completer => {\n        promise.then(value => {\n          completer(Result.value(value));\n        }, error => {\n          completer(Result.error(error));\n        });\n      });\n    };\n    const FutureResult = {\n      nu: nu$1,\n      wrap,\n      pure: value,\n      value,\n      error,\n      fromResult,\n      fromFuture,\n      fromPromise\n    };\n\n    const renderCommonSpec = (spec, actionOpt, extraBehaviours = [], dom, components, providersBackstage) => {\n      const action = actionOpt.fold(() => ({}), action => ({ action }));\n      const common = {\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(() => !spec.enabled || providersBackstage.isDisabled()),\n          receivingConfig(),\n          Tabstopping.config({}),\n          config('button press', [\n            preventDefault('click'),\n            preventDefault('mousedown')\n          ])\n        ].concat(extraBehaviours)),\n        eventOrder: {\n          click: [\n            'button press',\n            'alloy.base.behaviour'\n          ],\n          mousedown: [\n            'button press',\n            'alloy.base.behaviour'\n          ]\n        },\n        ...action\n      };\n      const domFinal = deepMerge(common, { dom });\n      return deepMerge(domFinal, { components });\n    };\n    const renderIconButtonSpec = (spec, action, providersBackstage, extraBehaviours = []) => {\n      const tooltipAttributes = spec.tooltip.map(tooltip => ({\n        'aria-label': providersBackstage.translate(tooltip),\n        'title': providersBackstage.translate(tooltip)\n      })).getOr({});\n      const dom = {\n        tag: 'button',\n        classes: ['tox-tbtn'],\n        attributes: tooltipAttributes\n      };\n      const icon = spec.icon.map(iconName => renderIconFromPack$1(iconName, providersBackstage.icons));\n      const components = componentRenderPipeline([icon]);\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    const calculateClassesFromButtonType = buttonType => {\n      switch (buttonType) {\n      case 'primary':\n        return ['tox-button'];\n      case 'toolbar':\n        return ['tox-tbtn'];\n      case 'secondary':\n      default:\n        return [\n          'tox-button',\n          'tox-button--secondary'\n        ];\n      }\n    };\n    const renderButtonSpec = (spec, action, providersBackstage, extraBehaviours = [], extraClasses = []) => {\n      const translatedText = providersBackstage.translate(spec.text);\n      const icon = spec.icon.map(iconName => renderIconFromPack$1(iconName, providersBackstage.icons));\n      const components = [icon.getOrThunk(() => text$2(translatedText))];\n      const buttonType = spec.buttonType.getOr(!spec.primary && !spec.borderless ? 'secondary' : 'primary');\n      const baseClasses = calculateClassesFromButtonType(buttonType);\n      const classes = [\n        ...baseClasses,\n        ...icon.isSome() ? ['tox-button--icon'] : [],\n        ...spec.borderless ? ['tox-button--naked'] : [],\n        ...extraClasses\n      ];\n      const dom = {\n        tag: 'button',\n        classes,\n        attributes: { title: translatedText }\n      };\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    const renderButton$1 = (spec, action, providersBackstage, extraBehaviours = [], extraClasses = []) => {\n      const buttonSpec = renderButtonSpec(spec, Optional.some(action), providersBackstage, extraBehaviours, extraClasses);\n      return Button.sketch(buttonSpec);\n    };\n    const getAction = (name, buttonType) => comp => {\n      if (buttonType === 'custom') {\n        emitWith(comp, formActionEvent, {\n          name,\n          value: {}\n        });\n      } else if (buttonType === 'submit') {\n        emit(comp, formSubmitEvent);\n      } else if (buttonType === 'cancel') {\n        emit(comp, formCancelEvent);\n      } else {\n        console.error('Unknown button type: ', buttonType);\n      }\n    };\n    const isMenuFooterButtonSpec = (spec, buttonType) => buttonType === 'menu';\n    const isNormalFooterButtonSpec = (spec, buttonType) => buttonType === 'custom' || buttonType === 'cancel' || buttonType === 'submit';\n    const isToggleButtonSpec = (spec, buttonType) => buttonType === 'togglebutton';\n    const renderToggleButton = (spec, providers) => {\n      var _a, _b, _c;\n      const optMemIcon = Optional.from(spec.icon).map(memIcon => renderReplaceableIconFromPack(memIcon, providers.icons)).map(record);\n      const action = comp => {\n        emitWith(comp, formActionEvent, {\n          name: spec.name,\n          value: {\n            setIcon: newIcon => {\n              optMemIcon.map(memIcon => memIcon.getOpt(comp).each(displayIcon => {\n                Replacing.set(displayIcon, [renderReplaceableIconFromPack(newIcon, providers.icons)]);\n              }));\n            }\n          }\n        });\n      };\n      const buttonSpec = {\n        ...spec,\n        name: (_a = spec.name) !== null && _a !== void 0 ? _a : '',\n        primary: spec.buttonType === 'primary',\n        buttonType: Optional.from(spec.buttonType),\n        tooltip: Optional.from(spec.tooltip),\n        icon: Optional.from(spec.name),\n        enabled: (_b = spec.enabled) !== null && _b !== void 0 ? _b : false,\n        borderless: false\n      };\n      const tooltipAttributes = buttonSpec.tooltip.map(tooltip => ({\n        'aria-label': providers.translate(tooltip),\n        'title': providers.translate(tooltip)\n      })).getOr({});\n      const buttonTypeClasses = calculateClassesFromButtonType((_c = spec.buttonType) !== null && _c !== void 0 ? _c : 'secondary');\n      const showIconAndText = !!spec.icon && !!spec.text;\n      const dom = {\n        tag: 'button',\n        classes: [\n          ...buttonTypeClasses.concat(['tox-button--icon']),\n          ...spec.active ? ['tox-button--enabled'] : [],\n          ...showIconAndText ? ['tox-button--icon-and-text'] : []\n        ],\n        attributes: tooltipAttributes\n      };\n      const extraBehaviours = [];\n      const translatedText = providers.translate(spec.text);\n      const translatedTextComponed = text$2(translatedText);\n      const iconComp = componentRenderPipeline([optMemIcon.map(memIcon => memIcon.asSpec())]);\n      const components = [\n        ...iconComp,\n        ...showIconAndText ? [translatedTextComponed] : []\n      ];\n      const iconButtonSpec = renderCommonSpec(buttonSpec, Optional.some(action), extraBehaviours, dom, components, providers);\n      return Button.sketch(iconButtonSpec);\n    };\n    const renderFooterButton = (spec, buttonType, backstage) => {\n      if (isMenuFooterButtonSpec(spec, buttonType)) {\n        const getButton = () => memButton;\n        const menuButtonSpec = spec;\n        const fixedSpec = {\n          ...spec,\n          type: 'menubutton',\n          search: Optional.none(),\n          onSetup: api => {\n            api.setEnabled(spec.enabled);\n            return noop;\n          },\n          fetch: getFetch(menuButtonSpec.items, getButton, backstage)\n        };\n        const memButton = record(renderMenuButton(fixedSpec, 'tox-tbtn', backstage, Optional.none()));\n        return memButton.asSpec();\n      } else if (isNormalFooterButtonSpec(spec, buttonType)) {\n        const action = getAction(spec.name, buttonType);\n        const buttonSpec = {\n          ...spec,\n          borderless: false\n        };\n        return renderButton$1(buttonSpec, action, backstage.shared.providers, []);\n      } else if (isToggleButtonSpec(spec, buttonType)) {\n        const buttonSpec = {\n          ...spec,\n          tooltip: spec.tooltip,\n          text: spec.text.getOrUndefined(),\n          buttonType: spec.buttonType.getOrUndefined()\n        };\n        return renderToggleButton(buttonSpec, backstage.shared.providers);\n      } else {\n        console.error('Unknown footer button type: ', buttonType);\n        throw new Error('Unknown footer button type');\n      }\n    };\n    const renderDialogButton = (spec, providersBackstage) => {\n      const action = getAction(spec.name, 'custom');\n      return renderFormField(Optional.none(), FormField.parts.field({\n        factory: Button,\n        ...renderButtonSpec(spec, Optional.some(action), providersBackstage, [\n          RepresentingConfigs.memory(''),\n          ComposingConfigs.self()\n        ])\n      }));\n    };\n\n    const separator$1 = { type: 'separator' };\n    const toMenuItem = target => ({\n      type: 'menuitem',\n      value: target.url,\n      text: target.title,\n      meta: { attach: target.attach },\n      onAction: noop\n    });\n    const staticMenuItem = (title, url) => ({\n      type: 'menuitem',\n      value: url,\n      text: title,\n      meta: { attach: undefined },\n      onAction: noop\n    });\n    const toMenuItems = targets => map$2(targets, toMenuItem);\n    const filterLinkTargets = (type, targets) => filter$2(targets, target => target.type === type);\n    const filteredTargets = (type, targets) => toMenuItems(filterLinkTargets(type, targets));\n    const headerTargets = linkInfo => filteredTargets('header', linkInfo.targets);\n    const anchorTargets = linkInfo => filteredTargets('anchor', linkInfo.targets);\n    const anchorTargetTop = linkInfo => Optional.from(linkInfo.anchorTop).map(url => staticMenuItem('<top>', url)).toArray();\n    const anchorTargetBottom = linkInfo => Optional.from(linkInfo.anchorBottom).map(url => staticMenuItem('<bottom>', url)).toArray();\n    const historyTargets = history => map$2(history, url => staticMenuItem(url, url));\n    const joinMenuLists = items => {\n      return foldl(items, (a, b) => {\n        const bothEmpty = a.length === 0 || b.length === 0;\n        return bothEmpty ? a.concat(b) : a.concat(separator$1, b);\n      }, []);\n    };\n    const filterByQuery = (term, menuItems) => {\n      const lowerCaseTerm = term.toLowerCase();\n      return filter$2(menuItems, item => {\n        var _a;\n        const text = item.meta !== undefined && item.meta.text !== undefined ? item.meta.text : item.text;\n        const value = (_a = item.value) !== null && _a !== void 0 ? _a : '';\n        return contains$1(text.toLowerCase(), lowerCaseTerm) || contains$1(value.toLowerCase(), lowerCaseTerm);\n      });\n    };\n\n    const getItems = (fileType, input, urlBackstage) => {\n      const urlInputValue = Representing.getValue(input);\n      const term = urlInputValue.meta.text !== undefined ? urlInputValue.meta.text : urlInputValue.value;\n      const info = urlBackstage.getLinkInformation();\n      return info.fold(() => [], linkInfo => {\n        const history = filterByQuery(term, historyTargets(urlBackstage.getHistory(fileType)));\n        return fileType === 'file' ? joinMenuLists([\n          history,\n          filterByQuery(term, headerTargets(linkInfo)),\n          filterByQuery(term, flatten([\n            anchorTargetTop(linkInfo),\n            anchorTargets(linkInfo),\n            anchorTargetBottom(linkInfo)\n          ]))\n        ]) : history;\n      });\n    };\n    const errorId = generate$6('aria-invalid');\n    const renderUrlInput = (spec, backstage, urlBackstage, initialData) => {\n      const providersBackstage = backstage.shared.providers;\n      const updateHistory = component => {\n        const urlEntry = Representing.getValue(component);\n        urlBackstage.addToHistory(urlEntry.value, spec.filetype);\n      };\n      const typeaheadSpec = {\n        ...initialData.map(initialData => ({ initialData })).getOr({}),\n        dismissOnBlur: true,\n        inputClasses: ['tox-textfield'],\n        sandboxClasses: ['tox-dialog__popups'],\n        inputAttributes: {\n          'aria-errormessage': errorId,\n          'type': 'url'\n        },\n        minChars: 0,\n        responseTime: 0,\n        fetch: input => {\n          const items = getItems(spec.filetype, input, urlBackstage);\n          const tdata = build(items, ItemResponse$1.BUBBLE_TO_SANDBOX, backstage, {\n            isHorizontalMenu: false,\n            search: Optional.none()\n          });\n          return Future.pure(tdata);\n        },\n        getHotspot: comp => memUrlBox.getOpt(comp),\n        onSetValue: (comp, _newValue) => {\n          if (comp.hasConfigured(Invalidating)) {\n            Invalidating.run(comp).get(noop);\n          }\n        },\n        typeaheadBehaviours: derive$1([\n          ...urlBackstage.getValidationHandler().map(handler => Invalidating.config({\n            getRoot: comp => parentElement(comp.element),\n            invalidClass: 'tox-control-wrap--status-invalid',\n            notify: {\n              onInvalid: (comp, err) => {\n                memInvalidIcon.getOpt(comp).each(invalidComp => {\n                  set$9(invalidComp.element, 'title', providersBackstage.translate(err));\n                });\n              }\n            },\n            validator: {\n              validate: input => {\n                const urlEntry = Representing.getValue(input);\n                return FutureResult.nu(completer => {\n                  handler({\n                    type: spec.filetype,\n                    url: urlEntry.value\n                  }, validation => {\n                    if (validation.status === 'invalid') {\n                      const err = Result.error(validation.message);\n                      completer(err);\n                    } else {\n                      const val = Result.value(validation.message);\n                      completer(val);\n                    }\n                  });\n                });\n              },\n              validateOnLoad: false\n            }\n          })).toArray(),\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          Tabstopping.config({}),\n          config('urlinput-events', [\n            run$1(input(), comp => {\n              const currentValue = get$6(comp.element);\n              const trimmedValue = currentValue.trim();\n              if (trimmedValue !== currentValue) {\n                set$5(comp.element, trimmedValue);\n              }\n              if (spec.filetype === 'file') {\n                emitWith(comp, formChangeEvent, { name: spec.name });\n              }\n            }),\n            run$1(change(), comp => {\n              emitWith(comp, formChangeEvent, { name: spec.name });\n              updateHistory(comp);\n            }),\n            run$1(postPaste(), comp => {\n              emitWith(comp, formChangeEvent, { name: spec.name });\n              updateHistory(comp);\n            })\n          ])\n        ]),\n        eventOrder: {\n          [input()]: [\n            'streaming',\n            'urlinput-events',\n            'invalidating'\n          ]\n        },\n        model: {\n          getDisplayText: itemData => itemData.value,\n          selectsOver: false,\n          populateFromBrowse: false\n        },\n        markers: { openClass: 'tox-textfield--popup-open' },\n        lazySink: backstage.shared.getSink,\n        parts: { menu: part(false, 1, 'normal') },\n        onExecute: (_menu, component, _entry) => {\n          emitWith(component, formSubmitEvent, {});\n        },\n        onItemExecute: (typeahead, _sandbox, _item, _value) => {\n          updateHistory(typeahead);\n          emitWith(typeahead, formChangeEvent, { name: spec.name });\n        }\n      };\n      const pField = FormField.parts.field({\n        ...typeaheadSpec,\n        factory: Typeahead\n      });\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const makeIcon = (name, errId, icon = name, label = name) => render$3(icon, {\n        tag: 'div',\n        classes: [\n          'tox-icon',\n          'tox-control-wrap__status-icon-' + name\n        ],\n        attributes: {\n          'title': providersBackstage.translate(label),\n          'aria-live': 'polite',\n          ...errId.fold(() => ({}), id => ({ id }))\n        }\n      }, providersBackstage.icons);\n      const memInvalidIcon = record(makeIcon('invalid', Optional.some(errorId), 'warning'));\n      const memStatus = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap__status-icon-wrap']\n        },\n        components: [memInvalidIcon.asSpec()]\n      });\n      const optUrlPicker = urlBackstage.getUrlPicker(spec.filetype);\n      const browseUrlEvent = generate$6('browser.url.event');\n      const memUrlBox = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap']\n        },\n        components: [\n          pField,\n          memStatus.asSpec()\n        ],\n        behaviours: derive$1([Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() })])\n      });\n      const memUrlPickerButton = record(renderButton$1({\n        name: spec.name,\n        icon: Optional.some('browse'),\n        text: spec.label.getOr(''),\n        enabled: spec.enabled,\n        primary: false,\n        buttonType: Optional.none(),\n        borderless: true\n      }, component => emit(component, browseUrlEvent), providersBackstage, [], ['tox-browse-url']));\n      const controlHWrapper = () => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__controls-h-stack']\n        },\n        components: flatten([\n          [memUrlBox.asSpec()],\n          optUrlPicker.map(() => memUrlPickerButton.asSpec()).toArray()\n        ])\n      });\n      const openUrlPicker = comp => {\n        Composing.getCurrent(comp).each(field => {\n          const componentData = Representing.getValue(field);\n          const urlData = {\n            fieldname: spec.name,\n            ...componentData\n          };\n          optUrlPicker.each(picker => {\n            picker(urlData).get(chosenData => {\n              Representing.setValue(field, chosenData);\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            });\n          });\n        });\n      };\n      return FormField.sketch({\n        dom: renderFormFieldDom(),\n        components: pLabel.toArray().concat([controlHWrapper()]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('url-input-events', [run$1(browseUrlEvent, openUrlPicker)])\n        ])\n      });\n    };\n\n    const renderAlertBanner = (spec, providersBackstage) => Container.sketch({\n      dom: {\n        tag: 'div',\n        attributes: { role: 'alert' },\n        classes: [\n          'tox-notification',\n          'tox-notification--in',\n          `tox-notification--${ spec.level }`\n        ]\n      },\n      components: [\n        {\n          dom: {\n            tag: 'div',\n            classes: ['tox-notification__icon']\n          },\n          components: [Button.sketch({\n              dom: {\n                tag: 'button',\n                classes: [\n                  'tox-button',\n                  'tox-button--naked',\n                  'tox-button--icon'\n                ],\n                innerHtml: get$2(spec.icon, providersBackstage.icons),\n                attributes: { title: providersBackstage.translate(spec.iconTooltip) }\n              },\n              action: comp => {\n                emitWith(comp, formActionEvent, {\n                  name: 'alert-banner',\n                  value: spec.url\n                });\n              },\n              buttonBehaviours: derive$1([addFocusableBehaviour()])\n            })]\n        },\n        {\n          dom: {\n            tag: 'div',\n            classes: ['tox-notification__body'],\n            innerHtml: providersBackstage.translate(spec.text)\n          }\n        }\n      ]\n    });\n\n    const set$1 = (element, status) => {\n      element.dom.checked = status;\n    };\n    const get$1 = element => element.dom.checked;\n\n    const renderCheckbox = (spec, providerBackstage, initialData) => {\n      const toggleCheckboxHandler = comp => {\n        comp.element.dom.click();\n        return Optional.some(true);\n      };\n      const pField = FormField.parts.field({\n        factory: { sketch: identity },\n        dom: {\n          tag: 'input',\n          classes: ['tox-checkbox__input'],\n          attributes: { type: 'checkbox' }\n        },\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Disabling.config({ disabled: () => !spec.enabled || providerBackstage.isDisabled() }),\n          Tabstopping.config({}),\n          Focusing.config({}),\n          RepresentingConfigs.withElement(initialData, get$1, set$1),\n          Keying.config({\n            mode: 'special',\n            onEnter: toggleCheckboxHandler,\n            onSpace: toggleCheckboxHandler,\n            stopSpaceKeyup: true\n          }),\n          config('checkbox-events', [run$1(change(), (component, _) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      const pLabel = FormField.parts.label({\n        dom: {\n          tag: 'span',\n          classes: ['tox-checkbox__label']\n        },\n        components: [text$2(providerBackstage.translate(spec.label))],\n        behaviours: derive$1([Unselecting.config({})])\n      });\n      const makeIcon = className => {\n        const iconName = className === 'checked' ? 'selected' : 'unselected';\n        return render$3(iconName, {\n          tag: 'span',\n          classes: [\n            'tox-icon',\n            'tox-checkbox-icon__' + className\n          ]\n        }, providerBackstage.icons);\n      };\n      const memIcons = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-checkbox__icons']\n        },\n        components: [\n          makeIcon('checked'),\n          makeIcon('unchecked')\n        ]\n      });\n      return FormField.sketch({\n        dom: {\n          tag: 'label',\n          classes: ['tox-checkbox']\n        },\n        components: [\n          pField,\n          memIcons.asSpec(),\n          pLabel\n        ],\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providerBackstage.isDisabled(),\n            disableClass: 'tox-checkbox--disabled',\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    const renderHtmlPanel = spec => {\n      if (spec.presets === 'presentation') {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html\n          }\n        });\n      } else {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html,\n            attributes: { role: 'document' }\n          },\n          containerBehaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({})\n          ])\n        });\n      }\n    };\n\n    const make$2 = render => {\n      return (parts, spec, dialogData, backstage) => get$g(spec, 'name').fold(() => render(spec, backstage, Optional.none()), fieldName => parts.field(fieldName, render(spec, backstage, get$g(dialogData, fieldName))));\n    };\n    const makeIframe = render => (parts, spec, dialogData, backstage) => {\n      const iframeSpec = deepMerge(spec, { source: 'dynamic' });\n      return make$2(render)(parts, iframeSpec, dialogData, backstage);\n    };\n    const factories = {\n      bar: make$2((spec, backstage) => renderBar(spec, backstage.shared)),\n      collection: make$2((spec, backstage, data) => renderCollection(spec, backstage.shared.providers, data)),\n      alertbanner: make$2((spec, backstage) => renderAlertBanner(spec, backstage.shared.providers)),\n      input: make$2((spec, backstage, data) => renderInput(spec, backstage.shared.providers, data)),\n      textarea: make$2((spec, backstage, data) => renderTextarea(spec, backstage.shared.providers, data)),\n      label: make$2((spec, backstage) => renderLabel$2(spec, backstage.shared)),\n      iframe: makeIframe((spec, backstage, data) => renderIFrame(spec, backstage.shared.providers, data)),\n      button: make$2((spec, backstage) => renderDialogButton(spec, backstage.shared.providers)),\n      checkbox: make$2((spec, backstage, data) => renderCheckbox(spec, backstage.shared.providers, data)),\n      colorinput: make$2((spec, backstage, data) => renderColorInput(spec, backstage.shared, backstage.colorinput, data)),\n      colorpicker: make$2((spec, backstage, data) => renderColorPicker(spec, backstage.shared.providers, data)),\n      dropzone: make$2((spec, backstage, data) => renderDropZone(spec, backstage.shared.providers, data)),\n      grid: make$2((spec, backstage) => renderGrid(spec, backstage.shared)),\n      listbox: make$2((spec, backstage, data) => renderListBox(spec, backstage, data)),\n      selectbox: make$2((spec, backstage, data) => renderSelectBox(spec, backstage.shared.providers, data)),\n      sizeinput: make$2((spec, backstage) => renderSizeInput(spec, backstage.shared.providers)),\n      slider: make$2((spec, backstage, data) => renderSlider(spec, backstage.shared.providers, data)),\n      urlinput: make$2((spec, backstage, data) => renderUrlInput(spec, backstage, backstage.urlinput, data)),\n      customeditor: make$2(renderCustomEditor),\n      htmlpanel: make$2(renderHtmlPanel),\n      imagepreview: make$2((spec, _, data) => renderImagePreview(spec, data)),\n      table: make$2((spec, backstage) => renderTable(spec, backstage.shared.providers)),\n      tree: make$2((spec, backstage) => renderTree(spec, backstage)),\n      panel: make$2((spec, backstage) => renderPanel(spec, backstage))\n    };\n    const noFormParts = {\n      field: (_name, spec) => spec,\n      record: constant$1([])\n    };\n    const interpretInForm = (parts, spec, dialogData, oldBackstage) => {\n      const newBackstage = deepMerge(oldBackstage, { shared: { interpreter: childSpec => interpretParts(parts, childSpec, dialogData, newBackstage) } });\n      return interpretParts(parts, spec, dialogData, newBackstage);\n    };\n    const interpretParts = (parts, spec, dialogData, backstage) => get$g(factories, spec.type).fold(() => {\n      console.error(`Unknown factory type \"${ spec.type }\", defaulting to container: `, spec);\n      return spec;\n    }, factory => factory(parts, spec, dialogData, backstage));\n    const interpretWithoutForm = (spec, dialogData, backstage) => interpretParts(noFormParts, spec, dialogData, backstage);\n\n    const labelPrefix = 'layout-inset';\n    const westEdgeX = anchor => anchor.x;\n    const middleX = (anchor, element) => anchor.x + anchor.width / 2 - element.width / 2;\n    const eastEdgeX = (anchor, element) => anchor.x + anchor.width - element.width;\n    const northY = anchor => anchor.y;\n    const southY = (anchor, element) => anchor.y + anchor.height - element.height;\n    const centreY = (anchor, element) => anchor.y + anchor.height / 2 - element.height / 2;\n    const southwest = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), southY(anchor, element), bubbles.insetSouthwest(), northwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 0,\n      bottom: 3\n    }), labelPrefix);\n    const southeast = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), southY(anchor, element), bubbles.insetSoutheast(), northeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 1,\n      bottom: 3\n    }), labelPrefix);\n    const northwest = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), northY(anchor), bubbles.insetNorthwest(), southwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 0,\n      top: 2\n    }), labelPrefix);\n    const northeast = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), northY(anchor), bubbles.insetNortheast(), southeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 1,\n      top: 2\n    }), labelPrefix);\n    const north = (anchor, element, bubbles) => nu$6(middleX(anchor, element), northY(anchor), bubbles.insetNorth(), south$3(), 'north', boundsRestriction(anchor, { top: 2 }), labelPrefix);\n    const south = (anchor, element, bubbles) => nu$6(middleX(anchor, element), southY(anchor, element), bubbles.insetSouth(), north$3(), 'south', boundsRestriction(anchor, { bottom: 3 }), labelPrefix);\n    const east = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), centreY(anchor, element), bubbles.insetEast(), west$3(), 'east', boundsRestriction(anchor, { right: 0 }), labelPrefix);\n    const west = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), centreY(anchor, element), bubbles.insetWest(), east$3(), 'west', boundsRestriction(anchor, { left: 1 }), labelPrefix);\n    const lookupPreserveLayout = lastPlacement => {\n      switch (lastPlacement) {\n      case 'north':\n        return north;\n      case 'northeast':\n        return northeast;\n      case 'northwest':\n        return northwest;\n      case 'south':\n        return south;\n      case 'southeast':\n        return southeast;\n      case 'southwest':\n        return southwest;\n      case 'east':\n        return east;\n      case 'west':\n        return west;\n      }\n    };\n    const preserve = (anchor, element, bubbles, placee, bounds) => {\n      const layout = getPlacement(placee).map(lookupPreserveLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n    const lookupFlippedLayout = lastPlacement => {\n      switch (lastPlacement) {\n      case 'north':\n        return south;\n      case 'northeast':\n        return southeast;\n      case 'northwest':\n        return southwest;\n      case 'south':\n        return north;\n      case 'southeast':\n        return northeast;\n      case 'southwest':\n        return northwest;\n      case 'east':\n        return west;\n      case 'west':\n        return east;\n      }\n    };\n    const flip = (anchor, element, bubbles, placee, bounds) => {\n      const layout = getPlacement(placee).map(lookupFlippedLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n\n    const bubbleAlignments$2 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: [],\n      alignRight: [],\n      right: [],\n      left: [],\n      bottom: [],\n      top: []\n    };\n    const getInlineDialogAnchor = (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) => {\n      const bubbleSize = 12;\n      const overrides = { maxHeightFunction: expandable$1() };\n      const editableAreaAnchor = () => ({\n        type: 'node',\n        root: getContentContainer(getRootNode(contentAreaElement())),\n        node: Optional.from(contentAreaElement()),\n        bubble: nu$5(bubbleSize, bubbleSize, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [northeast],\n          onLtr: () => [northwest]\n        },\n        overrides\n      });\n      const standardAnchor = () => ({\n        type: 'hotspot',\n        hotspot: lazyAnchorbar(),\n        bubble: nu$5(-bubbleSize, bubbleSize, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [\n            southeast$2,\n            southwest$2,\n            south$2\n          ],\n          onLtr: () => [\n            southwest$2,\n            southeast$2,\n            south$2\n          ]\n        },\n        overrides\n      });\n      return () => lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n    };\n    const getBannerAnchor = (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) => {\n      const editableAreaAnchor = () => ({\n        type: 'node',\n        root: getContentContainer(getRootNode(contentAreaElement())),\n        node: Optional.from(contentAreaElement()),\n        layouts: {\n          onRtl: () => [north],\n          onLtr: () => [north]\n        }\n      });\n      const standardAnchor = () => ({\n        type: 'hotspot',\n        hotspot: lazyAnchorbar(),\n        layouts: {\n          onRtl: () => [south$2],\n          onLtr: () => [south$2]\n        }\n      });\n      return () => lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n    };\n    const getCursorAnchor = (editor, bodyElement) => () => ({\n      type: 'selection',\n      root: bodyElement(),\n      getSelection: () => {\n        const rng = editor.selection.getRng();\n        return Optional.some(SimSelection.range(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n      }\n    });\n    const getNodeAnchor$1 = bodyElement => element => ({\n      type: 'node',\n      root: bodyElement(),\n      node: element\n    });\n    const getAnchors = (editor, lazyAnchorbar, isToolbarTop) => {\n      const useFixedToolbarContainer = useFixedContainer(editor);\n      const bodyElement = () => SugarElement.fromDom(editor.getBody());\n      const contentAreaElement = () => SugarElement.fromDom(editor.getContentAreaContainer());\n      const lazyUseEditableAreaAnchor = () => useFixedToolbarContainer || !isToolbarTop();\n      return {\n        inlineDialog: getInlineDialogAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        banner: getBannerAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        cursor: getCursorAnchor(editor, bodyElement),\n        node: getNodeAnchor$1(bodyElement)\n      };\n    };\n\n    const colorPicker = editor => (callback, value) => {\n      const dialog = colorPickerDialog(editor);\n      dialog(callback, value);\n    };\n    const hasCustomColors = editor => () => hasCustomColors$1(editor);\n    const getColors = editor => id => getColors$2(editor, id);\n    const getColorCols = editor => id => getColorCols$1(editor, id);\n    const ColorInputBackstage = editor => ({\n      colorPicker: colorPicker(editor),\n      hasCustomColors: hasCustomColors(editor),\n      getColors: getColors(editor),\n      getColorCols: getColorCols(editor)\n    });\n\n    const isDraggableModal = editor => () => isDraggableModal$1(editor);\n    const DialogBackstage = editor => ({ isDraggableModal: isDraggableModal(editor) });\n\n    const HeaderBackstage = editor => {\n      const mode = Cell(isToolbarLocationBottom(editor) ? 'bottom' : 'top');\n      return {\n        isPositionedAtTop: () => mode.get() === 'top',\n        getDockingMode: mode.get,\n        setDockingMode: mode.set\n      };\n    };\n\n    const isNestedFormat = format => hasNonNullableKey(format, 'items');\n    const isFormatReference = format => hasNonNullableKey(format, 'format');\n    const defaultStyleFormats = [\n      {\n        title: 'Headings',\n        items: [\n          {\n            title: 'Heading 1',\n            format: 'h1'\n          },\n          {\n            title: 'Heading 2',\n            format: 'h2'\n          },\n          {\n            title: 'Heading 3',\n            format: 'h3'\n          },\n          {\n            title: 'Heading 4',\n            format: 'h4'\n          },\n          {\n            title: 'Heading 5',\n            format: 'h5'\n          },\n          {\n            title: 'Heading 6',\n            format: 'h6'\n          }\n        ]\n      },\n      {\n        title: 'Inline',\n        items: [\n          {\n            title: 'Bold',\n            format: 'bold'\n          },\n          {\n            title: 'Italic',\n            format: 'italic'\n          },\n          {\n            title: 'Underline',\n            format: 'underline'\n          },\n          {\n            title: 'Strikethrough',\n            format: 'strikethrough'\n          },\n          {\n            title: 'Superscript',\n            format: 'superscript'\n          },\n          {\n            title: 'Subscript',\n            format: 'subscript'\n          },\n          {\n            title: 'Code',\n            format: 'code'\n          }\n        ]\n      },\n      {\n        title: 'Blocks',\n        items: [\n          {\n            title: 'Paragraph',\n            format: 'p'\n          },\n          {\n            title: 'Blockquote',\n            format: 'blockquote'\n          },\n          {\n            title: 'Div',\n            format: 'div'\n          },\n          {\n            title: 'Pre',\n            format: 'pre'\n          }\n        ]\n      },\n      {\n        title: 'Align',\n        items: [\n          {\n            title: 'Left',\n            format: 'alignleft'\n          },\n          {\n            title: 'Center',\n            format: 'aligncenter'\n          },\n          {\n            title: 'Right',\n            format: 'alignright'\n          },\n          {\n            title: 'Justify',\n            format: 'alignjustify'\n          }\n        ]\n      }\n    ];\n    const isNestedFormats = format => has$2(format, 'items');\n    const isBlockFormat = format => has$2(format, 'block');\n    const isInlineFormat = format => has$2(format, 'inline');\n    const isSelectorFormat = format => has$2(format, 'selector');\n    const mapFormats = userFormats => foldl(userFormats, (acc, fmt) => {\n      if (isNestedFormats(fmt)) {\n        const result = mapFormats(fmt.items);\n        return {\n          customFormats: acc.customFormats.concat(result.customFormats),\n          formats: acc.formats.concat([{\n              title: fmt.title,\n              items: result.formats\n            }])\n        };\n      } else if (isInlineFormat(fmt) || isBlockFormat(fmt) || isSelectorFormat(fmt)) {\n        const formatName = isString(fmt.name) ? fmt.name : fmt.title.toLowerCase();\n        const formatNameWithPrefix = `custom-${ formatName }`;\n        return {\n          customFormats: acc.customFormats.concat([{\n              name: formatNameWithPrefix,\n              format: fmt\n            }]),\n          formats: acc.formats.concat([{\n              title: fmt.title,\n              format: formatNameWithPrefix,\n              icon: fmt.icon\n            }])\n        };\n      } else {\n        return {\n          ...acc,\n          formats: acc.formats.concat(fmt)\n        };\n      }\n    }, {\n      customFormats: [],\n      formats: []\n    });\n    const registerCustomFormats = (editor, userFormats) => {\n      const result = mapFormats(userFormats);\n      const registerFormats = customFormats => {\n        each$1(customFormats, fmt => {\n          if (!editor.formatter.has(fmt.name)) {\n            editor.formatter.register(fmt.name, fmt.format);\n          }\n        });\n      };\n      if (editor.formatter) {\n        registerFormats(result.customFormats);\n      } else {\n        editor.on('init', () => {\n          registerFormats(result.customFormats);\n        });\n      }\n      return result.formats;\n    };\n    const getStyleFormats = editor => getUserStyleFormats(editor).map(userFormats => {\n      const registeredUserFormats = registerCustomFormats(editor, userFormats);\n      return shouldMergeStyleFormats(editor) ? defaultStyleFormats.concat(registeredUserFormats) : registeredUserFormats;\n    }).getOr(defaultStyleFormats);\n\n    const isSeparator$1 = format => {\n      const keys$1 = keys(format);\n      return keys$1.length === 1 && contains$2(keys$1, 'title');\n    };\n    const processBasic = (item, isSelectedFor, getPreviewFor) => ({\n      ...item,\n      type: 'formatter',\n      isSelected: isSelectedFor(item.format),\n      getStylePreview: getPreviewFor(item.format)\n    });\n    const register$a = (editor, formats, isSelectedFor, getPreviewFor) => {\n      const enrichSupported = item => processBasic(item, isSelectedFor, getPreviewFor);\n      const enrichMenu = item => {\n        const newItems = doEnrich(item.items);\n        return {\n          ...item,\n          type: 'submenu',\n          getStyleItems: constant$1(newItems)\n        };\n      };\n      const enrichCustom = item => {\n        const formatName = isString(item.name) ? item.name : generate$6(item.title);\n        const formatNameWithPrefix = `custom-${ formatName }`;\n        const newItem = {\n          ...item,\n          type: 'formatter',\n          format: formatNameWithPrefix,\n          isSelected: isSelectedFor(formatNameWithPrefix),\n          getStylePreview: getPreviewFor(formatNameWithPrefix)\n        };\n        editor.formatter.register(formatName, newItem);\n        return newItem;\n      };\n      const doEnrich = items => map$2(items, item => {\n        if (isNestedFormat(item)) {\n          return enrichMenu(item);\n        } else if (isFormatReference(item)) {\n          return enrichSupported(item);\n        } else if (isSeparator$1(item)) {\n          return {\n            ...item,\n            type: 'separator'\n          };\n        } else {\n          return enrichCustom(item);\n        }\n      });\n      return doEnrich(formats);\n    };\n\n    const init$7 = editor => {\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        return fmt !== undefined ? Optional.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n        }) : Optional.none();\n      };\n      const settingsFormats = Cell([]);\n      const eventsFormats = Cell([]);\n      const replaceSettings = Cell(false);\n      editor.on('PreInit', _e => {\n        const formats = getStyleFormats(editor);\n        const enriched = register$a(editor, formats, isSelectedFor, getPreviewFor);\n        settingsFormats.set(enriched);\n      });\n      editor.on('addStyleModifications', e => {\n        const modifications = register$a(editor, e.items, isSelectedFor, getPreviewFor);\n        eventsFormats.set(modifications);\n        replaceSettings.set(e.replace);\n      });\n      const getData = () => {\n        const fromSettings = replaceSettings.get() ? [] : settingsFormats.get();\n        const fromEvents = eventsFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      return { getData };\n    };\n\n    const isElement = node => isNonNullable(node) && node.nodeType === 1;\n    const trim = global$1.trim;\n    const hasContentEditableState = value => {\n      return node => {\n        if (isElement(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    const isContentEditableTrue = hasContentEditableState('true');\n    const isContentEditableFalse = hasContentEditableState('false');\n    const create$1 = (type, title, url, level, attach) => ({\n      type,\n      title,\n      url,\n      level,\n      attach\n    });\n    const isChildOfContentEditableTrue = node => {\n      let tempNode = node;\n      while (tempNode = tempNode.parentNode) {\n        const value = tempNode.contentEditable;\n        if (value && value !== 'inherit') {\n          return isContentEditableTrue(tempNode);\n        }\n      }\n      return false;\n    };\n    const select = (selector, root) => {\n      return map$2(descendants(SugarElement.fromDom(root), selector), element => {\n        return element.dom;\n      });\n    };\n    const getElementText = elm => {\n      return elm.innerText || elm.textContent;\n    };\n    const getOrGenerateId = elm => {\n      return elm.id ? elm.id : generate$6('h');\n    };\n    const isAnchor = elm => {\n      return elm && elm.nodeName === 'A' && (elm.id || elm.name) !== undefined;\n    };\n    const isValidAnchor = elm => {\n      return isAnchor(elm) && isEditable(elm);\n    };\n    const isHeader = elm => {\n      return elm && /^(H[1-6])$/.test(elm.nodeName);\n    };\n    const isEditable = elm => {\n      return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);\n    };\n    const isValidHeader = elm => {\n      return isHeader(elm) && isEditable(elm);\n    };\n    const getLevel = elm => {\n      return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\n    };\n    const headerTarget = elm => {\n      var _a;\n      const headerId = getOrGenerateId(elm);\n      const attach = () => {\n        elm.id = headerId;\n      };\n      return create$1('header', (_a = getElementText(elm)) !== null && _a !== void 0 ? _a : '', '#' + headerId, getLevel(elm), attach);\n    };\n    const anchorTarget = elm => {\n      const anchorId = elm.id || elm.name;\n      const anchorText = getElementText(elm);\n      return create$1('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);\n    };\n    const getHeaderTargets = elms => {\n      return map$2(filter$2(elms, isValidHeader), headerTarget);\n    };\n    const getAnchorTargets = elms => {\n      return map$2(filter$2(elms, isValidAnchor), anchorTarget);\n    };\n    const getTargetElements = elm => {\n      const elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\n      return elms;\n    };\n    const hasTitle = target => {\n      return trim(target.title).length > 0;\n    };\n    const find = elm => {\n      const elms = getTargetElements(elm);\n      return filter$2(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\n    };\n    const LinkTargets = { find };\n\n    const STORAGE_KEY = 'tinymce-url-history';\n    const HISTORY_LENGTH = 5;\n    const isHttpUrl = url => isString(url) && /^https?/.test(url);\n    const isArrayOfUrl = a => isArray(a) && a.length <= HISTORY_LENGTH && forall(a, isHttpUrl);\n    const isRecordOfUrlArray = r => isObject(r) && find$4(r, value => !isArrayOfUrl(value)).isNone();\n    const getAllHistory = () => {\n      const unparsedHistory = global$4.getItem(STORAGE_KEY);\n      if (unparsedHistory === null) {\n        return {};\n      }\n      let history;\n      try {\n        history = JSON.parse(unparsedHistory);\n      } catch (e) {\n        if (e instanceof SyntaxError) {\n          console.log('Local storage ' + STORAGE_KEY + ' was not valid JSON', e);\n          return {};\n        }\n        throw e;\n      }\n      if (!isRecordOfUrlArray(history)) {\n        console.log('Local storage ' + STORAGE_KEY + ' was not valid format', history);\n        return {};\n      }\n      return history;\n    };\n    const setAllHistory = history => {\n      if (!isRecordOfUrlArray(history)) {\n        throw new Error('Bad format for history:\\n' + JSON.stringify(history));\n      }\n      global$4.setItem(STORAGE_KEY, JSON.stringify(history));\n    };\n    const getHistory = fileType => {\n      const history = getAllHistory();\n      return get$g(history, fileType).getOr([]);\n    };\n    const addToHistory = (url, fileType) => {\n      if (!isHttpUrl(url)) {\n        return;\n      }\n      const history = getAllHistory();\n      const items = get$g(history, fileType).getOr([]);\n      const itemsWithoutUrl = filter$2(items, item => item !== url);\n      history[fileType] = [url].concat(itemsWithoutUrl).slice(0, HISTORY_LENGTH);\n      setAllHistory(history);\n    };\n\n    const isTruthy = value => !!value;\n    const makeMap = value => map$1(global$1.makeMap(value, /[, ]/), isTruthy);\n    const getPicker = editor => Optional.from(getFilePickerCallback(editor));\n    const getPickerTypes = editor => {\n      const optFileTypes = Optional.from(getFilePickerTypes(editor)).filter(isTruthy).map(makeMap);\n      return getPicker(editor).fold(never, _picker => optFileTypes.fold(always, types => keys(types).length > 0 ? types : false));\n    };\n    const getPickerSetting = (editor, filetype) => {\n      const pickerTypes = getPickerTypes(editor);\n      if (isBoolean(pickerTypes)) {\n        return pickerTypes ? getPicker(editor) : Optional.none();\n      } else {\n        return pickerTypes[filetype] ? getPicker(editor) : Optional.none();\n      }\n    };\n    const getUrlPicker = (editor, filetype) => getPickerSetting(editor, filetype).map(picker => entry => Future.nu(completer => {\n      const handler = (value, meta) => {\n        if (!isString(value)) {\n          throw new Error('Expected value to be string');\n        }\n        if (meta !== undefined && !isObject(meta)) {\n          throw new Error('Expected meta to be a object');\n        }\n        const r = {\n          value,\n          meta\n        };\n        completer(r);\n      };\n      const meta = {\n        filetype,\n        fieldname: entry.fieldname,\n        ...Optional.from(entry.meta).getOr({})\n      };\n      picker.call(editor, handler, entry.value, meta);\n    }));\n    const getTextSetting = value => Optional.from(value).filter(isString).getOrUndefined();\n    const getLinkInformation = editor => {\n      if (!useTypeaheadUrls(editor)) {\n        return Optional.none();\n      }\n      return Optional.some({\n        targets: LinkTargets.find(editor.getBody()),\n        anchorTop: getTextSetting(getAnchorTop(editor)),\n        anchorBottom: getTextSetting(getAnchorBottom(editor))\n      });\n    };\n    const getValidationHandler = editor => Optional.from(getFilePickerValidatorHandler(editor));\n    const UrlInputBackstage = editor => ({\n      getHistory,\n      addToHistory,\n      getLinkInformation: () => getLinkInformation(editor),\n      getValidationHandler: () => getValidationHandler(editor),\n      getUrlPicker: filetype => getUrlPicker(editor, filetype)\n    });\n\n    const init$6 = (lazySinks, editor, lazyAnchorbar) => {\n      const contextMenuState = Cell(false);\n      const toolbar = HeaderBackstage(editor);\n      const providers = {\n        icons: () => editor.ui.registry.getAll().icons,\n        menuItems: () => editor.ui.registry.getAll().menuItems,\n        translate: global$8.translate,\n        isDisabled: () => editor.mode.isReadOnly() || !editor.ui.isEnabled(),\n        getOption: editor.options.get\n      };\n      const urlinput = UrlInputBackstage(editor);\n      const styles = init$7(editor);\n      const colorinput = ColorInputBackstage(editor);\n      const dialogSettings = DialogBackstage(editor);\n      const isContextMenuOpen = () => contextMenuState.get();\n      const setContextMenuState = state => contextMenuState.set(state);\n      const commonBackstage = {\n        shared: {\n          providers,\n          anchors: getAnchors(editor, lazyAnchorbar, toolbar.isPositionedAtTop),\n          header: toolbar\n        },\n        urlinput,\n        styles,\n        colorinput,\n        dialog: dialogSettings,\n        isContextMenuOpen,\n        setContextMenuState\n      };\n      const popupBackstage = {\n        ...commonBackstage,\n        shared: {\n          ...commonBackstage.shared,\n          interpreter: s => interpretWithoutForm(s, {}, popupBackstage),\n          getSink: lazySinks.popup\n        }\n      };\n      const dialogBackstage = {\n        ...commonBackstage,\n        shared: {\n          ...commonBackstage.shared,\n          interpreter: s => interpretWithoutForm(s, {}, dialogBackstage),\n          getSink: lazySinks.dialog\n        }\n      };\n      return {\n        popup: popupBackstage,\n        dialog: dialogBackstage\n      };\n    };\n\n    const setup$b = (editor, mothership, uiMotherships) => {\n      const broadcastEvent = (name, evt) => {\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], m => {\n          m.broadcastEvent(name, evt);\n        });\n      };\n      const broadcastOn = (channel, message) => {\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], m => {\n          m.broadcastOn([channel], message);\n        });\n      };\n      const fireDismissPopups = evt => broadcastOn(dismissPopups(), { target: evt.target });\n      const doc = getDocument();\n      const onTouchstart = bind(doc, 'touchstart', fireDismissPopups);\n      const onTouchmove = bind(doc, 'touchmove', evt => broadcastEvent(documentTouchmove(), evt));\n      const onTouchend = bind(doc, 'touchend', evt => broadcastEvent(documentTouchend(), evt));\n      const onMousedown = bind(doc, 'mousedown', fireDismissPopups);\n      const onMouseup = bind(doc, 'mouseup', evt => {\n        if (evt.raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: evt.target });\n        }\n      });\n      const onContentClick = raw => broadcastOn(dismissPopups(), { target: SugarElement.fromDom(raw.target) });\n      const onContentMouseup = raw => {\n        if (raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: SugarElement.fromDom(raw.target) });\n        }\n      };\n      const onContentMousedown = () => {\n        each$1(editor.editorManager.get(), loopEditor => {\n          if (editor !== loopEditor) {\n            loopEditor.dispatch('DismissPopups', { relatedTarget: editor });\n          }\n        });\n      };\n      const onWindowScroll = evt => broadcastEvent(windowScroll(), fromRawEvent(evt));\n      const onWindowResize = evt => {\n        broadcastOn(repositionPopups(), {});\n        broadcastEvent(windowResize(), fromRawEvent(evt));\n      };\n      const dos = getRootNode(SugarElement.fromDom(editor.getElement()));\n      const onElementScroll = capture(dos, 'scroll', evt => {\n        requestAnimationFrame(() => {\n          const c = editor.getContainer();\n          if (c !== undefined && c !== null) {\n            const optScrollingContext = detectWhenSplitUiMode(editor, mothership.element);\n            const scrollers = optScrollingContext.map(sc => [\n              sc.element,\n              ...sc.others\n            ]).getOr([]);\n            if (exists(scrollers, s => eq(s, evt.target))) {\n              editor.dispatch('ElementScroll', { target: evt.target.dom });\n              broadcastEvent(externalElementScroll(), evt);\n            }\n          }\n        });\n      });\n      const onEditorResize = () => broadcastOn(repositionPopups(), {});\n      const onEditorProgress = evt => {\n        if (evt.state) {\n          broadcastOn(dismissPopups(), { target: SugarElement.fromDom(editor.getContainer()) });\n        }\n      };\n      const onDismissPopups = event => {\n        broadcastOn(dismissPopups(), { target: SugarElement.fromDom(event.relatedTarget.getContainer()) });\n      };\n      editor.on('PostRender', () => {\n        editor.on('click', onContentClick);\n        editor.on('tap', onContentClick);\n        editor.on('mouseup', onContentMouseup);\n        editor.on('mousedown', onContentMousedown);\n        editor.on('ScrollWindow', onWindowScroll);\n        editor.on('ResizeWindow', onWindowResize);\n        editor.on('ResizeEditor', onEditorResize);\n        editor.on('AfterProgressState', onEditorProgress);\n        editor.on('DismissPopups', onDismissPopups);\n      });\n      editor.on('remove', () => {\n        editor.off('click', onContentClick);\n        editor.off('tap', onContentClick);\n        editor.off('mouseup', onContentMouseup);\n        editor.off('mousedown', onContentMousedown);\n        editor.off('ScrollWindow', onWindowScroll);\n        editor.off('ResizeWindow', onWindowResize);\n        editor.off('ResizeEditor', onEditorResize);\n        editor.off('AfterProgressState', onEditorProgress);\n        editor.off('DismissPopups', onDismissPopups);\n        onMousedown.unbind();\n        onTouchstart.unbind();\n        onTouchmove.unbind();\n        onTouchend.unbind();\n        onMouseup.unbind();\n        onElementScroll.unbind();\n      });\n      editor.on('detach', () => {\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], detachSystem);\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], m => m.destroy());\n      });\n    };\n\n    const parts$a = AlloyParts;\n    const partType = PartType;\n\n    const schema$f = constant$1([\n      defaulted('shell', false),\n      required$1('makeItem'),\n      defaulted('setupItem', noop),\n      SketchBehaviours.field('listBehaviours', [Replacing])\n    ]);\n    const customListDetail = () => ({ behaviours: derive$1([Replacing.config({})]) });\n    const itemsPart = optional({\n      name: 'items',\n      overrides: customListDetail\n    });\n    const parts$9 = constant$1([itemsPart]);\n    const name = constant$1('CustomList');\n\n    const factory$f = (detail, components, _spec, _external) => {\n      const setItems = (list, items) => {\n        getListContainer(list).fold(() => {\n          console.error('Custom List was defined to not be a shell, but no item container was specified in components');\n          throw new Error('Custom List was defined to not be a shell, but no item container was specified in components');\n        }, container => {\n          const itemComps = Replacing.contents(container);\n          const numListsRequired = items.length;\n          const numListsToAdd = numListsRequired - itemComps.length;\n          const itemsToAdd = numListsToAdd > 0 ? range$2(numListsToAdd, () => detail.makeItem()) : [];\n          const itemsToRemove = itemComps.slice(numListsRequired);\n          each$1(itemsToRemove, item => Replacing.remove(container, item));\n          each$1(itemsToAdd, item => Replacing.append(container, item));\n          const builtLists = Replacing.contents(container);\n          each$1(builtLists, (item, i) => {\n            detail.setupItem(list, item, items[i], i);\n          });\n        });\n      };\n      const extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components\n      };\n      const getListContainer = component => detail.shell ? Optional.some(component) : getPart(component, detail, 'items');\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.listBehaviours, extra.behaviours),\n        apis: { setItems }\n      };\n    };\n    const CustomList = composite({\n      name: name(),\n      configFields: schema$f(),\n      partFields: parts$9(),\n      factory: factory$f,\n      apis: {\n        setItems: (apis, list, items) => {\n          apis.setItems(list, items);\n        }\n      }\n    });\n\n    const schema$e = constant$1([\n      required$1('dom'),\n      defaulted('shell', true),\n      field('toolbarBehaviours', [Replacing])\n    ]);\n    const enhanceGroups = () => ({ behaviours: derive$1([Replacing.config({})]) });\n    const parts$8 = constant$1([optional({\n        name: 'groups',\n        overrides: enhanceGroups\n      })]);\n\n    const factory$e = (detail, components, _spec, _externals) => {\n      const setGroups = (toolbar, groups) => {\n        getGroupContainer(toolbar).fold(() => {\n          console.error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n          throw new Error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n        }, container => {\n          Replacing.set(container, groups);\n        });\n      };\n      const getGroupContainer = component => detail.shell ? Optional.some(component) : getPart(component, detail, 'groups');\n      const extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.toolbarBehaviours, extra.behaviours),\n        apis: { setGroups },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const Toolbar = composite({\n      name: 'Toolbar',\n      configFields: schema$e(),\n      partFields: parts$8(),\n      factory: factory$e,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        }\n      }\n    });\n\n    const setup$a = noop;\n    const isDocked$2 = never;\n    const getBehaviours$1 = constant$1([]);\n\n    var StaticHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$a,\n        isDocked: isDocked$2,\n        getBehaviours: getBehaviours$1\n    });\n\n    const getOffsetParent = element => {\n      const isFixed = is$1(getRaw(element, 'position'), 'fixed');\n      const offsetParent$1 = isFixed ? Optional.none() : offsetParent(element);\n      return offsetParent$1.orThunk(() => {\n        const marker = SugarElement.fromTag('span');\n        return parent(element).bind(parent => {\n          append$2(parent, marker);\n          const offsetParent$1 = offsetParent(marker);\n          remove$5(marker);\n          return offsetParent$1;\n        });\n      });\n    };\n    const getOrigin = element => getOffsetParent(element).map(absolute$3).getOrThunk(() => SugarPosition(0, 0));\n\n    const appear = (component, contextualInfo) => {\n      const elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeOutClass);\n      add$2(elem, contextualInfo.fadeInClass);\n      contextualInfo.onShow(component);\n    };\n    const disappear = (component, contextualInfo) => {\n      const elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeInClass);\n      add$2(elem, contextualInfo.fadeOutClass);\n      contextualInfo.onHide(component);\n    };\n    const isPartiallyVisible = (box, bounds) => box.y < bounds.bottom && box.bottom > bounds.y;\n    const isTopCompletelyVisible = (box, bounds) => box.y >= bounds.y;\n    const isBottomCompletelyVisible = (box, bounds) => box.bottom <= bounds.bottom;\n    const forceTopPosition = (winBox, leftX, viewport) => ({\n      location: 'top',\n      leftX,\n      topY: viewport.bounds.y - winBox.y\n    });\n    const forceBottomPosition = (winBox, leftX, viewport) => ({\n      location: 'bottom',\n      leftX,\n      bottomY: winBox.bottom - viewport.bounds.bottom\n    });\n    const getDockedLeftPosition = bounds => {\n      return bounds.box.x - bounds.win.x;\n    };\n    const tryDockingPosition = (modes, bounds, viewport) => {\n      const winBox = bounds.win;\n      const box = bounds.box;\n      const leftX = getDockedLeftPosition(bounds);\n      return findMap(modes, mode => {\n        switch (mode) {\n        case 'bottom':\n          return !isBottomCompletelyVisible(box, viewport.bounds) ? Optional.some(forceBottomPosition(winBox, leftX, viewport)) : Optional.none();\n        case 'top':\n          return !isTopCompletelyVisible(box, viewport.bounds) ? Optional.some(forceTopPosition(winBox, leftX, viewport)) : Optional.none();\n        default:\n          return Optional.none();\n        }\n      }).getOr({ location: 'no-dock' });\n    };\n    const isVisibleForModes = (modes, box, viewport) => forall(modes, mode => {\n      switch (mode) {\n      case 'bottom':\n        return isBottomCompletelyVisible(box, viewport.bounds);\n      case 'top':\n        return isTopCompletelyVisible(box, viewport.bounds);\n      }\n    });\n    const getXYForRestoring = (pos, viewport) => {\n      const priorY = viewport.optScrollEnv.fold(constant$1(pos.bounds.y), scrollEnv => scrollEnv.scrollElmTop + (pos.bounds.y - scrollEnv.currentScrollTop));\n      return SugarPosition(pos.bounds.x, priorY);\n    };\n    const getXYForSaving = (box, viewport) => {\n      const priorY = viewport.optScrollEnv.fold(constant$1(box.y), scrollEnv => box.y + scrollEnv.currentScrollTop - scrollEnv.scrollElmTop);\n      return SugarPosition(box.x, priorY);\n    };\n    const getPrior = (elem, viewport, state) => state.getInitialPos().map(pos => {\n      const xy = getXYForRestoring(pos, viewport);\n      return {\n        box: bounds(xy.left, xy.top, get$c(elem), get$d(elem)),\n        location: pos.location\n      };\n    });\n    const storePrior = (elem, box, viewport, state, decision) => {\n      const xy = getXYForSaving(box, viewport);\n      const bounds$1 = bounds(xy.left, xy.top, box.width, box.height);\n      state.setInitialPos({\n        style: getAllRaw(elem),\n        position: get$e(elem, 'position') || 'static',\n        bounds: bounds$1,\n        location: decision.location\n      });\n    };\n    const storePriorIfNone = (elem, box, viewport, state, decision) => {\n      state.getInitialPos().fold(() => storePrior(elem, box, viewport, state, decision), () => noop);\n    };\n    const revertToOriginal = (elem, box, state) => state.getInitialPos().bind(position => {\n      var _a;\n      state.clearInitialPos();\n      switch (position.position) {\n      case 'static':\n        return Optional.some({ morph: 'static' });\n      case 'absolute':\n        const offsetParent = getOffsetParent(elem).getOr(body());\n        const offsetBox = box$1(offsetParent);\n        const scrollDelta = (_a = offsetParent.dom.scrollTop) !== null && _a !== void 0 ? _a : 0;\n        return Optional.some({\n          morph: 'absolute',\n          positionCss: NuPositionCss('absolute', get$g(position.style, 'left').map(_left => box.x - offsetBox.x), get$g(position.style, 'top').map(_top => box.y - offsetBox.y + scrollDelta), get$g(position.style, 'right').map(_right => offsetBox.right - box.right), get$g(position.style, 'bottom').map(_bottom => offsetBox.bottom - box.bottom))\n        });\n      default:\n        return Optional.none();\n      }\n    });\n    const tryMorphToOriginal = (elem, viewport, state) => getPrior(elem, viewport, state).filter(({box}) => isVisibleForModes(state.getModes(), box, viewport)).bind(({box}) => revertToOriginal(elem, box, state));\n    const tryDecisionToFixedMorph = decision => {\n      switch (decision.location) {\n      case 'top': {\n          return Optional.some({\n            morph: 'fixed',\n            positionCss: NuPositionCss('fixed', Optional.some(decision.leftX), Optional.some(decision.topY), Optional.none(), Optional.none())\n          });\n        }\n      case 'bottom': {\n          return Optional.some({\n            morph: 'fixed',\n            positionCss: NuPositionCss('fixed', Optional.some(decision.leftX), Optional.none(), Optional.none(), Optional.some(decision.bottomY))\n          });\n        }\n      default:\n        return Optional.none();\n      }\n    };\n    const tryMorphToFixed = (elem, viewport, state) => {\n      const box = box$1(elem);\n      const winBox = win();\n      const decision = tryDockingPosition(state.getModes(), {\n        win: winBox,\n        box\n      }, viewport);\n      if (decision.location === 'top' || decision.location === 'bottom') {\n        storePrior(elem, box, viewport, state, decision);\n        return tryDecisionToFixedMorph(decision);\n      } else {\n        return Optional.none();\n      }\n    };\n    const tryMorphToOriginalOrUpdateFixed = (elem, viewport, state) => {\n      return tryMorphToOriginal(elem, viewport, state).orThunk(() => {\n        return viewport.optScrollEnv.bind(_ => getPrior(elem, viewport, state)).bind(({box, location}) => {\n          const winBox = win();\n          const leftX = getDockedLeftPosition({\n            win: winBox,\n            box\n          });\n          const decision = location === 'top' ? forceTopPosition(winBox, leftX, viewport) : forceBottomPosition(winBox, leftX, viewport);\n          return tryDecisionToFixedMorph(decision);\n        });\n      });\n    };\n    const tryMorph = (component, viewport, state) => {\n      const elem = component.element;\n      const isDocked = is$1(getRaw(elem, 'position'), 'fixed');\n      return isDocked ? tryMorphToOriginalOrUpdateFixed(elem, viewport, state) : tryMorphToFixed(elem, viewport, state);\n    };\n    const calculateMorphToOriginal = (component, viewport, state) => {\n      const elem = component.element;\n      return getPrior(elem, viewport, state).bind(({box}) => revertToOriginal(elem, box, state));\n    };\n    const forceDockWith = (elem, viewport, state, getDecision) => {\n      const box = box$1(elem);\n      const winBox = win();\n      const leftX = getDockedLeftPosition({\n        win: winBox,\n        box\n      });\n      const decision = getDecision(winBox, leftX, viewport);\n      if (decision.location === 'bottom' || decision.location === 'top') {\n        storePriorIfNone(elem, box, viewport, state, decision);\n        return tryDecisionToFixedMorph(decision);\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const morphToStatic = (component, config, state) => {\n      state.setDocked(false);\n      each$1([\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'position'\n      ], prop => remove$6(component.element, prop));\n      config.onUndocked(component);\n    };\n    const morphToCoord = (component, config, state, position) => {\n      const isDocked = position.position === 'fixed';\n      state.setDocked(isDocked);\n      applyPositionCss(component.element, position);\n      const method = isDocked ? config.onDocked : config.onUndocked;\n      method(component);\n    };\n    const updateVisibility = (component, config, state, viewport, morphToDocked = false) => {\n      config.contextual.each(contextInfo => {\n        contextInfo.lazyContext(component).each(box => {\n          const isVisible = isPartiallyVisible(box, viewport.bounds);\n          if (isVisible !== state.isVisible()) {\n            state.setVisible(isVisible);\n            if (morphToDocked && !isVisible) {\n              add$1(component.element, [contextInfo.fadeOutClass]);\n              contextInfo.onHide(component);\n            } else {\n              const method = isVisible ? appear : disappear;\n              method(component, contextInfo);\n            }\n          }\n        });\n      });\n    };\n    const applyFixedMorph = (component, config, state, viewport, morph) => {\n      updateVisibility(component, config, state, viewport, true);\n      morphToCoord(component, config, state, morph.positionCss);\n    };\n    const applyMorph = (component, config, state, viewport, morph) => {\n      switch (morph.morph) {\n      case 'static': {\n          return morphToStatic(component, config, state);\n        }\n      case 'absolute': {\n          return morphToCoord(component, config, state, morph.positionCss);\n        }\n      case 'fixed': {\n          return applyFixedMorph(component, config, state, viewport, morph);\n        }\n      }\n    };\n    const refreshInternal = (component, config, state) => {\n      const viewport = config.lazyViewport(component);\n      updateVisibility(component, config, state, viewport);\n      tryMorph(component, viewport, state).each(morph => {\n        applyMorph(component, config, state, viewport, morph);\n      });\n    };\n    const resetInternal = (component, config, state) => {\n      const elem = component.element;\n      state.setDocked(false);\n      const viewport = config.lazyViewport(component);\n      calculateMorphToOriginal(component, viewport, state).each(staticOrAbsoluteMorph => {\n        switch (staticOrAbsoluteMorph.morph) {\n        case 'static': {\n            morphToStatic(component, config, state);\n            break;\n          }\n        case 'absolute': {\n            morphToCoord(component, config, state, staticOrAbsoluteMorph.positionCss);\n            break;\n          }\n        }\n      });\n      state.setVisible(true);\n      config.contextual.each(contextInfo => {\n        remove$1(elem, [\n          contextInfo.fadeInClass,\n          contextInfo.fadeOutClass,\n          contextInfo.transitionClass\n        ]);\n        contextInfo.onShow(component);\n      });\n      refresh$3(component, config, state);\n    };\n    const refresh$3 = (component, config, state) => {\n      if (component.getSystem().isConnected()) {\n        refreshInternal(component, config, state);\n      }\n    };\n    const reset = (component, config, state) => {\n      if (state.isDocked()) {\n        resetInternal(component, config, state);\n      }\n    };\n    const forceDockWithDecision = getDecision => (component, config, state) => {\n      const viewport = config.lazyViewport(component);\n      const optMorph = forceDockWith(component.element, viewport, state, getDecision);\n      optMorph.each(morph => {\n        applyFixedMorph(component, config, state, viewport, morph);\n      });\n    };\n    const forceDockToTop = forceDockWithDecision(forceTopPosition);\n    const forceDockToBottom = forceDockWithDecision(forceBottomPosition);\n    const isDocked$1 = (component, config, state) => state.isDocked();\n    const setModes = (component, config, state, modes) => state.setModes(modes);\n    const getModes = (component, config, state) => state.getModes();\n\n    var DockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$3,\n        reset: reset,\n        isDocked: isDocked$1,\n        getModes: getModes,\n        setModes: setModes,\n        forceDockToTop: forceDockToTop,\n        forceDockToBottom: forceDockToBottom\n    });\n\n    const events$4 = (dockInfo, dockState) => derive$2([\n      runOnSource(transitionend(), (component, simulatedEvent) => {\n        dockInfo.contextual.each(contextInfo => {\n          if (has(component.element, contextInfo.transitionClass)) {\n            remove$1(component.element, [\n              contextInfo.transitionClass,\n              contextInfo.fadeInClass\n            ]);\n            const notify = dockState.isVisible() ? contextInfo.onShown : contextInfo.onHidden;\n            notify(component);\n          }\n          simulatedEvent.stop();\n        });\n      }),\n      run$1(windowScroll(), (component, _) => {\n        refresh$3(component, dockInfo, dockState);\n      }),\n      run$1(externalElementScroll(), (component, _) => {\n        refresh$3(component, dockInfo, dockState);\n      }),\n      run$1(windowResize(), (component, _) => {\n        reset(component, dockInfo, dockState);\n      })\n    ]);\n\n    var ActiveDocking = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$4\n    });\n\n    var DockingSchema = [\n      optionObjOf('contextual', [\n        requiredString('fadeInClass'),\n        requiredString('fadeOutClass'),\n        requiredString('transitionClass'),\n        requiredFunction('lazyContext'),\n        onHandler('onShow'),\n        onHandler('onShown'),\n        onHandler('onHide'),\n        onHandler('onHidden')\n      ]),\n      defaultedFunction('lazyViewport', () => ({\n        bounds: win(),\n        optScrollEnv: Optional.none()\n      })),\n      defaultedArrayOf('modes', [\n        'top',\n        'bottom'\n      ], string),\n      onHandler('onDocked'),\n      onHandler('onUndocked')\n    ];\n\n    const init$5 = spec => {\n      const docked = Cell(false);\n      const visible = Cell(true);\n      const initialBounds = value$2();\n      const modes = Cell(spec.modes);\n      const readState = () => `docked:  ${ docked.get() }, visible: ${ visible.get() }, modes: ${ modes.get().join(',') }`;\n      return nu$8({\n        isDocked: docked.get,\n        setDocked: docked.set,\n        getInitialPos: initialBounds.get,\n        setInitialPos: initialBounds.set,\n        clearInitialPos: initialBounds.clear,\n        isVisible: visible.get,\n        setVisible: visible.set,\n        getModes: modes.get,\n        setModes: modes.set,\n        readState\n      });\n    };\n\n    var DockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$5\n    });\n\n    const Docking = create$4({\n      fields: DockingSchema,\n      name: 'docking',\n      active: ActiveDocking,\n      apis: DockingApis,\n      state: DockingState\n    });\n\n    const toolbarHeightChange = constant$1(generate$6('toolbar-height-change'));\n\n    const visibility = {\n      fadeInClass: 'tox-editor-dock-fadein',\n      fadeOutClass: 'tox-editor-dock-fadeout',\n      transitionClass: 'tox-editor-dock-transition'\n    };\n    const editorStickyOnClass = 'tox-tinymce--toolbar-sticky-on';\n    const editorStickyOffClass = 'tox-tinymce--toolbar-sticky-off';\n    const scrollFromBehindHeader = (e, containerHeader) => {\n      const doc = owner$4(containerHeader);\n      const win = defaultView(containerHeader);\n      const viewHeight = win.dom.innerHeight;\n      const scrollPos = get$b(doc);\n      const markerElement = SugarElement.fromDom(e.elm);\n      const markerPos = absolute$2(markerElement);\n      const markerHeight = get$d(markerElement);\n      const markerTop = markerPos.y;\n      const markerBottom = markerTop + markerHeight;\n      const editorHeaderPos = absolute$3(containerHeader);\n      const editorHeaderHeight = get$d(containerHeader);\n      const editorHeaderTop = editorHeaderPos.top;\n      const editorHeaderBottom = editorHeaderTop + editorHeaderHeight;\n      const editorHeaderDockedAtTop = Math.abs(editorHeaderTop - scrollPos.top) < 2;\n      const editorHeaderDockedAtBottom = Math.abs(editorHeaderBottom - (scrollPos.top + viewHeight)) < 2;\n      if (editorHeaderDockedAtTop && markerTop < editorHeaderBottom) {\n        to(scrollPos.left, markerTop - editorHeaderHeight, doc);\n      } else if (editorHeaderDockedAtBottom && markerBottom > editorHeaderTop) {\n        const y = markerTop - viewHeight + markerHeight + editorHeaderHeight;\n        to(scrollPos.left, y, doc);\n      }\n    };\n    const isDockedMode = (header, mode) => contains$2(Docking.getModes(header), mode);\n    const updateIframeContentFlow = header => {\n      const getOccupiedHeight = elm => getOuter$2(elm) + (parseInt(get$e(elm, 'margin-top'), 10) || 0) + (parseInt(get$e(elm, 'margin-bottom'), 10) || 0);\n      const elm = header.element;\n      parentElement(elm).each(parentElem => {\n        const padding = 'padding-' + Docking.getModes(header)[0];\n        if (Docking.isDocked(header)) {\n          const parentWidth = get$c(parentElem);\n          set$8(elm, 'width', parentWidth + 'px');\n          set$8(parentElem, padding, getOccupiedHeight(elm) + 'px');\n        } else {\n          remove$6(elm, 'width');\n          remove$6(parentElem, padding);\n        }\n      });\n    };\n    const updateSinkVisibility = (sinkElem, visible) => {\n      if (visible) {\n        remove$2(sinkElem, visibility.fadeOutClass);\n        add$1(sinkElem, [\n          visibility.transitionClass,\n          visibility.fadeInClass\n        ]);\n      } else {\n        remove$2(sinkElem, visibility.fadeInClass);\n        add$1(sinkElem, [\n          visibility.fadeOutClass,\n          visibility.transitionClass\n        ]);\n      }\n    };\n    const updateEditorClasses = (editor, docked) => {\n      const editorContainer = SugarElement.fromDom(editor.getContainer());\n      if (docked) {\n        add$2(editorContainer, editorStickyOnClass);\n        remove$2(editorContainer, editorStickyOffClass);\n      } else {\n        add$2(editorContainer, editorStickyOffClass);\n        remove$2(editorContainer, editorStickyOnClass);\n      }\n    };\n    const restoreFocus = (headerElem, focusedElem) => {\n      const ownerDoc = owner$4(focusedElem);\n      active$1(ownerDoc).filter(activeElm => !eq(focusedElem, activeElm)).filter(activeElm => eq(activeElm, SugarElement.fromDom(ownerDoc.dom.body)) || contains(headerElem, activeElm)).each(() => focus$3(focusedElem));\n    };\n    const findFocusedElem = (rootElm, lazySink) => search(rootElm).orThunk(() => lazySink().toOptional().bind(sink => search(sink.element)));\n    const setup$9 = (editor, sharedBackstage, lazyHeader) => {\n      if (!editor.inline) {\n        if (!sharedBackstage.header.isPositionedAtTop()) {\n          editor.on('ResizeEditor', () => {\n            lazyHeader().each(Docking.reset);\n          });\n        }\n        editor.on('ResizeWindow ResizeEditor', () => {\n          lazyHeader().each(updateIframeContentFlow);\n        });\n        editor.on('SkinLoaded', () => {\n          lazyHeader().each(comp => {\n            Docking.isDocked(comp) ? Docking.reset(comp) : Docking.refresh(comp);\n          });\n        });\n        editor.on('FullscreenStateChanged', () => {\n          lazyHeader().each(Docking.reset);\n        });\n      }\n      editor.on('AfterScrollIntoView', e => {\n        lazyHeader().each(header => {\n          Docking.refresh(header);\n          const headerElem = header.element;\n          if (isVisible(headerElem)) {\n            scrollFromBehindHeader(e, headerElem);\n          }\n        });\n      });\n      editor.on('PostRender', () => {\n        updateEditorClasses(editor, false);\n      });\n    };\n    const isDocked = lazyHeader => lazyHeader().map(Docking.isDocked).getOr(false);\n    const getIframeBehaviours = () => [Receiving.config({ channels: { [toolbarHeightChange()]: { onReceive: updateIframeContentFlow } } })];\n    const getBehaviours = (editor, sharedBackstage) => {\n      const focusedElm = value$2();\n      const lazySink = sharedBackstage.getSink;\n      const runOnSinkElement = f => {\n        lazySink().each(sink => f(sink.element));\n      };\n      const onDockingSwitch = comp => {\n        if (!editor.inline) {\n          updateIframeContentFlow(comp);\n        }\n        updateEditorClasses(editor, Docking.isDocked(comp));\n        comp.getSystem().broadcastOn([repositionPopups()], {});\n        lazySink().each(sink => sink.getSystem().broadcastOn([repositionPopups()], {}));\n      };\n      const additionalBehaviours = editor.inline ? [] : getIframeBehaviours();\n      return [\n        Focusing.config({}),\n        Docking.config({\n          contextual: {\n            lazyContext: comp => {\n              const headerHeight = getOuter$2(comp.element);\n              const container = editor.inline ? editor.getContentAreaContainer() : editor.getContainer();\n              return Optional.from(container).map(c => {\n                const box = box$1(SugarElement.fromDom(c));\n                const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n                return optScrollingContext.fold(() => {\n                  const boxHeight = box.height - headerHeight;\n                  const topBound = box.y + (isDockedMode(comp, 'top') ? 0 : headerHeight);\n                  return bounds(box.x, topBound, box.width, boxHeight);\n                }, scrollEnv => {\n                  const constrainedBounds = constrain(box, getBoundsFrom(scrollEnv));\n                  return bounds(constrainedBounds.x, constrainedBounds.y, constrainedBounds.width, constrainedBounds.height - headerHeight);\n                });\n              });\n            },\n            onShow: () => {\n              runOnSinkElement(elem => updateSinkVisibility(elem, true));\n            },\n            onShown: comp => {\n              runOnSinkElement(elem => remove$1(elem, [\n                visibility.transitionClass,\n                visibility.fadeInClass\n              ]));\n              focusedElm.get().each(elem => {\n                restoreFocus(comp.element, elem);\n                focusedElm.clear();\n              });\n            },\n            onHide: comp => {\n              findFocusedElem(comp.element, lazySink).fold(focusedElm.clear, focusedElm.set);\n              runOnSinkElement(elem => updateSinkVisibility(elem, false));\n            },\n            onHidden: () => {\n              runOnSinkElement(elem => remove$1(elem, [visibility.transitionClass]));\n            },\n            ...visibility\n          },\n          lazyViewport: comp => {\n            const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n            return optScrollingContext.fold(() => {\n              const boundsWithoutOffset = win();\n              const offset = getStickyToolbarOffset(editor);\n              const top = boundsWithoutOffset.y + (isDockedMode(comp, 'top') ? offset : 0);\n              const height = boundsWithoutOffset.height - (isDockedMode(comp, 'bottom') ? offset : 0);\n              return {\n                bounds: bounds(boundsWithoutOffset.x, top, boundsWithoutOffset.width, height),\n                optScrollEnv: Optional.none()\n              };\n            }, sc => {\n              const combinedBounds = getBoundsFrom(sc);\n              return {\n                bounds: combinedBounds,\n                optScrollEnv: Optional.some({\n                  currentScrollTop: sc.element.dom.scrollTop,\n                  scrollElmTop: absolute$3(sc.element).top\n                })\n              };\n            });\n          },\n          modes: [sharedBackstage.header.getDockingMode()],\n          onDocked: onDockingSwitch,\n          onUndocked: onDockingSwitch\n        }),\n        ...additionalBehaviours\n      ];\n    };\n\n    var StickyHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$9,\n        isDocked: isDocked,\n        getBehaviours: getBehaviours\n    });\n\n    const renderHeader = spec => {\n      const editor = spec.editor;\n      const getBehaviours$2 = spec.sticky ? getBehaviours : getBehaviours$1;\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: spec.components,\n        behaviours: derive$1(getBehaviours$2(editor, spec.sharedBackstage))\n      };\n    };\n\n    const groupToolbarButtonSchema = objOf([\n      type,\n      requiredOf('items', oneOf([\n        arrOfObj([\n          name$1,\n          requiredArrayOf('items', string)\n        ]),\n        string\n      ]))\n    ].concat(baseToolbarButtonFields));\n    const createGroupToolbarButton = spec => asRaw('GroupToolbarButton', groupToolbarButtonSchema, spec);\n\n    const baseMenuButtonFields = [\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      defaultedOf('search', false, oneOf([\n        boolean,\n        objOf([optionString('placeholder')])\n      ], x => {\n        if (isBoolean(x)) {\n          return x ? Optional.some({ placeholder: Optional.none() }) : Optional.none();\n        } else {\n          return Optional.some(x);\n        }\n      })),\n      requiredFunction('fetch'),\n      defaultedFunction('onSetup', () => noop)\n    ];\n\n    const MenuButtonSchema = objOf([\n      type,\n      ...baseMenuButtonFields\n    ]);\n    const createMenuButton = spec => asRaw('menubutton', MenuButtonSchema, spec);\n\n    const splitButtonSchema = objOf([\n      type,\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      optionalSelect,\n      fetch$1,\n      onSetup,\n      defaultedStringEnum('presets', 'normal', [\n        'normal',\n        'color',\n        'listpreview'\n      ]),\n      defaultedColumns(1),\n      onAction,\n      onItemAction\n    ]);\n    const createSplitButton = spec => asRaw('SplitButton', splitButtonSchema, spec);\n\n    const factory$d = (detail, spec) => {\n      const setMenus = (comp, menus) => {\n        const newMenus = map$2(menus, m => {\n          const buttonSpec = {\n            type: 'menubutton',\n            text: m.text,\n            fetch: callback => {\n              callback(m.getItems());\n            }\n          };\n          const internal = createMenuButton(buttonSpec).mapError(errInfo => formatError(errInfo)).getOrDie();\n          return renderMenuButton(internal, 'tox-mbtn', spec.backstage, Optional.some('menuitem'));\n        });\n        Replacing.set(comp, newMenus);\n      };\n      const apis = {\n        focus: Keying.focusIn,\n        setMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: [],\n        behaviours: derive$1([\n          Replacing.config({}),\n          config('menubar-events', [\n            runOnAttached(component => {\n              detail.onSetup(component);\n            }),\n            run$1(mouseover(), (comp, se) => {\n              descendant(comp.element, '.' + 'tox-mbtn--active').each(activeButton => {\n                closest$1(se.event.target, '.' + 'tox-mbtn').each(hoveredButton => {\n                  if (!eq(activeButton, hoveredButton)) {\n                    comp.getSystem().getByDom(activeButton).each(activeComp => {\n                      comp.getSystem().getByDom(hoveredButton).each(hoveredComp => {\n                        Dropdown.expand(hoveredComp);\n                        Dropdown.close(activeComp);\n                        Focusing.focus(hoveredComp);\n                      });\n                    });\n                  }\n                });\n              });\n            }),\n            run$1(focusShifted(), (comp, se) => {\n              se.event.prevFocus.bind(prev => comp.getSystem().getByDom(prev).toOptional()).each(prev => {\n                se.event.newFocus.bind(nu => comp.getSystem().getByDom(nu).toOptional()).each(nu => {\n                  if (Dropdown.isOpen(prev)) {\n                    Dropdown.expand(nu);\n                    Dropdown.close(prev);\n                  }\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'flow',\n            selector: '.' + 'tox-mbtn',\n            onEscape: comp => {\n              detail.onEscape(comp);\n              return Optional.some(true);\n            }\n          }),\n          Tabstopping.config({})\n        ]),\n        apis,\n        domModification: { attributes: { role: 'menubar' } }\n      };\n    };\n    var SilverMenubar = single({\n      factory: factory$d,\n      name: 'silver.Menubar',\n      configFields: [\n        required$1('dom'),\n        required$1('uid'),\n        required$1('onEscape'),\n        required$1('backstage'),\n        defaulted('onSetup', noop)\n      ],\n      apis: {\n        focus: (apis, comp) => {\n          apis.focus(comp);\n        },\n        setMenus: (apis, comp, menus) => {\n          apis.setMenus(comp, menus);\n        }\n      }\n    });\n\n    const promotionMessage = '\\u26A1\\ufe0fUpgrade';\n    const promotionLink = 'https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral';\n    const renderPromotion = spec => {\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: [{\n            dom: {\n              tag: 'a',\n              attributes: {\n                'href': promotionLink,\n                'rel': 'noopener',\n                'target': '_blank',\n                'aria-hidden': 'true'\n              },\n              classes: ['tox-promotion-link'],\n              innerHtml: promotionMessage\n            }\n          }]\n      };\n    };\n\n    const owner = 'container';\n    const schema$d = [field('slotBehaviours', [])];\n    const getPartName = name => '<alloy.field.' + name + '>';\n    const sketch = sSpec => {\n      const parts = (() => {\n        const record = [];\n        const slot = (name, config) => {\n          record.push(name);\n          return generateOne$1(owner, getPartName(name), config);\n        };\n        return {\n          slot,\n          record: constant$1(record)\n        };\n      })();\n      const spec = sSpec(parts);\n      const partNames = parts.record();\n      const fieldParts = map$2(partNames, n => required({\n        name: n,\n        pname: getPartName(n)\n      }));\n      return composite$1(owner, schema$d, fieldParts, make$1, spec);\n    };\n    const make$1 = (detail, components) => {\n      const getSlotNames = _ => getAllPartNames(detail);\n      const getSlot = (container, key) => getPart(container, detail, key);\n      const onSlot = (f, def) => (container, key) => getPart(container, detail, key).map(slot => f(slot, key)).getOr(def);\n      const onSlots = f => (container, keys) => {\n        each$1(keys, key => f(container, key));\n      };\n      const doShowing = (comp, _key) => get$f(comp.element, 'aria-hidden') !== 'true';\n      const doShow = (comp, key) => {\n        if (!doShowing(comp)) {\n          const element = comp.element;\n          remove$6(element, 'display');\n          remove$7(element, 'aria-hidden');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: true\n          });\n        }\n      };\n      const doHide = (comp, key) => {\n        if (doShowing(comp)) {\n          const element = comp.element;\n          set$8(element, 'display', 'none');\n          set$9(element, 'aria-hidden', 'true');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: false\n          });\n        }\n      };\n      const isShowing = onSlot(doShowing, false);\n      const hideSlot = onSlot(doHide);\n      const hideSlots = onSlots(hideSlot);\n      const hideAllSlots = container => hideSlots(container, getSlotNames());\n      const showSlot = onSlot(doShow);\n      const apis = {\n        getSlotNames,\n        getSlot,\n        isShowing,\n        hideSlot,\n        hideAllSlots,\n        showSlot\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: get$3(detail.slotBehaviours),\n        apis\n      };\n    };\n    const slotApis = map$1({\n      getSlotNames: (apis, c) => apis.getSlotNames(c),\n      getSlot: (apis, c, key) => apis.getSlot(c, key),\n      isShowing: (apis, c, key) => apis.isShowing(c, key),\n      hideSlot: (apis, c, key) => apis.hideSlot(c, key),\n      hideAllSlots: (apis, c) => apis.hideAllSlots(c),\n      showSlot: (apis, c, key) => apis.showSlot(c, key)\n    }, value => makeApi(value));\n    const SlotContainer = {\n      ...slotApis,\n      ...{ sketch }\n    };\n\n    const sidebarSchema = objOf([\n      optionalIcon,\n      optionalTooltip,\n      defaultedFunction('onShow', noop),\n      defaultedFunction('onHide', noop),\n      onSetup\n    ]);\n    const createSidebar = spec => asRaw('sidebar', sidebarSchema, spec);\n\n    const setup$8 = editor => {\n      const {sidebars} = editor.ui.registry.getAll();\n      each$1(keys(sidebars), name => {\n        const spec = sidebars[name];\n        const isActive = () => is$1(Optional.from(editor.queryCommandValue('ToggleSidebar')), name);\n        editor.ui.registry.addToggleButton(name, {\n          icon: spec.icon,\n          tooltip: spec.tooltip,\n          onAction: buttonApi => {\n            editor.execCommand('ToggleSidebar', false, name);\n            buttonApi.setActive(isActive());\n          },\n          onSetup: buttonApi => {\n            buttonApi.setActive(isActive());\n            const handleToggle = () => buttonApi.setActive(isActive());\n            editor.on('ToggleSidebar', handleToggle);\n            return () => {\n              editor.off('ToggleSidebar', handleToggle);\n            };\n          }\n        });\n      });\n    };\n    const getApi = comp => ({ element: () => comp.element.dom });\n    const makePanels = (parts, panelConfigs) => {\n      const specs = map$2(keys(panelConfigs), name => {\n        const spec = panelConfigs[name];\n        const bridged = getOrDie(createSidebar(spec));\n        return {\n          name,\n          getApi,\n          onSetup: bridged.onSetup,\n          onShow: bridged.onShow,\n          onHide: bridged.onHide\n        };\n      });\n      return map$2(specs, spec => {\n        const editorOffCell = Cell(noop);\n        return parts.slot(spec.name, {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane']\n          },\n          behaviours: SimpleBehaviours.unnamedEvents([\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell),\n            run$1(slotVisibility(), (sidepanel, se) => {\n              const data = se.event;\n              const optSidePanelSpec = find$5(specs, config => config.name === data.name);\n              optSidePanelSpec.each(sidePanelSpec => {\n                const handler = data.visible ? sidePanelSpec.onShow : sidePanelSpec.onHide;\n                handler(sidePanelSpec.getApi(sidepanel));\n              });\n            })\n          ])\n        });\n      });\n    };\n    const makeSidebar = panelConfigs => SlotContainer.sketch(parts => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-sidebar__pane-container']\n      },\n      components: makePanels(parts, panelConfigs),\n      slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(slotContainer => SlotContainer.hideAllSlots(slotContainer))])\n    }));\n    const setSidebar = (sidebar, panelConfigs, showSidebar) => {\n      const optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(slider => {\n        Replacing.set(slider, [makeSidebar(panelConfigs)]);\n        const configKey = showSidebar === null || showSidebar === void 0 ? void 0 : showSidebar.toLowerCase();\n        if (isString(configKey) && has$2(panelConfigs, configKey)) {\n          Composing.getCurrent(slider).each(slotContainer => {\n            SlotContainer.showSlot(slotContainer, configKey);\n            Sliding.immediateGrow(slider);\n            remove$6(slider.element, 'width');\n            updateSidebarRoleOnToggle(sidebar.element, 'region');\n          });\n        }\n      });\n    };\n    const updateSidebarRoleOnToggle = (sidebar, sidebarState) => {\n      set$9(sidebar, 'role', sidebarState);\n    };\n    const toggleSidebar = (sidebar, name) => {\n      const optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(slider => {\n        const optSlotContainer = Composing.getCurrent(slider);\n        optSlotContainer.each(slotContainer => {\n          if (Sliding.hasGrown(slider)) {\n            if (SlotContainer.isShowing(slotContainer, name)) {\n              Sliding.shrink(slider);\n              updateSidebarRoleOnToggle(sidebar.element, 'presentation');\n            } else {\n              SlotContainer.hideAllSlots(slotContainer);\n              SlotContainer.showSlot(slotContainer, name);\n              updateSidebarRoleOnToggle(sidebar.element, 'region');\n            }\n          } else {\n            SlotContainer.hideAllSlots(slotContainer);\n            SlotContainer.showSlot(slotContainer, name);\n            Sliding.grow(slider);\n            updateSidebarRoleOnToggle(sidebar.element, 'region');\n          }\n        });\n      });\n    };\n    const whichSidebar = sidebar => {\n      const optSlider = Composing.getCurrent(sidebar);\n      return optSlider.bind(slider => {\n        const sidebarOpen = Sliding.isGrowing(slider) || Sliding.hasGrown(slider);\n        if (sidebarOpen) {\n          const optSlotContainer = Composing.getCurrent(slider);\n          return optSlotContainer.bind(slotContainer => find$5(SlotContainer.getSlotNames(slotContainer), name => SlotContainer.isShowing(slotContainer, name)));\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    const fixSize = generate$6('FixSizeEvent');\n    const autoSize = generate$6('AutoSizeEvent');\n    const renderSidebar = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        classes: ['tox-sidebar'],\n        attributes: { role: 'presentation' }\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__slider']\n          },\n          components: [],\n          behaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({}),\n            Sliding.config({\n              dimension: { property: 'width' },\n              closedClass: 'tox-sidebar--sliding-closed',\n              openClass: 'tox-sidebar--sliding-open',\n              shrinkingClass: 'tox-sidebar--sliding-shrinking',\n              growingClass: 'tox-sidebar--sliding-growing',\n              onShrunk: slider => {\n                const optSlotContainer = Composing.getCurrent(slider);\n                optSlotContainer.each(SlotContainer.hideAllSlots);\n                emit(slider, autoSize);\n              },\n              onGrown: slider => {\n                emit(slider, autoSize);\n              },\n              onStartGrow: slider => {\n                emitWith(slider, fixSize, { width: getRaw(slider.element, 'width').getOr('') });\n              },\n              onStartShrink: slider => {\n                emitWith(slider, fixSize, { width: get$c(slider.element) + 'px' });\n              }\n            }),\n            Replacing.config({}),\n            Composing.config({\n              find: comp => {\n                const children = Replacing.contents(comp);\n                return head(children);\n              }\n            })\n          ])\n        }],\n      behaviours: derive$1([\n        ComposingConfigs.childAt(0),\n        config('sidebar-sliding-events', [\n          run$1(fixSize, (comp, se) => {\n            set$8(comp.element, 'width', se.event.width);\n          }),\n          run$1(autoSize, (comp, _se) => {\n            remove$6(comp.element, 'width');\n          })\n        ])\n      ])\n    });\n\n    const block = (component, config, state, getBusySpec) => {\n      set$9(component.element, 'aria-busy', true);\n      const root = config.getRoot(component).getOr(component);\n      const blockerBehaviours = derive$1([\n        Keying.config({\n          mode: 'special',\n          onTab: () => Optional.some(true),\n          onShiftTab: () => Optional.some(true)\n        }),\n        Focusing.config({})\n      ]);\n      const blockSpec = getBusySpec(root, blockerBehaviours);\n      const blocker = root.getSystem().build(blockSpec);\n      Replacing.append(root, premade(blocker));\n      if (blocker.hasConfigured(Keying) && config.focus) {\n        Keying.focusIn(blocker);\n      }\n      if (!state.isBlocked()) {\n        config.onBlock(component);\n      }\n      state.blockWith(() => Replacing.remove(root, blocker));\n    };\n    const unblock = (component, config, state) => {\n      remove$7(component.element, 'aria-busy');\n      if (state.isBlocked()) {\n        config.onUnblock(component);\n      }\n      state.clear();\n    };\n\n    var BlockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        block: block,\n        unblock: unblock\n    });\n\n    var BlockingSchema = [\n      defaultedFunction('getRoot', Optional.none),\n      defaultedBoolean('focus', true),\n      onHandler('onBlock'),\n      onHandler('onUnblock')\n    ];\n\n    const init$4 = () => {\n      const blocker = destroyable();\n      const blockWith = destroy => {\n        blocker.set({ destroy });\n      };\n      return nu$8({\n        readState: blocker.isSet,\n        blockWith,\n        clear: blocker.clear,\n        isBlocked: blocker.isSet\n      });\n    };\n\n    var BlockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$4\n    });\n\n    const Blocking = create$4({\n      fields: BlockingSchema,\n      name: 'blocking',\n      apis: BlockingApis,\n      state: BlockingState\n    });\n\n    const getAttrs = elem => {\n      const attributes = elem.dom.attributes !== undefined ? elem.dom.attributes : [];\n      return foldl(attributes, (b, attr) => {\n        if (attr.name === 'class') {\n          return b;\n        } else {\n          return {\n            ...b,\n            [attr.name]: attr.value\n          };\n        }\n      }, {});\n    };\n    const getClasses = elem => Array.prototype.slice.call(elem.dom.classList, 0);\n    const fromHtml = html => {\n      const elem = SugarElement.fromHtml(html);\n      const children$1 = children(elem);\n      const attrs = getAttrs(elem);\n      const classes = getClasses(elem);\n      const contents = children$1.length === 0 ? {} : { innerHtml: get$9(elem) };\n      return {\n        tag: name$3(elem),\n        classes,\n        attributes: attrs,\n        ...contents\n      };\n    };\n\n    const getBusySpec$1 = providerBackstage => (_root, _behaviours) => ({\n      dom: {\n        tag: 'div',\n        attributes: {\n          'aria-label': providerBackstage.translate('Loading...'),\n          'tabindex': '0'\n        },\n        classes: ['tox-throbber__busy-spinner']\n      },\n      components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n    });\n    const focusBusyComponent = throbber => Composing.getCurrent(throbber).each(comp => focus$3(comp.element));\n    const toggleEditorTabIndex = (editor, state) => {\n      const tabIndexAttr = 'tabindex';\n      const dataTabIndexAttr = `data-mce-${ tabIndexAttr }`;\n      Optional.from(editor.iframeElement).map(SugarElement.fromDom).each(iframe => {\n        if (state) {\n          getOpt(iframe, tabIndexAttr).each(tabIndex => set$9(iframe, dataTabIndexAttr, tabIndex));\n          set$9(iframe, tabIndexAttr, -1);\n        } else {\n          remove$7(iframe, tabIndexAttr);\n          getOpt(iframe, dataTabIndexAttr).each(tabIndex => {\n            set$9(iframe, tabIndexAttr, tabIndex);\n            remove$7(iframe, dataTabIndexAttr);\n          });\n        }\n      });\n    };\n    const toggleThrobber = (editor, comp, state, providerBackstage) => {\n      const element = comp.element;\n      toggleEditorTabIndex(editor, state);\n      if (state) {\n        Blocking.block(comp, getBusySpec$1(providerBackstage));\n        remove$6(element, 'display');\n        remove$7(element, 'aria-hidden');\n        if (editor.hasFocus()) {\n          focusBusyComponent(comp);\n        }\n      } else {\n        const throbberFocus = Composing.getCurrent(comp).exists(busyComp => hasFocus(busyComp.element));\n        Blocking.unblock(comp);\n        set$8(element, 'display', 'none');\n        set$9(element, 'aria-hidden', 'true');\n        if (throbberFocus) {\n          editor.focus();\n        }\n      }\n    };\n    const renderThrobber = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        attributes: { 'aria-hidden': 'true' },\n        classes: ['tox-throbber'],\n        styles: { display: 'none' }\n      },\n      behaviours: derive$1([\n        Replacing.config({}),\n        Blocking.config({ focus: false }),\n        Composing.config({ find: comp => head(comp.components()) })\n      ]),\n      components: []\n    });\n    const isFocusEvent = event => event.type === 'focusin';\n    const isPasteBinTarget = event => {\n      if (isFocusEvent(event)) {\n        const node = event.composed ? head(event.composedPath()) : Optional.from(event.target);\n        return node.map(SugarElement.fromDom).filter(isElement$1).exists(targetElm => has(targetElm, 'mce-pastebin'));\n      } else {\n        return false;\n      }\n    };\n    const setup$7 = (editor, lazyThrobber, sharedBackstage) => {\n      const throbberState = Cell(false);\n      const timer = value$2();\n      const stealFocus = e => {\n        if (throbberState.get() && !isPasteBinTarget(e)) {\n          e.preventDefault();\n          focusBusyComponent(lazyThrobber());\n          editor.editorManager.setActive(editor);\n        }\n      };\n      if (!editor.inline) {\n        editor.on('PreInit', () => {\n          editor.dom.bind(editor.getWin(), 'focusin', stealFocus);\n          editor.on('BeforeExecCommand', e => {\n            if (e.command.toLowerCase() === 'mcefocus' && e.value !== true) {\n              stealFocus(e);\n            }\n          });\n        });\n      }\n      const toggle = state => {\n        if (state !== throbberState.get()) {\n          throbberState.set(state);\n          toggleThrobber(editor, lazyThrobber(), state, sharedBackstage.providers);\n          fireAfterProgressState(editor, state);\n        }\n      };\n      editor.on('ProgressState', e => {\n        timer.on(clearTimeout);\n        if (isNumber(e.time)) {\n          const timerId = global$9.setEditorTimeout(editor, () => toggle(e.state), e.time);\n          timer.set(timerId);\n        } else {\n          toggle(e.state);\n          timer.clear();\n        }\n      });\n    };\n\n    const generate$1 = (xs, f) => {\n      const init = {\n        len: 0,\n        list: []\n      };\n      const r = foldl(xs, (b, a) => {\n        const value = f(a, b.len);\n        return value.fold(constant$1(b), v => ({\n          len: v.finish,\n          list: b.list.concat([v])\n        }));\n      }, init);\n      return r.list;\n    };\n\n    const output = (within, extra, withinWidth) => ({\n      within,\n      extra,\n      withinWidth\n    });\n    const apportion = (units, total, len) => {\n      const parray = generate$1(units, (unit, current) => {\n        const width = len(unit);\n        return Optional.some({\n          element: unit,\n          start: current,\n          finish: current + width,\n          width\n        });\n      });\n      const within = filter$2(parray, unit => unit.finish <= total);\n      const withinWidth = foldr(within, (acc, el) => acc + el.width, 0);\n      const extra = parray.slice(within.length);\n      return {\n        within,\n        extra,\n        withinWidth\n      };\n    };\n    const toUnit = parray => map$2(parray, unit => unit.element);\n    const fitLast = (within, extra, withinWidth) => {\n      const fits = toUnit(within.concat(extra));\n      return output(fits, [], withinWidth);\n    };\n    const overflow = (within, extra, overflower, withinWidth) => {\n      const fits = toUnit(within).concat([overflower]);\n      return output(fits, toUnit(extra), withinWidth);\n    };\n    const fitAll = (within, extra, withinWidth) => output(toUnit(within), [], withinWidth);\n    const tryFit = (total, units, len) => {\n      const divide = apportion(units, total, len);\n      return divide.extra.length === 0 ? Optional.some(divide) : Optional.none();\n    };\n    const partition = (total, units, len, overflower) => {\n      const divide = tryFit(total, units, len).getOrThunk(() => apportion(units, total - len(overflower), len));\n      const within = divide.within;\n      const extra = divide.extra;\n      const withinWidth = divide.withinWidth;\n      if (extra.length === 1 && extra[0].width <= len(overflower)) {\n        return fitLast(within, extra, withinWidth);\n      } else if (extra.length >= 1) {\n        return overflow(within, extra, overflower, withinWidth);\n      } else {\n        return fitAll(within, extra, withinWidth);\n      }\n    };\n\n    const setGroups$1 = (toolbar, storedGroups) => {\n      const bGroups = map$2(storedGroups, g => premade(g));\n      Toolbar.setGroups(toolbar, bGroups);\n    };\n    const findFocusedComp = comps => findMap(comps, comp => search(comp.element).bind(focusedElm => comp.getSystem().getByDom(focusedElm).toOptional()));\n    const refresh$2 = (toolbar, detail, setOverflow) => {\n      const builtGroups = detail.builtGroups.get();\n      if (builtGroups.length === 0) {\n        return;\n      }\n      const primary = getPartOrDie(toolbar, detail, 'primary');\n      const overflowGroup = Coupling.getCoupled(toolbar, 'overflowGroup');\n      set$8(primary.element, 'visibility', 'hidden');\n      const groups = builtGroups.concat([overflowGroup]);\n      const focusedComp = findFocusedComp(groups);\n      setOverflow([]);\n      setGroups$1(primary, groups);\n      const availableWidth = get$c(primary.element);\n      const overflows = partition(availableWidth, detail.builtGroups.get(), comp => get$c(comp.element), overflowGroup);\n      if (overflows.extra.length === 0) {\n        Replacing.remove(primary, overflowGroup);\n        setOverflow([]);\n      } else {\n        setGroups$1(primary, overflows.within);\n        setOverflow(overflows.extra);\n      }\n      remove$6(primary.element, 'visibility');\n      reflow(primary.element);\n      focusedComp.each(Focusing.focus);\n    };\n\n    const schema$c = constant$1([\n      field('splitToolbarBehaviours', [Coupling]),\n      customField('builtGroups', () => Cell([]))\n    ]);\n\n    const schema$b = constant$1([\n      markers$1(['overflowToggledClass']),\n      optionFunction('getOverflowBounds'),\n      required$1('lazySink'),\n      customField('overflowGroups', () => Cell([])),\n      onHandler('onOpened'),\n      onHandler('onClosed')\n    ].concat(schema$c()));\n    const parts$7 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      external({\n        schema: schema$e(),\n        name: 'overflow'\n      }),\n      external({ name: 'overflow-button' }),\n      external({ name: 'overflow-group' })\n    ]);\n\n    const expandable = constant$1((element, available) => {\n      setMax(element, Math.floor(available));\n    });\n\n    const schema$a = constant$1([\n      markers$1(['toggledClass']),\n      required$1('lazySink'),\n      requiredFunction('fetch'),\n      optionFunction('getBounds'),\n      optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n      schema$y(),\n      onHandler('onToggled')\n    ]);\n    const parts$6 = constant$1([\n      external({\n        name: 'button',\n        overrides: detail => ({\n          dom: { attributes: { 'aria-haspopup': 'true' } },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleClass: detail.markers.toggledClass,\n              aria: { mode: 'expanded' },\n              toggleOnExecute: false,\n              onToggled: detail.onToggled\n            })])\n        })\n      }),\n      external({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'toolbar',\n        overrides: detail => {\n          return {\n            toolbarBehaviours: derive$1([Keying.config({\n                mode: 'cyclic',\n                onEscape: comp => {\n                  getPart(comp, detail, 'button').each(Focusing.focus);\n                  return Optional.none();\n                }\n              })])\n          };\n        }\n      })\n    ]);\n\n    const shouldSkipFocus = value$2();\n    const toggleWithoutFocusing = (button, externals) => {\n      shouldSkipFocus.set(true);\n      toggle(button, externals);\n      shouldSkipFocus.clear();\n    };\n    const toggle = (button, externals) => {\n      const toolbarSandbox = Coupling.getCoupled(button, 'toolbarSandbox');\n      if (Sandboxing.isOpen(toolbarSandbox)) {\n        Sandboxing.close(toolbarSandbox);\n      } else {\n        Sandboxing.open(toolbarSandbox, externals.toolbar());\n      }\n    };\n    const position = (button, toolbar, detail, layouts) => {\n      const bounds = detail.getBounds.map(bounder => bounder());\n      const sink = detail.lazySink(button).getOrDie();\n      Positioning.positionWithinBounds(sink, toolbar, {\n        anchor: {\n          type: 'hotspot',\n          hotspot: button,\n          layouts,\n          overrides: { maxWidthFunction: expandable() }\n        }\n      }, bounds);\n    };\n    const setGroups = (button, toolbar, detail, layouts, groups) => {\n      Toolbar.setGroups(toolbar, groups);\n      position(button, toolbar, detail, layouts);\n      Toggling.on(button);\n    };\n    const makeSandbox = (button, spec, detail) => {\n      const ariaControls = manager();\n      const onOpen = (sandbox, toolbar) => {\n        const skipFocus = shouldSkipFocus.get().getOr(false);\n        detail.fetch().get(groups => {\n          setGroups(button, toolbar, detail, spec.layouts, groups);\n          ariaControls.link(button.element);\n          if (!skipFocus) {\n            Keying.focusIn(toolbar);\n          }\n        });\n      };\n      const onClose = () => {\n        Toggling.off(button);\n        if (!shouldSkipFocus.get().getOr(false)) {\n          Focusing.focus(button);\n        }\n        ariaControls.unlink(button.element);\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { id: ariaControls.id }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onEscape: comp => {\n              Sandboxing.close(comp);\n              return Optional.some(true);\n            }\n          }),\n          Sandboxing.config({\n            onOpen,\n            onClose,\n            isPartOf: (container, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOf$1(button, queryElem);\n            },\n            getAttachPoint: () => {\n              return detail.lazySink(button).getOrDie();\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({\n                isExtraPart: never,\n                ...detail.fireDismissalEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({})\n              }),\n              ...receivingChannel({\n                doReposition: () => {\n                  Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n                    position(button, toolbar, detail, spec.layouts);\n                  });\n                }\n              })\n            }\n          })\n        ])\n      };\n    };\n    const factory$c = (detail, components, spec, externals) => ({\n      ...Button.sketch({\n        ...externals.button(),\n        action: button => {\n          toggle(button, externals);\n        },\n        buttonBehaviours: SketchBehaviours.augment({ dump: externals.button().buttonBehaviours }, [Coupling.config({\n            others: {\n              toolbarSandbox: button => {\n                return makeSandbox(button, spec, detail);\n              }\n            }\n          })])\n      }),\n      apis: {\n        setGroups: (button, groups) => {\n          Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n            setGroups(button, toolbar, detail, spec.layouts, groups);\n          });\n        },\n        reposition: button => {\n          Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n            position(button, toolbar, detail, spec.layouts);\n          });\n        },\n        toggle: button => {\n          toggle(button, externals);\n        },\n        toggleWithoutFocusing: button => {\n          toggleWithoutFocusing(button, externals);\n        },\n        getToolbar: button => {\n          return Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox'));\n        },\n        isOpen: button => {\n          return Sandboxing.isOpen(Coupling.getCoupled(button, 'toolbarSandbox'));\n        }\n      }\n    });\n    const FloatingToolbarButton = composite({\n      name: 'FloatingToolbarButton',\n      factory: factory$c,\n      configFields: schema$a(),\n      partFields: parts$6(),\n      apis: {\n        setGroups: (apis, button, groups) => {\n          apis.setGroups(button, groups);\n        },\n        reposition: (apis, button) => {\n          apis.reposition(button);\n        },\n        toggle: (apis, button) => {\n          apis.toggle(button);\n        },\n        toggleWithoutFocusing: (apis, button) => {\n          apis.toggleWithoutFocusing(button);\n        },\n        getToolbar: (apis, button) => apis.getToolbar(button),\n        isOpen: (apis, button) => apis.isOpen(button)\n      }\n    });\n\n    const schema$9 = constant$1([\n      required$1('items'),\n      markers$1(['itemSelector']),\n      field('tgroupBehaviours', [Keying])\n    ]);\n    const parts$5 = constant$1([group({\n        name: 'items',\n        unit: 'item'\n      })]);\n\n    const factory$b = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: augment(detail.tgroupBehaviours, [Keying.config({\n          mode: 'flow',\n          selector: detail.markers.itemSelector\n        })]),\n      domModification: { attributes: { role: 'toolbar' } }\n    });\n    const ToolbarGroup = composite({\n      name: 'ToolbarGroup',\n      configFields: schema$9(),\n      partFields: parts$5(),\n      factory: factory$b\n    });\n\n    const buildGroups = comps => map$2(comps, g => premade(g));\n    const refresh$1 = (toolbar, memFloatingToolbarButton, detail) => {\n      refresh$2(toolbar, detail, overflowGroups => {\n        detail.overflowGroups.set(overflowGroups);\n        memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n          FloatingToolbarButton.setGroups(floatingToolbarButton, buildGroups(overflowGroups));\n        });\n      });\n    };\n    const factory$a = (detail, components, spec, externals) => {\n      const memFloatingToolbarButton = record(FloatingToolbarButton.sketch({\n        fetch: () => Future.nu(resolve => {\n          resolve(buildGroups(detail.overflowGroups.get()));\n        }),\n        layouts: {\n          onLtr: () => [\n            southwest$2,\n            southeast$2\n          ],\n          onRtl: () => [\n            southeast$2,\n            southwest$2\n          ],\n          onBottomLtr: () => [\n            northwest$2,\n            northeast$2\n          ],\n          onBottomRtl: () => [\n            northeast$2,\n            northwest$2\n          ]\n        },\n        getBounds: spec.getOverflowBounds,\n        lazySink: detail.lazySink,\n        fireDismissalEventInstead: {},\n        markers: { toggledClass: detail.markers.overflowToggledClass },\n        parts: {\n          button: externals['overflow-button'](),\n          toolbar: externals.overflow()\n        },\n        onToggled: (comp, state) => detail[state ? 'onOpened' : 'onClosed'](comp)\n      }));\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.splitToolbarBehaviours, [Coupling.config({\n            others: {\n              overflowGroup: () => {\n                return ToolbarGroup.sketch({\n                  ...externals['overflow-group'](),\n                  items: [memFloatingToolbarButton.asSpec()]\n                });\n              }\n            }\n          })]),\n        apis: {\n          setGroups: (toolbar, groups) => {\n            detail.builtGroups.set(map$2(groups, toolbar.getSystem().build));\n            refresh$1(toolbar, memFloatingToolbarButton, detail);\n          },\n          refresh: toolbar => refresh$1(toolbar, memFloatingToolbarButton, detail),\n          toggle: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n              FloatingToolbarButton.toggle(floatingToolbarButton);\n            });\n          },\n          toggleWithoutFocusing: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(FloatingToolbarButton.toggleWithoutFocusing);\n          },\n          isOpen: toolbar => memFloatingToolbarButton.getOpt(toolbar).map(FloatingToolbarButton.isOpen).getOr(false),\n          reposition: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n              FloatingToolbarButton.reposition(floatingToolbarButton);\n            });\n          },\n          getOverflow: toolbar => memFloatingToolbarButton.getOpt(toolbar).bind(FloatingToolbarButton.getToolbar)\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const SplitFloatingToolbar = composite({\n      name: 'SplitFloatingToolbar',\n      configFields: schema$b(),\n      partFields: parts$7(),\n      factory: factory$a,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: (apis, toolbar) => {\n          apis.refresh(toolbar);\n        },\n        reposition: (apis, toolbar) => {\n          apis.reposition(toolbar);\n        },\n        toggle: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        toggleWithoutFocusing: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        isOpen: (apis, toolbar) => apis.isOpen(toolbar),\n        getOverflow: (apis, toolbar) => apis.getOverflow(toolbar)\n      }\n    });\n\n    const schema$8 = constant$1([\n      markers$1([\n        'closedClass',\n        'openClass',\n        'shrinkingClass',\n        'growingClass',\n        'overflowToggledClass'\n      ]),\n      onHandler('onOpened'),\n      onHandler('onClosed')\n    ].concat(schema$c()));\n    const parts$4 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'overflow',\n        overrides: detail => {\n          return {\n            toolbarBehaviours: derive$1([\n              Sliding.config({\n                dimension: { property: 'height' },\n                closedClass: detail.markers.closedClass,\n                openClass: detail.markers.openClass,\n                shrinkingClass: detail.markers.shrinkingClass,\n                growingClass: detail.markers.growingClass,\n                onShrunk: comp => {\n                  getPart(comp, detail, 'overflow-button').each(button => {\n                    Toggling.off(button);\n                    Focusing.focus(button);\n                  });\n                  detail.onClosed(comp);\n                },\n                onGrown: comp => {\n                  Keying.focusIn(comp);\n                  detail.onOpened(comp);\n                },\n                onStartGrow: comp => {\n                  getPart(comp, detail, 'overflow-button').each(Toggling.on);\n                }\n              }),\n              Keying.config({\n                mode: 'acyclic',\n                onEscape: comp => {\n                  getPart(comp, detail, 'overflow-button').each(Focusing.focus);\n                  return Optional.some(true);\n                }\n              })\n            ])\n          };\n        }\n      }),\n      external({\n        name: 'overflow-button',\n        overrides: detail => ({\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleClass: detail.markers.overflowToggledClass,\n              aria: { mode: 'pressed' },\n              toggleOnExecute: false\n            })])\n        })\n      }),\n      external({ name: 'overflow-group' })\n    ]);\n\n    const isOpen = (toolbar, detail) => getPart(toolbar, detail, 'overflow').map(Sliding.hasGrown).getOr(false);\n    const toggleToolbar = (toolbar, detail) => {\n      getPart(toolbar, detail, 'overflow-button').bind(() => getPart(toolbar, detail, 'overflow')).each(overf => {\n        refresh(toolbar, detail);\n        Sliding.toggleGrow(overf);\n      });\n    };\n    const refresh = (toolbar, detail) => {\n      getPart(toolbar, detail, 'overflow').each(overflow => {\n        refresh$2(toolbar, detail, groups => {\n          const builtGroups = map$2(groups, g => premade(g));\n          Toolbar.setGroups(overflow, builtGroups);\n        });\n        getPart(toolbar, detail, 'overflow-button').each(button => {\n          if (Sliding.hasGrown(overflow)) {\n            Toggling.on(button);\n          }\n        });\n        Sliding.refresh(overflow);\n      });\n    };\n    const factory$9 = (detail, components, spec, externals) => {\n      const toolbarToggleEvent = 'alloy.toolbar.toggle';\n      const doSetGroups = (toolbar, groups) => {\n        const built = map$2(groups, toolbar.getSystem().build);\n        detail.builtGroups.set(built);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.splitToolbarBehaviours, [\n          Coupling.config({\n            others: {\n              overflowGroup: toolbar => {\n                return ToolbarGroup.sketch({\n                  ...externals['overflow-group'](),\n                  items: [Button.sketch({\n                      ...externals['overflow-button'](),\n                      action: _button => {\n                        emit(toolbar, toolbarToggleEvent);\n                      }\n                    })]\n                });\n              }\n            }\n          }),\n          config('toolbar-toggle-events', [run$1(toolbarToggleEvent, toolbar => {\n              toggleToolbar(toolbar, detail);\n            })])\n        ]),\n        apis: {\n          setGroups: (toolbar, groups) => {\n            doSetGroups(toolbar, groups);\n            refresh(toolbar, detail);\n          },\n          refresh: toolbar => refresh(toolbar, detail),\n          toggle: toolbar => toggleToolbar(toolbar, detail),\n          isOpen: toolbar => isOpen(toolbar, detail)\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const SplitSlidingToolbar = composite({\n      name: 'SplitSlidingToolbar',\n      configFields: schema$8(),\n      partFields: parts$4(),\n      factory: factory$9,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: (apis, toolbar) => {\n          apis.refresh(toolbar);\n        },\n        toggle: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        isOpen: (apis, toolbar) => apis.isOpen(toolbar)\n      }\n    });\n\n    const renderToolbarGroupCommon = toolbarGroup => {\n      const attributes = toolbarGroup.title.fold(() => ({}), title => ({ attributes: { title } }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__group'],\n          ...attributes\n        },\n        components: [ToolbarGroup.parts.items({})],\n        items: toolbarGroup.items,\n        markers: { itemSelector: '*:not(.tox-split-button) > .tox-tbtn:not([disabled]), ' + '.tox-split-button:not([disabled]), ' + '.tox-toolbar-nav-js:not([disabled]), ' + '.tox-number-input:not([disabled])' },\n        tgroupBehaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n    const renderToolbarGroup = toolbarGroup => ToolbarGroup.sketch(renderToolbarGroupCommon(toolbarGroup));\n    const getToolbarBehaviours = (toolbarSpec, modeName) => {\n      const onAttached = runOnAttached(component => {\n        const groups = map$2(toolbarSpec.initGroups, renderToolbarGroup);\n        Toolbar.setGroups(component, groups);\n      });\n      return derive$1([\n        DisablingConfigs.toolbarButton(toolbarSpec.providers.isDisabled),\n        receivingConfig(),\n        Keying.config({\n          mode: modeName,\n          onEscape: toolbarSpec.onEscape,\n          selector: '.tox-toolbar__group'\n        }),\n        config('toolbar-events', [onAttached])\n      ]);\n    };\n    const renderMoreToolbarCommon = toolbarSpec => {\n      const modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return {\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        parts: {\n          'overflow-group': renderToolbarGroupCommon({\n            title: Optional.none(),\n            items: []\n          }),\n          'overflow-button': renderIconButtonSpec({\n            name: 'more',\n            icon: Optional.some('more-drawer'),\n            enabled: true,\n            tooltip: Optional.some('More...'),\n            primary: false,\n            buttonType: Optional.none(),\n            borderless: false\n          }, Optional.none(), toolbarSpec.providers)\n        },\n        splitToolbarBehaviours: getToolbarBehaviours(toolbarSpec, modeName)\n      };\n    };\n    const renderFloatingMoreToolbar = toolbarSpec => {\n      const baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      const overflowXOffset = 4;\n      const primary = SplitFloatingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      return SplitFloatingToolbar.sketch({\n        ...baseSpec,\n        lazySink: toolbarSpec.getSink,\n        getOverflowBounds: () => {\n          const headerElem = toolbarSpec.moreDrawerData.lazyHeader().element;\n          const headerBounds = absolute$2(headerElem);\n          const docElem = documentElement(headerElem);\n          const docBounds = absolute$2(docElem);\n          const height = Math.max(docElem.dom.scrollHeight, docBounds.height);\n          return bounds(headerBounds.x + overflowXOffset, docBounds.y, headerBounds.width - overflowXOffset * 2, height);\n        },\n        parts: {\n          ...baseSpec.parts,\n          overflow: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes: toolbarSpec.attributes\n            }\n          }\n        },\n        components: [primary],\n        markers: { overflowToggledClass: 'tox-tbtn--enabled' },\n        onOpened: comp => toolbarSpec.onToggled(comp, true),\n        onClosed: comp => toolbarSpec.onToggled(comp, false)\n      });\n    };\n    const renderSlidingMoreToolbar = toolbarSpec => {\n      const primary = SplitSlidingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      const overflow = SplitSlidingToolbar.parts.overflow({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__overflow']\n        }\n      });\n      const baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      return SplitSlidingToolbar.sketch({\n        ...baseSpec,\n        components: [\n          primary,\n          overflow\n        ],\n        markers: {\n          openClass: 'tox-toolbar__overflow--open',\n          closedClass: 'tox-toolbar__overflow--closed',\n          growingClass: 'tox-toolbar__overflow--growing',\n          shrinkingClass: 'tox-toolbar__overflow--shrinking',\n          overflowToggledClass: 'tox-tbtn--enabled'\n        },\n        onOpened: comp => {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'opened' });\n          toolbarSpec.onToggled(comp, true);\n        },\n        onClosed: comp => {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'closed' });\n          toolbarSpec.onToggled(comp, false);\n        }\n      });\n    };\n    const renderToolbar = toolbarSpec => {\n      const modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return Toolbar.sketch({\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar'].concat(toolbarSpec.type === ToolbarMode$1.scrolling ? ['tox-toolbar--scrolling'] : [])\n        },\n        components: [Toolbar.parts.groups({})],\n        toolbarBehaviours: getToolbarBehaviours(toolbarSpec, modeName)\n      });\n    };\n\n    const baseButtonFields = [\n      optionalText,\n      optionalIcon,\n      optionString('tooltip'),\n      defaultedStringEnum('buttonType', 'secondary', [\n        'primary',\n        'secondary'\n      ]),\n      defaultedBoolean('borderless', false),\n      requiredFunction('onAction')\n    ];\n    const normalButtonFields = [\n      ...baseButtonFields,\n      text$1,\n      requiredStringEnum('type', ['button'])\n    ];\n    const toggleButtonFields = [\n      ...baseButtonFields,\n      defaultedBoolean('active', false),\n      requiredStringEnum('type', ['togglebutton'])\n    ];\n    const schemaWithoutGroupButton = {\n      button: normalButtonFields,\n      togglebutton: toggleButtonFields\n    };\n    const groupFields = [\n      requiredStringEnum('type', ['group']),\n      defaultedArrayOf('buttons', [], choose$1('type', schemaWithoutGroupButton))\n    ];\n    const viewButtonSchema = choose$1('type', {\n      ...schemaWithoutGroupButton,\n      group: groupFields\n    });\n\n    const viewSchema = objOf([\n      defaultedArrayOf('buttons', [], viewButtonSchema),\n      requiredFunction('onShow'),\n      requiredFunction('onHide')\n    ]);\n    const createView = spec => asRaw('view', viewSchema, spec);\n\n    const renderButton = (spec, providers) => {\n      var _a, _b;\n      const isToggleButton = spec.type === 'togglebutton';\n      const optMemIcon = spec.icon.map(memIcon => renderReplaceableIconFromPack(memIcon, providers.icons)).map(record);\n      const getAction = () => comp => {\n        const setIcon = newIcon => {\n          optMemIcon.map(memIcon => memIcon.getOpt(comp).each(displayIcon => {\n            Replacing.set(displayIcon, [renderReplaceableIconFromPack(newIcon, providers.icons)]);\n          }));\n        };\n        const setActive = state => {\n          const elm = comp.element;\n          if (state) {\n            add$2(elm, 'tox-button--enabled');\n            set$9(elm, 'aria-pressed', true);\n          } else {\n            remove$2(elm, 'tox-button--enabled');\n            remove$7(elm, 'aria-pressed');\n          }\n        };\n        const isActive = () => has(comp.element, 'tox-button--enabled');\n        if (isToggleButton) {\n          return spec.onAction({\n            setIcon,\n            setActive,\n            isActive\n          });\n        }\n        if (spec.type === 'button') {\n          return spec.onAction({ setIcon });\n        }\n      };\n      const action = getAction();\n      const buttonSpec = {\n        ...spec,\n        name: isToggleButton ? spec.text.getOr(spec.icon.getOr('')) : (_a = spec.text) !== null && _a !== void 0 ? _a : spec.icon.getOr(''),\n        primary: spec.buttonType === 'primary',\n        buttonType: Optional.from(spec.buttonType),\n        tooltip: spec.tooltip,\n        icon: spec.icon,\n        enabled: true,\n        borderless: spec.borderless\n      };\n      const buttonTypeClasses = calculateClassesFromButtonType((_b = spec.buttonType) !== null && _b !== void 0 ? _b : 'secondary');\n      const optTranslatedText = isToggleButton ? spec.text.map(providers.translate) : Optional.some(providers.translate(spec.text));\n      const optTranslatedTextComponed = optTranslatedText.map(text$2);\n      const tooltipAttributes = buttonSpec.tooltip.or(optTranslatedText).map(tooltip => ({\n        'aria-label': providers.translate(tooltip),\n        'title': providers.translate(tooltip)\n      })).getOr({});\n      const optIconSpec = optMemIcon.map(memIcon => memIcon.asSpec());\n      const components = componentRenderPipeline([\n        optIconSpec,\n        optTranslatedTextComponed\n      ]);\n      const hasIconAndText = spec.icon.isSome() && optTranslatedTextComponed.isSome();\n      const dom = {\n        tag: 'button',\n        classes: buttonTypeClasses.concat(...spec.icon.isSome() && !hasIconAndText ? ['tox-button--icon'] : []).concat(...hasIconAndText ? ['tox-button--icon-and-text'] : []).concat(...spec.borderless ? ['tox-button--naked'] : []).concat(...spec.type === 'togglebutton' && spec.active ? ['tox-button--enabled'] : []),\n        attributes: tooltipAttributes\n      };\n      const extraBehaviours = [];\n      const iconButtonSpec = renderCommonSpec(buttonSpec, Optional.some(action), extraBehaviours, dom, components, providers);\n      return Button.sketch(iconButtonSpec);\n    };\n\n    const renderViewButton = (spec, providers) => renderButton(spec, providers);\n    const renderButtonsGroup = (spec, providers) => {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-view__toolbar__group']\n        },\n        components: map$2(spec.buttons, button => renderViewButton(button, providers))\n      };\n    };\n    const deviceDetection = detect$2().deviceType;\n    const isPhone = deviceDetection.isPhone();\n    const isTablet = deviceDetection.isTablet();\n    const renderViewHeader = spec => {\n      let hasGroups = false;\n      const endButtons = map$2(spec.buttons, btnspec => {\n        if (btnspec.type === 'group') {\n          hasGroups = true;\n          return renderButtonsGroup(btnspec, spec.providers);\n        } else {\n          return renderViewButton(btnspec, spec.providers);\n        }\n      });\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          classes: [\n            !hasGroups ? 'tox-view__header' : 'tox-view__toolbar',\n            ...isPhone || isTablet ? [\n              'tox-view--mobile',\n              'tox-view--scrolling'\n            ] : []\n          ]\n        },\n        behaviours: derive$1([\n          Focusing.config({}),\n          Keying.config({\n            mode: 'flow',\n            selector: 'button, .tox-button',\n            focusInside: FocusInsideModes.OnEnterOrSpaceMode\n          })\n        ]),\n        components: hasGroups ? endButtons : [\n          Container.sketch({\n            dom: {\n              tag: 'div',\n              classes: ['tox-view__header-start']\n            },\n            components: []\n          }),\n          Container.sketch({\n            dom: {\n              tag: 'div',\n              classes: ['tox-view__header-end']\n            },\n            components: endButtons\n          })\n        ]\n      };\n    };\n    const renderViewPane = spec => {\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-view__pane']\n        }\n      };\n    };\n    const factory$8 = (detail, components, _spec, _externals) => {\n      const apis = {\n        getPane: comp => parts$a.getPart(comp, detail, 'pane'),\n        getOnShow: _comp => detail.viewConfig.onShow,\n        getOnHide: _comp => detail.viewConfig.onHide\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis\n      };\n    };\n    var View = composite({\n      name: 'silver.View',\n      configFields: [required$1('viewConfig')],\n      partFields: [\n        optional({\n          factory: { sketch: renderViewHeader },\n          schema: [\n            required$1('buttons'),\n            required$1('providers')\n          ],\n          name: 'header'\n        }),\n        optional({\n          factory: { sketch: renderViewPane },\n          schema: [],\n          name: 'pane'\n        })\n      ],\n      factory: factory$8,\n      apis: {\n        getPane: (apis, comp) => apis.getPane(comp),\n        getOnShow: (apis, comp) => apis.getOnShow(comp),\n        getOnHide: (apis, comp) => apis.getOnHide(comp)\n      }\n    });\n\n    const makeViews = (parts, viewConfigs, providers) => {\n      return mapToArray(viewConfigs, (config, name) => {\n        const internalViewConfig = getOrDie(createView(config));\n        return parts.slot(name, View.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-view']\n          },\n          viewConfig: internalViewConfig,\n          components: [\n            ...internalViewConfig.buttons.length > 0 ? [View.parts.header({\n                buttons: internalViewConfig.buttons,\n                providers\n              })] : [],\n            View.parts.pane({})\n          ]\n        }));\n      });\n    };\n    const makeSlotContainer = (viewConfigs, providers) => SlotContainer.sketch(parts => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-view-wrap__slot-container']\n      },\n      components: makeViews(parts, viewConfigs, providers),\n      slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(slotContainer => SlotContainer.hideAllSlots(slotContainer))])\n    }));\n    const getCurrentName = slotContainer => {\n      return find$5(SlotContainer.getSlotNames(slotContainer), name => SlotContainer.isShowing(slotContainer, name));\n    };\n    const hideContainer = comp => {\n      const element = comp.element;\n      set$8(element, 'display', 'none');\n      set$9(element, 'aria-hidden', 'true');\n    };\n    const showContainer = comp => {\n      const element = comp.element;\n      remove$6(element, 'display');\n      remove$7(element, 'aria-hidden');\n    };\n    const makeViewInstanceApi = slot => ({ getContainer: constant$1(slot) });\n    const runOnPaneWithInstanceApi = (slotContainer, name, get) => {\n      SlotContainer.getSlot(slotContainer, name).each(view => {\n        View.getPane(view).each(pane => {\n          const onCallback = get(view);\n          onCallback(makeViewInstanceApi(pane.element.dom));\n        });\n      });\n    };\n    const runOnShow = (slotContainer, name) => runOnPaneWithInstanceApi(slotContainer, name, View.getOnShow);\n    const runOnHide = (slotContainer, name) => runOnPaneWithInstanceApi(slotContainer, name, View.getOnHide);\n    const factory$7 = (detail, spec) => {\n      const setViews = (comp, viewConfigs) => {\n        Replacing.set(comp, [makeSlotContainer(viewConfigs, spec.backstage.shared.providers)]);\n      };\n      const whichView = comp => {\n        return Composing.getCurrent(comp).bind(getCurrentName);\n      };\n      const toggleView = (comp, showMainView, hideMainView, name) => {\n        return Composing.getCurrent(comp).exists(slotContainer => {\n          const optCurrentSlotName = getCurrentName(slotContainer);\n          const isTogglingCurrentView = optCurrentSlotName.exists(current => name === current);\n          const exists = SlotContainer.getSlot(slotContainer, name).isSome();\n          if (exists) {\n            SlotContainer.hideAllSlots(slotContainer);\n            if (!isTogglingCurrentView) {\n              hideMainView();\n              showContainer(comp);\n              SlotContainer.showSlot(slotContainer, name);\n              runOnShow(slotContainer, name);\n            } else {\n              hideContainer(comp);\n              showMainView();\n            }\n            optCurrentSlotName.each(prevName => runOnHide(slotContainer, prevName));\n          }\n          return exists;\n        });\n      };\n      const apis = {\n        setViews,\n        whichView,\n        toggleView\n      };\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-view-wrap'],\n          attributes: { 'aria-hidden': 'true' },\n          styles: { display: 'none' }\n        },\n        components: [],\n        behaviours: derive$1([\n          Replacing.config({}),\n          Composing.config({\n            find: comp => {\n              const children = Replacing.contents(comp);\n              return head(children);\n            }\n          })\n        ]),\n        apis\n      };\n    };\n    var ViewWrapper = single({\n      factory: factory$7,\n      name: 'silver.ViewWrapper',\n      configFields: [required$1('backstage')],\n      apis: {\n        setViews: (apis, comp, views) => apis.setViews(comp, views),\n        toggleView: (apis, comp, outerContainer, editorCont, name) => apis.toggleView(comp, outerContainer, editorCont, name),\n        whichView: (apis, comp) => apis.whichView(comp)\n      }\n    });\n\n    const factory$6 = (detail, components, _spec) => {\n      let toolbarDrawerOpenState = false;\n      const apis = {\n        getSocket: comp => {\n          return parts$a.getPart(comp, detail, 'socket');\n        },\n        setSidebar: (comp, panelConfigs, showSidebar) => {\n          parts$a.getPart(comp, detail, 'sidebar').each(sidebar => setSidebar(sidebar, panelConfigs, showSidebar));\n        },\n        toggleSidebar: (comp, name) => {\n          parts$a.getPart(comp, detail, 'sidebar').each(sidebar => toggleSidebar(sidebar, name));\n        },\n        whichSidebar: comp => {\n          return parts$a.getPart(comp, detail, 'sidebar').bind(whichSidebar).getOrNull();\n        },\n        getHeader: comp => {\n          return parts$a.getPart(comp, detail, 'header');\n        },\n        getToolbar: comp => {\n          return parts$a.getPart(comp, detail, 'toolbar');\n        },\n        setToolbar: (comp, groups) => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            const renderedGroups = map$2(groups, renderToolbarGroup);\n            toolbar.getApis().setGroups(toolbar, renderedGroups);\n          });\n        },\n        setToolbars: (comp, toolbars) => {\n          parts$a.getPart(comp, detail, 'multiple-toolbar').each(mToolbar => {\n            const renderedToolbars = map$2(toolbars, g => map$2(g, renderToolbarGroup));\n            CustomList.setItems(mToolbar, renderedToolbars);\n          });\n        },\n        refreshToolbar: comp => {\n          const toolbar = parts$a.getPart(comp, detail, 'toolbar');\n          toolbar.each(toolbar => toolbar.getApis().refresh(toolbar));\n        },\n        toggleToolbarDrawer: comp => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            mapFrom(toolbar.getApis().toggle, toggle => toggle(toolbar));\n          });\n        },\n        toggleToolbarDrawerWithoutFocusing: comp => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            mapFrom(toolbar.getApis().toggleWithoutFocusing, toggleWithoutFocusing => toggleWithoutFocusing(toolbar));\n          });\n        },\n        isToolbarDrawerToggled: comp => {\n          return parts$a.getPart(comp, detail, 'toolbar').bind(toolbar => Optional.from(toolbar.getApis().isOpen).map(isOpen => isOpen(toolbar))).getOr(false);\n        },\n        getThrobber: comp => {\n          return parts$a.getPart(comp, detail, 'throbber');\n        },\n        focusToolbar: comp => {\n          const optToolbar = parts$a.getPart(comp, detail, 'toolbar').orThunk(() => parts$a.getPart(comp, detail, 'multiple-toolbar'));\n          optToolbar.each(toolbar => {\n            Keying.focusIn(toolbar);\n          });\n        },\n        setMenubar: (comp, menus) => {\n          parts$a.getPart(comp, detail, 'menubar').each(menubar => {\n            SilverMenubar.setMenus(menubar, menus);\n          });\n        },\n        focusMenubar: comp => {\n          parts$a.getPart(comp, detail, 'menubar').each(menubar => {\n            SilverMenubar.focus(menubar);\n          });\n        },\n        setViews: (comp, viewConfigs) => {\n          parts$a.getPart(comp, detail, 'viewWrapper').each(wrapper => {\n            ViewWrapper.setViews(wrapper, viewConfigs);\n          });\n        },\n        toggleView: (comp, name) => {\n          return parts$a.getPart(comp, detail, 'viewWrapper').exists(wrapper => ViewWrapper.toggleView(wrapper, () => apis.showMainView(comp), () => apis.hideMainView(comp), name));\n        },\n        whichView: comp => {\n          return parts$a.getPart(comp, detail, 'viewWrapper').bind(ViewWrapper.whichView).getOrNull();\n        },\n        hideMainView: comp => {\n          toolbarDrawerOpenState = apis.isToolbarDrawerToggled(comp);\n          if (toolbarDrawerOpenState) {\n            apis.toggleToolbarDrawer(comp);\n          }\n          parts$a.getPart(comp, detail, 'editorContainer').each(editorContainer => {\n            const element = editorContainer.element;\n            set$8(element, 'display', 'none');\n            set$9(element, 'aria-hidden', 'true');\n          });\n        },\n        showMainView: comp => {\n          if (toolbarDrawerOpenState) {\n            apis.toggleToolbarDrawer(comp);\n          }\n          parts$a.getPart(comp, detail, 'editorContainer').each(editorContainer => {\n            const element = editorContainer.element;\n            remove$6(element, 'display');\n            remove$7(element, 'aria-hidden');\n          });\n          apis.refreshToolbar(comp);\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis,\n        behaviours: detail.behaviours\n      };\n    };\n    const partMenubar = partType.optional({\n      factory: SilverMenubar,\n      name: 'menubar',\n      schema: [required$1('backstage')]\n    });\n    const toolbarFactory = spec => {\n      if (spec.type === ToolbarMode$1.sliding) {\n        return renderSlidingMoreToolbar;\n      } else if (spec.type === ToolbarMode$1.floating) {\n        return renderFloatingMoreToolbar;\n      } else {\n        return renderToolbar;\n      }\n    };\n    const partMultipleToolbar = partType.optional({\n      factory: {\n        sketch: spec => CustomList.sketch({\n          uid: spec.uid,\n          dom: spec.dom,\n          listBehaviours: derive$1([Keying.config({\n              mode: 'acyclic',\n              selector: '.tox-toolbar'\n            })]),\n          makeItem: () => renderToolbar({\n            type: spec.type,\n            uid: generate$6('multiple-toolbar-item'),\n            cyclicKeying: false,\n            initGroups: [],\n            providers: spec.providers,\n            onEscape: () => {\n              spec.onEscape();\n              return Optional.some(true);\n            }\n          }),\n          setupItem: (_mToolbar, tc, data, _index) => {\n            Toolbar.setGroups(tc, data);\n          },\n          shell: true\n        })\n      },\n      name: 'multiple-toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape')\n      ]\n    });\n    const partToolbar = partType.optional({\n      factory: {\n        sketch: spec => {\n          const renderer = toolbarFactory(spec);\n          const toolbarSpec = {\n            type: spec.type,\n            uid: spec.uid,\n            onEscape: () => {\n              spec.onEscape();\n              return Optional.some(true);\n            },\n            onToggled: (_comp, state) => spec.onToolbarToggled(state),\n            cyclicKeying: false,\n            initGroups: [],\n            getSink: spec.getSink,\n            providers: spec.providers,\n            moreDrawerData: {\n              lazyToolbar: spec.lazyToolbar,\n              lazyMoreButton: spec.lazyMoreButton,\n              lazyHeader: spec.lazyHeader\n            },\n            attributes: spec.attributes\n          };\n          return renderer(toolbarSpec);\n        }\n      },\n      name: 'toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape'),\n        required$1('getSink')\n      ]\n    });\n    const partHeader = partType.optional({\n      factory: { sketch: renderHeader },\n      name: 'header',\n      schema: [required$1('dom')]\n    });\n    const partPromotion = partType.optional({\n      factory: { sketch: renderPromotion },\n      name: 'promotion',\n      schema: [required$1('dom')]\n    });\n    const partSocket = partType.optional({\n      name: 'socket',\n      schema: [required$1('dom')]\n    });\n    const partSidebar = partType.optional({\n      factory: { sketch: renderSidebar },\n      name: 'sidebar',\n      schema: [required$1('dom')]\n    });\n    const partThrobber = partType.optional({\n      factory: { sketch: renderThrobber },\n      name: 'throbber',\n      schema: [required$1('dom')]\n    });\n    const partViewWrapper = partType.optional({\n      factory: ViewWrapper,\n      name: 'viewWrapper',\n      schema: [required$1('backstage')]\n    });\n    const renderEditorContainer = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        classes: ['tox-editor-container']\n      },\n      components: spec.components\n    });\n    const partEditorContainer = partType.optional({\n      factory: { sketch: renderEditorContainer },\n      name: 'editorContainer',\n      schema: []\n    });\n    var OuterContainer = composite({\n      name: 'OuterContainer',\n      factory: factory$6,\n      configFields: [\n        required$1('dom'),\n        required$1('behaviours')\n      ],\n      partFields: [\n        partHeader,\n        partMenubar,\n        partToolbar,\n        partMultipleToolbar,\n        partSocket,\n        partSidebar,\n        partPromotion,\n        partThrobber,\n        partViewWrapper,\n        partEditorContainer\n      ],\n      apis: {\n        getSocket: (apis, comp) => {\n          return apis.getSocket(comp);\n        },\n        setSidebar: (apis, comp, panelConfigs, showSidebar) => {\n          apis.setSidebar(comp, panelConfigs, showSidebar);\n        },\n        toggleSidebar: (apis, comp, name) => {\n          apis.toggleSidebar(comp, name);\n        },\n        whichSidebar: (apis, comp) => {\n          return apis.whichSidebar(comp);\n        },\n        getHeader: (apis, comp) => {\n          return apis.getHeader(comp);\n        },\n        getToolbar: (apis, comp) => {\n          return apis.getToolbar(comp);\n        },\n        setToolbar: (apis, comp, groups) => {\n          apis.setToolbar(comp, groups);\n        },\n        setToolbars: (apis, comp, toolbars) => {\n          apis.setToolbars(comp, toolbars);\n        },\n        refreshToolbar: (apis, comp) => {\n          return apis.refreshToolbar(comp);\n        },\n        toggleToolbarDrawer: (apis, comp) => {\n          apis.toggleToolbarDrawer(comp);\n        },\n        toggleToolbarDrawerWithoutFocusing: (apis, comp) => {\n          apis.toggleToolbarDrawerWithoutFocusing(comp);\n        },\n        isToolbarDrawerToggled: (apis, comp) => {\n          return apis.isToolbarDrawerToggled(comp);\n        },\n        getThrobber: (apis, comp) => {\n          return apis.getThrobber(comp);\n        },\n        setMenubar: (apis, comp, menus) => {\n          apis.setMenubar(comp, menus);\n        },\n        focusMenubar: (apis, comp) => {\n          apis.focusMenubar(comp);\n        },\n        focusToolbar: (apis, comp) => {\n          apis.focusToolbar(comp);\n        },\n        setViews: (apis, comp, views) => {\n          apis.setViews(comp, views);\n        },\n        toggleView: (apis, comp, name) => {\n          return apis.toggleView(comp, name);\n        },\n        whichView: (apis, comp) => {\n          return apis.whichView(comp);\n        }\n      }\n    });\n\n    const defaultMenubar = 'file edit view insert format tools table help';\n    const defaultMenus = {\n      file: {\n        title: 'File',\n        items: 'newdocument restoredraft | preview | export print | deleteallconversations'\n      },\n      edit: {\n        title: 'Edit',\n        items: 'undo redo | cut copy paste pastetext | selectall | searchreplace'\n      },\n      view: {\n        title: 'View',\n        items: 'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments'\n      },\n      insert: {\n        title: 'Insert',\n        items: 'image link media addcomment pageembed template inserttemplate codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime'\n      },\n      format: {\n        title: 'Format',\n        items: 'bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat'\n      },\n      tools: {\n        title: 'Tools',\n        items: 'spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate'\n      },\n      table: {\n        title: 'Table',\n        items: 'inserttable | cell row column | advtablesort | tableprops deletetable'\n      },\n      help: {\n        title: 'Help',\n        items: 'help'\n      }\n    };\n    const make = (menu, registry, editor) => {\n      const removedMenuItems = getRemovedMenuItems(editor).split(/[ ,]/);\n      return {\n        text: menu.title,\n        getItems: () => bind$3(menu.items, i => {\n          const itemName = i.toLowerCase();\n          if (itemName.trim().length === 0) {\n            return [];\n          } else if (exists(removedMenuItems, removedMenuItem => removedMenuItem === itemName)) {\n            return [];\n          } else if (itemName === 'separator' || itemName === '|') {\n            return [{ type: 'separator' }];\n          } else if (registry.menuItems[itemName]) {\n            return [registry.menuItems[itemName]];\n          } else {\n            return [];\n          }\n        })\n      };\n    };\n    const parseItemsString = items => {\n      return items.split(' ');\n    };\n    const identifyMenus = (editor, registry) => {\n      const rawMenuData = {\n        ...defaultMenus,\n        ...registry.menus\n      };\n      const userDefinedMenus = keys(registry.menus).length > 0;\n      const menubar = registry.menubar === undefined || registry.menubar === true ? parseItemsString(defaultMenubar) : parseItemsString(registry.menubar === false ? '' : registry.menubar);\n      const validMenus = filter$2(menubar, menuName => {\n        const isDefaultMenu = has$2(defaultMenus, menuName);\n        if (userDefinedMenus) {\n          return isDefaultMenu || get$g(registry.menus, menuName).exists(menu => has$2(menu, 'items'));\n        } else {\n          return isDefaultMenu;\n        }\n      });\n      const menus = map$2(validMenus, menuName => {\n        const menuData = rawMenuData[menuName];\n        return make({\n          title: menuData.title,\n          items: parseItemsString(menuData.items)\n        }, registry, editor);\n      });\n      return filter$2(menus, menu => {\n        const isNotSeparator = item => isString(item) || item.type !== 'separator';\n        return menu.getItems().length > 0 && exists(menu.getItems(), isNotSeparator);\n      });\n    };\n\n    const fireSkinLoaded = editor => {\n      const done = () => {\n        editor._skinLoaded = true;\n        fireSkinLoaded$1(editor);\n      };\n      return () => {\n        if (editor.initialized) {\n          done();\n        } else {\n          editor.on('init', done);\n        }\n      };\n    };\n    const fireSkinLoadError = (editor, err) => () => fireSkinLoadError$1(editor, { message: err });\n\n    const loadStylesheet = (editor, stylesheetUrl, styleSheetLoader) => {\n      editor.on('remove', () => styleSheetLoader.unload(stylesheetUrl));\n      return styleSheetLoader.load(stylesheetUrl);\n    };\n    const loadUiSkins = (editor, skinUrl) => {\n      const skinUiCss = skinUrl + '/skin.min.css';\n      return loadStylesheet(editor, skinUiCss, editor.ui.styleSheetLoader);\n    };\n    const loadShadowDomUiSkins = (editor, skinUrl) => {\n      const isInShadowRoot$1 = isInShadowRoot(SugarElement.fromDom(editor.getElement()));\n      if (isInShadowRoot$1) {\n        const shadowDomSkinCss = skinUrl + '/skin.shadowdom.min.css';\n        return loadStylesheet(editor, shadowDomSkinCss, global$7.DOM.styleSheetLoader);\n      } else {\n        return Promise.resolve();\n      }\n    };\n    const loadSkin = (isInline, editor) => {\n      const skinUrl = getSkinUrl(editor);\n      if (skinUrl) {\n        editor.contentCSS.push(skinUrl + (isInline ? '/content.inline' : '/content') + '.min.css');\n      }\n      if (!isSkinDisabled(editor) && isString(skinUrl)) {\n        return Promise.all([\n          loadUiSkins(editor, skinUrl),\n          loadShadowDomUiSkins(editor, skinUrl)\n        ]).then(fireSkinLoaded(editor), fireSkinLoadError(editor, 'Skin could not be loaded'));\n      } else {\n        return Promise.resolve(fireSkinLoaded(editor)());\n      }\n    };\n    const iframe = curry(loadSkin, false);\n    const inline = curry(loadSkin, true);\n\n    const onSetupFormatToggle = (editor, name) => api => {\n      const boundCallback = unbindable();\n      const init = () => {\n        api.setActive(editor.formatter.match(name));\n        const binding = editor.formatter.formatChanged(name, api.setActive);\n        boundCallback.set(binding);\n      };\n      editor.initialized ? init() : editor.once('init', init);\n      return () => {\n        editor.off('init', init);\n        boundCallback.clear();\n      };\n    };\n    const onSetupEvent = (editor, event, f) => api => {\n      const handleEvent = () => f(api);\n      const init = () => {\n        f(api);\n        editor.on(event, handleEvent);\n      };\n      editor.initialized ? init() : editor.once('init', init);\n      return () => {\n        editor.off('init', init);\n        editor.off(event, handleEvent);\n      };\n    };\n    const onActionToggleFormat$1 = editor => rawItem => () => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.execCommand('mceToggleFormat', false, rawItem.format);\n      });\n    };\n    const onActionExecCommand = (editor, command) => () => editor.execCommand(command);\n\n    const generateSelectItems = (_editor, backstage, spec) => {\n      const generateItem = (rawItem, response, invalid, value) => {\n        const translatedText = backstage.shared.providers.translate(rawItem.title);\n        if (rawItem.type === 'separator') {\n          return Optional.some({\n            type: 'separator',\n            text: translatedText\n          });\n        } else if (rawItem.type === 'submenu') {\n          const items = bind$3(rawItem.getStyleItems(), si => validate(si, response, value));\n          if (response === 0 && items.length <= 0) {\n            return Optional.none();\n          } else {\n            return Optional.some({\n              type: 'nestedmenuitem',\n              text: translatedText,\n              enabled: items.length > 0,\n              getSubmenuItems: () => bind$3(rawItem.getStyleItems(), si => validate(si, response, value))\n            });\n          }\n        } else {\n          return Optional.some({\n            type: 'togglemenuitem',\n            text: translatedText,\n            icon: rawItem.icon,\n            active: rawItem.isSelected(value),\n            enabled: !invalid,\n            onAction: spec.onAction(rawItem),\n            ...rawItem.getStylePreview().fold(() => ({}), preview => ({ meta: { style: preview } }))\n          });\n        }\n      };\n      const validate = (item, response, value) => {\n        const invalid = item.type === 'formatter' && spec.isInvalid(item);\n        if (response === 0) {\n          return invalid ? [] : generateItem(item, response, false, value).toArray();\n        } else {\n          return generateItem(item, response, invalid, value).toArray();\n        }\n      };\n      const validateItems = preItems => {\n        const value = spec.getCurrentValue();\n        const response = spec.shouldHide ? 0 : 1;\n        return bind$3(preItems, item => validate(item, response, value));\n      };\n      const getFetch = (backstage, getStyleItems) => (comp, callback) => {\n        const preItems = getStyleItems();\n        const items = validateItems(preItems);\n        const menu = build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n          isHorizontalMenu: false,\n          search: Optional.none()\n        });\n        callback(menu);\n      };\n      return {\n        validateItems,\n        getFetch\n      };\n    };\n    const createMenuItems = (editor, backstage, spec) => {\n      const dataset = spec.dataset;\n      const getStyleItems = dataset.type === 'basic' ? () => map$2(dataset.data, d => processBasic(d, spec.isSelectedFor, spec.getPreviewFor)) : dataset.getData;\n      return {\n        items: generateSelectItems(editor, backstage, spec),\n        getStyleItems\n      };\n    };\n    const createSelectButton = (editor, backstage, spec) => {\n      const {items, getStyleItems} = createMenuItems(editor, backstage, spec);\n      const getApi = comp => ({ getComponent: constant$1(comp) });\n      const onSetup = onSetupEvent(editor, 'NodeChange', api => {\n        const comp = api.getComponent();\n        spec.updateText(comp);\n      });\n      return renderCommonDropdown({\n        text: spec.icon.isSome() ? Optional.none() : spec.text,\n        icon: spec.icon,\n        tooltip: Optional.from(spec.tooltip),\n        role: Optional.none(),\n        fetch: items.getFetch(backstage, getStyleItems),\n        onSetup,\n        getApi,\n        columns: 1,\n        presets: 'normal',\n        classes: spec.icon.isSome() ? [] : ['bespoke'],\n        dropdownBehaviours: []\n      }, 'tox-tbtn', backstage.shared);\n    };\n\n    const process = rawFormats => map$2(rawFormats, item => {\n      let title = item, format = item;\n      const values = item.split('=');\n      if (values.length > 1) {\n        title = values[0];\n        format = values[1];\n      }\n      return {\n        title,\n        format\n      };\n    });\n    const buildBasicStaticDataset = data => ({\n      type: 'basic',\n      data\n    });\n    var Delimiter;\n    (function (Delimiter) {\n      Delimiter[Delimiter['SemiColon'] = 0] = 'SemiColon';\n      Delimiter[Delimiter['Space'] = 1] = 'Space';\n    }(Delimiter || (Delimiter = {})));\n    const split = (rawFormats, delimiter) => {\n      if (delimiter === Delimiter.SemiColon) {\n        return rawFormats.replace(/;$/, '').split(';');\n      } else {\n        return rawFormats.split(' ');\n      }\n    };\n    const buildBasicSettingsDataset = (editor, settingName, delimiter) => {\n      const rawFormats = editor.options.get(settingName);\n      const data = process(split(rawFormats, delimiter));\n      return {\n        type: 'basic',\n        data\n      };\n    };\n\n    const alignMenuItems = [\n      {\n        title: 'Left',\n        icon: 'align-left',\n        format: 'alignleft',\n        command: 'JustifyLeft'\n      },\n      {\n        title: 'Center',\n        icon: 'align-center',\n        format: 'aligncenter',\n        command: 'JustifyCenter'\n      },\n      {\n        title: 'Right',\n        icon: 'align-right',\n        format: 'alignright',\n        command: 'JustifyRight'\n      },\n      {\n        title: 'Justify',\n        icon: 'align-justify',\n        format: 'alignjustify',\n        command: 'JustifyFull'\n      }\n    ];\n    const getSpec$4 = editor => {\n      const getMatchingValue = () => find$5(alignMenuItems, item => editor.formatter.match(item.format));\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = _format => Optional.none;\n      const updateSelectMenuIcon = comp => {\n        const match = getMatchingValue();\n        const alignment = match.fold(constant$1('left'), item => item.title.toLowerCase());\n        emitWith(comp, updateMenuIcon, { icon: `align-${ alignment }` });\n      };\n      const dataset = buildBasicStaticDataset(alignMenuItems);\n      const onAction = rawItem => () => find$5(alignMenuItems, item => item.format === rawItem.format).each(item => editor.execCommand(item.command));\n      return {\n        tooltip: 'Align',\n        text: Optional.none(),\n        icon: Optional.some('align-left'),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction,\n        updateText: updateSelectMenuIcon,\n        dataset,\n        shouldHide: false,\n        isInvalid: item => !editor.formatter.canApply(item.format)\n      };\n    };\n    const createAlignButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$4(editor));\n    const createAlignMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$4(editor));\n      editor.ui.registry.addNestedMenuItem('align', {\n        text: backstage.shared.providers.translate('Align'),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const findNearest = (editor, getStyles) => {\n      const styles = getStyles();\n      const formats = map$2(styles, style => style.format);\n      return Optional.from(editor.formatter.closest(formats)).bind(fmt => find$5(styles, data => data.format === fmt)).orThunk(() => someIf(editor.formatter.match('p'), {\n        title: 'Paragraph',\n        format: 'p'\n      }));\n    };\n\n    const getSpec$3 = editor => {\n      const fallbackFormat = 'Paragraph';\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        if (fmt) {\n          return Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          });\n        } else {\n          return Optional.none();\n        }\n      };\n      const updateSelectMenuText = comp => {\n        const detectedFormat = findNearest(editor, () => dataset.data);\n        const text = detectedFormat.fold(constant$1(fallbackFormat), fmt => fmt.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'block_formats', Delimiter.SemiColon);\n      return {\n        tooltip: 'Blocks',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: item => !editor.formatter.canApply(item.format)\n      };\n    };\n    const createBlocksButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$3(editor));\n    const createBlocksMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$3(editor));\n      editor.ui.registry.addNestedMenuItem('blocks', {\n        text: 'Blocks',\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const systemStackFonts = [\n      '-apple-system',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica Neue',\n      'sans-serif'\n    ];\n    const splitFonts = fontFamily => {\n      const fonts = fontFamily.split(/\\s*,\\s*/);\n      return map$2(fonts, font => font.replace(/^['\"]+|['\"]+$/g, ''));\n    };\n    const isSystemFontStack = fontFamily => {\n      const matchesSystemStack = () => {\n        const fonts = splitFonts(fontFamily.toLowerCase());\n        return forall(systemStackFonts, font => fonts.indexOf(font.toLowerCase()) > -1);\n      };\n      return fontFamily.indexOf('-apple-system') === 0 && matchesSystemStack();\n    };\n    const getSpec$2 = editor => {\n      const systemFont = 'System Font';\n      const getMatchingValue = () => {\n        const getFirstFont = fontFamily => fontFamily ? splitFonts(fontFamily)[0] : '';\n        const fontFamily = editor.queryCommandValue('FontName');\n        const items = dataset.data;\n        const font = fontFamily ? fontFamily.toLowerCase() : '';\n        const matchOpt = find$5(items, item => {\n          const format = item.format;\n          return format.toLowerCase() === font || getFirstFont(format).toLowerCase() === getFirstFont(font).toLowerCase();\n        }).orThunk(() => {\n          return someIf(isSystemFontStack(font), {\n            title: systemFont,\n            format: font\n          });\n        });\n        return {\n          matchOpt,\n          font: fontFamily\n        };\n      };\n      const isSelectedFor = item => valueOpt => valueOpt.exists(value => value.format === item);\n      const getCurrentValue = () => {\n        const {matchOpt} = getMatchingValue();\n        return matchOpt;\n      };\n      const getPreviewFor = item => () => Optional.some({\n        tag: 'div',\n        styles: item.indexOf('dings') === -1 ? { 'font-family': item } : {}\n      });\n      const onAction = rawItem => () => {\n        editor.undoManager.transact(() => {\n          editor.focus();\n          editor.execCommand('FontName', false, rawItem.format);\n        });\n      };\n      const updateSelectMenuText = comp => {\n        const {matchOpt, font} = getMatchingValue();\n        const text = matchOpt.fold(constant$1(font), item => item.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'font_family_formats', Delimiter.SemiColon);\n      return {\n        tooltip: 'Fonts',\n        text: Optional.some(systemFont),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue,\n        getPreviewFor,\n        onAction,\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    const createFontFamilyButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$2(editor));\n    const createFontFamilyMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$2(editor));\n      editor.ui.registry.addNestedMenuItem('fontfamily', {\n        text: backstage.shared.providers.translate('Fonts'),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const Keys = {\n      tab: constant$1(9),\n      escape: constant$1(27),\n      enter: constant$1(13),\n      backspace: constant$1(8),\n      delete: constant$1(46),\n      left: constant$1(37),\n      up: constant$1(38),\n      right: constant$1(39),\n      down: constant$1(40),\n      space: constant$1(32),\n      home: constant$1(36),\n      end: constant$1(35),\n      pageUp: constant$1(33),\n      pageDown: constant$1(34)\n    };\n\n    const units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    const pattern = (() => {\n      const decimalDigits = '[0-9]+';\n      const signedInteger = '[+-]?' + decimalDigits;\n      const exponentPart = '[eE]' + signedInteger;\n      const dot = '\\\\.';\n      const opt = input => `(?:${ input })?`;\n      const unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      const float = `[+-]?(?:${ unsignedDecimalLiteral })`;\n      return new RegExp(`^(${ float })(.*)$`);\n    })();\n    const isUnit = (unit, accepted) => exists(accepted, acc => exists(units[acc], check => unit === check));\n    const parse = (input, accepted) => {\n      const match = Optional.from(pattern.exec(input));\n      return match.bind(array => {\n        const value = Number(array[1]);\n        const unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    const normalise = (input, accepted) => parse(input, accepted).map(({value, unit}) => value + unit);\n\n    const createBespokeNumberInput = (editor, backstage, spec) => {\n      let currentComp = Optional.none();\n      const getValueFromCurrentComp = comp => comp.map(alloyComp => Representing.getValue(alloyComp)).getOr('');\n      const onSetup = onSetupEvent(editor, 'NodeChange', api => {\n        const comp = api.getComponent();\n        currentComp = Optional.some(comp);\n        spec.updateInputValue(comp);\n      });\n      const getApi = comp => ({ getComponent: constant$1(comp) });\n      const editorOffCell = Cell(noop);\n      const customEvents = generate$6('custom-number-input-events');\n      const isValidValue = value => value >= 0;\n      const changeValue = (f, fromInput, focusBack) => {\n        const text = getValueFromCurrentComp(currentComp);\n        const parsedText = parse(text, [\n          'unsupportedLength',\n          'empty'\n        ]);\n        const value = parsedText.map(res => res.value).getOr(0);\n        const defaultUnit = getFontSizeInputDefaultUnit(editor);\n        const unit = parsedText.map(res => res.unit).filter(u => u !== '').getOr(defaultUnit);\n        const newValue = f(value, spec.getConfigFromUnit(unit).step);\n        const newValueWithUnit = `${ isValidValue(newValue) ? newValue : value }${ unit }`;\n        const lenghtDelta = `${ value }${ unit }`.length - `${ newValueWithUnit }`.length;\n        const oldStart = currentComp.map(comp => comp.element.dom.selectionStart - lenghtDelta);\n        const oldEnd = currentComp.map(comp => comp.element.dom.selectionEnd - lenghtDelta);\n        spec.onAction(newValueWithUnit, focusBack);\n        currentComp.each(comp => {\n          Representing.setValue(comp, newValueWithUnit);\n          if (fromInput) {\n            oldStart.each(oldStart => comp.element.dom.selectionStart = oldStart);\n            oldEnd.each(oldEnd => comp.element.dom.selectionEnd = oldEnd);\n          }\n        });\n      };\n      const decrease = (fromInput, focusBack) => changeValue((n, s) => n - s, fromInput, focusBack);\n      const increase = (fromInput, focusBack) => changeValue((n, s) => n + s, fromInput, focusBack);\n      const goToParent = comp => parentElement(comp.element).fold(Optional.none, parent => {\n        focus$3(parent);\n        return Optional.some(true);\n      });\n      const focusInput = comp => {\n        if (hasFocus(comp.element)) {\n          firstChild(comp.element).each(input => focus$3(input));\n          return Optional.some(true);\n        } else {\n          return Optional.none();\n        }\n      };\n      const makeStepperButton = (action, title, tooltip, classes) => {\n        const translatedTooltip = backstage.shared.providers.translate(tooltip);\n        const altExecuting = generate$6('altExecuting');\n        const onClick = () => action(true);\n        return Button.sketch({\n          dom: {\n            tag: 'button',\n            attributes: {\n              'title': translatedTooltip,\n              'aria-label': translatedTooltip\n            },\n            classes: classes.concat(title)\n          },\n          components: [renderIconFromPack$1(title, backstage.shared.providers.icons)],\n          buttonBehaviours: derive$1([config(altExecuting, [\n              run$1(keydown(), (_comp, se) => {\n                if (se.event.raw.keyCode === Keys.space() || se.event.raw.keyCode === Keys.enter()) {\n                  action(false);\n                }\n              }),\n              run$1(click(), onClick),\n              run$1(touchend(), onClick)\n            ])]),\n          eventOrder: {\n            [keydown()]: [\n              altExecuting,\n              'keying'\n            ],\n            [click()]: [\n              altExecuting,\n              'alloy.base.behaviour'\n            ],\n            [touchend()]: [\n              altExecuting,\n              'alloy.base.behaviour'\n            ]\n          }\n        });\n      };\n      const memMinus = record(makeStepperButton(focusBack => decrease(false, focusBack), 'minus', 'Decrease font size', ['highlight-on-focus']));\n      const memPlus = record(makeStepperButton(focusBack => increase(false, focusBack), 'plus', 'Increase font size', ['highlight-on-focus']));\n      const memInput = record({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-input-wrapper',\n            'highlight-on-focus'\n          ]\n        },\n        components: [Input.sketch({\n            inputBehaviours: derive$1([\n              config(customEvents, [\n                onControlAttached({\n                  onSetup,\n                  getApi\n                }, editorOffCell),\n                onControlDetached({ getApi }, editorOffCell)\n              ]),\n              config('input-update-display-text', [\n                run$1(updateMenuText, (comp, se) => {\n                  Representing.setValue(comp, se.event.text);\n                }),\n                run$1(focusout(), comp => {\n                  spec.onAction(Representing.getValue(comp));\n                }),\n                run$1(change(), comp => {\n                  spec.onAction(Representing.getValue(comp));\n                })\n              ]),\n              Keying.config({\n                mode: 'special',\n                onEnter: _comp => {\n                  changeValue(identity, true, true);\n                  return Optional.some(true);\n                },\n                onEscape: goToParent,\n                onUp: _comp => {\n                  increase(true, false);\n                  return Optional.some(true);\n                },\n                onDown: _comp => {\n                  decrease(true, false);\n                  return Optional.some(true);\n                },\n                onLeft: (_comp, se) => {\n                  se.cut();\n                  return Optional.none();\n                },\n                onRight: (_comp, se) => {\n                  se.cut();\n                  return Optional.none();\n                }\n              })\n            ])\n          })],\n        behaviours: derive$1([\n          Focusing.config({}),\n          Keying.config({\n            mode: 'special',\n            onEnter: focusInput,\n            onSpace: focusInput,\n            onEscape: goToParent\n          }),\n          config('input-wrapper-events', [run$1(mouseover(), comp => {\n              each$1([\n                memMinus,\n                memPlus\n              ], button => {\n                const buttonNode = SugarElement.fromDom(button.get(comp).element.dom);\n                if (hasFocus(buttonNode)) {\n                  blur$1(buttonNode);\n                }\n              });\n            })])\n        ])\n      });\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-number-input']\n        },\n        components: [\n          memMinus.asSpec(),\n          memInput.asSpec(),\n          memPlus.asSpec()\n        ],\n        behaviours: derive$1([\n          Focusing.config({}),\n          Keying.config({\n            mode: 'flow',\n            focusInside: FocusInsideModes.OnEnterOrSpaceMode,\n            cycles: false,\n            selector: 'button, .tox-input-wrapper',\n            onEscape: wrapperComp => {\n              if (hasFocus(wrapperComp.element)) {\n                return Optional.none();\n              } else {\n                focus$3(wrapperComp.element);\n                return Optional.some(true);\n              }\n            }\n          })\n        ])\n      };\n    };\n\n    const legacyFontSizes = {\n      '8pt': '1',\n      '10pt': '2',\n      '12pt': '3',\n      '14pt': '4',\n      '18pt': '5',\n      '24pt': '6',\n      '36pt': '7'\n    };\n    const keywordFontSizes = {\n      'xx-small': '7pt',\n      'x-small': '8pt',\n      'small': '10pt',\n      'medium': '12pt',\n      'large': '14pt',\n      'x-large': '18pt',\n      'xx-large': '24pt'\n    };\n    const round = (number, precision) => {\n      const factor = Math.pow(10, precision);\n      return Math.round(number * factor) / factor;\n    };\n    const toPt = (fontSize, precision) => {\n      if (/[0-9.]+px$/.test(fontSize)) {\n        return round(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n      } else {\n        return get$g(keywordFontSizes, fontSize).getOr(fontSize);\n      }\n    };\n    const toLegacy = fontSize => get$g(legacyFontSizes, fontSize).getOr('');\n    const getSpec$1 = editor => {\n      const getMatchingValue = () => {\n        let matchOpt = Optional.none();\n        const items = dataset.data;\n        const fontSize = editor.queryCommandValue('FontSize');\n        if (fontSize) {\n          for (let precision = 3; matchOpt.isNone() && precision >= 0; precision--) {\n            const pt = toPt(fontSize, precision);\n            const legacy = toLegacy(pt);\n            matchOpt = find$5(items, item => item.format === fontSize || item.format === pt || item.format === legacy);\n          }\n        }\n        return {\n          matchOpt,\n          size: fontSize\n        };\n      };\n      const isSelectedFor = item => valueOpt => valueOpt.exists(value => value.format === item);\n      const getCurrentValue = () => {\n        const {matchOpt} = getMatchingValue();\n        return matchOpt;\n      };\n      const getPreviewFor = constant$1(Optional.none);\n      const onAction = rawItem => () => {\n        editor.undoManager.transact(() => {\n          editor.focus();\n          editor.execCommand('FontSize', false, rawItem.format);\n        });\n      };\n      const updateSelectMenuText = comp => {\n        const {matchOpt, size} = getMatchingValue();\n        const text = matchOpt.fold(constant$1(size), match => match.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'font_size_formats', Delimiter.Space);\n      return {\n        tooltip: 'Font sizes',\n        text: Optional.some('12pt'),\n        icon: Optional.none(),\n        isSelectedFor,\n        getPreviewFor,\n        getCurrentValue,\n        onAction,\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    const createFontSizeButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$1(editor));\n    const getConfigFromUnit = unit => {\n      var _a;\n      const baseConfig = { step: 1 };\n      const configs = {\n        em: { step: 0.1 },\n        cm: { step: 0.1 },\n        in: { step: 0.1 },\n        pc: { step: 0.1 },\n        ch: { step: 0.1 },\n        rem: { step: 0.1 }\n      };\n      return (_a = configs[unit]) !== null && _a !== void 0 ? _a : baseConfig;\n    };\n    const getNumberInputSpec = editor => {\n      const updateInputValue = comp => emitWith(comp, updateMenuText, { text: editor.queryCommandValue('FontSize') });\n      return {\n        updateInputValue,\n        getConfigFromUnit,\n        onAction: (format, focusBack) => editor.execCommand('FontSize', false, format, { skip_focus: !focusBack })\n      };\n    };\n    const createFontSizeInputButton = (editor, backstage) => createBespokeNumberInput(editor, backstage, getNumberInputSpec(editor));\n    const createFontSizeMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$1(editor));\n      editor.ui.registry.addNestedMenuItem('fontsize', {\n        text: 'Font sizes',\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const getSpec = (editor, dataset) => {\n      const fallbackFormat = 'Paragraph';\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        return fmt !== undefined ? Optional.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n        }) : Optional.none();\n      };\n      const updateSelectMenuText = comp => {\n        const getFormatItems = fmt => {\n          if (isNestedFormat(fmt)) {\n            return bind$3(fmt.items, getFormatItems);\n          } else if (isFormatReference(fmt)) {\n            return [{\n                title: fmt.title,\n                format: fmt.format\n              }];\n          } else {\n            return [];\n          }\n        };\n        const flattenedItems = bind$3(getStyleFormats(editor), getFormatItems);\n        const detectedFormat = findNearest(editor, constant$1(flattenedItems));\n        const text = detectedFormat.fold(constant$1(fallbackFormat), fmt => fmt.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      return {\n        tooltip: 'Formats',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        shouldHide: shouldAutoHideStyleFormats(editor),\n        isInvalid: item => !editor.formatter.canApply(item.format),\n        dataset\n      };\n    };\n    const createStylesButton = (editor, backstage) => {\n      const dataset = {\n        type: 'advanced',\n        ...backstage.styles\n      };\n      return createSelectButton(editor, backstage, getSpec(editor, dataset));\n    };\n    const createStylesMenu = (editor, backstage) => {\n      const dataset = {\n        type: 'advanced',\n        ...backstage.styles\n      };\n      const menuItems = createMenuItems(editor, backstage, getSpec(editor, dataset));\n      editor.ui.registry.addNestedMenuItem('styles', {\n        text: 'Formats',\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const schema$7 = constant$1([\n      required$1('toggleClass'),\n      required$1('fetch'),\n      onStrictHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      onStrictHandler('onItemExecute'),\n      option$3('lazySink'),\n      required$1('dom'),\n      onHandler('onOpen'),\n      field('splitDropdownBehaviours', [\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      defaulted('eventOrder', {}),\n      option$3('role')\n    ].concat(sandboxFields()));\n    const arrowPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'arrow',\n      defaults: () => {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: detail => {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: arrow => {\n            arrow.getSystem().getByUid(detail.uid).each(emitExecute);\n          },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleOnExecute: false,\n              toggleClass: detail.toggleClass\n            })])\n        };\n      }\n    });\n    const buttonPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'button',\n      defaults: () => {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: detail => {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: btn => {\n            btn.getSystem().getByUid(detail.uid).each(splitDropdown => {\n              detail.onExecute(splitDropdown, btn);\n            });\n          }\n        };\n      }\n    });\n    const parts$3 = constant$1([\n      arrowPart,\n      buttonPart,\n      optional({\n        factory: {\n          sketch: spec => {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      external({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: detail => {\n          return {\n            onExecute: (tmenu, item) => {\n              tmenu.getSystem().getByUid(detail.uid).each(splitDropdown => {\n                detail.onItemExecute(splitDropdown, tmenu, item);\n              });\n            }\n          };\n        }\n      }),\n      partType$1()\n    ]);\n\n    const factory$5 = (detail, components, spec, externals) => {\n      const switchToMenu = sandbox => {\n        Composing.getCurrent(sandbox).each(current => {\n          Highlighting.highlightFirst(current);\n          Keying.focusIn(current);\n        });\n      };\n      const action = component => {\n        const onOpenSync = switchToMenu;\n        togglePopup(detail, identity, component, externals, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n      };\n      const openMenu = comp => {\n        action(comp);\n        return Optional.some(true);\n      };\n      const executeOnButton = comp => {\n        const button = getPartOrDie(comp, detail, 'button');\n        emitExecute(button);\n        return Optional.some(true);\n      };\n      const buttonEvents = {\n        ...derive$2([runOnAttached((component, _simulatedEvent) => {\n            const ariaDescriptor = getPart(component, detail, 'aria-descriptor');\n            ariaDescriptor.each(descriptor => {\n              const descriptorId = generate$6('aria');\n              set$9(descriptor.element, 'id', descriptorId);\n              set$9(component.element, 'aria-describedby', descriptorId);\n            });\n          })]),\n        ...events$a(Optional.some(action))\n      };\n      const apis = {\n        repositionMenus: comp => {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis,\n        eventOrder: {\n          ...detail.eventOrder,\n          [execute$5()]: [\n            'disabling',\n            'toggling',\n            'alloy.base.behaviour'\n          ]\n        },\n        events: buttonEvents,\n        behaviours: augment(detail.splitDropdownBehaviours, [\n          Coupling.config({\n            others: {\n              sandbox: hotspot => {\n                const arrow = getPartOrDie(hotspot, detail, 'arrow');\n                const extras = {\n                  onOpen: () => {\n                    Toggling.on(arrow);\n                    Toggling.on(hotspot);\n                  },\n                  onClose: () => {\n                    Toggling.off(arrow);\n                    Toggling.off(hotspot);\n                  }\n                };\n                return makeSandbox$1(detail, hotspot, extras);\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: executeOnButton,\n            onEnter: executeOnButton,\n            onDown: openMenu\n          }),\n          Focusing.config({}),\n          Toggling.config({\n            toggleOnExecute: false,\n            aria: { mode: 'expanded' }\n          })\n        ]),\n        domModification: {\n          attributes: {\n            'role': detail.role.getOr('button'),\n            'aria-haspopup': true\n          }\n        }\n      };\n    };\n    const SplitDropdown = composite({\n      name: 'SplitDropdown',\n      configFields: schema$7(),\n      partFields: parts$3(),\n      factory: factory$5,\n      apis: { repositionMenus: (apis, comp) => apis.repositionMenus(comp) }\n    });\n\n    const getButtonApi = component => ({\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state),\n      setText: text => emitWith(component, updateMenuText, { text }),\n      setIcon: icon => emitWith(component, updateMenuIcon, { icon })\n    });\n    const getToggleApi = component => ({\n      setActive: state => {\n        Toggling.set(component, state);\n      },\n      isActive: () => Toggling.isOn(component),\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state),\n      setText: text => emitWith(component, updateMenuText, { text }),\n      setIcon: icon => emitWith(component, updateMenuIcon, { icon })\n    });\n    const getTooltipAttributes = (tooltip, providersBackstage) => tooltip.map(tooltip => ({\n      'aria-label': providersBackstage.translate(tooltip),\n      'title': providersBackstage.translate(tooltip)\n    })).getOr({});\n    const focusButtonEvent = generate$6('focus-button');\n    const renderCommonStructure = (optIcon, optText, tooltip, behaviours, providersBackstage) => {\n      const optMemDisplayText = optText.map(text => record(renderLabel$1(text, 'tox-tbtn', providersBackstage)));\n      const optMemDisplayIcon = optIcon.map(icon => record(renderReplaceableIconFromPack(icon, providersBackstage.icons)));\n      return {\n        dom: {\n          tag: 'button',\n          classes: ['tox-tbtn'].concat(optText.isSome() ? ['tox-tbtn--select'] : []),\n          attributes: getTooltipAttributes(tooltip, providersBackstage)\n        },\n        components: componentRenderPipeline([\n          optMemDisplayIcon.map(mem => mem.asSpec()),\n          optMemDisplayText.map(mem => mem.asSpec())\n        ]),\n        eventOrder: {\n          [mousedown()]: [\n            'focusing',\n            'alloy.base.behaviour',\n            commonButtonDisplayEvent\n          ],\n          [attachedToDom()]: [\n            commonButtonDisplayEvent,\n            'toolbar-group-button-events'\n          ]\n        },\n        buttonBehaviours: derive$1([\n          DisablingConfigs.toolbarButton(providersBackstage.isDisabled),\n          receivingConfig(),\n          config(commonButtonDisplayEvent, [\n            runOnAttached((comp, _se) => forceInitialSize(comp)),\n            run$1(updateMenuText, (comp, se) => {\n              optMemDisplayText.bind(mem => mem.getOpt(comp)).each(displayText => {\n                Replacing.set(displayText, [text$2(providersBackstage.translate(se.event.text))]);\n              });\n            }),\n            run$1(updateMenuIcon, (comp, se) => {\n              optMemDisplayIcon.bind(mem => mem.getOpt(comp)).each(displayIcon => {\n                Replacing.set(displayIcon, [renderReplaceableIconFromPack(se.event.icon, providersBackstage.icons)]);\n              });\n            }),\n            run$1(mousedown(), (button, se) => {\n              se.event.prevent();\n              emit(button, focusButtonEvent);\n            })\n          ])\n        ].concat(behaviours.getOr([])))\n      };\n    };\n    const renderFloatingToolbarButton = (spec, backstage, identifyButtons, attributes) => {\n      const sharedBackstage = backstage.shared;\n      const editorOffCell = Cell(noop);\n      const specialisation = {\n        toolbarButtonBehaviours: [],\n        getApi: getButtonApi,\n        onSetup: spec.onSetup\n      };\n      const behaviours = [config('toolbar-group-button-events', [\n          onControlAttached(specialisation, editorOffCell),\n          onControlDetached(specialisation, editorOffCell)\n        ])];\n      return FloatingToolbarButton.sketch({\n        lazySink: sharedBackstage.getSink,\n        fetch: () => Future.nu(resolve => {\n          resolve(map$2(identifyButtons(spec.items), renderToolbarGroup));\n        }),\n        markers: { toggledClass: 'tox-tbtn--enabled' },\n        parts: {\n          button: renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.some(behaviours), sharedBackstage.providers),\n          toolbar: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes\n            }\n          }\n        }\n      });\n    };\n    const renderCommonToolbarButton = (spec, specialisation, providersBackstage) => {\n      var _d;\n      const editorOffCell = Cell(noop);\n      const structure = renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), providersBackstage);\n      return Button.sketch({\n        dom: structure.dom,\n        components: structure.components,\n        eventOrder: toolbarButtonEventOrder,\n        buttonBehaviours: {\n          ...derive$1([\n            config('toolbar-button-events', [\n              onToolbarButtonExecute({\n                onAction: spec.onAction,\n                getApi: specialisation.getApi\n              }),\n              onControlAttached(specialisation, editorOffCell),\n              onControlDetached(specialisation, editorOffCell)\n            ]),\n            DisablingConfigs.toolbarButton(() => !spec.enabled || providersBackstage.isDisabled()),\n            receivingConfig()\n          ].concat(specialisation.toolbarButtonBehaviours)),\n          [commonButtonDisplayEvent]: (_d = structure.buttonBehaviours) === null || _d === void 0 ? void 0 : _d[commonButtonDisplayEvent]\n        }\n      });\n    };\n    const renderToolbarButton = (spec, providersBackstage) => renderToolbarButtonWith(spec, providersBackstage, []);\n    const renderToolbarButtonWith = (spec, providersBackstage, bonusEvents) => renderCommonToolbarButton(spec, {\n      toolbarButtonBehaviours: bonusEvents.length > 0 ? [config('toolbarButtonWith', bonusEvents)] : [],\n      getApi: getButtonApi,\n      onSetup: spec.onSetup\n    }, providersBackstage);\n    const renderToolbarToggleButton = (spec, providersBackstage) => renderToolbarToggleButtonWith(spec, providersBackstage, []);\n    const renderToolbarToggleButtonWith = (spec, providersBackstage, bonusEvents) => renderCommonToolbarButton(spec, {\n      toolbarButtonBehaviours: [\n        Replacing.config({}),\n        Toggling.config({\n          toggleClass: 'tox-tbtn--enabled',\n          aria: { mode: 'pressed' },\n          toggleOnExecute: false\n        })\n      ].concat(bonusEvents.length > 0 ? [config('toolbarToggleButtonWith', bonusEvents)] : []),\n      getApi: getToggleApi,\n      onSetup: spec.onSetup\n    }, providersBackstage);\n    const fetchChoices = (getApi, spec, providersBackstage) => comp => Future.nu(callback => spec.fetch(callback)).map(items => Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n      spec.onItemAction(getApi(comp), value);\n    }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(never), providersBackstage), {\n      movement: deriveMenuMovement(spec.columns, spec.presets),\n      menuBehaviours: SimpleBehaviours.unnamedEvents(spec.columns !== 'auto' ? [] : [runOnAttached((comp, _se) => {\n          detectSize(comp, 4, classForPreset(spec.presets)).each(({numRows, numColumns}) => {\n            Keying.setGridSize(comp, numRows, numColumns);\n          });\n        })])\n    }))));\n    const renderSplitButton = (spec, sharedBackstage) => {\n      const getApi = comp => ({\n        isEnabled: () => !Disabling.isDisabled(comp),\n        setEnabled: state => Disabling.set(comp, !state),\n        setIconFill: (id, value) => {\n          descendant(comp.element, `svg path[id=\"${ id }\"], rect[id=\"${ id }\"]`).each(underlinePath => {\n            set$9(underlinePath, 'fill', value);\n          });\n        },\n        setActive: state => {\n          set$9(comp.element, 'aria-pressed', state);\n          descendant(comp.element, 'span').each(button => {\n            comp.getSystem().getByDom(button).each(buttonComp => Toggling.set(buttonComp, state));\n          });\n        },\n        isActive: () => descendant(comp.element, 'span').exists(button => comp.getSystem().getByDom(button).exists(Toggling.isOn)),\n        setText: text => descendant(comp.element, 'span').each(button => comp.getSystem().getByDom(button).each(buttonComp => emitWith(buttonComp, updateMenuText, { text }))),\n        setIcon: icon => descendant(comp.element, 'span').each(button => comp.getSystem().getByDom(button).each(buttonComp => emitWith(buttonComp, updateMenuIcon, { icon })))\n      });\n      const editorOffCell = Cell(noop);\n      const specialisation = {\n        getApi,\n        onSetup: spec.onSetup\n      };\n      return SplitDropdown.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-split-button'],\n          attributes: {\n            'aria-pressed': false,\n            ...getTooltipAttributes(spec.tooltip, sharedBackstage.providers)\n          }\n        },\n        onExecute: button => {\n          const api = getApi(button);\n          if (api.isEnabled()) {\n            spec.onAction(api);\n          }\n        },\n        onItemExecute: (_a, _b, _c) => {\n        },\n        splitDropdownBehaviours: derive$1([\n          DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n          receivingConfig(),\n          config('split-dropdown-events', [\n            runOnAttached((comp, _se) => forceInitialSize(comp)),\n            run$1(focusButtonEvent, Focusing.focus),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          Unselecting.config({})\n        ]),\n        eventOrder: {\n          [attachedToDom()]: [\n            'alloy.base.behaviour',\n            'split-dropdown-events'\n          ]\n        },\n        toggleClass: 'tox-tbtn--enabled',\n        lazySink: sharedBackstage.getSink,\n        fetch: fetchChoices(getApi, spec, sharedBackstage.providers),\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        components: [\n          SplitDropdown.parts.button(renderCommonStructure(spec.icon, spec.text, Optional.none(), Optional.some([Toggling.config({\n              toggleClass: 'tox-tbtn--enabled',\n              toggleOnExecute: false\n            })]), sharedBackstage.providers)),\n          SplitDropdown.parts.arrow({\n            dom: {\n              tag: 'button',\n              classes: [\n                'tox-tbtn',\n                'tox-split-button__chevron'\n              ],\n              innerHtml: get$2('chevron-down', sharedBackstage.providers.icons)\n            },\n            buttonBehaviours: derive$1([\n              DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n              receivingConfig(),\n              addFocusableBehaviour()\n            ])\n          }),\n          SplitDropdown.parts['aria-descriptor']({ text: sharedBackstage.providers.translate('To open the popup, press Shift+Enter') })\n        ]\n      });\n    };\n\n    const defaultToolbar = [\n      {\n        name: 'history',\n        items: [\n          'undo',\n          'redo'\n        ]\n      },\n      {\n        name: 'styles',\n        items: ['styles']\n      },\n      {\n        name: 'formatting',\n        items: [\n          'bold',\n          'italic'\n        ]\n      },\n      {\n        name: 'alignment',\n        items: [\n          'alignleft',\n          'aligncenter',\n          'alignright',\n          'alignjustify'\n        ]\n      },\n      {\n        name: 'indentation',\n        items: [\n          'outdent',\n          'indent'\n        ]\n      },\n      {\n        name: 'permanent pen',\n        items: ['permanentpen']\n      },\n      {\n        name: 'comments',\n        items: ['addcomment']\n      }\n    ];\n    const renderFromBridge = (bridgeBuilder, render) => (spec, backstage, editor) => {\n      const internal = bridgeBuilder(spec).mapError(errInfo => formatError(errInfo)).getOrDie();\n      return render(internal, backstage, editor);\n    };\n    const types = {\n      button: renderFromBridge(createToolbarButton, (s, backstage) => renderToolbarButton(s, backstage.shared.providers)),\n      togglebutton: renderFromBridge(createToggleButton, (s, backstage) => renderToolbarToggleButton(s, backstage.shared.providers)),\n      menubutton: renderFromBridge(createMenuButton, (s, backstage) => renderMenuButton(s, 'tox-tbtn', backstage, Optional.none())),\n      splitbutton: renderFromBridge(createSplitButton, (s, backstage) => renderSplitButton(s, backstage.shared)),\n      grouptoolbarbutton: renderFromBridge(createGroupToolbarButton, (s, backstage, editor) => {\n        const buttons = editor.ui.registry.getAll().buttons;\n        const identify = toolbar => identifyButtons(editor, {\n          buttons,\n          toolbar,\n          allowToolbarGroups: false\n        }, backstage, Optional.none());\n        const attributes = { [Attribute]: backstage.shared.header.isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop };\n        switch (getToolbarMode(editor)) {\n        case ToolbarMode$1.floating:\n          return renderFloatingToolbarButton(s, backstage, identify, attributes);\n        default:\n          throw new Error('Toolbar groups are only supported when using floating toolbar mode');\n        }\n      })\n    };\n    const extractFrom = (spec, backstage, editor) => get$g(types, spec.type).fold(() => {\n      console.error('skipping button defined by', spec);\n      return Optional.none();\n    }, render => Optional.some(render(spec, backstage, editor)));\n    const bespokeButtons = {\n      styles: createStylesButton,\n      fontsize: createFontSizeButton,\n      fontsizeinput: createFontSizeInputButton,\n      fontfamily: createFontFamilyButton,\n      blocks: createBlocksButton,\n      align: createAlignButton\n    };\n    const removeUnusedDefaults = buttons => {\n      const filteredItemGroups = map$2(defaultToolbar, group => {\n        const items = filter$2(group.items, subItem => has$2(buttons, subItem) || has$2(bespokeButtons, subItem));\n        return {\n          name: group.name,\n          items\n        };\n      });\n      return filter$2(filteredItemGroups, group => group.items.length > 0);\n    };\n    const convertStringToolbar = strToolbar => {\n      const groupsStrings = strToolbar.split('|');\n      return map$2(groupsStrings, g => ({ items: g.trim().split(' ') }));\n    };\n    const isToolbarGroupSettingArray = toolbar => isArrayOf(toolbar, t => has$2(t, 'name') && has$2(t, 'items'));\n    const createToolbar = toolbarConfig => {\n      const toolbar = toolbarConfig.toolbar;\n      const buttons = toolbarConfig.buttons;\n      if (toolbar === false) {\n        return [];\n      } else if (toolbar === undefined || toolbar === true) {\n        return removeUnusedDefaults(buttons);\n      } else if (isString(toolbar)) {\n        return convertStringToolbar(toolbar);\n      } else if (isToolbarGroupSettingArray(toolbar)) {\n        return toolbar;\n      } else {\n        console.error('Toolbar type should be string, string[], boolean or ToolbarGroup[]');\n        return [];\n      }\n    };\n    const lookupButton = (editor, buttons, toolbarItem, allowToolbarGroups, backstage, prefixes) => get$g(buttons, toolbarItem.toLowerCase()).orThunk(() => prefixes.bind(ps => findMap(ps, prefix => get$g(buttons, prefix + toolbarItem.toLowerCase())))).fold(() => get$g(bespokeButtons, toolbarItem.toLowerCase()).map(r => r(editor, backstage)), spec => {\n      if (spec.type === 'grouptoolbarbutton' && !allowToolbarGroups) {\n        console.warn(`Ignoring the '${ toolbarItem }' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`);\n        return Optional.none();\n      } else {\n        return extractFrom(spec, backstage, editor);\n      }\n    });\n    const identifyButtons = (editor, toolbarConfig, backstage, prefixes) => {\n      const toolbarGroups = createToolbar(toolbarConfig);\n      const groups = map$2(toolbarGroups, group => {\n        const items = bind$3(group.items, toolbarItem => {\n          return toolbarItem.trim().length === 0 ? [] : lookupButton(editor, toolbarConfig.buttons, toolbarItem, toolbarConfig.allowToolbarGroups, backstage, prefixes).toArray();\n        });\n        return {\n          title: Optional.from(editor.translate(group.name)),\n          items\n        };\n      });\n      return filter$2(groups, group => group.items.length > 0);\n    };\n\n    const setToolbar = (editor, uiRefs, rawUiConfig, backstage) => {\n      const outerContainer = uiRefs.mainUi.outerContainer;\n      const toolbarConfig = rawUiConfig.toolbar;\n      const toolbarButtonsConfig = rawUiConfig.buttons;\n      if (isArrayOf(toolbarConfig, isString)) {\n        const toolbars = toolbarConfig.map(t => {\n          const config = {\n            toolbar: t,\n            buttons: toolbarButtonsConfig,\n            allowToolbarGroups: rawUiConfig.allowToolbarGroups\n          };\n          return identifyButtons(editor, config, backstage, Optional.none());\n        });\n        OuterContainer.setToolbars(outerContainer, toolbars);\n      } else {\n        OuterContainer.setToolbar(outerContainer, identifyButtons(editor, rawUiConfig, backstage, Optional.none()));\n      }\n    };\n\n    const detection = detect$2();\n    const isiOS12 = detection.os.isiOS() && detection.os.version.major <= 12;\n    const setupEvents$1 = (editor, uiRefs) => {\n      const {uiMotherships} = uiRefs;\n      const dom = editor.dom;\n      let contentWindow = editor.getWin();\n      const initialDocEle = editor.getDoc().documentElement;\n      const lastWindowDimensions = Cell(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n      const lastDocumentDimensions = Cell(SugarPosition(initialDocEle.offsetWidth, initialDocEle.offsetHeight));\n      const resizeWindow = () => {\n        const outer = lastWindowDimensions.get();\n        if (outer.left !== contentWindow.innerWidth || outer.top !== contentWindow.innerHeight) {\n          lastWindowDimensions.set(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n          fireResizeContent(editor);\n        }\n      };\n      const resizeDocument = () => {\n        const docEle = editor.getDoc().documentElement;\n        const inner = lastDocumentDimensions.get();\n        if (inner.left !== docEle.offsetWidth || inner.top !== docEle.offsetHeight) {\n          lastDocumentDimensions.set(SugarPosition(docEle.offsetWidth, docEle.offsetHeight));\n          fireResizeContent(editor);\n        }\n      };\n      const scroll = e => {\n        fireScrollContent(editor, e);\n      };\n      dom.bind(contentWindow, 'resize', resizeWindow);\n      dom.bind(contentWindow, 'scroll', scroll);\n      const elementLoad = capture(SugarElement.fromDom(editor.getBody()), 'load', resizeDocument);\n      editor.on('hide', () => {\n        each$1(uiMotherships, m => {\n          set$8(m.element, 'display', 'none');\n        });\n      });\n      editor.on('show', () => {\n        each$1(uiMotherships, m => {\n          remove$6(m.element, 'display');\n        });\n      });\n      editor.on('NodeChange', resizeDocument);\n      editor.on('remove', () => {\n        elementLoad.unbind();\n        dom.unbind(contentWindow, 'resize', resizeWindow);\n        dom.unbind(contentWindow, 'scroll', scroll);\n        contentWindow = null;\n      });\n    };\n    const attachUiMotherships = (editor, uiRoot, uiRefs) => {\n      if (isSplitUiMode(editor)) {\n        attachSystemAfter(uiRefs.mainUi.mothership.element, uiRefs.popupUi.mothership);\n      }\n      attachSystem(uiRoot, uiRefs.dialogUi.mothership);\n    };\n    const render$1 = async (editor, uiRefs, rawUiConfig, backstage, args) => {\n      const {mainUi, uiMotherships} = uiRefs;\n      const lastToolbarWidth = Cell(0);\n      const outerContainer = mainUi.outerContainer;\n      await iframe(editor);\n      const eTargetNode = SugarElement.fromDom(args.targetNode);\n      const uiRoot = getContentContainer(getRootNode(eTargetNode));\n      attachSystemAfter(eTargetNode, mainUi.mothership);\n      attachUiMotherships(editor, uiRoot, uiRefs);\n      editor.on('PostRender', () => {\n        OuterContainer.setSidebar(outerContainer, rawUiConfig.sidebar, getSidebarShow(editor));\n        setToolbar(editor, uiRefs, rawUiConfig, backstage);\n        lastToolbarWidth.set(editor.getWin().innerWidth);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        OuterContainer.setViews(outerContainer, rawUiConfig.views);\n        setupEvents$1(editor, uiRefs);\n      });\n      const socket = OuterContainer.getSocket(outerContainer).getOrDie('Could not find expected socket element');\n      if (isiOS12) {\n        setAll(socket.element, {\n          'overflow': 'scroll',\n          '-webkit-overflow-scrolling': 'touch'\n        });\n        const limit = first(() => {\n          editor.dispatch('ScrollContent');\n        }, 20);\n        const unbinder = bind(socket.element, 'scroll', limit.throttle);\n        editor.on('remove', unbinder.unbind);\n      }\n      setupReadonlyModeSwitch(editor, uiRefs);\n      editor.addCommand('ToggleSidebar', (_ui, value) => {\n        OuterContainer.toggleSidebar(outerContainer, value);\n        editor.dispatch('ToggleSidebar');\n      });\n      editor.addQueryValueHandler('ToggleSidebar', () => {\n        var _a;\n        return (_a = OuterContainer.whichSidebar(outerContainer)) !== null && _a !== void 0 ? _a : '';\n      });\n      editor.addCommand('ToggleView', (_ui, value) => {\n        if (OuterContainer.toggleView(outerContainer, value)) {\n          const target = outerContainer.element;\n          mainUi.mothership.broadcastOn([dismissPopups()], { target });\n          each$1(uiMotherships, m => {\n            m.broadcastOn([dismissPopups()], { target });\n          });\n          if (isNull(OuterContainer.whichView(outerContainer))) {\n            editor.focus();\n            editor.nodeChanged();\n          }\n        }\n      });\n      editor.addQueryValueHandler('ToggleView', () => {\n        var _a;\n        return (_a = OuterContainer.whichView(outerContainer)) !== null && _a !== void 0 ? _a : '';\n      });\n      const toolbarMode = getToolbarMode(editor);\n      const refreshDrawer = () => {\n        OuterContainer.refreshToolbar(uiRefs.mainUi.outerContainer);\n      };\n      if (toolbarMode === ToolbarMode$1.sliding || toolbarMode === ToolbarMode$1.floating) {\n        editor.on('ResizeWindow ResizeEditor ResizeContent', () => {\n          const width = editor.getWin().innerWidth;\n          if (width !== lastToolbarWidth.get()) {\n            refreshDrawer();\n            lastToolbarWidth.set(width);\n          }\n        });\n      }\n      const api = {\n        setEnabled: state => {\n          broadcastReadonly(uiRefs, !state);\n        },\n        isEnabled: () => !Disabling.isDisabled(outerContainer)\n      };\n      return {\n        iframeContainer: socket.element.dom,\n        editorContainer: outerContainer.element.dom,\n        api\n      };\n    };\n\n    var Iframe = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render$1\n    });\n\n    const parseToInt = val => {\n      const re = /^[0-9\\.]+(|px)$/i;\n      if (re.test('' + val)) {\n        return Optional.some(parseInt('' + val, 10));\n      }\n      return Optional.none();\n    };\n    const numToPx = val => isNumber(val) ? val + 'px' : val;\n    const calcCappedSize = (size, minSize, maxSize) => {\n      const minOverride = minSize.filter(min => size < min);\n      const maxOverride = maxSize.filter(max => size > max);\n      return minOverride.or(maxOverride).getOr(size);\n    };\n\n    const getHeight = editor => {\n      const baseHeight = getHeightOption(editor);\n      const minHeight = getMinHeightOption(editor);\n      const maxHeight = getMaxHeightOption(editor);\n      return parseToInt(baseHeight).map(height => calcCappedSize(height, minHeight, maxHeight));\n    };\n    const getHeightWithFallback = editor => {\n      const height = getHeight(editor);\n      return height.getOr(getHeightOption(editor));\n    };\n    const getWidth = editor => {\n      const baseWidth = getWidthOption(editor);\n      const minWidth = getMinWidthOption(editor);\n      const maxWidth = getMaxWidthOption(editor);\n      return parseToInt(baseWidth).map(width => calcCappedSize(width, minWidth, maxWidth));\n    };\n    const getWidthWithFallback = editor => {\n      const width = getWidth(editor);\n      return width.getOr(getWidthOption(editor));\n    };\n\n    const {ToolbarLocation, ToolbarMode} = Options;\n    const maximumDistanceToEdge = 40;\n    const InlineHeader = (editor, targetElm, uiRefs, backstage, floatContainer) => {\n      const {mainUi, uiMotherships} = uiRefs;\n      const DOM = global$7.DOM;\n      const useFixedToolbarContainer = useFixedContainer(editor);\n      const isSticky = isStickyToolbar(editor);\n      const editorMaxWidthOpt = getMaxWidthOption(editor).or(getWidth(editor));\n      const headerBackstage = backstage.shared.header;\n      const isPositionedAtTop = headerBackstage.isPositionedAtTop;\n      const toolbarMode = getToolbarMode(editor);\n      const isSplitToolbar = toolbarMode === ToolbarMode.sliding || toolbarMode === ToolbarMode.floating;\n      const visible = Cell(false);\n      const isVisible = () => visible.get() && !editor.removed;\n      const calcToolbarOffset = toolbar => isSplitToolbar ? toolbar.fold(constant$1(0), tbar => tbar.components().length > 1 ? get$d(tbar.components()[1].element) : 0) : 0;\n      const calcMode = container => {\n        switch (getToolbarLocation(editor)) {\n        case ToolbarLocation.auto:\n          const toolbar = OuterContainer.getToolbar(mainUi.outerContainer);\n          const offset = calcToolbarOffset(toolbar);\n          const toolbarHeight = get$d(container.element) - offset;\n          const targetBounds = box$1(targetElm);\n          const roomAtTop = targetBounds.y > toolbarHeight;\n          if (roomAtTop) {\n            return 'top';\n          } else {\n            const doc = documentElement(targetElm);\n            const docHeight = Math.max(doc.dom.scrollHeight, get$d(doc));\n            const roomAtBottom = targetBounds.bottom < docHeight - toolbarHeight;\n            if (roomAtBottom) {\n              return 'bottom';\n            } else {\n              const winBounds = win();\n              const isRoomAtBottomViewport = winBounds.bottom < targetBounds.bottom - toolbarHeight;\n              return isRoomAtBottomViewport ? 'bottom' : 'top';\n            }\n          }\n        case ToolbarLocation.bottom:\n          return 'bottom';\n        case ToolbarLocation.top:\n        default:\n          return 'top';\n        }\n      };\n      const setupMode = mode => {\n        floatContainer.on(container => {\n          Docking.setModes(container, [mode]);\n          headerBackstage.setDockingMode(mode);\n          const verticalDir = isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop;\n          set$9(container.element, Attribute, verticalDir);\n        });\n      };\n      const updateChromeWidth = () => {\n        floatContainer.on(container => {\n          const maxWidth = editorMaxWidthOpt.getOrThunk(() => {\n            const bodyMargin = parseToInt(get$e(body(), 'margin-left')).getOr(0);\n            return get$c(body()) - absolute$3(targetElm).left + bodyMargin;\n          });\n          set$8(container.element, 'max-width', maxWidth + 'px');\n        });\n      };\n      const updateChromePosition = optToolbarWidth => {\n        floatContainer.on(container => {\n          const toolbar = OuterContainer.getToolbar(mainUi.outerContainer);\n          const offset = calcToolbarOffset(toolbar);\n          const targetBounds = box$1(targetElm);\n          const {top, left} = getOffsetParent$1(editor, mainUi.outerContainer.element).fold(() => {\n            return {\n              top: isPositionedAtTop() ? Math.max(targetBounds.y - get$d(container.element) + offset, 0) : targetBounds.bottom,\n              left: targetBounds.x\n            };\n          }, offsetParent => {\n            var _a;\n            const offsetBox = box$1(offsetParent);\n            const scrollDelta = (_a = offsetParent.dom.scrollTop) !== null && _a !== void 0 ? _a : 0;\n            const isOffsetParentBody = eq(offsetParent, body());\n            const topValue = isOffsetParentBody ? Math.max(targetBounds.y - get$d(container.element) + offset, 0) : targetBounds.y - offsetBox.y + scrollDelta - get$d(container.element) + offset;\n            return {\n              top: isPositionedAtTop() ? topValue : targetBounds.bottom,\n              left: isOffsetParentBody ? targetBounds.x : targetBounds.x - offsetBox.x\n            };\n          });\n          const baseProperties = {\n            position: 'absolute',\n            left: Math.round(left) + 'px',\n            top: Math.round(top) + 'px'\n          };\n          const widthProperties = optToolbarWidth.map(toolbarWidth => {\n            const scroll = get$b();\n            const minimumToolbarWidth = 150;\n            const availableWidth = window.innerWidth - (left - scroll.left);\n            const width = Math.max(Math.min(toolbarWidth, availableWidth), minimumToolbarWidth);\n            return { width: width + 'px' };\n          }).getOr({});\n          setAll(mainUi.outerContainer.element, {\n            ...baseProperties,\n            ...widthProperties\n          });\n        });\n      };\n      const getOffsetParent$1 = (editor, element) => isSplitUiMode(editor) ? getOffsetParent(element) : Optional.none();\n      const repositionPopups$1 = () => {\n        each$1(uiMotherships, m => {\n          m.broadcastOn([repositionPopups()], {});\n        });\n      };\n      const restoreAndGetCompleteOuterContainerWidth = () => {\n        if (!useFixedToolbarContainer) {\n          const toolbarCurrentRightsidePosition = absolute$3(mainUi.outerContainer.element).left + getOuter$1(mainUi.outerContainer.element);\n          if (toolbarCurrentRightsidePosition >= window.innerWidth - maximumDistanceToEdge || getRaw(mainUi.outerContainer.element, 'width').isSome()) {\n            set$8(mainUi.outerContainer.element, 'position', 'absolute');\n            set$8(mainUi.outerContainer.element, 'left', '0px');\n            remove$6(mainUi.outerContainer.element, 'width');\n            const w = getOuter$1(mainUi.outerContainer.element);\n            return Optional.some(w);\n          } else {\n            return Optional.none();\n          }\n        } else {\n          return Optional.none();\n        }\n      };\n      const update = stickyAction => {\n        if (!isVisible()) {\n          return;\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromeWidth();\n        }\n        const optToolbarWidth = useFixedToolbarContainer ? Optional.none() : restoreAndGetCompleteOuterContainerWidth();\n        if (isSplitToolbar) {\n          OuterContainer.refreshToolbar(mainUi.outerContainer);\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromePosition(optToolbarWidth);\n        }\n        if (isSticky) {\n          floatContainer.on(stickyAction);\n        }\n        repositionPopups$1();\n      };\n      const doUpdateMode = () => {\n        if (useFixedToolbarContainer || !isSticky || !isVisible()) {\n          return false;\n        }\n        return floatContainer.get().exists(fc => {\n          const currentMode = headerBackstage.getDockingMode();\n          const newMode = calcMode(fc);\n          if (newMode !== currentMode) {\n            setupMode(newMode);\n            return true;\n          } else {\n            return false;\n          }\n        });\n      };\n      const show = () => {\n        visible.set(true);\n        set$8(mainUi.outerContainer.element, 'display', 'flex');\n        DOM.addClass(editor.getBody(), 'mce-edit-focus');\n        each$1(uiMotherships, m => {\n          remove$6(m.element, 'display');\n        });\n        doUpdateMode();\n        if (isSplitUiMode(editor)) {\n          update(elem => Docking.isDocked(elem) ? Docking.reset(elem) : Docking.refresh(elem));\n        } else {\n          update(Docking.refresh);\n        }\n      };\n      const hide = () => {\n        visible.set(false);\n        set$8(mainUi.outerContainer.element, 'display', 'none');\n        DOM.removeClass(editor.getBody(), 'mce-edit-focus');\n        each$1(uiMotherships, m => {\n          set$8(m.element, 'display', 'none');\n        });\n      };\n      const updateMode = () => {\n        const changedMode = doUpdateMode();\n        if (changedMode) {\n          update(Docking.reset);\n        }\n      };\n      return {\n        isVisible,\n        isPositionedAtTop,\n        show,\n        hide,\n        update,\n        updateMode,\n        repositionPopups: repositionPopups$1\n      };\n    };\n\n    const getTargetPosAndBounds = (targetElm, isToolbarTop) => {\n      const bounds = box$1(targetElm);\n      return {\n        pos: isToolbarTop ? bounds.y : bounds.bottom,\n        bounds\n      };\n    };\n    const setupEvents = (editor, targetElm, ui, toolbarPersist) => {\n      const prevPosAndBounds = Cell(getTargetPosAndBounds(targetElm, ui.isPositionedAtTop()));\n      const resizeContent = e => {\n        const {pos, bounds} = getTargetPosAndBounds(targetElm, ui.isPositionedAtTop());\n        const {\n          pos: prevPos,\n          bounds: prevBounds\n        } = prevPosAndBounds.get();\n        const hasResized = bounds.height !== prevBounds.height || bounds.width !== prevBounds.width;\n        prevPosAndBounds.set({\n          pos,\n          bounds\n        });\n        if (hasResized) {\n          fireResizeContent(editor, e);\n        }\n        if (ui.isVisible()) {\n          if (prevPos !== pos) {\n            ui.update(Docking.reset);\n          } else if (hasResized) {\n            ui.updateMode();\n            ui.repositionPopups();\n          }\n        }\n      };\n      if (!toolbarPersist) {\n        editor.on('activate', ui.show);\n        editor.on('deactivate', ui.hide);\n      }\n      editor.on('SkinLoaded ResizeWindow', () => ui.update(Docking.reset));\n      editor.on('NodeChange keydown', e => {\n        requestAnimationFrame(() => resizeContent(e));\n      });\n      let lastScrollX = 0;\n      const updateUi = last(() => ui.update(Docking.refresh), 33);\n      editor.on('ScrollWindow', () => {\n        const newScrollX = get$b().left;\n        if (newScrollX !== lastScrollX) {\n          lastScrollX = newScrollX;\n          updateUi.throttle();\n        }\n        ui.updateMode();\n      });\n      if (isSplitUiMode(editor)) {\n        editor.on('ElementScroll', _args => {\n          ui.update(Docking.refresh);\n        });\n      }\n      const elementLoad = unbindable();\n      elementLoad.set(capture(SugarElement.fromDom(editor.getBody()), 'load', e => resizeContent(e.raw)));\n      editor.on('remove', () => {\n        elementLoad.clear();\n      });\n    };\n    const render = async (editor, uiRefs, rawUiConfig, backstage, args) => {\n      const {mainUi} = uiRefs;\n      const floatContainer = value$2();\n      const targetElm = SugarElement.fromDom(args.targetNode);\n      const ui = InlineHeader(editor, targetElm, uiRefs, backstage, floatContainer);\n      const toolbarPersist = isToolbarPersist(editor);\n      await inline(editor);\n      const render = () => {\n        if (floatContainer.isSet()) {\n          ui.show();\n          return;\n        }\n        floatContainer.set(OuterContainer.getHeader(mainUi.outerContainer).getOrDie());\n        const uiContainer = getUiContainer(editor);\n        if (isSplitUiMode(editor)) {\n          attachSystemAfter(targetElm, mainUi.mothership);\n          attachSystemAfter(targetElm, uiRefs.popupUi.mothership);\n        } else {\n          attachSystem(uiContainer, mainUi.mothership);\n        }\n        attachSystem(uiContainer, uiRefs.dialogUi.mothership);\n        setToolbar(editor, uiRefs, rawUiConfig, backstage);\n        OuterContainer.setMenubar(mainUi.outerContainer, identifyMenus(editor, rawUiConfig));\n        ui.show();\n        setupEvents(editor, targetElm, ui, toolbarPersist);\n        editor.nodeChanged();\n      };\n      editor.on('show', render);\n      editor.on('hide', ui.hide);\n      if (!toolbarPersist) {\n        editor.on('focus', render);\n        editor.on('blur', ui.hide);\n      }\n      editor.on('init', () => {\n        if (editor.hasFocus() || toolbarPersist) {\n          render();\n        }\n      });\n      setupReadonlyModeSwitch(editor, uiRefs);\n      const api = {\n        show: render,\n        hide: ui.hide,\n        setEnabled: state => {\n          broadcastReadonly(uiRefs, !state);\n        },\n        isEnabled: () => !Disabling.isDisabled(mainUi.outerContainer)\n      };\n      return {\n        editorContainer: mainUi.outerContainer.element.dom,\n        api\n      };\n    };\n\n    var Inline = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render\n    });\n\n    const LazyUiReferences = () => {\n      const dialogUi = value$2();\n      const popupUi = value$2();\n      const mainUi = value$2();\n      const lazyGetInOuterOrDie = (label, f) => () => mainUi.get().bind(oc => f(oc.outerContainer)).getOrDie(`Could not find ${ label } element in OuterContainer`);\n      const getUiMotherships = () => {\n        const optDialogMothership = dialogUi.get().map(ui => ui.mothership);\n        const optPopupMothership = popupUi.get().map(ui => ui.mothership);\n        return optDialogMothership.fold(() => optPopupMothership.toArray(), dm => optPopupMothership.fold(() => [dm], pm => eq(dm.element, pm.element) ? [dm] : [\n          dm,\n          pm\n        ]));\n      };\n      return {\n        dialogUi,\n        popupUi,\n        mainUi,\n        getUiMotherships,\n        lazyGetInOuterOrDie\n      };\n    };\n\n    const showContextToolbarEvent = 'contexttoolbar-show';\n    const hideContextToolbarEvent = 'contexttoolbar-hide';\n\n    const getFormApi = input => ({\n      hide: () => emit(input, sandboxClose()),\n      getValue: () => Representing.getValue(input)\n    });\n    const runOnExecute = (memInput, original) => run$1(internalToolbarButtonExecute, (comp, se) => {\n      const input = memInput.get(comp);\n      const formApi = getFormApi(input);\n      original.onAction(formApi, se.event.buttonApi);\n    });\n    const renderContextButton = (memInput, button, providers) => {\n      const {primary, ...rest} = button.original;\n      const bridged = getOrDie(createToolbarButton({\n        ...rest,\n        type: 'button',\n        onAction: noop\n      }));\n      return renderToolbarButtonWith(bridged, providers, [runOnExecute(memInput, button)]);\n    };\n    const renderContextToggleButton = (memInput, button, providers) => {\n      const {primary, ...rest} = button.original;\n      const bridged = getOrDie(createToggleButton({\n        ...rest,\n        type: 'togglebutton',\n        onAction: noop\n      }));\n      return renderToolbarToggleButtonWith(bridged, providers, [runOnExecute(memInput, button)]);\n    };\n    const isToggleButton = button => button.type === 'contextformtogglebutton';\n    const generateOne = (memInput, button, providersBackstage) => {\n      if (isToggleButton(button)) {\n        return renderContextToggleButton(memInput, button, providersBackstage);\n      } else {\n        return renderContextButton(memInput, button, providersBackstage);\n      }\n    };\n    const generate = (memInput, buttons, providersBackstage) => {\n      const mementos = map$2(buttons, button => record(generateOne(memInput, button, providersBackstage)));\n      const asSpecs = () => map$2(mementos, mem => mem.asSpec());\n      const findPrimary = compInSystem => findMap(buttons, (button, i) => {\n        if (button.primary) {\n          return Optional.from(mementos[i]).bind(mem => mem.getOpt(compInSystem)).filter(not(Disabling.isDisabled));\n        } else {\n          return Optional.none();\n        }\n      });\n      return {\n        asSpecs,\n        findPrimary\n      };\n    };\n\n    const buildInitGroups = (ctx, providers) => {\n      const inputAttributes = ctx.label.fold(() => ({}), label => ({ 'aria-label': label }));\n      const memInput = record(Input.sketch({\n        inputClasses: [\n          'tox-toolbar-textfield',\n          'tox-toolbar-nav-js'\n        ],\n        data: ctx.initValue(),\n        inputAttributes,\n        selectOnFocus: true,\n        inputBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onEnter: input => commands.findPrimary(input).map(primary => {\n              emitExecute(primary);\n              return true;\n            }),\n            onLeft: (comp, se) => {\n              se.cut();\n              return Optional.none();\n            },\n            onRight: (comp, se) => {\n              se.cut();\n              return Optional.none();\n            }\n          })])\n      }));\n      const commands = generate(memInput, ctx.commands, providers);\n      return [\n        {\n          title: Optional.none(),\n          items: [memInput.asSpec()]\n        },\n        {\n          title: Optional.none(),\n          items: commands.asSpecs()\n        }\n      ];\n    };\n    const renderContextForm = (toolbarType, ctx, providers) => renderToolbar({\n      type: toolbarType,\n      uid: generate$6('context-toolbar'),\n      initGroups: buildInitGroups(ctx, providers),\n      onEscape: Optional.none,\n      cyclicKeying: true,\n      providers\n    });\n    const ContextForm = {\n      renderContextForm,\n      buildInitGroups\n    };\n\n    const isVerticalOverlap = (a, b, threshold) => b.bottom - a.y >= threshold && a.bottom - b.y >= threshold;\n    const getRangeRect = rng => {\n      const rect = rng.getBoundingClientRect();\n      if (rect.height <= 0 && rect.width <= 0) {\n        const leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset).element;\n        const elm = isText(leaf$1) ? parent(leaf$1) : Optional.some(leaf$1);\n        return elm.filter(isElement$1).map(e => e.dom.getBoundingClientRect()).getOr(rect);\n      } else {\n        return rect;\n      }\n    };\n    const getSelectionBounds = editor => {\n      const rng = editor.selection.getRng();\n      const rect = getRangeRect(rng);\n      if (editor.inline) {\n        const scroll = get$b();\n        return bounds(scroll.left + rect.left, scroll.top + rect.top, rect.width, rect.height);\n      } else {\n        const bodyPos = absolute$2(SugarElement.fromDom(editor.getBody()));\n        return bounds(bodyPos.x + rect.left, bodyPos.y + rect.top, rect.width, rect.height);\n      }\n    };\n    const getAnchorElementBounds = (editor, lastElement) => lastElement.filter(elem => inBody(elem) && isHTMLElement(elem)).map(absolute$2).getOrThunk(() => getSelectionBounds(editor));\n    const getHorizontalBounds = (contentAreaBox, viewportBounds, margin) => {\n      const x = Math.max(contentAreaBox.x + margin, viewportBounds.x);\n      const right = Math.min(contentAreaBox.right - margin, viewportBounds.right);\n      return {\n        x,\n        width: right - x\n      };\n    };\n    const getVerticalBounds = (editor, contentAreaBox, viewportBounds, isToolbarLocationTop, toolbarType, margin) => {\n      const container = SugarElement.fromDom(editor.getContainer());\n      const header = descendant(container, '.tox-editor-header').getOr(container);\n      const headerBox = box$1(header);\n      const isToolbarBelowContentArea = headerBox.y >= contentAreaBox.bottom;\n      const isToolbarAbove = isToolbarLocationTop && !isToolbarBelowContentArea;\n      if (editor.inline && isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: viewportBounds.bottom\n        };\n      }\n      if (editor.inline && !isToolbarAbove) {\n        return {\n          y: viewportBounds.y,\n          bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n        };\n      }\n      const containerBounds = toolbarType === 'line' ? box$1(container) : contentAreaBox;\n      if (isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: Math.min(containerBounds.bottom - margin, viewportBounds.bottom)\n        };\n      }\n      return {\n        y: Math.max(containerBounds.y + margin, viewportBounds.y),\n        bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n      };\n    };\n    const getContextToolbarBounds = (editor, sharedBackstage, toolbarType, margin = 0) => {\n      const viewportBounds = getBounds$3(window);\n      const contentAreaBox = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n      const toolbarOrMenubarEnabled = isMenubarEnabled(editor) || isToolbarEnabled(editor) || isMultipleToolbars(editor);\n      const {x, width} = getHorizontalBounds(contentAreaBox, viewportBounds, margin);\n      if (editor.inline && !toolbarOrMenubarEnabled) {\n        return bounds(x, viewportBounds.y, width, viewportBounds.height);\n      } else {\n        const isToolbarTop = sharedBackstage.header.isPositionedAtTop();\n        const {y, bottom} = getVerticalBounds(editor, contentAreaBox, viewportBounds, isToolbarTop, toolbarType, margin);\n        return bounds(x, y, width, bottom - y);\n      }\n    };\n\n    const bubbleSize$1 = 12;\n    const bubbleAlignments$1 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top'],\n      inset: ['tox-pop--inset']\n    };\n    const anchorOverrides = {\n      maxHeightFunction: expandable$1(),\n      maxWidthFunction: expandable()\n    };\n    const isEntireElementSelected = (editor, elem) => {\n      const rng = editor.selection.getRng();\n      const leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      return rng.startContainer === rng.endContainer && rng.startOffset === rng.endOffset - 1 && eq(leaf$1.element, elem);\n    };\n    const preservePosition = (elem, position, f) => {\n      const currentPosition = getRaw(elem, 'position');\n      set$8(elem, 'position', position);\n      const result = f(elem);\n      currentPosition.each(pos => set$8(elem, 'position', pos));\n      return result;\n    };\n    const shouldUseInsetLayouts = position => position === 'node';\n    const determineInsetLayout = (editor, contextbar, elem, data, bounds) => {\n      const selectionBounds = getSelectionBounds(editor);\n      const isSameAnchorElement = data.lastElement().exists(prev => eq(elem, prev));\n      if (isEntireElementSelected(editor, elem)) {\n        return isSameAnchorElement ? preserve : north;\n      } else if (isSameAnchorElement) {\n        return preservePosition(contextbar, data.getMode(), () => {\n          const isOverlapping = isVerticalOverlap(selectionBounds, box$1(contextbar), -20);\n          return isOverlapping && !data.isReposition() ? flip : preserve;\n        });\n      } else {\n        const yBounds = data.getMode() === 'fixed' ? bounds.y + get$b().top : bounds.y;\n        const contextbarHeight = get$d(contextbar) + bubbleSize$1;\n        return yBounds + contextbarHeight <= selectionBounds.y ? north : south;\n      }\n    };\n    const getAnchorSpec$2 = (editor, mobile, data, position) => {\n      const smartInsetLayout = elem => (anchor, element, bubbles, placee, bounds) => {\n        const layout = determineInsetLayout(editor, placee, elem, data, bounds);\n        const newAnchor = {\n          ...anchor,\n          y: bounds.y,\n          height: bounds.height\n        };\n        return {\n          ...layout(newAnchor, element, bubbles, placee, bounds),\n          alwaysFit: true\n        };\n      };\n      const getInsetLayouts = elem => shouldUseInsetLayouts(position) ? [smartInsetLayout(elem)] : [];\n      const desktopAnchorSpecLayouts = {\n        onLtr: elem => [\n          north$2,\n          south$2,\n          northeast$2,\n          southeast$2,\n          northwest$2,\n          southwest$2\n        ].concat(getInsetLayouts(elem)),\n        onRtl: elem => [\n          north$2,\n          south$2,\n          northwest$2,\n          southwest$2,\n          northeast$2,\n          southeast$2\n        ].concat(getInsetLayouts(elem))\n      };\n      const mobileAnchorSpecLayouts = {\n        onLtr: elem => [\n          south$2,\n          southeast$2,\n          southwest$2,\n          northeast$2,\n          northwest$2,\n          north$2\n        ].concat(getInsetLayouts(elem)),\n        onRtl: elem => [\n          south$2,\n          southwest$2,\n          southeast$2,\n          northwest$2,\n          northeast$2,\n          north$2\n        ].concat(getInsetLayouts(elem))\n      };\n      return mobile ? mobileAnchorSpecLayouts : desktopAnchorSpecLayouts;\n    };\n    const getAnchorLayout = (editor, position, isTouch, data) => {\n      if (position === 'line') {\n        return {\n          bubble: nu$5(bubbleSize$1, 0, bubbleAlignments$1),\n          layouts: {\n            onLtr: () => [east$2],\n            onRtl: () => [west$2]\n          },\n          overrides: anchorOverrides\n        };\n      } else {\n        return {\n          bubble: nu$5(0, bubbleSize$1, bubbleAlignments$1, 1 / bubbleSize$1),\n          layouts: getAnchorSpec$2(editor, isTouch, data, position),\n          overrides: anchorOverrides\n        };\n      }\n    };\n\n    const matchTargetWith = (elem, candidates) => {\n      const ctxs = filter$2(candidates, toolbarApi => toolbarApi.predicate(elem.dom));\n      const {pass, fail} = partition$3(ctxs, t => t.type === 'contexttoolbar');\n      return {\n        contextToolbars: pass,\n        contextForms: fail\n      };\n    };\n    const filterByPositionForStartNode = toolbars => {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        const doesPositionExist = value => exists(toolbars, t => t.position === value);\n        const filterToolbarsByPosition = value => filter$2(toolbars, t => t.position === value);\n        const hasSelectionToolbars = doesPositionExist('selection');\n        const hasNodeToolbars = doesPositionExist('node');\n        if (hasSelectionToolbars || hasNodeToolbars) {\n          if (hasNodeToolbars && hasSelectionToolbars) {\n            const nodeToolbars = filterToolbarsByPosition('node');\n            const selectionToolbars = map$2(filterToolbarsByPosition('selection'), t => ({\n              ...t,\n              position: 'node'\n            }));\n            return nodeToolbars.concat(selectionToolbars);\n          } else {\n            return hasSelectionToolbars ? filterToolbarsByPosition('selection') : filterToolbarsByPosition('node');\n          }\n        } else {\n          return filterToolbarsByPosition('line');\n        }\n      }\n    };\n    const filterByPositionForAncestorNode = toolbars => {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        const findPosition = value => find$5(toolbars, t => t.position === value);\n        const basePosition = findPosition('selection').orThunk(() => findPosition('node')).orThunk(() => findPosition('line')).map(t => t.position);\n        return basePosition.fold(() => [], pos => filter$2(toolbars, t => t.position === pos));\n      }\n    };\n    const matchStartNode = (elem, nodeCandidates, editorCandidates) => {\n      const nodeMatches = matchTargetWith(elem, nodeCandidates);\n      if (nodeMatches.contextForms.length > 0) {\n        return Optional.some({\n          elem,\n          toolbars: [nodeMatches.contextForms[0]]\n        });\n      } else {\n        const editorMatches = matchTargetWith(elem, editorCandidates);\n        if (editorMatches.contextForms.length > 0) {\n          return Optional.some({\n            elem,\n            toolbars: [editorMatches.contextForms[0]]\n          });\n        } else if (nodeMatches.contextToolbars.length > 0 || editorMatches.contextToolbars.length > 0) {\n          const toolbars = filterByPositionForStartNode(nodeMatches.contextToolbars.concat(editorMatches.contextToolbars));\n          return Optional.some({\n            elem,\n            toolbars\n          });\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    const matchAncestor = (isRoot, startNode, scopes) => {\n      if (isRoot(startNode)) {\n        return Optional.none();\n      } else {\n        return ancestor$2(startNode, ancestorElem => {\n          if (isElement$1(ancestorElem)) {\n            const {contextToolbars, contextForms} = matchTargetWith(ancestorElem, scopes.inNodeScope);\n            const toolbars = contextForms.length > 0 ? contextForms : filterByPositionForAncestorNode(contextToolbars);\n            return toolbars.length > 0 ? Optional.some({\n              elem: ancestorElem,\n              toolbars\n            }) : Optional.none();\n          } else {\n            return Optional.none();\n          }\n        }, isRoot);\n      }\n    };\n    const lookup$1 = (scopes, editor) => {\n      const rootElem = SugarElement.fromDom(editor.getBody());\n      const isRoot = elem => eq(elem, rootElem);\n      const isOutsideRoot = startNode => !isRoot(startNode) && !contains(rootElem, startNode);\n      const startNode = SugarElement.fromDom(editor.selection.getNode());\n      if (isOutsideRoot(startNode)) {\n        return Optional.none();\n      }\n      return matchStartNode(startNode, scopes.inNodeScope, scopes.inEditorScope).orThunk(() => matchAncestor(isRoot, startNode, scopes));\n    };\n\n    const categorise = (contextToolbars, navigate) => {\n      const forms = {};\n      const inNodeScope = [];\n      const inEditorScope = [];\n      const formNavigators = {};\n      const lookupTable = {};\n      const registerForm = (key, toolbarSpec) => {\n        const contextForm = getOrDie(createContextForm(toolbarSpec));\n        forms[key] = contextForm;\n        contextForm.launch.map(launch => {\n          formNavigators['form:' + key + ''] = {\n            ...toolbarSpec.launch,\n            type: launch.type === 'contextformtogglebutton' ? 'togglebutton' : 'button',\n            onAction: () => {\n              navigate(contextForm);\n            }\n          };\n        });\n        if (contextForm.scope === 'editor') {\n          inEditorScope.push(contextForm);\n        } else {\n          inNodeScope.push(contextForm);\n        }\n        lookupTable[key] = contextForm;\n      };\n      const registerToolbar = (key, toolbarSpec) => {\n        createContextToolbar(toolbarSpec).each(contextToolbar => {\n          if (toolbarSpec.scope === 'editor') {\n            inEditorScope.push(contextToolbar);\n          } else {\n            inNodeScope.push(contextToolbar);\n          }\n          lookupTable[key] = contextToolbar;\n        });\n      };\n      const keys$1 = keys(contextToolbars);\n      each$1(keys$1, key => {\n        const toolbarApi = contextToolbars[key];\n        if (toolbarApi.type === 'contextform') {\n          registerForm(key, toolbarApi);\n        } else if (toolbarApi.type === 'contexttoolbar') {\n          registerToolbar(key, toolbarApi);\n        }\n      });\n      return {\n        forms,\n        inNodeScope,\n        inEditorScope,\n        lookupTable,\n        formNavigators\n      };\n    };\n\n    const forwardSlideEvent = generate$6('forward-slide');\n    const backSlideEvent = generate$6('backward-slide');\n    const changeSlideEvent = generate$6('change-slide-event');\n    const resizingClass = 'tox-pop--resizing';\n    const renderContextToolbar = spec => {\n      const stack = Cell([]);\n      return InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop']\n        },\n        fireDismissalEventInstead: { event: 'doNotDismissYet' },\n        onShow: comp => {\n          stack.set([]);\n          InlineView.getContent(comp).each(c => {\n            remove$6(c.element, 'visibility');\n          });\n          remove$2(comp.element, resizingClass);\n          remove$6(comp.element, 'width');\n        },\n        inlineBehaviours: derive$1([\n          config('context-toolbar-events', [\n            runOnSource(transitionend(), (comp, se) => {\n              if (se.event.raw.propertyName === 'width') {\n                remove$2(comp.element, resizingClass);\n                remove$6(comp.element, 'width');\n              }\n            }),\n            run$1(changeSlideEvent, (comp, se) => {\n              const elem = comp.element;\n              remove$6(elem, 'width');\n              const currentWidth = get$c(elem);\n              InlineView.setContent(comp, se.event.contents);\n              add$2(elem, resizingClass);\n              const newWidth = get$c(elem);\n              set$8(elem, 'width', currentWidth + 'px');\n              InlineView.getContent(comp).each(newContents => {\n                se.event.focus.bind(f => {\n                  focus$3(f);\n                  return search(elem);\n                }).orThunk(() => {\n                  Keying.focusIn(newContents);\n                  return active$1(getRootNode(elem));\n                });\n              });\n              setTimeout(() => {\n                set$8(comp.element, 'width', newWidth + 'px');\n              }, 0);\n            }),\n            run$1(forwardSlideEvent, (comp, se) => {\n              InlineView.getContent(comp).each(oldContents => {\n                stack.set(stack.get().concat([{\n                    bar: oldContents,\n                    focus: active$1(getRootNode(comp.element))\n                  }]));\n              });\n              emitWith(comp, changeSlideEvent, {\n                contents: se.event.forwardContents,\n                focus: Optional.none()\n              });\n            }),\n            run$1(backSlideEvent, (comp, _se) => {\n              last$1(stack.get()).each(last => {\n                stack.set(stack.get().slice(0, stack.get().length - 1));\n                emitWith(comp, changeSlideEvent, {\n                  contents: premade(last.bar),\n                  focus: last.focus\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'special',\n            onEscape: comp => last$1(stack.get()).fold(() => spec.onEscape(), _ => {\n              emit(comp, backSlideEvent);\n              return Optional.some(true);\n            })\n          })\n        ]),\n        lazySink: () => Result.value(spec.sink)\n      });\n    };\n\n    const transitionClass = 'tox-pop--transition';\n    const register$9 = (editor, registryContextToolbars, sink, extras) => {\n      const backstage = extras.backstage;\n      const sharedBackstage = backstage.shared;\n      const isTouch = detect$2().deviceType.isTouch;\n      const lastElement = value$2();\n      const lastTrigger = value$2();\n      const lastContextPosition = value$2();\n      const contextbar = build$1(renderContextToolbar({\n        sink,\n        onEscape: () => {\n          editor.focus();\n          return Optional.some(true);\n        }\n      }));\n      const getBounds = () => {\n        const position = lastContextPosition.get().getOr('node');\n        const margin = shouldUseInsetLayouts(position) ? 1 : 0;\n        return getContextToolbarBounds(editor, sharedBackstage, position, margin);\n      };\n      const canLaunchToolbar = () => {\n        return !editor.removed && !(isTouch() && backstage.isContextMenuOpen());\n      };\n      const isSameLaunchElement = elem => is$1(lift2(elem, lastElement.get(), eq), true);\n      const shouldContextToolbarHide = () => {\n        if (!canLaunchToolbar()) {\n          return true;\n        } else {\n          const contextToolbarBounds = getBounds();\n          const anchorBounds = is$1(lastContextPosition.get(), 'node') ? getAnchorElementBounds(editor, lastElement.get()) : getSelectionBounds(editor);\n          return contextToolbarBounds.height <= 0 || !isVerticalOverlap(anchorBounds, contextToolbarBounds, 0.01);\n        }\n      };\n      const close = () => {\n        lastElement.clear();\n        lastTrigger.clear();\n        lastContextPosition.clear();\n        InlineView.hide(contextbar);\n      };\n      const hideOrRepositionIfNecessary = () => {\n        if (InlineView.isOpen(contextbar)) {\n          const contextBarEle = contextbar.element;\n          remove$6(contextBarEle, 'display');\n          if (shouldContextToolbarHide()) {\n            set$8(contextBarEle, 'display', 'none');\n          } else {\n            lastTrigger.set(0);\n            InlineView.reposition(contextbar);\n          }\n        }\n      };\n      const wrapInPopDialog = toolbarSpec => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop__dialog']\n        },\n        components: [toolbarSpec],\n        behaviours: derive$1([\n          Keying.config({ mode: 'acyclic' }),\n          config('pop-dialog-wrap-events', [\n            runOnAttached(comp => {\n              editor.shortcuts.add('ctrl+F9', 'focus statusbar', () => Keying.focusIn(comp));\n            }),\n            runOnDetached(_comp => {\n              editor.shortcuts.remove('ctrl+F9');\n            })\n          ])\n        ])\n      });\n      const getScopes = cached(() => categorise(registryContextToolbars, toolbarApi => {\n        const alloySpec = buildToolbar([toolbarApi]);\n        emitWith(contextbar, forwardSlideEvent, { forwardContents: wrapInPopDialog(alloySpec) });\n      }));\n      const buildContextToolbarGroups = (allButtons, ctx) => identifyButtons(editor, {\n        buttons: allButtons,\n        toolbar: ctx.items,\n        allowToolbarGroups: false\n      }, extras.backstage, Optional.some(['form:']));\n      const buildContextFormGroups = (ctx, providers) => ContextForm.buildInitGroups(ctx, providers);\n      const buildToolbar = toolbars => {\n        const {buttons} = editor.ui.registry.getAll();\n        const scopes = getScopes();\n        const allButtons = {\n          ...buttons,\n          ...scopes.formNavigators\n        };\n        const toolbarType = getToolbarMode(editor) === ToolbarMode$1.scrolling ? ToolbarMode$1.scrolling : ToolbarMode$1.default;\n        const initGroups = flatten(map$2(toolbars, ctx => ctx.type === 'contexttoolbar' ? buildContextToolbarGroups(allButtons, ctx) : buildContextFormGroups(ctx, sharedBackstage.providers)));\n        return renderToolbar({\n          type: toolbarType,\n          uid: generate$6('context-toolbar'),\n          initGroups,\n          onEscape: Optional.none,\n          cyclicKeying: true,\n          providers: sharedBackstage.providers\n        });\n      };\n      const getAnchor = (position, element) => {\n        const anchorage = position === 'node' ? sharedBackstage.anchors.node(element) : sharedBackstage.anchors.cursor();\n        const anchorLayout = getAnchorLayout(editor, position, isTouch(), {\n          lastElement: lastElement.get,\n          isReposition: () => is$1(lastTrigger.get(), 0),\n          getMode: () => Positioning.getMode(sink)\n        });\n        return deepMerge(anchorage, anchorLayout);\n      };\n      const launchContext = (toolbarApi, elem) => {\n        launchContextToolbar.cancel();\n        if (!canLaunchToolbar()) {\n          return;\n        }\n        const toolbarSpec = buildToolbar(toolbarApi);\n        const position = toolbarApi[0].position;\n        const anchor = getAnchor(position, elem);\n        lastContextPosition.set(position);\n        lastTrigger.set(1);\n        const contextBarEle = contextbar.element;\n        remove$6(contextBarEle, 'display');\n        if (!isSameLaunchElement(elem)) {\n          remove$2(contextBarEle, transitionClass);\n          Positioning.reset(sink, contextbar);\n        }\n        InlineView.showWithinBounds(contextbar, wrapInPopDialog(toolbarSpec), {\n          anchor,\n          transition: {\n            classes: [transitionClass],\n            mode: 'placement'\n          }\n        }, () => Optional.some(getBounds()));\n        elem.fold(lastElement.clear, lastElement.set);\n        if (shouldContextToolbarHide()) {\n          set$8(contextBarEle, 'display', 'none');\n        }\n      };\n      let isDragging = false;\n      const launchContextToolbar = last(() => {\n        if (!editor.hasFocus() || editor.removed || isDragging) {\n          return;\n        }\n        if (has(contextbar.element, transitionClass)) {\n          launchContextToolbar.throttle();\n        } else {\n          const scopes = getScopes();\n          lookup$1(scopes, editor).fold(close, info => {\n            launchContext(info.toolbars, Optional.some(info.elem));\n          });\n        }\n      }, 17);\n      editor.on('init', () => {\n        editor.on('remove', close);\n        editor.on('ScrollContent ScrollWindow ObjectResized ResizeEditor longpress', hideOrRepositionIfNecessary);\n        editor.on('click keyup focus SetContent', launchContextToolbar.throttle);\n        editor.on(hideContextToolbarEvent, close);\n        editor.on(showContextToolbarEvent, e => {\n          const scopes = getScopes();\n          get$g(scopes.lookupTable, e.toolbarKey).each(ctx => {\n            launchContext([ctx], someIf(e.target !== editor, e.target));\n            InlineView.getContent(contextbar).each(Keying.focusIn);\n          });\n        });\n        editor.on('focusout', _e => {\n          global$9.setEditorTimeout(editor, () => {\n            if (search(sink.element).isNone() && search(contextbar.element).isNone()) {\n              close();\n            }\n          }, 0);\n        });\n        editor.on('SwitchMode', () => {\n          if (editor.mode.isReadOnly()) {\n            close();\n          }\n        });\n        editor.on('AfterProgressState', event => {\n          if (event.state) {\n            close();\n          } else if (editor.hasFocus()) {\n            launchContextToolbar.throttle();\n          }\n        });\n        editor.on('dragstart', () => {\n          isDragging = true;\n        });\n        editor.on('dragend drop', () => {\n          isDragging = false;\n        });\n        editor.on('NodeChange', _e => {\n          search(contextbar.element).fold(launchContextToolbar.throttle, noop);\n        });\n      });\n    };\n\n    const register$8 = editor => {\n      const alignToolbarButtons = [\n        {\n          name: 'alignleft',\n          text: 'Align left',\n          cmd: 'JustifyLeft',\n          icon: 'align-left'\n        },\n        {\n          name: 'aligncenter',\n          text: 'Align center',\n          cmd: 'JustifyCenter',\n          icon: 'align-center'\n        },\n        {\n          name: 'alignright',\n          text: 'Align right',\n          cmd: 'JustifyRight',\n          icon: 'align-right'\n        },\n        {\n          name: 'alignjustify',\n          text: 'Justify',\n          cmd: 'JustifyFull',\n          icon: 'align-justify'\n        }\n      ];\n      each$1(alignToolbarButtons, item => {\n        editor.ui.registry.addToggleButton(item.name, {\n          tooltip: item.text,\n          icon: item.icon,\n          onAction: onActionExecCommand(editor, item.cmd),\n          onSetup: onSetupFormatToggle(editor, item.name)\n        });\n      });\n      editor.ui.registry.addButton('alignnone', {\n        tooltip: 'No alignment',\n        icon: 'align-none',\n        onAction: onActionExecCommand(editor, 'JustifyNone')\n      });\n    };\n\n    const registerController = (editor, spec) => {\n      const getMenuItems = () => {\n        const options = spec.getOptions(editor);\n        const initial = spec.getCurrent(editor).map(spec.hash);\n        const current = value$2();\n        return map$2(options, value => ({\n          type: 'togglemenuitem',\n          text: spec.display(value),\n          onSetup: api => {\n            const setActive = active => {\n              if (active) {\n                current.on(oldApi => oldApi.setActive(false));\n                current.set(api);\n              }\n              api.setActive(active);\n            };\n            setActive(is$1(initial, spec.hash(value)));\n            const unbindWatcher = spec.watcher(editor, value, setActive);\n            return () => {\n              current.clear();\n              unbindWatcher();\n            };\n          },\n          onAction: () => spec.setCurrent(editor, value)\n        }));\n      };\n      editor.ui.registry.addMenuButton(spec.name, {\n        tooltip: spec.text,\n        icon: spec.icon,\n        fetch: callback => callback(getMenuItems()),\n        onSetup: spec.onToolbarSetup\n      });\n      editor.ui.registry.addNestedMenuItem(spec.name, {\n        type: 'nestedmenuitem',\n        text: spec.text,\n        getSubmenuItems: getMenuItems,\n        onSetup: spec.onMenuSetup\n      });\n    };\n    const lineHeightSpec = {\n      name: 'lineheight',\n      text: 'Line height',\n      icon: 'line-height',\n      getOptions: getLineHeightFormats,\n      hash: input => normalise(input, [\n        'fixed',\n        'relative',\n        'empty'\n      ]).getOr(input),\n      display: identity,\n      watcher: (editor, value, callback) => editor.formatter.formatChanged('lineheight', callback, false, { value }).unbind,\n      getCurrent: editor => Optional.from(editor.queryCommandValue('LineHeight')),\n      setCurrent: (editor, value) => editor.execCommand('LineHeight', false, value)\n    };\n    const languageSpec = editor => {\n      const settingsOpt = Optional.from(getContentLanguages(editor));\n      return settingsOpt.map(settings => ({\n        name: 'language',\n        text: 'Language',\n        icon: 'language',\n        getOptions: constant$1(settings),\n        hash: input => isUndefined(input.customCode) ? input.code : `${ input.code }/${ input.customCode }`,\n        display: input => input.title,\n        watcher: (editor, value, callback) => {\n          var _a;\n          return editor.formatter.formatChanged('lang', callback, false, {\n            value: value.code,\n            customValue: (_a = value.customCode) !== null && _a !== void 0 ? _a : null\n          }).unbind;\n        },\n        getCurrent: editor => {\n          const node = SugarElement.fromDom(editor.selection.getNode());\n          return closest$4(node, n => Optional.some(n).filter(isElement$1).bind(ele => {\n            const codeOpt = getOpt(ele, 'lang');\n            return codeOpt.map(code => {\n              const customCode = getOpt(ele, 'data-mce-lang').getOrUndefined();\n              return {\n                code,\n                customCode,\n                title: ''\n              };\n            });\n          }));\n        },\n        setCurrent: (editor, lang) => editor.execCommand('Lang', false, lang),\n        onToolbarSetup: api => {\n          const unbinder = unbindable();\n          api.setActive(editor.formatter.match('lang', {}, undefined, true));\n          unbinder.set(editor.formatter.formatChanged('lang', api.setActive, true));\n          return unbinder.clear;\n        }\n      }));\n    };\n    const register$7 = editor => {\n      registerController(editor, lineHeightSpec);\n      languageSpec(editor).each(spec => registerController(editor, spec));\n    };\n\n    const register$6 = (editor, backstage) => {\n      createAlignMenu(editor, backstage);\n      createFontFamilyMenu(editor, backstage);\n      createStylesMenu(editor, backstage);\n      createBlocksMenu(editor, backstage);\n      createFontSizeMenu(editor, backstage);\n    };\n\n    const onSetupOutdentState = editor => onSetupEvent(editor, 'NodeChange', api => {\n      api.setEnabled(editor.queryCommandState('outdent'));\n    });\n    const registerButtons$2 = editor => {\n      editor.ui.registry.addButton('outdent', {\n        tooltip: 'Decrease indent',\n        icon: 'outdent',\n        onSetup: onSetupOutdentState(editor),\n        onAction: onActionExecCommand(editor, 'outdent')\n      });\n      editor.ui.registry.addButton('indent', {\n        tooltip: 'Increase indent',\n        icon: 'indent',\n        onAction: onActionExecCommand(editor, 'indent')\n      });\n    };\n    const register$5 = editor => {\n      registerButtons$2(editor);\n    };\n\n    const makeSetupHandler = (editor, pasteAsText) => api => {\n      api.setActive(pasteAsText.get());\n      const pastePlainTextToggleHandler = e => {\n        pasteAsText.set(e.state);\n        api.setActive(e.state);\n      };\n      editor.on('PastePlainTextToggle', pastePlainTextToggleHandler);\n      return () => editor.off('PastePlainTextToggle', pastePlainTextToggleHandler);\n    };\n    const register$4 = editor => {\n      const pasteAsText = Cell(getPasteAsText(editor));\n      const onAction = () => editor.execCommand('mceTogglePlainTextPaste');\n      editor.ui.registry.addToggleButton('pastetext', {\n        active: false,\n        icon: 'paste-text',\n        tooltip: 'Paste as text',\n        onAction,\n        onSetup: makeSetupHandler(editor, pasteAsText)\n      });\n      editor.ui.registry.addToggleMenuItem('pastetext', {\n        text: 'Paste as text',\n        icon: 'paste-text',\n        onAction,\n        onSetup: makeSetupHandler(editor, pasteAsText)\n      });\n    };\n\n    const onActionToggleFormat = (editor, fmt) => () => {\n      editor.execCommand('mceToggleFormat', false, fmt);\n    };\n    const registerFormatButtons = editor => {\n      global$1.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          icon: 'bold'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          icon: 'italic'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          icon: 'underline'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          icon: 'superscript'\n        }\n      ], (btn, _idx) => {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onSetup: onSetupFormatToggle(editor, btn.name),\n          onAction: onActionToggleFormat(editor, btn.name)\n        });\n      });\n      for (let i = 1; i <= 6; i++) {\n        const name = 'h' + i;\n        editor.ui.registry.addToggleButton(name, {\n          text: name.toUpperCase(),\n          tooltip: 'Heading ' + i,\n          onSetup: onSetupFormatToggle(editor, name),\n          onAction: onActionToggleFormat(editor, name)\n        });\n      }\n    };\n    const registerCommandButtons = editor => {\n      global$1.each([\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste'\n        },\n        {\n          name: 'help',\n          text: 'Help',\n          action: 'mceHelp',\n          icon: 'help'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all'\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'remove',\n          text: 'Remove',\n          action: 'Delete',\n          icon: 'remove'\n        },\n        {\n          name: 'print',\n          text: 'Print',\n          action: 'mcePrint',\n          icon: 'print'\n        },\n        {\n          name: 'hr',\n          text: 'Horizontal line',\n          action: 'InsertHorizontalRule',\n          icon: 'horizontal-rule'\n        }\n      ], btn => {\n        editor.ui.registry.addButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action)\n        });\n      });\n    };\n    const registerCommandToggleButtons = editor => {\n      global$1.each([{\n          name: 'blockquote',\n          text: 'Blockquote',\n          action: 'mceBlockQuote',\n          icon: 'quote'\n        }], btn => {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action),\n          onSetup: onSetupFormatToggle(editor, btn.name)\n        });\n      });\n    };\n    const registerButtons$1 = editor => {\n      registerFormatButtons(editor);\n      registerCommandButtons(editor);\n      registerCommandToggleButtons(editor);\n    };\n    const registerMenuItems$2 = editor => {\n      global$1.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          action: 'Bold',\n          icon: 'bold',\n          shortcut: 'Meta+B'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          action: 'Italic',\n          icon: 'italic',\n          shortcut: 'Meta+I'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          action: 'Underline',\n          icon: 'underline',\n          shortcut: 'Meta+U'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          action: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          action: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          action: 'Superscript',\n          icon: 'superscript'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut',\n          shortcut: 'Meta+X'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy',\n          shortcut: 'Meta+C'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste',\n          shortcut: 'Meta+V'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all',\n          shortcut: 'Meta+A'\n        },\n        {\n          name: 'print',\n          text: 'Print...',\n          action: 'mcePrint',\n          icon: 'print',\n          shortcut: 'Meta+P'\n        },\n        {\n          name: 'hr',\n          text: 'Horizontal line',\n          action: 'InsertHorizontalRule',\n          icon: 'horizontal-rule'\n        }\n      ], menuitem => {\n        editor.ui.registry.addMenuItem(menuitem.name, {\n          text: menuitem.text,\n          icon: menuitem.icon,\n          shortcut: menuitem.shortcut,\n          onAction: onActionExecCommand(editor, menuitem.action)\n        });\n      });\n      editor.ui.registry.addMenuItem('codeformat', {\n        text: 'Code',\n        icon: 'sourcecode',\n        onAction: onActionToggleFormat(editor, 'code')\n      });\n    };\n    const register$3 = editor => {\n      registerButtons$1(editor);\n      registerMenuItems$2(editor);\n    };\n\n    const onSetupUndoRedoState = (editor, type) => onSetupEvent(editor, 'Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', api => {\n      api.setEnabled(!editor.mode.isReadOnly() && editor.undoManager[type]());\n    });\n    const registerMenuItems$1 = editor => {\n      editor.ui.registry.addMenuItem('undo', {\n        text: 'Undo',\n        icon: 'undo',\n        shortcut: 'Meta+Z',\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addMenuItem('redo', {\n        text: 'Redo',\n        icon: 'redo',\n        shortcut: 'Meta+Y',\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    const registerButtons = editor => {\n      editor.ui.registry.addButton('undo', {\n        tooltip: 'Undo',\n        icon: 'undo',\n        enabled: false,\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addButton('redo', {\n        tooltip: 'Redo',\n        icon: 'redo',\n        enabled: false,\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    const register$2 = editor => {\n      registerMenuItems$1(editor);\n      registerButtons(editor);\n    };\n\n    const onSetupVisualAidState = editor => onSetupEvent(editor, 'VisualAid', api => {\n      api.setActive(editor.hasVisual);\n    });\n    const registerMenuItems = editor => {\n      editor.ui.registry.addToggleMenuItem('visualaid', {\n        text: 'Visual aids',\n        onSetup: onSetupVisualAidState(editor),\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    const registerToolbarButton = editor => {\n      editor.ui.registry.addButton('visualaid', {\n        tooltip: 'Visual aids',\n        text: 'Visual aids',\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    const register$1 = editor => {\n      registerToolbarButton(editor);\n      registerMenuItems(editor);\n    };\n\n    const setup$6 = (editor, backstage) => {\n      register$8(editor);\n      register$3(editor);\n      register$6(editor, backstage);\n      register$2(editor);\n      register$c(editor);\n      register$1(editor);\n      register$5(editor);\n      register$7(editor);\n      register$4(editor);\n    };\n\n    const patchPipeConfig = config => isString(config) ? config.split(/[ ,]/) : config;\n    const option = name => editor => editor.options.get(name);\n    const register = editor => {\n      const registerOption = editor.options.register;\n      registerOption('contextmenu_avoid_overlap', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('contextmenu_never_use_native', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('contextmenu', {\n        processor: value => {\n          if (value === false) {\n            return {\n              value: [],\n              valid: true\n            };\n          } else if (isString(value) || isArrayOf(value, isString)) {\n            return {\n              value: patchPipeConfig(value),\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be false or a string.'\n            };\n          }\n        },\n        default: 'link linkchecker image editimage table spellchecker configurepermanentpen'\n      });\n    };\n    const shouldNeverUseNative = option('contextmenu_never_use_native');\n    const getAvoidOverlapSelector = option('contextmenu_avoid_overlap');\n    const isContextMenuDisabled = editor => getContextMenu(editor).length === 0;\n    const getContextMenu = editor => {\n      const contextMenus = editor.ui.registry.getAll().contextMenus;\n      const contextMenu = editor.options.get('contextmenu');\n      if (editor.options.isSet('contextmenu')) {\n        return contextMenu;\n      } else {\n        return filter$2(contextMenu, item => has$2(contextMenus, item));\n      }\n    };\n\n    const nu = (x, y) => ({\n      type: 'makeshift',\n      x,\n      y\n    });\n    const transpose = (pos, dx, dy) => {\n      return nu(pos.x + dx, pos.y + dy);\n    };\n    const isTouchEvent$1 = e => e.type === 'longpress' || e.type.indexOf('touch') === 0;\n    const fromPageXY = e => {\n      if (isTouchEvent$1(e)) {\n        const touch = e.touches[0];\n        return nu(touch.pageX, touch.pageY);\n      } else {\n        return nu(e.pageX, e.pageY);\n      }\n    };\n    const fromClientXY = e => {\n      if (isTouchEvent$1(e)) {\n        const touch = e.touches[0];\n        return nu(touch.clientX, touch.clientY);\n      } else {\n        return nu(e.clientX, e.clientY);\n      }\n    };\n    const transposeContentAreaContainer = (element, pos) => {\n      const containerPos = global$7.DOM.getPos(element);\n      return transpose(pos, containerPos.x, containerPos.y);\n    };\n    const getPointAnchor = (editor, e) => {\n      if (e.type === 'contextmenu' || e.type === 'longpress') {\n        if (editor.inline) {\n          return fromPageXY(e);\n        } else {\n          return transposeContentAreaContainer(editor.getContentAreaContainer(), fromClientXY(e));\n        }\n      } else {\n        return getSelectionAnchor(editor);\n      }\n    };\n    const getSelectionAnchor = editor => {\n      return {\n        type: 'selection',\n        root: SugarElement.fromDom(editor.selection.getNode())\n      };\n    };\n    const getNodeAnchor = editor => ({\n      type: 'node',\n      node: Optional.some(SugarElement.fromDom(editor.selection.getNode())),\n      root: SugarElement.fromDom(editor.getBody())\n    });\n    const getAnchorSpec$1 = (editor, e, anchorType) => {\n      switch (anchorType) {\n      case 'node':\n        return getNodeAnchor(editor);\n      case 'point':\n        return getPointAnchor(editor, e);\n      case 'selection':\n        return getSelectionAnchor(editor);\n      }\n    };\n\n    const initAndShow$1 = (editor, e, buildMenu, backstage, contextmenu, anchorType) => {\n      const items = buildMenu();\n      const anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n        isHorizontalMenu: false,\n        search: Optional.none()\n      }).map(menuData => {\n        e.preventDefault();\n        InlineView.showMenuAt(contextmenu, { anchor: anchorSpec }, {\n          menu: { markers: markers('normal') },\n          data: menuData\n        });\n      });\n    };\n\n    const layouts = {\n      onLtr: () => [\n        south$2,\n        southeast$2,\n        southwest$2,\n        northeast$2,\n        northwest$2,\n        north$2,\n        north,\n        south,\n        northeast,\n        southeast,\n        northwest,\n        southwest\n      ],\n      onRtl: () => [\n        south$2,\n        southwest$2,\n        southeast$2,\n        northwest$2,\n        northeast$2,\n        north$2,\n        north,\n        south,\n        northwest,\n        southwest,\n        northeast,\n        southeast\n      ]\n    };\n    const bubbleSize = 12;\n    const bubbleAlignments = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top']\n    };\n    const isTouchWithinSelection = (editor, e) => {\n      const selection = editor.selection;\n      if (selection.isCollapsed() || e.touches.length < 1) {\n        return false;\n      } else {\n        const touch = e.touches[0];\n        const rng = selection.getRng();\n        const rngRectOpt = getFirstRect(editor.getWin(), SimSelection.domRange(rng));\n        return rngRectOpt.exists(rngRect => rngRect.left <= touch.clientX && rngRect.right >= touch.clientX && rngRect.top <= touch.clientY && rngRect.bottom >= touch.clientY);\n      }\n    };\n    const setupiOSOverrides = editor => {\n      const originalSelection = editor.selection.getRng();\n      const selectionReset = () => {\n        global$9.setEditorTimeout(editor, () => {\n          editor.selection.setRng(originalSelection);\n        }, 10);\n        unbindEventListeners();\n      };\n      editor.once('touchend', selectionReset);\n      const preventMousedown = e => {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n      };\n      editor.on('mousedown', preventMousedown, true);\n      const clearSelectionReset = () => unbindEventListeners();\n      editor.once('longpresscancel', clearSelectionReset);\n      const unbindEventListeners = () => {\n        editor.off('touchend', selectionReset);\n        editor.off('longpresscancel', clearSelectionReset);\n        editor.off('mousedown', preventMousedown);\n      };\n    };\n    const getAnchorSpec = (editor, e, anchorType) => {\n      const anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      const bubbleYOffset = anchorType === 'point' ? bubbleSize : 0;\n      return {\n        bubble: nu$5(0, bubbleYOffset, bubbleAlignments),\n        layouts,\n        overrides: {\n          maxWidthFunction: expandable(),\n          maxHeightFunction: expandable$1()\n        },\n        ...anchorSpec\n      };\n    };\n    const show = (editor, e, items, backstage, contextmenu, anchorType, highlightImmediately) => {\n      const anchorSpec = getAnchorSpec(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n        isHorizontalMenu: true,\n        search: Optional.none()\n      }).map(menuData => {\n        e.preventDefault();\n        const highlightOnOpen = highlightImmediately ? HighlightOnOpen.HighlightMenuAndItem : HighlightOnOpen.HighlightNone;\n        InlineView.showMenuWithinBounds(contextmenu, { anchor: anchorSpec }, {\n          menu: {\n            markers: markers('normal'),\n            highlightOnOpen\n          },\n          data: menuData,\n          type: 'horizontal'\n        }, () => Optional.some(getContextToolbarBounds(editor, backstage.shared, anchorType === 'node' ? 'node' : 'selection')));\n        editor.dispatch(hideContextToolbarEvent);\n      });\n    };\n    const initAndShow = (editor, e, buildMenu, backstage, contextmenu, anchorType) => {\n      const detection = detect$2();\n      const isiOS = detection.os.isiOS();\n      const isMacOS = detection.os.isMacOS();\n      const isAndroid = detection.os.isAndroid();\n      const isTouch = detection.deviceType.isTouch();\n      const shouldHighlightImmediately = () => !(isAndroid || isiOS || isMacOS && isTouch);\n      const open = () => {\n        const items = buildMenu();\n        show(editor, e, items, backstage, contextmenu, anchorType, shouldHighlightImmediately());\n      };\n      if ((isMacOS || isiOS) && anchorType !== 'node') {\n        const openiOS = () => {\n          setupiOSOverrides(editor);\n          open();\n        };\n        if (isTouchWithinSelection(editor, e)) {\n          openiOS();\n        } else {\n          editor.once('selectionchange', openiOS);\n          editor.once('touchend', () => editor.off('selectionchange', openiOS));\n        }\n      } else {\n        open();\n      }\n    };\n\n    const isSeparator = item => isString(item) ? item === '|' : item.type === 'separator';\n    const separator = { type: 'separator' };\n    const makeContextItem = item => {\n      const commonMenuItem = item => ({\n        text: item.text,\n        icon: item.icon,\n        enabled: item.enabled,\n        shortcut: item.shortcut\n      });\n      if (isString(item)) {\n        return item;\n      } else {\n        switch (item.type) {\n        case 'separator':\n          return separator;\n        case 'submenu':\n          return {\n            type: 'nestedmenuitem',\n            ...commonMenuItem(item),\n            getSubmenuItems: () => {\n              const items = item.getSubmenuItems();\n              if (isString(items)) {\n                return items;\n              } else {\n                return map$2(items, makeContextItem);\n              }\n            }\n          };\n        default:\n          const commonItem = item;\n          return {\n            type: 'menuitem',\n            ...commonMenuItem(commonItem),\n            onAction: noarg(commonItem.onAction)\n          };\n        }\n      }\n    };\n    const addContextMenuGroup = (xs, groupItems) => {\n      if (groupItems.length === 0) {\n        return xs;\n      }\n      const lastMenuItem = last$1(xs).filter(item => !isSeparator(item));\n      const before = lastMenuItem.fold(() => [], _ => [separator]);\n      return xs.concat(before).concat(groupItems).concat([separator]);\n    };\n    const generateContextMenu = (contextMenus, menuConfig, selectedElement) => {\n      const sections = foldl(menuConfig, (acc, name) => {\n        return get$g(contextMenus, name.toLowerCase()).map(menu => {\n          const items = menu.update(selectedElement);\n          if (isString(items)) {\n            return addContextMenuGroup(acc, items.split(' '));\n          } else if (items.length > 0) {\n            const allItems = map$2(items, makeContextItem);\n            return addContextMenuGroup(acc, allItems);\n          } else {\n            return acc;\n          }\n        }).getOrThunk(() => acc.concat([name]));\n      }, []);\n      if (sections.length > 0 && isSeparator(sections[sections.length - 1])) {\n        sections.pop();\n      }\n      return sections;\n    };\n    const isNativeOverrideKeyEvent = (editor, e) => e.ctrlKey && !shouldNeverUseNative(editor);\n    const isTouchEvent = e => e.type === 'longpress' || has$2(e, 'touches');\n    const isTriggeredByKeyboard = (editor, e) => !isTouchEvent(e) && (e.button !== 2 || e.target === editor.getBody() && e.pointerType === '');\n    const getSelectedElement = (editor, e) => isTriggeredByKeyboard(editor, e) ? editor.selection.getStart(true) : e.target;\n    const getAnchorType = (editor, e) => {\n      const selector = getAvoidOverlapSelector(editor);\n      const anchorType = isTriggeredByKeyboard(editor, e) ? 'selection' : 'point';\n      if (isNotEmpty(selector)) {\n        const target = getSelectedElement(editor, e);\n        const selectorExists = closest(SugarElement.fromDom(target), selector);\n        return selectorExists ? 'node' : anchorType;\n      } else {\n        return anchorType;\n      }\n    };\n    const setup$5 = (editor, lazySink, backstage) => {\n      const detection = detect$2();\n      const isTouch = detection.deviceType.isTouch;\n      const contextmenu = build$1(InlineView.sketch({\n        dom: { tag: 'div' },\n        lazySink,\n        onEscape: () => editor.focus(),\n        onShow: () => backstage.setContextMenuState(true),\n        onHide: () => backstage.setContextMenuState(false),\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissContextMenu', [run$1(dismissRequested(), (comp, _se) => {\n              Sandboxing.close(comp);\n              editor.focus();\n            })])])\n      }));\n      const hideContextMenu = () => InlineView.hide(contextmenu);\n      const showContextMenu = e => {\n        if (shouldNeverUseNative(editor)) {\n          e.preventDefault();\n        }\n        if (isNativeOverrideKeyEvent(editor, e) || isContextMenuDisabled(editor)) {\n          return;\n        }\n        const anchorType = getAnchorType(editor, e);\n        const buildMenu = () => {\n          const selectedElement = getSelectedElement(editor, e);\n          const registry = editor.ui.registry.getAll();\n          const menuConfig = getContextMenu(editor);\n          return generateContextMenu(registry.contextMenus, menuConfig, selectedElement);\n        };\n        const initAndShow$2 = isTouch() ? initAndShow : initAndShow$1;\n        initAndShow$2(editor, e, buildMenu, backstage, contextmenu, anchorType);\n      };\n      editor.on('init', () => {\n        const hideEvents = 'ResizeEditor ScrollContent ScrollWindow longpresscancel' + (isTouch() ? '' : ' ResizeWindow');\n        editor.on(hideEvents, hideContextMenu);\n        editor.on('longpress contextmenu', showContextMenu);\n      });\n    };\n\n    const adt = Adt.generate([\n      {\n        offset: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        absolute: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y'\n        ]\n      }\n    ]);\n    const subtract = change => point => point.translate(-change.left, -change.top);\n    const add = change => point => point.translate(change.left, change.top);\n    const transform = changes => (x, y) => foldl(changes, (rest, f) => f(rest), SugarPosition(x, y));\n    const asFixed = (coord, scroll, origin) => coord.fold(transform([\n      add(origin),\n      subtract(scroll)\n    ]), transform([subtract(scroll)]), transform([]));\n    const asAbsolute = (coord, scroll, origin) => coord.fold(transform([add(origin)]), transform([]), transform([add(scroll)]));\n    const asOffset = (coord, scroll, origin) => coord.fold(transform([]), transform([subtract(origin)]), transform([\n      add(scroll),\n      subtract(origin)\n    ]));\n    const withinRange = (coord1, coord2, xRange, yRange, scroll, origin) => {\n      const a1 = asAbsolute(coord1, scroll, origin);\n      const a2 = asAbsolute(coord2, scroll, origin);\n      return Math.abs(a1.left - a2.left) <= xRange && Math.abs(a1.top - a2.top) <= yRange;\n    };\n    const getDeltas = (coord1, coord2, xRange, yRange, scroll, origin) => {\n      const a1 = asAbsolute(coord1, scroll, origin);\n      const a2 = asAbsolute(coord2, scroll, origin);\n      const left = Math.abs(a1.left - a2.left);\n      const top = Math.abs(a1.top - a2.top);\n      return SugarPosition(left, top);\n    };\n    const toStyles = (coord, scroll, origin) => {\n      const stylesOpt = coord.fold((x, y) => ({\n        position: Optional.some('absolute'),\n        left: Optional.some(x + 'px'),\n        top: Optional.some(y + 'px')\n      }), (x, y) => ({\n        position: Optional.some('absolute'),\n        left: Optional.some(x - origin.left + 'px'),\n        top: Optional.some(y - origin.top + 'px')\n      }), (x, y) => ({\n        position: Optional.some('fixed'),\n        left: Optional.some(x + 'px'),\n        top: Optional.some(y + 'px')\n      }));\n      return {\n        right: Optional.none(),\n        bottom: Optional.none(),\n        ...stylesOpt\n      };\n    };\n    const translate = (coord, deltaX, deltaY) => coord.fold((x, y) => offset(x + deltaX, y + deltaY), (x, y) => absolute(x + deltaX, y + deltaY), (x, y) => fixed(x + deltaX, y + deltaY));\n    const absorb = (partialCoord, originalCoord, scroll, origin) => {\n      const absorbOne = (stencil, nu) => (optX, optY) => {\n        const original = stencil(originalCoord, scroll, origin);\n        return nu(optX.getOr(original.left), optY.getOr(original.top));\n      };\n      return partialCoord.fold(absorbOne(asOffset, offset), absorbOne(asAbsolute, absolute), absorbOne(asFixed, fixed));\n    };\n    const offset = adt.offset;\n    const absolute = adt.absolute;\n    const fixed = adt.fixed;\n\n    const parseAttrToInt = (element, name) => {\n      const value = get$f(element, name);\n      return isUndefined(value) ? NaN : parseInt(value, 10);\n    };\n    const get = (component, snapsInfo) => {\n      const element = component.element;\n      const x = parseAttrToInt(element, snapsInfo.leftAttr);\n      const y = parseAttrToInt(element, snapsInfo.topAttr);\n      return isNaN(x) || isNaN(y) ? Optional.none() : Optional.some(SugarPosition(x, y));\n    };\n    const set = (component, snapsInfo, pt) => {\n      const element = component.element;\n      set$9(element, snapsInfo.leftAttr, pt.left + 'px');\n      set$9(element, snapsInfo.topAttr, pt.top + 'px');\n    };\n    const clear = (component, snapsInfo) => {\n      const element = component.element;\n      remove$7(element, snapsInfo.leftAttr);\n      remove$7(element, snapsInfo.topAttr);\n    };\n\n    const getCoords = (component, snapInfo, coord, delta) => get(component, snapInfo).fold(() => coord, fixed$1 => fixed(fixed$1.left + delta.left, fixed$1.top + delta.top));\n    const moveOrSnap = (component, snapInfo, coord, delta, scroll, origin) => {\n      const newCoord = getCoords(component, snapInfo, coord, delta);\n      const snap = snapInfo.mustSnap ? findClosestSnap(component, snapInfo, newCoord, scroll, origin) : findSnap(component, snapInfo, newCoord, scroll, origin);\n      const fixedCoord = asFixed(newCoord, scroll, origin);\n      set(component, snapInfo, fixedCoord);\n      return snap.fold(() => ({\n        coord: fixed(fixedCoord.left, fixedCoord.top),\n        extra: Optional.none()\n      }), spanned => ({\n        coord: spanned.output,\n        extra: spanned.extra\n      }));\n    };\n    const stopDrag = (component, snapInfo) => {\n      clear(component, snapInfo);\n    };\n    const findMatchingSnap = (snaps, newCoord, scroll, origin) => findMap(snaps, snap => {\n      const sensor = snap.sensor;\n      const inRange = withinRange(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n      return inRange ? Optional.some({\n        output: absorb(snap.output, newCoord, scroll, origin),\n        extra: snap.extra\n      }) : Optional.none();\n    });\n    const findClosestSnap = (component, snapInfo, newCoord, scroll, origin) => {\n      const snaps = snapInfo.getSnapPoints(component);\n      const matchSnap = findMatchingSnap(snaps, newCoord, scroll, origin);\n      return matchSnap.orThunk(() => {\n        const bestSnap = foldl(snaps, (acc, snap) => {\n          const sensor = snap.sensor;\n          const deltas = getDeltas(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n          return acc.deltas.fold(() => ({\n            deltas: Optional.some(deltas),\n            snap: Optional.some(snap)\n          }), bestDeltas => {\n            const currAvg = (deltas.left + deltas.top) / 2;\n            const bestAvg = (bestDeltas.left + bestDeltas.top) / 2;\n            if (currAvg <= bestAvg) {\n              return {\n                deltas: Optional.some(deltas),\n                snap: Optional.some(snap)\n              };\n            } else {\n              return acc;\n            }\n          });\n        }, {\n          deltas: Optional.none(),\n          snap: Optional.none()\n        });\n        return bestSnap.snap.map(snap => ({\n          output: absorb(snap.output, newCoord, scroll, origin),\n          extra: snap.extra\n        }));\n      });\n    };\n    const findSnap = (component, snapInfo, newCoord, scroll, origin) => {\n      const snaps = snapInfo.getSnapPoints(component);\n      return findMatchingSnap(snaps, newCoord, scroll, origin);\n    };\n    const snapTo$1 = (snap, scroll, origin) => ({\n      coord: absorb(snap.output, snap.output, scroll, origin),\n      extra: snap.extra\n    });\n\n    const snapTo = (component, dragConfig, _state, snap) => {\n      const target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        const doc = owner$4(component.element);\n        const scroll = get$b(doc);\n        const origin = getOrigin(target);\n        const snapPin = snapTo$1(snap, scroll, origin);\n        const styles = toStyles(snapPin.coord, scroll, origin);\n        setOptions(target, styles);\n      }\n    };\n\n    var DraggingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        snapTo: snapTo\n    });\n\n    const initialAttribute = 'data-initial-z-index';\n    const resetZIndex = blocker => {\n      parent(blocker.element).filter(isElement$1).each(root => {\n        getOpt(root, initialAttribute).fold(() => remove$6(root, 'z-index'), zIndex => set$8(root, 'z-index', zIndex));\n        remove$7(root, initialAttribute);\n      });\n    };\n    const changeZIndex = blocker => {\n      parent(blocker.element).filter(isElement$1).each(root => {\n        getRaw(root, 'z-index').each(zindex => {\n          set$9(root, initialAttribute, zindex);\n        });\n        set$8(root, 'z-index', get$e(blocker.element, 'z-index'));\n      });\n    };\n    const instigate = (anyComponent, blocker) => {\n      anyComponent.getSystem().addToGui(blocker);\n      changeZIndex(blocker);\n    };\n    const discard = blocker => {\n      resetZIndex(blocker);\n      blocker.getSystem().removeFromGui(blocker);\n    };\n    const createComponent = (component, blockerClass, blockerEvents) => component.getSystem().build(Container.sketch({\n      dom: {\n        styles: {\n          'left': '0px',\n          'top': '0px',\n          'width': '100%',\n          'height': '100%',\n          'position': 'fixed',\n          'z-index': '1000000000000000'\n        },\n        classes: [blockerClass]\n      },\n      events: blockerEvents\n    }));\n\n    var SnapSchema = optionObjOf('snaps', [\n      required$1('getSnapPoints'),\n      onHandler('onSensor'),\n      required$1('leftAttr'),\n      required$1('topAttr'),\n      defaulted('lazyViewport', win),\n      defaulted('mustSnap', false)\n    ]);\n\n    const schema$6 = [\n      defaulted('useFixed', never),\n      required$1('blockerClass'),\n      defaulted('getTarget', identity),\n      defaulted('onDrag', noop),\n      defaulted('repositionTarget', true),\n      defaulted('onDrop', noop),\n      defaultedFunction('getBounds', win),\n      SnapSchema\n    ];\n\n    const getCurrentCoord = target => lift3(getRaw(target, 'left'), getRaw(target, 'top'), getRaw(target, 'position'), (left, top, position) => {\n      const nu = position === 'fixed' ? fixed : offset;\n      return nu(parseInt(left, 10), parseInt(top, 10));\n    }).getOrThunk(() => {\n      const location = absolute$3(target);\n      return absolute(location.left, location.top);\n    });\n    const clampCoords = (component, coords, scroll, origin, startData) => {\n      const bounds = startData.bounds;\n      const absoluteCoord = asAbsolute(coords, scroll, origin);\n      const newX = clamp(absoluteCoord.left, bounds.x, bounds.x + bounds.width - startData.width);\n      const newY = clamp(absoluteCoord.top, bounds.y, bounds.y + bounds.height - startData.height);\n      const newCoords = absolute(newX, newY);\n      return coords.fold(() => {\n        const offset$1 = asOffset(newCoords, scroll, origin);\n        return offset(offset$1.left, offset$1.top);\n      }, constant$1(newCoords), () => {\n        const fixed$1 = asFixed(newCoords, scroll, origin);\n        return fixed(fixed$1.left, fixed$1.top);\n      });\n    };\n    const calcNewCoord = (component, optSnaps, currentCoord, scroll, origin, delta, startData) => {\n      const newCoord = optSnaps.fold(() => {\n        const translated = translate(currentCoord, delta.left, delta.top);\n        const fixedCoord = asFixed(translated, scroll, origin);\n        return fixed(fixedCoord.left, fixedCoord.top);\n      }, snapInfo => {\n        const snapping = moveOrSnap(component, snapInfo, currentCoord, delta, scroll, origin);\n        snapping.extra.each(extra => {\n          snapInfo.onSensor(component, extra);\n        });\n        return snapping.coord;\n      });\n      return clampCoords(component, newCoord, scroll, origin, startData);\n    };\n    const dragBy = (component, dragConfig, startData, delta) => {\n      const target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        const doc = owner$4(component.element);\n        const scroll = get$b(doc);\n        const origin = getOrigin(target);\n        const currentCoord = getCurrentCoord(target);\n        const newCoord = calcNewCoord(component, dragConfig.snaps, currentCoord, scroll, origin, delta, startData);\n        const styles = toStyles(newCoord, scroll, origin);\n        setOptions(target, styles);\n      }\n      dragConfig.onDrag(component, target, delta);\n    };\n\n    const calcStartData = (dragConfig, comp) => ({\n      bounds: dragConfig.getBounds(),\n      height: getOuter$2(comp.element),\n      width: getOuter$1(comp.element)\n    });\n    const move = (component, dragConfig, dragState, dragMode, event) => {\n      const delta = dragState.update(dragMode, event);\n      const dragStartData = dragState.getStartData().getOrThunk(() => calcStartData(dragConfig, component));\n      delta.each(dlt => {\n        dragBy(component, dragConfig, dragStartData, dlt);\n      });\n    };\n    const stop = (component, blocker, dragConfig, dragState) => {\n      blocker.each(discard);\n      dragConfig.snaps.each(snapInfo => {\n        stopDrag(component, snapInfo);\n      });\n      const target = dragConfig.getTarget(component.element);\n      dragState.reset();\n      dragConfig.onDrop(component, target);\n    };\n    const handlers = events => (dragConfig, dragState) => {\n      const updateStartState = comp => {\n        dragState.setStartData(calcStartData(dragConfig, comp));\n      };\n      return derive$2([\n        run$1(windowScroll(), comp => {\n          dragState.getStartData().each(() => updateStartState(comp));\n        }),\n        ...events(dragConfig, dragState, updateStartState)\n      ]);\n    };\n\n    const init$3 = dragApi => derive$2([\n      run$1(mousedown(), dragApi.forceDrop),\n      run$1(mouseup(), dragApi.drop),\n      run$1(mousemove(), (comp, simulatedEvent) => {\n        dragApi.move(simulatedEvent.event);\n      }),\n      run$1(mouseout(), dragApi.delayDrop)\n    ]);\n\n    const getData$1 = event => Optional.from(SugarPosition(event.x, event.y));\n    const getDelta$1 = (old, nu) => SugarPosition(nu.left - old.left, nu.top - old.top);\n\n    var MouseData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData$1,\n        getDelta: getDelta$1\n    });\n\n    const events$3 = (dragConfig, dragState, updateStartState) => [run$1(mousedown(), (component, simulatedEvent) => {\n        const raw = simulatedEvent.event.raw;\n        if (raw.button !== 0) {\n          return;\n        }\n        simulatedEvent.stop();\n        const stop$1 = () => stop(component, Optional.some(blocker), dragConfig, dragState);\n        const delayDrop = DelayedFunction(stop$1, 200);\n        const dragApi = {\n          drop: stop$1,\n          delayDrop: delayDrop.schedule,\n          forceDrop: stop$1,\n          move: event => {\n            delayDrop.cancel();\n            move(component, dragConfig, dragState, MouseData, event);\n          }\n        };\n        const blocker = createComponent(component, dragConfig.blockerClass, init$3(dragApi));\n        const start = () => {\n          updateStartState(component);\n          instigate(component, blocker);\n        };\n        start();\n      })];\n    const schema$5 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$3) })\n    ];\n\n    const init$2 = dragApi => derive$2([\n      run$1(touchstart(), dragApi.forceDrop),\n      run$1(touchend(), dragApi.drop),\n      run$1(touchcancel(), dragApi.drop),\n      run$1(touchmove(), (comp, simulatedEvent) => {\n        dragApi.move(simulatedEvent.event);\n      })\n    ]);\n\n    const getDataFrom = touches => {\n      const touch = touches[0];\n      return Optional.some(SugarPosition(touch.clientX, touch.clientY));\n    };\n    const getData = event => {\n      const raw = event.raw;\n      const touches = raw.touches;\n      return touches.length === 1 ? getDataFrom(touches) : Optional.none();\n    };\n    const getDelta = (old, nu) => SugarPosition(nu.left - old.left, nu.top - old.top);\n\n    var TouchData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData,\n        getDelta: getDelta\n    });\n\n    const events$2 = (dragConfig, dragState, updateStartState) => {\n      const blockerSingleton = value$2();\n      const stopBlocking = component => {\n        stop(component, blockerSingleton.get(), dragConfig, dragState);\n        blockerSingleton.clear();\n      };\n      return [\n        run$1(touchstart(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          const stop = () => stopBlocking(component);\n          const dragApi = {\n            drop: stop,\n            delayDrop: noop,\n            forceDrop: stop,\n            move: event => {\n              move(component, dragConfig, dragState, TouchData, event);\n            }\n          };\n          const blocker = createComponent(component, dragConfig.blockerClass, init$2(dragApi));\n          blockerSingleton.set(blocker);\n          const start = () => {\n            updateStartState(component);\n            instigate(component, blocker);\n          };\n          start();\n        }),\n        run$1(touchmove(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          move(component, dragConfig, dragState, TouchData, simulatedEvent.event);\n        }),\n        run$1(touchend(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          stopBlocking(component);\n        }),\n        run$1(touchcancel(), stopBlocking)\n      ];\n    };\n    const schema$4 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$2) })\n    ];\n\n    const events$1 = (dragConfig, dragState, updateStartState) => [\n      ...events$3(dragConfig, dragState, updateStartState),\n      ...events$2(dragConfig, dragState, updateStartState)\n    ];\n    const schema$3 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$1) })\n    ];\n\n    const mouse = schema$5;\n    const touch = schema$4;\n    const mouseOrTouch = schema$3;\n\n    var DraggingBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        mouse: mouse,\n        touch: touch,\n        mouseOrTouch: mouseOrTouch\n    });\n\n    const init$1 = () => {\n      let previous = Optional.none();\n      let startData = Optional.none();\n      const reset = () => {\n        previous = Optional.none();\n        startData = Optional.none();\n      };\n      const calculateDelta = (mode, nu) => {\n        const result = previous.map(old => mode.getDelta(old, nu));\n        previous = Optional.some(nu);\n        return result;\n      };\n      const update = (mode, dragEvent) => mode.getData(dragEvent).bind(nuData => calculateDelta(mode, nuData));\n      const setStartData = data => {\n        startData = Optional.some(data);\n      };\n      const getStartData = () => startData;\n      const readState = constant$1({});\n      return nu$8({\n        readState,\n        reset,\n        update,\n        getStartData,\n        setStartData\n      });\n    };\n\n    var DragState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$1\n    });\n\n    const Dragging = createModes({\n      branchKey: 'mode',\n      branches: DraggingBranches,\n      name: 'dragging',\n      active: {\n        events: (dragConfig, dragState) => {\n          const dragger = dragConfig.dragger;\n          return dragger.handlers(dragConfig, dragState);\n        }\n      },\n      extra: {\n        snap: sConfig => ({\n          sensor: sConfig.sensor,\n          range: sConfig.range,\n          output: sConfig.output,\n          extra: Optional.from(sConfig.extra)\n        })\n      },\n      state: DragState,\n      apis: DraggingApis\n    });\n\n    const snapWidth = 40;\n    const snapOffset = snapWidth / 2;\n    const calcSnap = (selectorOpt, td, x, y, width, height) => selectorOpt.fold(() => Dragging.snap({\n      sensor: absolute(x - snapOffset, y - snapOffset),\n      range: SugarPosition(width, height),\n      output: absolute(Optional.some(x), Optional.some(y)),\n      extra: { td }\n    }), selectorHandle => {\n      const sensorLeft = x - snapOffset;\n      const sensorTop = y - snapOffset;\n      const sensorWidth = snapWidth;\n      const sensorHeight = snapWidth;\n      const rect = selectorHandle.element.dom.getBoundingClientRect();\n      return Dragging.snap({\n        sensor: absolute(sensorLeft, sensorTop),\n        range: SugarPosition(sensorWidth, sensorHeight),\n        output: absolute(Optional.some(x - rect.width / 2), Optional.some(y - rect.height / 2)),\n        extra: { td }\n      });\n    });\n    const getSnapsConfig = (getSnapPoints, cell, onChange) => {\n      const isSameCell = (cellOpt, td) => cellOpt.exists(currentTd => eq(currentTd, td));\n      return {\n        getSnapPoints,\n        leftAttr: 'data-drag-left',\n        topAttr: 'data-drag-top',\n        onSensor: (component, extra) => {\n          const td = extra.td;\n          if (!isSameCell(cell.get(), td)) {\n            cell.set(td);\n            onChange(td);\n          }\n        },\n        mustSnap: true\n      };\n    };\n    const createSelector = snaps => record(Button.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-selector']\n      },\n      buttonBehaviours: derive$1([\n        Dragging.config({\n          mode: 'mouseOrTouch',\n          blockerClass: 'blocker',\n          snaps\n        }),\n        Unselecting.config({})\n      ]),\n      eventOrder: {\n        mousedown: [\n          'dragging',\n          'alloy.base.behaviour'\n        ],\n        touchstart: [\n          'dragging',\n          'alloy.base.behaviour'\n        ]\n      }\n    }));\n    const setup$4 = (editor, sink) => {\n      const tlTds = Cell([]);\n      const brTds = Cell([]);\n      const isVisible = Cell(false);\n      const startCell = value$2();\n      const finishCell = value$2();\n      const getTopLeftSnap = td => {\n        const box = absolute$2(td);\n        return calcSnap(memTopLeft.getOpt(sink), td, box.x, box.y, box.width, box.height);\n      };\n      const getTopLeftSnaps = () => map$2(tlTds.get(), td => getTopLeftSnap(td));\n      const getBottomRightSnap = td => {\n        const box = absolute$2(td);\n        return calcSnap(memBottomRight.getOpt(sink), td, box.right, box.bottom, box.width, box.height);\n      };\n      const getBottomRightSnaps = () => map$2(brTds.get(), td => getBottomRightSnap(td));\n      const topLeftSnaps = getSnapsConfig(getTopLeftSnaps, startCell, start => {\n        finishCell.get().each(finish => {\n          editor.dispatch('TableSelectorChange', {\n            start,\n            finish\n          });\n        });\n      });\n      const bottomRightSnaps = getSnapsConfig(getBottomRightSnaps, finishCell, finish => {\n        startCell.get().each(start => {\n          editor.dispatch('TableSelectorChange', {\n            start,\n            finish\n          });\n        });\n      });\n      const memTopLeft = createSelector(topLeftSnaps);\n      const memBottomRight = createSelector(bottomRightSnaps);\n      const topLeft = build$1(memTopLeft.asSpec());\n      const bottomRight = build$1(memBottomRight.asSpec());\n      const showOrHideHandle = (selector, cell, isAbove, isBelow) => {\n        const cellRect = cell.dom.getBoundingClientRect();\n        remove$6(selector.element, 'display');\n        const viewportHeight = defaultView(SugarElement.fromDom(editor.getBody())).dom.innerHeight;\n        const aboveViewport = isAbove(cellRect);\n        const belowViewport = isBelow(cellRect, viewportHeight);\n        if (aboveViewport || belowViewport) {\n          set$8(selector.element, 'display', 'none');\n        }\n      };\n      const snapTo = (selector, cell, getSnapConfig, pos) => {\n        const snap = getSnapConfig(cell);\n        Dragging.snapTo(selector, snap);\n        const isAbove = rect => rect[pos] < 0;\n        const isBelow = (rect, viewportHeight) => rect[pos] > viewportHeight;\n        showOrHideHandle(selector, cell, isAbove, isBelow);\n      };\n      const snapTopLeft = cell => snapTo(topLeft, cell, getTopLeftSnap, 'top');\n      const snapLastTopLeft = () => startCell.get().each(snapTopLeft);\n      const snapBottomRight = cell => snapTo(bottomRight, cell, getBottomRightSnap, 'bottom');\n      const snapLastBottomRight = () => finishCell.get().each(snapBottomRight);\n      if (detect$2().deviceType.isTouch()) {\n        editor.on('TableSelectionChange', e => {\n          if (!isVisible.get()) {\n            attach(sink, topLeft);\n            attach(sink, bottomRight);\n            isVisible.set(true);\n          }\n          startCell.set(e.start);\n          finishCell.set(e.finish);\n          e.otherCells.each(otherCells => {\n            tlTds.set(otherCells.upOrLeftCells);\n            brTds.set(otherCells.downOrRightCells);\n            snapTopLeft(e.start);\n            snapBottomRight(e.finish);\n          });\n        });\n        editor.on('ResizeEditor ResizeWindow ScrollContent', () => {\n          snapLastTopLeft();\n          snapLastBottomRight();\n        });\n        editor.on('TableSelectionClear', () => {\n          if (isVisible.get()) {\n            detach(topLeft);\n            detach(bottomRight);\n            isVisible.set(false);\n          }\n          startCell.clear();\n          finishCell.clear();\n        });\n      }\n    };\n\n    var Logo = \"<svg width=\\\"50px\\\" height=\\\"16px\\\" viewBox=\\\"0 0 50 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z\\\"/>\\n</svg>\\n\";\n\n    const isHidden = elm => elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus') || elm.getAttribute('data-mce-type') === 'bookmark';\n    const renderElementPath = (editor, settings, providersBackstage) => {\n      var _a;\n      const delimiter = (_a = settings.delimiter) !== null && _a !== void 0 ? _a : '\\u203A';\n      const renderElement = (name, element, index) => Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path-item'],\n          attributes: {\n            'data-index': index,\n            'aria-level': index + 1\n          }\n        },\n        components: [text$2(name)],\n        action: _btn => {\n          editor.focus();\n          editor.selection.select(element);\n          editor.nodeChanged();\n        },\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          receivingConfig()\n        ])\n      });\n      const renderDivider = () => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path-divider'],\n          attributes: { 'aria-hidden': true }\n        },\n        components: [text$2(` ${ delimiter } `)]\n      });\n      const renderPathData = data => foldl(data, (acc, path, index) => {\n        const element = renderElement(path.name, path.element, index);\n        if (index === 0) {\n          return acc.concat([element]);\n        } else {\n          return acc.concat([\n            renderDivider(),\n            element\n          ]);\n        }\n      }, []);\n      const updatePath = parents => {\n        const newPath = [];\n        let i = parents.length;\n        while (i-- > 0) {\n          const parent = parents[i];\n          if (parent.nodeType === 1 && !isHidden(parent)) {\n            const args = fireResolveName(editor, parent);\n            if (!args.isDefaultPrevented()) {\n              newPath.push({\n                name: args.name,\n                element: parent\n              });\n            }\n            if (args.isPropagationStopped()) {\n              break;\n            }\n          }\n        }\n        return newPath;\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path'],\n          attributes: { role: 'navigation' }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'flow',\n            selector: 'div[role=button]'\n          }),\n          Disabling.config({ disabled: providersBackstage.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          config('elementPathEvents', [runOnAttached((comp, _e) => {\n              editor.shortcuts.add('alt+F11', 'focus statusbar elementpath', () => Keying.focusIn(comp));\n              editor.on('NodeChange', e => {\n                const newPath = updatePath(e.parents);\n                const newChildren = newPath.length > 0 ? renderPathData(newPath) : [];\n                Replacing.set(comp, newChildren);\n              });\n            })])\n        ]),\n        components: []\n      };\n    };\n\n    var ResizeTypes;\n    (function (ResizeTypes) {\n      ResizeTypes[ResizeTypes['None'] = 0] = 'None';\n      ResizeTypes[ResizeTypes['Both'] = 1] = 'Both';\n      ResizeTypes[ResizeTypes['Vertical'] = 2] = 'Vertical';\n    }(ResizeTypes || (ResizeTypes = {})));\n    const getDimensions = (editor, deltas, resizeType, originalHeight, originalWidth) => {\n      const dimensions = { height: calcCappedSize(originalHeight + deltas.top, getMinHeightOption(editor), getMaxHeightOption(editor)) };\n      if (resizeType === ResizeTypes.Both) {\n        dimensions.width = calcCappedSize(originalWidth + deltas.left, getMinWidthOption(editor), getMaxWidthOption(editor));\n      }\n      return dimensions;\n    };\n    const resize = (editor, deltas, resizeType) => {\n      const container = SugarElement.fromDom(editor.getContainer());\n      const dimensions = getDimensions(editor, deltas, resizeType, get$d(container), get$c(container));\n      each(dimensions, (val, dim) => {\n        if (isNumber(val)) {\n          set$8(container, dim, numToPx(val));\n        }\n      });\n      fireResizeEditor(editor);\n    };\n\n    const getResizeType = editor => {\n      const resize = getResize(editor);\n      if (resize === false) {\n        return ResizeTypes.None;\n      } else if (resize === 'both') {\n        return ResizeTypes.Both;\n      } else {\n        return ResizeTypes.Vertical;\n      }\n    };\n    const keyboardHandler = (editor, resizeType, x, y) => {\n      const scale = 20;\n      const delta = SugarPosition(x * scale, y * scale);\n      resize(editor, delta, resizeType);\n      return Optional.some(true);\n    };\n    const renderResizeHandler = (editor, providersBackstage) => {\n      const resizeType = getResizeType(editor);\n      if (resizeType === ResizeTypes.None) {\n        return Optional.none();\n      }\n      return Optional.some(render$3('resize-handle', {\n        tag: 'div',\n        classes: ['tox-statusbar__resize-handle'],\n        attributes: { title: providersBackstage.translate('Resize') },\n        behaviours: [\n          Dragging.config({\n            mode: 'mouse',\n            repositionTarget: false,\n            onDrag: (_comp, _target, delta) => resize(editor, delta, resizeType),\n            blockerClass: 'tox-blocker'\n          }),\n          Keying.config({\n            mode: 'special',\n            onLeft: () => keyboardHandler(editor, resizeType, -1, 0),\n            onRight: () => keyboardHandler(editor, resizeType, 1, 0),\n            onUp: () => keyboardHandler(editor, resizeType, 0, -1),\n            onDown: () => keyboardHandler(editor, resizeType, 0, 1)\n          }),\n          Tabstopping.config({}),\n          Focusing.config({})\n        ]\n      }, providersBackstage.icons));\n    };\n\n    const renderWordCount = (editor, providersBackstage) => {\n      const replaceCountText = (comp, count, mode) => Replacing.set(comp, [text$2(providersBackstage.translate([\n          '{0} ' + mode,\n          count[mode]\n        ]))]);\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: ['tox-statusbar__wordcount']\n        },\n        components: [],\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: {\n                mode: 'words',\n                count: {\n                  words: 0,\n                  characters: 0\n                }\n              }\n            }\n          }),\n          config('wordcount-events', [\n            runOnExecute$1(comp => {\n              const currentVal = Representing.getValue(comp);\n              const newMode = currentVal.mode === 'words' ? 'characters' : 'words';\n              Representing.setValue(comp, {\n                mode: newMode,\n                count: currentVal.count\n              });\n              replaceCountText(comp, currentVal.count, newMode);\n            }),\n            runOnAttached(comp => {\n              editor.on('wordCountUpdate', e => {\n                const {mode} = Representing.getValue(comp);\n                Representing.setValue(comp, {\n                  mode,\n                  count: e.wordCount\n                });\n                replaceCountText(comp, e.wordCount, mode);\n              });\n            })\n          ])\n        ]),\n        eventOrder: {\n          [execute$5()]: [\n            'disabling',\n            'alloy.base.behaviour',\n            'wordcount-events'\n          ]\n        }\n      });\n    };\n\n    const renderStatusbar = (editor, providersBackstage) => {\n      const renderBranding = () => {\n        return {\n          dom: {\n            tag: 'span',\n            classes: ['tox-statusbar__branding']\n          },\n          components: [{\n              dom: {\n                tag: 'a',\n                attributes: {\n                  'href': 'https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6',\n                  'rel': 'noopener',\n                  'target': '_blank',\n                  'aria-label': global$8.translate([\n                    'Powered by {0}',\n                    'Tiny'\n                  ])\n                },\n                innerHtml: Logo.trim()\n              },\n              behaviours: derive$1([Focusing.config({})])\n            }]\n        };\n      };\n      const getTextComponents = () => {\n        const components = [];\n        if (useElementPath(editor)) {\n          components.push(renderElementPath(editor, {}, providersBackstage));\n        }\n        if (editor.hasPlugin('wordcount')) {\n          components.push(renderWordCount(editor, providersBackstage));\n        }\n        if (useBranding(editor)) {\n          components.push(renderBranding());\n        }\n        if (components.length > 0) {\n          return [{\n              dom: {\n                tag: 'div',\n                classes: ['tox-statusbar__text-container']\n              },\n              components\n            }];\n        }\n        return [];\n      };\n      const getComponents = () => {\n        const components = getTextComponents();\n        const resizeHandler = renderResizeHandler(editor, providersBackstage);\n        return components.concat(resizeHandler.toArray());\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar']\n        },\n        components: getComponents()\n      };\n    };\n\n    const getLazyMothership = (label, singleton) => singleton.get().getOrDie(`UI for ${ label } has not been rendered`);\n    const setup$3 = (editor, setupForTheme) => {\n      const isInline = editor.inline;\n      const mode = isInline ? Inline : Iframe;\n      const header = isStickyToolbar(editor) ? StickyHeader : StaticHeader;\n      const lazyUiRefs = LazyUiReferences();\n      const lazyMothership = value$2();\n      const lazyDialogMothership = value$2();\n      const lazyPopupMothership = value$2();\n      const platform = detect$2();\n      const isTouch = platform.deviceType.isTouch();\n      const touchPlatformClass = 'tox-platform-touch';\n      const deviceClasses = isTouch ? [touchPlatformClass] : [];\n      const isToolbarBottom = isToolbarLocationBottom(editor);\n      const toolbarMode = getToolbarMode(editor);\n      const memAnchorBar = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-anchorbar']\n        }\n      });\n      const lazyHeader = () => lazyUiRefs.mainUi.get().map(ui => ui.outerContainer).bind(OuterContainer.getHeader);\n      const lazyDialogSinkResult = () => Result.fromOption(lazyUiRefs.dialogUi.get().map(ui => ui.sink), 'UI has not been rendered');\n      const lazyPopupSinkResult = () => Result.fromOption(lazyUiRefs.popupUi.get().map(ui => ui.sink), '(popup) UI has not been rendered');\n      const lazyAnchorBar = lazyUiRefs.lazyGetInOuterOrDie('anchor bar', memAnchorBar.getOpt);\n      const lazyToolbar = lazyUiRefs.lazyGetInOuterOrDie('toolbar', OuterContainer.getToolbar);\n      const lazyThrobber = lazyUiRefs.lazyGetInOuterOrDie('throbber', OuterContainer.getThrobber);\n      const backstages = init$6({\n        popup: lazyPopupSinkResult,\n        dialog: lazyDialogSinkResult\n      }, editor, lazyAnchorBar);\n      const makeHeaderPart = () => {\n        const verticalDirAttributes = { attributes: { [Attribute]: isToolbarBottom ? AttributeValue.BottomToTop : AttributeValue.TopToBottom } };\n        const partMenubar = OuterContainer.parts.menubar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-menubar']\n          },\n          backstage: backstages.popup,\n          onEscape: () => {\n            editor.focus();\n          }\n        });\n        const partToolbar = OuterContainer.parts.toolbar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-toolbar']\n          },\n          getSink: backstages.popup.shared.getSink,\n          providers: backstages.popup.shared.providers,\n          onEscape: () => {\n            editor.focus();\n          },\n          onToolbarToggled: state => {\n            fireToggleToolbarDrawer(editor, state);\n          },\n          type: toolbarMode,\n          lazyToolbar,\n          lazyHeader: () => lazyHeader().getOrDie('Could not find header element'),\n          ...verticalDirAttributes\n        });\n        const partMultipleToolbar = OuterContainer.parts['multiple-toolbar']({\n          dom: {\n            tag: 'div',\n            classes: ['tox-toolbar-overlord']\n          },\n          providers: backstages.popup.shared.providers,\n          onEscape: () => {\n            editor.focus();\n          },\n          type: toolbarMode\n        });\n        const hasMultipleToolbar = isMultipleToolbars(editor);\n        const hasToolbar = isToolbarEnabled(editor);\n        const hasMenubar = isMenubarEnabled(editor);\n        const shouldHavePromotion = promotionEnabled(editor);\n        const partPromotion = makePromotion();\n        const hasAnyContents = hasMultipleToolbar || hasToolbar || hasMenubar;\n        const getPartToolbar = () => {\n          if (hasMultipleToolbar) {\n            return [partMultipleToolbar];\n          } else if (hasToolbar) {\n            return [partToolbar];\n          } else {\n            return [];\n          }\n        };\n        const menubarCollection = shouldHavePromotion ? [\n          partPromotion,\n          partMenubar\n        ] : [partMenubar];\n        return OuterContainer.parts.header({\n          dom: {\n            tag: 'div',\n            classes: ['tox-editor-header'].concat(hasAnyContents ? [] : ['tox-editor-header--empty']),\n            ...verticalDirAttributes\n          },\n          components: flatten([\n            hasMenubar ? menubarCollection : [],\n            getPartToolbar(),\n            useFixedContainer(editor) ? [] : [memAnchorBar.asSpec()]\n          ]),\n          sticky: isStickyToolbar(editor),\n          editor,\n          sharedBackstage: backstages.popup.shared\n        });\n      };\n      const makePromotion = () => {\n        return OuterContainer.parts.promotion({\n          dom: {\n            tag: 'div',\n            classes: ['tox-promotion']\n          }\n        });\n      };\n      const makeSidebarDefinition = () => {\n        const partSocket = OuterContainer.parts.socket({\n          dom: {\n            tag: 'div',\n            classes: ['tox-edit-area']\n          }\n        });\n        const partSidebar = OuterContainer.parts.sidebar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar']\n          }\n        });\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar-wrap']\n          },\n          components: [\n            partSocket,\n            partSidebar\n          ]\n        };\n      };\n      const renderDialogUi = () => {\n        const uiContainer = getUiContainer(editor);\n        const isGridUiContainer = eq(body(), uiContainer) && get$e(uiContainer, 'display') === 'grid';\n        const sinkSpec = {\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-silver-sink',\n              'tox-tinymce-aux'\n            ].concat(deviceClasses),\n            attributes: { ...global$8.isRtl() ? { dir: 'rtl' } : {} }\n          },\n          behaviours: derive$1([Positioning.config({ useFixed: () => header.isDocked(lazyHeader) })])\n        };\n        const reactiveWidthSpec = {\n          dom: { styles: { width: document.body.clientWidth + 'px' } },\n          events: derive$2([run$1(windowResize(), comp => {\n              set$8(comp.element, 'width', document.body.clientWidth + 'px');\n            })])\n        };\n        const sink = build$1(deepMerge(sinkSpec, isGridUiContainer ? reactiveWidthSpec : {}));\n        const uiMothership = takeover(sink);\n        lazyDialogMothership.set(uiMothership);\n        return {\n          sink,\n          mothership: uiMothership\n        };\n      };\n      const renderPopupUi = () => {\n        const sinkSpec = {\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-silver-sink',\n              'tox-silver-popup-sink',\n              'tox-tinymce-aux'\n            ].concat(deviceClasses),\n            attributes: { ...global$8.isRtl() ? { dir: 'rtl' } : {} }\n          },\n          behaviours: derive$1([Positioning.config({\n              useFixed: () => header.isDocked(lazyHeader),\n              getBounds: () => setupForTheme.getPopupSinkBounds()\n            })])\n        };\n        const sink = build$1(sinkSpec);\n        const uiMothership = takeover(sink);\n        lazyPopupMothership.set(uiMothership);\n        return {\n          sink,\n          mothership: uiMothership\n        };\n      };\n      const renderMainUi = () => {\n        const partHeader = makeHeaderPart();\n        const sidebarContainer = makeSidebarDefinition();\n        const partThrobber = OuterContainer.parts.throbber({\n          dom: {\n            tag: 'div',\n            classes: ['tox-throbber']\n          },\n          backstage: backstages.popup\n        });\n        const partViewWrapper = OuterContainer.parts.viewWrapper({ backstage: backstages.popup });\n        const statusbar = useStatusBar(editor) && !isInline ? Optional.some(renderStatusbar(editor, backstages.popup.shared.providers)) : Optional.none();\n        const editorComponents = flatten([\n          isToolbarBottom ? [] : [partHeader],\n          isInline ? [] : [sidebarContainer],\n          isToolbarBottom ? [partHeader] : []\n        ]);\n        const editorContainer = OuterContainer.parts.editorContainer({\n          components: flatten([\n            editorComponents,\n            isInline ? [] : statusbar.toArray()\n          ])\n        });\n        const isHidden = isDistractionFree(editor);\n        const attributes = {\n          role: 'application',\n          ...global$8.isRtl() ? { dir: 'rtl' } : {},\n          ...isHidden ? { 'aria-hidden': 'true' } : {}\n        };\n        const outerContainer = build$1(OuterContainer.sketch({\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-tinymce'\n            ].concat(isInline ? ['tox-tinymce-inline'] : []).concat(isToolbarBottom ? ['tox-tinymce--toolbar-bottom'] : []).concat(deviceClasses),\n            styles: {\n              visibility: 'hidden',\n              ...isHidden ? {\n                opacity: '0',\n                border: '0'\n              } : {}\n            },\n            attributes\n          },\n          components: [\n            editorContainer,\n            ...isInline ? [] : [partViewWrapper],\n            partThrobber\n          ],\n          behaviours: derive$1([\n            receivingConfig(),\n            Disabling.config({ disableClass: 'tox-tinymce--disabled' }),\n            Keying.config({\n              mode: 'cyclic',\n              selector: '.tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle'\n            })\n          ])\n        }));\n        const mothership = takeover(outerContainer);\n        lazyMothership.set(mothership);\n        return {\n          mothership,\n          outerContainer\n        };\n      };\n      const setEditorSize = outerContainer => {\n        const parsedHeight = numToPx(getHeightWithFallback(editor));\n        const parsedWidth = numToPx(getWidthWithFallback(editor));\n        if (!editor.inline) {\n          if (isValidValue('div', 'width', parsedWidth)) {\n            set$8(outerContainer.element, 'width', parsedWidth);\n          }\n          if (isValidValue('div', 'height', parsedHeight)) {\n            set$8(outerContainer.element, 'height', parsedHeight);\n          } else {\n            set$8(outerContainer.element, 'height', '400px');\n          }\n        }\n        return parsedHeight;\n      };\n      const setupShortcutsAndCommands = outerContainer => {\n        editor.addShortcut('alt+F9', 'focus menubar', () => {\n          OuterContainer.focusMenubar(outerContainer);\n        });\n        editor.addShortcut('alt+F10', 'focus toolbar', () => {\n          OuterContainer.focusToolbar(outerContainer);\n        });\n        editor.addCommand('ToggleToolbarDrawer', (_ui, options) => {\n          if (options === null || options === void 0 ? void 0 : options.skipFocus) {\n            OuterContainer.toggleToolbarDrawerWithoutFocusing(outerContainer);\n          } else {\n            OuterContainer.toggleToolbarDrawer(outerContainer);\n          }\n        });\n        editor.addQueryStateHandler('ToggleToolbarDrawer', () => OuterContainer.isToolbarDrawerToggled(outerContainer));\n      };\n      const renderUIWithRefs = uiRefs => {\n        const {mainUi, popupUi, uiMotherships} = uiRefs;\n        map$1(getToolbarGroups(editor), (toolbarGroupButtonConfig, name) => {\n          editor.ui.registry.addGroupToolbarButton(name, toolbarGroupButtonConfig);\n        });\n        const {buttons, menuItems, contextToolbars, sidebars, views} = editor.ui.registry.getAll();\n        const toolbarOpt = getMultipleToolbarsOption(editor);\n        const rawUiConfig = {\n          menuItems,\n          menus: getMenus(editor),\n          menubar: getMenubar(editor),\n          toolbar: toolbarOpt.getOrThunk(() => getToolbar(editor)),\n          allowToolbarGroups: toolbarMode === ToolbarMode$1.floating,\n          buttons,\n          sidebar: sidebars,\n          views\n        };\n        setupShortcutsAndCommands(mainUi.outerContainer);\n        setup$b(editor, mainUi.mothership, uiMotherships);\n        header.setup(editor, backstages.popup.shared, lazyHeader);\n        setup$6(editor, backstages.popup);\n        setup$5(editor, backstages.popup.shared.getSink, backstages.popup);\n        setup$8(editor);\n        setup$7(editor, lazyThrobber, backstages.popup.shared);\n        register$9(editor, contextToolbars, popupUi.sink, { backstage: backstages.popup });\n        setup$4(editor, popupUi.sink);\n        const elm = editor.getElement();\n        const height = setEditorSize(mainUi.outerContainer);\n        const args = {\n          targetNode: elm,\n          height\n        };\n        return mode.render(editor, uiRefs, rawUiConfig, backstages.popup, args);\n      };\n      const reuseDialogUiForPopuUi = dialogUi => {\n        lazyPopupMothership.set(dialogUi.mothership);\n        return dialogUi;\n      };\n      const renderUI = () => {\n        const mainUi = renderMainUi();\n        const dialogUi = renderDialogUi();\n        const popupUi = isSplitUiMode(editor) ? renderPopupUi() : reuseDialogUiForPopuUi(dialogUi);\n        lazyUiRefs.dialogUi.set(dialogUi);\n        lazyUiRefs.popupUi.set(popupUi);\n        lazyUiRefs.mainUi.set(mainUi);\n        const uiRefs = {\n          popupUi,\n          dialogUi,\n          mainUi,\n          uiMotherships: lazyUiRefs.getUiMotherships()\n        };\n        return renderUIWithRefs(uiRefs);\n      };\n      return {\n        popups: {\n          backstage: backstages.popup,\n          getMothership: () => getLazyMothership('popups', lazyPopupMothership)\n        },\n        dialogs: {\n          backstage: backstages.dialog,\n          getMothership: () => getLazyMothership('dialogs', lazyDialogMothership)\n        },\n        renderUI\n      };\n    };\n\n    const describedBy = (describedElement, describeElement) => {\n      const describeId = Optional.from(get$f(describedElement, 'id')).fold(() => {\n        const id = generate$6('dialog-describe');\n        set$9(describeElement, 'id', id);\n        return id;\n      }, identity);\n      set$9(describedElement, 'aria-describedby', describeId);\n    };\n\n    const labelledBy = (labelledElement, labelElement) => {\n      const labelId = getOpt(labelledElement, 'id').fold(() => {\n        const id = generate$6('dialog-label');\n        set$9(labelElement, 'id', id);\n        return id;\n      }, identity);\n      set$9(labelledElement, 'aria-labelledby', labelId);\n    };\n\n    const schema$2 = constant$1([\n      required$1('lazySink'),\n      option$3('dragBlockClass'),\n      defaultedFunction('getBounds', win),\n      defaulted('useTabstopAt', always),\n      defaulted('firstTabstop', 0),\n      defaulted('eventOrder', {}),\n      field('modalBehaviours', [Keying]),\n      onKeyboardHandler('onExecute'),\n      onStrictKeyboardHandler('onEscape')\n    ]);\n    const basic = { sketch: identity };\n    const parts$2 = constant$1([\n      optional({\n        name: 'draghandle',\n        overrides: (detail, spec) => {\n          return {\n            behaviours: derive$1([Dragging.config({\n                mode: 'mouse',\n                getTarget: handle => {\n                  return ancestor(handle, '[role=\"dialog\"]').getOr(handle);\n                },\n                blockerClass: detail.dragBlockClass.getOrDie(new Error('The drag blocker class was not specified for a dialog with a drag handle: \\n' + JSON.stringify(spec, null, 2)).message),\n                getBounds: detail.getDragBounds\n              })])\n          };\n        }\n      }),\n      required({\n        schema: [required$1('dom')],\n        name: 'title'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'close'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'body'\n      }),\n      optional({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'footer'\n      }),\n      external({\n        factory: {\n          sketch: (spec, detail) => ({\n            ...spec,\n            dom: detail.dom,\n            components: detail.components\n          })\n        },\n        schema: [\n          defaulted('dom', {\n            tag: 'div',\n            styles: {\n              position: 'fixed',\n              left: '0px',\n              top: '0px',\n              right: '0px',\n              bottom: '0px'\n            }\n          }),\n          defaulted('components', [])\n        ],\n        name: 'blocker'\n      })\n    ]);\n\n    const factory$4 = (detail, components, spec, externals) => {\n      const dialogComp = value$2();\n      const showDialog = dialog => {\n        dialogComp.set(dialog);\n        const sink = detail.lazySink(dialog).getOrDie();\n        const externalBlocker = externals.blocker();\n        const blocker = sink.getSystem().build({\n          ...externalBlocker,\n          components: externalBlocker.components.concat([premade(dialog)]),\n          behaviours: derive$1([\n            Focusing.config({}),\n            config('dialog-blocker-events', [runOnSource(focusin(), () => {\n                Keying.focusIn(dialog);\n              })])\n          ])\n        });\n        attach(sink, blocker);\n        Keying.focusIn(dialog);\n      };\n      const hideDialog = dialog => {\n        dialogComp.clear();\n        parent(dialog.element).each(blockerDom => {\n          dialog.getSystem().getByDom(blockerDom).each(blocker => {\n            detach(blocker);\n          });\n        });\n      };\n      const getDialogBody = dialog => getPartOrDie(dialog, detail, 'body');\n      const getDialogFooter = dialog => getPartOrDie(dialog, detail, 'footer');\n      const setBusy = (dialog, getBusySpec) => {\n        Blocking.block(dialog, getBusySpec);\n      };\n      const setIdle = dialog => {\n        Blocking.unblock(dialog);\n      };\n      const modalEventsId = generate$6('modal-events');\n      const eventOrder = {\n        ...detail.eventOrder,\n        [attachedToDom()]: [modalEventsId].concat(detail.eventOrder['alloy.system.attached'] || [])\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis: {\n          show: showDialog,\n          hide: hideDialog,\n          getBody: getDialogBody,\n          getFooter: getDialogFooter,\n          setIdle,\n          setBusy\n        },\n        eventOrder,\n        domModification: {\n          attributes: {\n            'role': 'dialog',\n            'aria-modal': 'true'\n          }\n        },\n        behaviours: augment(detail.modalBehaviours, [\n          Replacing.config({}),\n          Keying.config({\n            mode: 'cyclic',\n            onEnter: detail.onExecute,\n            onEscape: detail.onEscape,\n            useTabstopAt: detail.useTabstopAt,\n            firstTabstop: detail.firstTabstop\n          }),\n          Blocking.config({ getRoot: dialogComp.get }),\n          config(modalEventsId, [runOnAttached(c => {\n              labelledBy(c.element, getPartOrDie(c, detail, 'title').element);\n              describedBy(c.element, getPartOrDie(c, detail, 'body').element);\n            })])\n        ])\n      };\n    };\n    const ModalDialog = composite({\n      name: 'ModalDialog',\n      configFields: schema$2(),\n      partFields: parts$2(),\n      factory: factory$4,\n      apis: {\n        show: (apis, dialog) => {\n          apis.show(dialog);\n        },\n        hide: (apis, dialog) => {\n          apis.hide(dialog);\n        },\n        getBody: (apis, dialog) => apis.getBody(dialog),\n        getFooter: (apis, dialog) => apis.getFooter(dialog),\n        setBusy: (apis, dialog, getBusySpec) => {\n          apis.setBusy(dialog, getBusySpec);\n        },\n        setIdle: (apis, dialog) => {\n          apis.setIdle(dialog);\n        }\n      }\n    });\n\n    const dialogToggleMenuItemSchema = objOf([\n      type,\n      name$1\n    ].concat(commonMenuItemFields));\n    const dialogToggleMenuItemDataProcessor = boolean;\n\n    const baseFooterButtonFields = [\n      generatedName('button'),\n      optionalIcon,\n      defaultedStringEnum('align', 'end', [\n        'start',\n        'end'\n      ]),\n      primary,\n      enabled,\n      optionStringEnum('buttonType', [\n        'primary',\n        'secondary'\n      ])\n    ];\n    const dialogFooterButtonFields = [\n      ...baseFooterButtonFields,\n      text$1\n    ];\n    const normalFooterButtonFields = [\n      requiredStringEnum('type', [\n        'submit',\n        'cancel',\n        'custom'\n      ]),\n      ...dialogFooterButtonFields\n    ];\n    const menuFooterButtonFields = [\n      requiredStringEnum('type', ['menu']),\n      optionalText,\n      optionalTooltip,\n      optionalIcon,\n      requiredArrayOf('items', dialogToggleMenuItemSchema),\n      ...baseFooterButtonFields\n    ];\n    const toggleButtonSpecFields = [\n      ...baseFooterButtonFields,\n      requiredStringEnum('type', ['togglebutton']),\n      requiredString('tooltip'),\n      icon,\n      optionalText,\n      defaultedBoolean('active', false)\n    ];\n    const dialogFooterButtonSchema = choose$1('type', {\n      submit: normalFooterButtonFields,\n      cancel: normalFooterButtonFields,\n      custom: normalFooterButtonFields,\n      menu: menuFooterButtonFields,\n      togglebutton: toggleButtonSpecFields\n    });\n\n    const alertBannerFields = [\n      type,\n      text$1,\n      requiredStringEnum('level', [\n        'info',\n        'warn',\n        'error',\n        'success'\n      ]),\n      icon,\n      defaulted('url', '')\n    ];\n    const alertBannerSchema = objOf(alertBannerFields);\n\n    const createBarFields = itemsField => [\n      type,\n      itemsField\n    ];\n\n    const buttonFields = [\n      type,\n      text$1,\n      enabled,\n      generatedName('button'),\n      optionalIcon,\n      borderless,\n      optionStringEnum('buttonType', [\n        'primary',\n        'secondary',\n        'toolbar'\n      ]),\n      primary\n    ];\n    const buttonSchema = objOf(buttonFields);\n\n    const formComponentFields = [\n      type,\n      name$1\n    ];\n    const formComponentWithLabelFields = formComponentFields.concat([optionalLabel]);\n\n    const checkboxFields = formComponentFields.concat([\n      label,\n      enabled\n    ]);\n    const checkboxSchema = objOf(checkboxFields);\n    const checkboxDataProcessor = boolean;\n\n    const collectionFields = formComponentWithLabelFields.concat([defaultedColumns('auto')]);\n    const collectionSchema = objOf(collectionFields);\n    const collectionDataProcessor = arrOfObj([\n      value$1,\n      text$1,\n      icon\n    ]);\n\n    const colorInputFields = formComponentWithLabelFields.concat([defaultedString('storageKey', 'default')]);\n    const colorInputSchema = objOf(colorInputFields);\n    const colorInputDataProcessor = string;\n\n    const colorPickerFields = formComponentWithLabelFields;\n    const colorPickerSchema = objOf(colorPickerFields);\n    const colorPickerDataProcessor = string;\n\n    const customEditorFields = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredString('scriptId'),\n      requiredString('scriptUrl'),\n      defaultedPostMsg('settings', undefined)\n    ]);\n    const customEditorFieldsOld = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredFunction('init')\n    ]);\n    const customEditorSchema = valueOf(v => asRaw('customeditor.old', objOfOnly(customEditorFieldsOld), v).orThunk(() => asRaw('customeditor.new', objOfOnly(customEditorFields), v)));\n    const customEditorDataProcessor = string;\n\n    const dropZoneFields = formComponentWithLabelFields;\n    const dropZoneSchema = objOf(dropZoneFields);\n    const dropZoneDataProcessor = arrOfVal();\n\n    const createGridFields = itemsField => [\n      type,\n      requiredNumber('columns'),\n      itemsField\n    ];\n\n    const htmlPanelFields = [\n      type,\n      requiredString('html'),\n      defaultedStringEnum('presets', 'presentation', [\n        'presentation',\n        'document'\n      ])\n    ];\n    const htmlPanelSchema = objOf(htmlPanelFields);\n\n    const iframeFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('sandboxed', true),\n      defaultedBoolean('transparent', true)\n    ]);\n    const iframeSchema = objOf(iframeFields);\n    const iframeDataProcessor = string;\n\n    const imagePreviewSchema = objOf(formComponentFields.concat([optionString('height')]));\n    const imagePreviewDataProcessor = objOf([\n      requiredString('url'),\n      optionNumber('zoom'),\n      optionNumber('cachedWidth'),\n      optionNumber('cachedHeight')\n    ]);\n\n    const inputFields = formComponentWithLabelFields.concat([\n      optionString('inputMode'),\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      enabled\n    ]);\n    const inputSchema = objOf(inputFields);\n    const inputDataProcessor = string;\n\n    const createLabelFields = itemsField => [\n      type,\n      label,\n      itemsField\n    ];\n\n    const listBoxSingleItemFields = [\n      text$1,\n      value$1\n    ];\n    const listBoxNestedItemFields = [\n      text$1,\n      requiredArrayOf('items', thunkOf('items', () => listBoxItemSchema))\n    ];\n    const listBoxItemSchema = oneOf([\n      objOf(listBoxSingleItemFields),\n      objOf(listBoxNestedItemFields)\n    ]);\n    const listBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOf('items', listBoxItemSchema),\n      enabled\n    ]);\n    const listBoxSchema = objOf(listBoxFields);\n    const listBoxDataProcessor = string;\n\n    const selectBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOfObj('items', [\n        text$1,\n        value$1\n      ]),\n      defaultedNumber('size', 1),\n      enabled\n    ]);\n    const selectBoxSchema = objOf(selectBoxFields);\n    const selectBoxDataProcessor = string;\n\n    const sizeInputFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('constrain', true),\n      enabled\n    ]);\n    const sizeInputSchema = objOf(sizeInputFields);\n    const sizeInputDataProcessor = objOf([\n      requiredString('width'),\n      requiredString('height')\n    ]);\n\n    const sliderFields = formComponentFields.concat([\n      label,\n      defaultedNumber('min', 0),\n      defaultedNumber('max', 0)\n    ]);\n    const sliderSchema = objOf(sliderFields);\n    const sliderInputDataProcessor = number;\n\n    const tableFields = [\n      type,\n      requiredArrayOf('header', string),\n      requiredArrayOf('cells', arrOf(string))\n    ];\n    const tableSchema = objOf(tableFields);\n\n    const textAreaFields = formComponentWithLabelFields.concat([\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      enabled\n    ]);\n    const textAreaSchema = objOf(textAreaFields);\n    const textAreaDataProcessor = string;\n\n    const baseTreeItemFields = [\n      requiredStringEnum('type', [\n        'directory',\n        'leaf'\n      ]),\n      title,\n      requiredString('id'),\n      optionOf('menu', MenuButtonSchema)\n    ];\n    const treeItemLeafFields = baseTreeItemFields;\n    const treeItemLeafSchema = objOf(treeItemLeafFields);\n    const treeItemDirectoryFields = baseTreeItemFields.concat([requiredArrayOf('children', thunkOf('children', () => {\n        return choose$2('type', {\n          directory: treeItemDirectorySchema,\n          leaf: treeItemLeafSchema\n        });\n      }))]);\n    const treeItemDirectorySchema = objOf(treeItemDirectoryFields);\n    const treeItemSchema = choose$2('type', {\n      directory: treeItemDirectorySchema,\n      leaf: treeItemLeafSchema\n    });\n    const treeFields = [\n      type,\n      requiredArrayOf('items', treeItemSchema),\n      optionFunction('onLeafAction')\n    ];\n    const treeSchema = objOf(treeFields);\n\n    const urlInputFields = formComponentWithLabelFields.concat([\n      defaultedStringEnum('filetype', 'file', [\n        'image',\n        'media',\n        'file'\n      ]),\n      enabled\n    ]);\n    const urlInputSchema = objOf(urlInputFields);\n    const urlInputDataProcessor = objOf([\n      value$1,\n      defaultedMeta\n    ]);\n\n    const createItemsField = name => field$1('items', 'items', required$2(), arrOf(valueOf(v => asRaw(`Checking item of ${ name }`, itemSchema, v).fold(sErr => Result.error(formatError(sErr)), passValue => Result.value(passValue)))));\n    const itemSchema = valueThunk(() => choose$2('type', {\n      alertbanner: alertBannerSchema,\n      bar: objOf(createBarFields(createItemsField('bar'))),\n      button: buttonSchema,\n      checkbox: checkboxSchema,\n      colorinput: colorInputSchema,\n      colorpicker: colorPickerSchema,\n      dropzone: dropZoneSchema,\n      grid: objOf(createGridFields(createItemsField('grid'))),\n      iframe: iframeSchema,\n      input: inputSchema,\n      listbox: listBoxSchema,\n      selectbox: selectBoxSchema,\n      sizeinput: sizeInputSchema,\n      slider: sliderSchema,\n      textarea: textAreaSchema,\n      urlinput: urlInputSchema,\n      customeditor: customEditorSchema,\n      htmlpanel: htmlPanelSchema,\n      imagepreview: imagePreviewSchema,\n      collection: collectionSchema,\n      label: objOf(createLabelFields(createItemsField('label'))),\n      table: tableSchema,\n      tree: treeSchema,\n      panel: panelSchema\n    }));\n    const panelFields = [\n      type,\n      defaulted('classes', []),\n      requiredArrayOf('items', itemSchema)\n    ];\n    const panelSchema = objOf(panelFields);\n\n    const tabFields = [\n      generatedName('tab'),\n      title,\n      requiredArrayOf('items', itemSchema)\n    ];\n    const tabPanelFields = [\n      type,\n      requiredArrayOfObj('tabs', tabFields)\n    ];\n    const tabPanelSchema = objOf(tabPanelFields);\n\n    const dialogButtonFields = dialogFooterButtonFields;\n    const dialogButtonSchema = dialogFooterButtonSchema;\n    const dialogSchema = objOf([\n      requiredString('title'),\n      requiredOf('body', choose$2('type', {\n        panel: panelSchema,\n        tabpanel: tabPanelSchema\n      })),\n      defaultedString('size', 'normal'),\n      requiredArrayOf('buttons', dialogButtonSchema),\n      defaulted('initialData', {}),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onChange', noop),\n      defaultedFunction('onSubmit', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onTabChange', noop)\n    ]);\n    const createDialog = spec => asRaw('dialog', dialogSchema, spec);\n\n    const urlDialogButtonSchema = objOf([\n      requiredStringEnum('type', [\n        'cancel',\n        'custom'\n      ]),\n      ...dialogButtonFields\n    ]);\n    const urlDialogSchema = objOf([\n      requiredString('title'),\n      requiredString('url'),\n      optionNumber('height'),\n      optionNumber('width'),\n      optionArrayOf('buttons', urlDialogButtonSchema),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onMessage', noop)\n    ]);\n    const createUrlDialog = spec => asRaw('dialog', urlDialogSchema, spec);\n\n    const getAllObjects = obj => {\n      if (isObject(obj)) {\n        return [obj].concat(bind$3(values(obj), getAllObjects));\n      } else if (isArray(obj)) {\n        return bind$3(obj, getAllObjects);\n      } else {\n        return [];\n      }\n    };\n\n    const isNamedItem = obj => isString(obj.type) && isString(obj.name);\n    const dataProcessors = {\n      checkbox: checkboxDataProcessor,\n      colorinput: colorInputDataProcessor,\n      colorpicker: colorPickerDataProcessor,\n      dropzone: dropZoneDataProcessor,\n      input: inputDataProcessor,\n      iframe: iframeDataProcessor,\n      imagepreview: imagePreviewDataProcessor,\n      selectbox: selectBoxDataProcessor,\n      sizeinput: sizeInputDataProcessor,\n      slider: sliderInputDataProcessor,\n      listbox: listBoxDataProcessor,\n      size: sizeInputDataProcessor,\n      textarea: textAreaDataProcessor,\n      urlinput: urlInputDataProcessor,\n      customeditor: customEditorDataProcessor,\n      collection: collectionDataProcessor,\n      togglemenuitem: dialogToggleMenuItemDataProcessor\n    };\n    const getDataProcessor = item => Optional.from(dataProcessors[item.type]);\n    const getNamedItems = structure => filter$2(getAllObjects(structure), isNamedItem);\n\n    const createDataValidator = structure => {\n      const namedItems = getNamedItems(structure);\n      const fields = bind$3(namedItems, item => getDataProcessor(item).fold(() => [], schema => [requiredOf(item.name, schema)]));\n      return objOf(fields);\n    };\n\n    const extract = structure => {\n      var _a;\n      const internalDialog = getOrDie(createDialog(structure));\n      const dataValidator = createDataValidator(structure);\n      const initialData = (_a = structure.initialData) !== null && _a !== void 0 ? _a : {};\n      return {\n        internalDialog,\n        dataValidator,\n        initialData\n      };\n    };\n    const DialogManager = {\n      open: (factory, structure) => {\n        const extraction = extract(structure);\n        return factory(extraction.internalDialog, extraction.initialData, extraction.dataValidator);\n      },\n      openUrl: (factory, structure) => {\n        const internalDialog = getOrDie(createUrlDialog(structure));\n        return factory(internalDialog);\n      },\n      redial: structure => extract(structure)\n    };\n\n    const events = (reflectingConfig, reflectingState) => {\n      const update = (component, data) => {\n        reflectingConfig.updateState.each(updateState => {\n          const newState = updateState(component, data);\n          reflectingState.set(newState);\n        });\n        reflectingConfig.renderComponents.each(renderComponents => {\n          const newComponents = renderComponents(data, reflectingState.get());\n          const replacer = reflectingConfig.reuseDom ? withReuse : withoutReuse;\n          replacer(component, newComponents);\n        });\n      };\n      return derive$2([\n        run$1(receive(), (component, message) => {\n          const receivingData = message;\n          if (!receivingData.universal) {\n            const channel = reflectingConfig.channel;\n            if (contains$2(receivingData.channels, channel)) {\n              update(component, receivingData.data);\n            }\n          }\n        }),\n        runOnAttached((comp, _se) => {\n          reflectingConfig.initialData.each(rawData => {\n            update(comp, rawData);\n          });\n        })\n      ]);\n    };\n\n    var ActiveReflecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events\n    });\n\n    const getState = (component, replaceConfig, reflectState) => reflectState;\n\n    var ReflectingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getState: getState\n    });\n\n    var ReflectingSchema = [\n      required$1('channel'),\n      option$3('renderComponents'),\n      option$3('updateState'),\n      option$3('initialData'),\n      defaultedBoolean('reuseDom', true)\n    ];\n\n    const init = () => {\n      const cell = Cell(Optional.none());\n      const clear = () => cell.set(Optional.none());\n      const readState = () => cell.get().getOr('none');\n      return {\n        readState,\n        get: cell.get,\n        set: cell.set,\n        clear\n      };\n    };\n\n    var ReflectingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init\n    });\n\n    const Reflecting = create$4({\n      fields: ReflectingSchema,\n      name: 'reflecting',\n      active: ActiveReflecting,\n      apis: ReflectingApis,\n      state: ReflectingState\n    });\n\n    const toValidValues = values => {\n      const errors = [];\n      const result = {};\n      each(values, (value, name) => {\n        value.fold(() => {\n          errors.push(name);\n        }, v => {\n          result[name] = v;\n        });\n      });\n      return errors.length > 0 ? Result.error(errors) : Result.value(result);\n    };\n\n    const renderBodyPanel = (spec, dialogData, backstage) => {\n      const memForm = record(Form.sketch(parts => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form'].concat(spec.classes)\n        },\n        components: map$2(spec.items, item => interpretInForm(parts, item, dialogData, backstage))\n      })));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [memForm.asSpec()]\n          }],\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          }),\n          ComposingConfigs.memento(memForm),\n          RepresentingConfigs.memento(memForm, {\n            postprocess: formValue => toValidValues(formValue).fold(err => {\n              console.error(err);\n              return {};\n            }, identity)\n          })\n        ])\n      };\n    };\n\n    const factory$3 = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components: detail.components,\n      events: events$a(detail.action),\n      behaviours: augment(detail.tabButtonBehaviours, [\n        Focusing.config({}),\n        Keying.config({\n          mode: 'execution',\n          useSpace: true,\n          useEnter: true\n        }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.value\n          }\n        })\n      ]),\n      domModification: detail.domModification\n    });\n    const TabButton = single({\n      name: 'TabButton',\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('value'),\n        field$1('dom', 'dom', mergeWithThunk(() => ({\n          attributes: {\n            'role': 'tab',\n            'id': generate$6('aria'),\n            'aria-selected': 'false'\n          }\n        })), anyValue()),\n        option$3('action'),\n        defaulted('domModification', {}),\n        field('tabButtonBehaviours', [\n          Focusing,\n          Keying,\n          Representing\n        ]),\n        required$1('view')\n      ],\n      factory: factory$3\n    });\n\n    const schema$1 = constant$1([\n      required$1('tabs'),\n      required$1('dom'),\n      defaulted('clickToDismiss', false),\n      field('tabbarBehaviours', [\n        Highlighting,\n        Keying\n      ]),\n      markers$1([\n        'tabClass',\n        'selectedClass'\n      ])\n    ]);\n    const tabsPart = group({\n      factory: TabButton,\n      name: 'tabs',\n      unit: 'tab',\n      overrides: barDetail => {\n        const dismissTab$1 = (tabbar, button) => {\n          Highlighting.dehighlight(tabbar, button);\n          emitWith(tabbar, dismissTab(), {\n            tabbar,\n            button\n          });\n        };\n        const changeTab$1 = (tabbar, button) => {\n          Highlighting.highlight(tabbar, button);\n          emitWith(tabbar, changeTab(), {\n            tabbar,\n            button\n          });\n        };\n        return {\n          action: button => {\n            const tabbar = button.getSystem().getByUid(barDetail.uid).getOrDie();\n            const activeButton = Highlighting.isHighlighted(tabbar, button);\n            const response = (() => {\n              if (activeButton && barDetail.clickToDismiss) {\n                return dismissTab$1;\n              } else if (!activeButton) {\n                return changeTab$1;\n              } else {\n                return noop;\n              }\n            })();\n            response(tabbar, button);\n          },\n          domModification: { classes: [barDetail.markers.tabClass] }\n        };\n      }\n    });\n    const parts$1 = constant$1([tabsPart]);\n\n    const factory$2 = (detail, components, _spec, _externals) => ({\n      'uid': detail.uid,\n      'dom': detail.dom,\n      components,\n      'debug.sketcher': 'Tabbar',\n      'domModification': { attributes: { role: 'tablist' } },\n      'behaviours': augment(detail.tabbarBehaviours, [\n        Highlighting.config({\n          highlightClass: detail.markers.selectedClass,\n          itemClass: detail.markers.tabClass,\n          onHighlight: (tabbar, tab) => {\n            set$9(tab.element, 'aria-selected', 'true');\n          },\n          onDehighlight: (tabbar, tab) => {\n            set$9(tab.element, 'aria-selected', 'false');\n          }\n        }),\n        Keying.config({\n          mode: 'flow',\n          getInitial: tabbar => {\n            return Highlighting.getHighlighted(tabbar).map(tab => tab.element);\n          },\n          selector: '.' + detail.markers.tabClass,\n          executeOnMove: true\n        })\n      ])\n    });\n    const Tabbar = composite({\n      name: 'Tabbar',\n      configFields: schema$1(),\n      partFields: parts$1(),\n      factory: factory$2\n    });\n\n    const factory$1 = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      behaviours: augment(detail.tabviewBehaviours, [Replacing.config({})]),\n      domModification: { attributes: { role: 'tabpanel' } }\n    });\n    const Tabview = single({\n      name: 'Tabview',\n      configFields: [field('tabviewBehaviours', [Replacing])],\n      factory: factory$1\n    });\n\n    const schema = constant$1([\n      defaulted('selectFirst', true),\n      onHandler('onChangeTab'),\n      onHandler('onDismissTab'),\n      defaulted('tabs', []),\n      field('tabSectionBehaviours', [])\n    ]);\n    const barPart = required({\n      factory: Tabbar,\n      schema: [\n        required$1('dom'),\n        requiredObjOf('markers', [\n          required$1('tabClass'),\n          required$1('selectedClass')\n        ])\n      ],\n      name: 'tabbar',\n      defaults: detail => {\n        return { tabs: detail.tabs };\n      }\n    });\n    const viewPart = required({\n      factory: Tabview,\n      name: 'tabview'\n    });\n    const parts = constant$1([\n      barPart,\n      viewPart\n    ]);\n\n    const factory = (detail, components, _spec, _externals) => {\n      const changeTab$1 = button => {\n        const tabValue = Representing.getValue(button);\n        getPart(button, detail, 'tabview').each(tabview => {\n          const tabWithValue = find$5(detail.tabs, t => t.value === tabValue);\n          tabWithValue.each(tabData => {\n            const panel = tabData.view();\n            getOpt(button.element, 'id').each(id => {\n              set$9(tabview.element, 'aria-labelledby', id);\n            });\n            Replacing.set(tabview, panel);\n            detail.onChangeTab(tabview, button, panel);\n          });\n        });\n      };\n      const changeTabBy = (section, byPred) => {\n        getPart(section, detail, 'tabbar').each(tabbar => {\n          byPred(tabbar).each(emitExecute);\n        });\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: get$3(detail.tabSectionBehaviours),\n        events: derive$2(flatten([\n          detail.selectFirst ? [runOnAttached((section, _simulatedEvent) => {\n              changeTabBy(section, Highlighting.getFirst);\n            })] : [],\n          [\n            run$1(changeTab(), (section, simulatedEvent) => {\n              const button = simulatedEvent.event.button;\n              changeTab$1(button);\n            }),\n            run$1(dismissTab(), (section, simulatedEvent) => {\n              const button = simulatedEvent.event.button;\n              detail.onDismissTab(section, button);\n            })\n          ]\n        ])),\n        apis: {\n          getViewItems: section => {\n            return getPart(section, detail, 'tabview').map(tabview => Replacing.contents(tabview)).getOr([]);\n          },\n          showTab: (section, tabKey) => {\n            const getTabIfNotActive = tabbar => {\n              const candidates = Highlighting.getCandidates(tabbar);\n              const optTab = find$5(candidates, c => Representing.getValue(c) === tabKey);\n              return optTab.filter(tab => !Highlighting.isHighlighted(tabbar, tab));\n            };\n            changeTabBy(section, getTabIfNotActive);\n          }\n        }\n      };\n    };\n    const TabSection = composite({\n      name: 'TabSection',\n      configFields: schema(),\n      partFields: parts(),\n      factory,\n      apis: {\n        getViewItems: (apis, component) => apis.getViewItems(component),\n        showTab: (apis, component, tabKey) => {\n          apis.showTab(component, tabKey);\n        }\n      }\n    });\n\n    const measureHeights = (allTabs, tabview, tabviewComp) => map$2(allTabs, (_tab, i) => {\n      Replacing.set(tabviewComp, allTabs[i].view());\n      const rect = tabview.dom.getBoundingClientRect();\n      Replacing.set(tabviewComp, []);\n      return rect.height;\n    });\n    const getMaxHeight = heights => head(sort(heights, (a, b) => {\n      if (a > b) {\n        return -1;\n      } else if (a < b) {\n        return +1;\n      } else {\n        return 0;\n      }\n    }));\n    const getMaxTabviewHeight = (dialog, tabview, tablist) => {\n      const documentElement$1 = documentElement(dialog).dom;\n      const rootElm = ancestor(dialog, '.tox-dialog-wrap').getOr(dialog);\n      const isFixed = get$e(rootElm, 'position') === 'fixed';\n      let maxHeight;\n      if (isFixed) {\n        maxHeight = Math.max(documentElement$1.clientHeight, window.innerHeight);\n      } else {\n        maxHeight = Math.max(documentElement$1.offsetHeight, documentElement$1.scrollHeight);\n      }\n      const tabviewHeight = get$d(tabview);\n      const isTabListBeside = tabview.dom.offsetLeft >= tablist.dom.offsetLeft + get$c(tablist);\n      const currentTabHeight = isTabListBeside ? Math.max(get$d(tablist), tabviewHeight) : tabviewHeight;\n      const dialogTopMargin = parseInt(get$e(dialog, 'margin-top'), 10) || 0;\n      const dialogBottomMargin = parseInt(get$e(dialog, 'margin-bottom'), 10) || 0;\n      const dialogHeight = get$d(dialog) + dialogTopMargin + dialogBottomMargin;\n      const chromeHeight = dialogHeight - currentTabHeight;\n      return maxHeight - chromeHeight;\n    };\n    const showTab = (allTabs, comp) => {\n      head(allTabs).each(tab => TabSection.showTab(comp, tab.value));\n    };\n    const setTabviewHeight = (tabview, height) => {\n      set$8(tabview, 'height', height + 'px');\n      set$8(tabview, 'flex-basis', height + 'px');\n    };\n    const updateTabviewHeight = (dialogBody, tabview, maxTabHeight) => {\n      ancestor(dialogBody, '[role=\"dialog\"]').each(dialog => {\n        descendant(dialog, '[role=\"tablist\"]').each(tablist => {\n          maxTabHeight.get().map(height => {\n            set$8(tabview, 'height', '0');\n            set$8(tabview, 'flex-basis', '0');\n            return Math.min(height, getMaxTabviewHeight(dialog, tabview, tablist));\n          }).each(height => {\n            setTabviewHeight(tabview, height);\n          });\n        });\n      });\n    };\n    const getTabview = dialog => descendant(dialog, '[role=\"tabpanel\"]');\n    const smartMode = allTabs => {\n      const maxTabHeight = value$2();\n      const extraEvents = [\n        runOnAttached(comp => {\n          const dialog = comp.element;\n          getTabview(dialog).each(tabview => {\n            set$8(tabview, 'visibility', 'hidden');\n            comp.getSystem().getByDom(tabview).toOptional().each(tabviewComp => {\n              const heights = measureHeights(allTabs, tabview, tabviewComp);\n              const maxTabHeightOpt = getMaxHeight(heights);\n              maxTabHeightOpt.fold(maxTabHeight.clear, maxTabHeight.set);\n            });\n            updateTabviewHeight(dialog, tabview, maxTabHeight);\n            remove$6(tabview, 'visibility');\n            showTab(allTabs, comp);\n            requestAnimationFrame(() => {\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n            });\n          });\n        }),\n        run$1(windowResize(), comp => {\n          const dialog = comp.element;\n          getTabview(dialog).each(tabview => {\n            updateTabviewHeight(dialog, tabview, maxTabHeight);\n          });\n        }),\n        run$1(formResizeEvent, (comp, _se) => {\n          const dialog = comp.element;\n          getTabview(dialog).each(tabview => {\n            const oldFocus = active$1(getRootNode(tabview));\n            set$8(tabview, 'visibility', 'hidden');\n            const oldHeight = getRaw(tabview, 'height').map(h => parseInt(h, 10));\n            remove$6(tabview, 'height');\n            remove$6(tabview, 'flex-basis');\n            const newHeight = tabview.dom.getBoundingClientRect().height;\n            const hasGrown = oldHeight.forall(h => newHeight > h);\n            if (hasGrown) {\n              maxTabHeight.set(newHeight);\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n            } else {\n              oldHeight.each(h => {\n                setTabviewHeight(tabview, h);\n              });\n            }\n            remove$6(tabview, 'visibility');\n            oldFocus.each(focus$3);\n          });\n        })\n      ];\n      const selectFirst = false;\n      return {\n        extraEvents,\n        selectFirst\n      };\n    };\n\n    const SendDataToSectionChannel = 'send-data-to-section';\n    const SendDataToViewChannel = 'send-data-to-view';\n    const renderTabPanel = (spec, dialogData, backstage) => {\n      const storedValue = Cell({});\n      const updateDataWithForm = form => {\n        const formData = Representing.getValue(form);\n        const validData = toValidValues(formData).getOr({});\n        const currentData = storedValue.get();\n        const newData = deepMerge(currentData, validData);\n        storedValue.set(newData);\n      };\n      const setDataOnForm = form => {\n        const tabData = storedValue.get();\n        Representing.setValue(form, tabData);\n      };\n      const oldTab = Cell(null);\n      const allTabs = map$2(spec.tabs, tab => {\n        return {\n          value: tab.name,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-nav-item']\n          },\n          components: [text$2(backstage.shared.providers.translate(tab.title))],\n          view: () => {\n            return [Form.sketch(parts => ({\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-form']\n                },\n                components: map$2(tab.items, item => interpretInForm(parts, item, dialogData, backstage)),\n                formBehaviours: derive$1([\n                  Keying.config({\n                    mode: 'acyclic',\n                    useTabstopAt: not(isPseudoStop)\n                  }),\n                  config('TabView.form.events', [\n                    runOnAttached(setDataOnForm),\n                    runOnDetached(updateDataWithForm)\n                  ]),\n                  Receiving.config({\n                    channels: wrapAll([\n                      {\n                        key: SendDataToSectionChannel,\n                        value: { onReceive: updateDataWithForm }\n                      },\n                      {\n                        key: SendDataToViewChannel,\n                        value: { onReceive: setDataOnForm }\n                      }\n                    ])\n                  })\n                ])\n              }))];\n          }\n        };\n      });\n      const tabMode = smartMode(allTabs);\n      return TabSection.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        onChangeTab: (section, button, _viewItems) => {\n          const name = Representing.getValue(button);\n          emitWith(section, formTabChangeEvent, {\n            name,\n            oldName: oldTab.get()\n          });\n          oldTab.set(name);\n        },\n        tabs: allTabs,\n        components: [\n          TabSection.parts.tabbar({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-nav']\n            },\n            components: [Tabbar.parts.tabs({})],\n            markers: {\n              tabClass: 'tox-tab',\n              selectedClass: 'tox-dialog__body-nav-item--active'\n            },\n            tabbarBehaviours: derive$1([Tabstopping.config({})])\n          }),\n          TabSection.parts.tabview({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            }\n          })\n        ],\n        selectFirst: tabMode.selectFirst,\n        tabSectionBehaviours: derive$1([\n          config('tabpanel', tabMode.extraEvents),\n          Keying.config({ mode: 'acyclic' }),\n          Composing.config({ find: comp => head(TabSection.getViewItems(comp)) }),\n          RepresentingConfigs.withComp(Optional.none(), tsection => {\n            tsection.getSystem().broadcastOn([SendDataToSectionChannel], {});\n            return storedValue.get();\n          }, (tsection, value) => {\n            storedValue.set(value);\n            tsection.getSystem().broadcastOn([SendDataToViewChannel], {});\n          })\n        ])\n      });\n    };\n\n    const dialogChannel = generate$6('update-dialog');\n    const titleChannel = generate$6('update-title');\n    const bodyChannel = generate$6('update-body');\n    const footerChannel = generate$6('update-footer');\n    const bodySendMessageChannel = generate$6('body-send-message');\n\n    const renderBody = (spec, dialogId, contentId, backstage, ariaAttrs) => {\n      const renderComponents = incoming => {\n        const body = incoming.body;\n        switch (body.type) {\n        case 'tabpanel': {\n            return [renderTabPanel(body, incoming.initialData, backstage)];\n          }\n        default: {\n            return [renderBodyPanel(body, incoming.initialData, backstage)];\n          }\n        }\n      };\n      const updateState = (_comp, incoming) => Optional.some({ isTabPanel: () => incoming.body.type === 'tabpanel' });\n      const ariaAttributes = { 'aria-live': 'polite' };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js'],\n          attributes: {\n            ...contentId.map(x => ({ id: x })).getOr({}),\n            ...ariaAttrs ? ariaAttributes : {}\n          }\n        },\n        components: [],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          Reflecting.config({\n            channel: `${ bodyChannel }-${ dialogId }`,\n            updateState,\n            renderComponents,\n            initialData: spec\n          })\n        ])\n      };\n    };\n    const renderInlineBody = (spec, dialogId, contentId, backstage, ariaAttrs) => renderBody(spec, dialogId, Optional.some(contentId), backstage, ariaAttrs);\n    const renderModalBody = (spec, dialogId, backstage) => {\n      const bodySpec = renderBody(spec, dialogId, Optional.none(), backstage, false);\n      return ModalDialog.parts.body(bodySpec);\n    };\n    const renderIframeBody = spec => {\n      const bodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-iframe']\n            },\n            components: [craft({\n                dom: {\n                  tag: 'iframe',\n                  attributes: { src: spec.url }\n                },\n                behaviours: derive$1([\n                  Tabstopping.config({}),\n                  Focusing.config({})\n                ])\n              })]\n          }],\n        behaviours: derive$1([Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          })])\n      };\n      return ModalDialog.parts.body(bodySpec);\n    };\n\n    function _typeof(obj) {\n      '@babel/helpers - typeof';\n      return _typeof = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && 'function' == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? 'symbol' : typeof obj;\n      }, _typeof(obj);\n    }\n    function _setPrototypeOf(o, p) {\n      _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n      };\n      return _setPrototypeOf(o, p);\n    }\n    function _isNativeReflectConstruct() {\n      if (typeof Reflect === 'undefined' || !Reflect.construct)\n        return false;\n      if (Reflect.construct.sham)\n        return false;\n      if (typeof Proxy === 'function')\n        return true;\n      try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {\n        }));\n        return true;\n      } catch (e) {\n        return false;\n      }\n    }\n    function _construct(Parent, args, Class) {\n      if (_isNativeReflectConstruct()) {\n        _construct = Reflect.construct;\n      } else {\n        _construct = function _construct(Parent, args, Class) {\n          var a = [null];\n          a.push.apply(a, args);\n          var Constructor = Function.bind.apply(Parent, a);\n          var instance = new Constructor();\n          if (Class)\n            _setPrototypeOf(instance, Class.prototype);\n          return instance;\n        };\n      }\n      return _construct.apply(null, arguments);\n    }\n    function _toConsumableArray(arr) {\n      return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n    }\n    function _arrayWithoutHoles(arr) {\n      if (Array.isArray(arr))\n        return _arrayLikeToArray(arr);\n    }\n    function _iterableToArray(iter) {\n      if (typeof Symbol !== 'undefined' && iter[Symbol.iterator] != null || iter['@@iterator'] != null)\n        return Array.from(iter);\n    }\n    function _unsupportedIterableToArray(o, minLen) {\n      if (!o)\n        return;\n      if (typeof o === 'string')\n        return _arrayLikeToArray(o, minLen);\n      var n = Object.prototype.toString.call(o).slice(8, -1);\n      if (n === 'Object' && o.constructor)\n        n = o.constructor.name;\n      if (n === 'Map' || n === 'Set')\n        return Array.from(o);\n      if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n        return _arrayLikeToArray(o, minLen);\n    }\n    function _arrayLikeToArray(arr, len) {\n      if (len == null || len > arr.length)\n        len = arr.length;\n      for (var i = 0, arr2 = new Array(len); i < len; i++)\n        arr2[i] = arr[i];\n      return arr2;\n    }\n    function _nonIterableSpread() {\n      throw new TypeError('Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.');\n    }\n    var hasOwnProperty = Object.hasOwnProperty, setPrototypeOf = Object.setPrototypeOf, isFrozen = Object.isFrozen, getPrototypeOf = Object.getPrototypeOf, getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n    var freeze = Object.freeze, seal = Object.seal, create = Object.create;\n    var _ref = typeof Reflect !== 'undefined' && Reflect, apply = _ref.apply, construct = _ref.construct;\n    if (!apply) {\n      apply = function apply(fun, thisValue, args) {\n        return fun.apply(thisValue, args);\n      };\n    }\n    if (!freeze) {\n      freeze = function freeze(x) {\n        return x;\n      };\n    }\n    if (!seal) {\n      seal = function seal(x) {\n        return x;\n      };\n    }\n    if (!construct) {\n      construct = function construct(Func, args) {\n        return _construct(Func, _toConsumableArray(args));\n      };\n    }\n    var arrayForEach = unapply(Array.prototype.forEach);\n    var arrayPop = unapply(Array.prototype.pop);\n    var arrayPush = unapply(Array.prototype.push);\n    var stringToLowerCase = unapply(String.prototype.toLowerCase);\n    var stringMatch = unapply(String.prototype.match);\n    var stringReplace = unapply(String.prototype.replace);\n    var stringIndexOf = unapply(String.prototype.indexOf);\n    var stringTrim = unapply(String.prototype.trim);\n    var regExpTest = unapply(RegExp.prototype.test);\n    var typeErrorCreate = unconstruct(TypeError);\n    function unapply(func) {\n      return function (thisArg) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        return apply(func, thisArg, args);\n      };\n    }\n    function unconstruct(func) {\n      return function () {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        return construct(func, args);\n      };\n    }\n    function addToSet(set, array) {\n      if (setPrototypeOf) {\n        setPrototypeOf(set, null);\n      }\n      var l = array.length;\n      while (l--) {\n        var element = array[l];\n        if (typeof element === 'string') {\n          var lcElement = stringToLowerCase(element);\n          if (lcElement !== element) {\n            if (!isFrozen(array)) {\n              array[l] = lcElement;\n            }\n            element = lcElement;\n          }\n        }\n        set[element] = true;\n      }\n      return set;\n    }\n    function clone(object) {\n      var newObject = create(null);\n      var property;\n      for (property in object) {\n        if (apply(hasOwnProperty, object, [property])) {\n          newObject[property] = object[property];\n        }\n      }\n      return newObject;\n    }\n    function lookupGetter(object, prop) {\n      while (object !== null) {\n        var desc = getOwnPropertyDescriptor(object, prop);\n        if (desc) {\n          if (desc.get) {\n            return unapply(desc.get);\n          }\n          if (typeof desc.value === 'function') {\n            return unapply(desc.value);\n          }\n        }\n        object = getPrototypeOf(object);\n      }\n      function fallbackValue(element) {\n        console.warn('fallback value for', element);\n        return null;\n      }\n      return fallbackValue;\n    }\n    var html$1 = freeze([\n      'a',\n      'abbr',\n      'acronym',\n      'address',\n      'area',\n      'article',\n      'aside',\n      'audio',\n      'b',\n      'bdi',\n      'bdo',\n      'big',\n      'blink',\n      'blockquote',\n      'body',\n      'br',\n      'button',\n      'canvas',\n      'caption',\n      'center',\n      'cite',\n      'code',\n      'col',\n      'colgroup',\n      'content',\n      'data',\n      'datalist',\n      'dd',\n      'decorator',\n      'del',\n      'details',\n      'dfn',\n      'dialog',\n      'dir',\n      'div',\n      'dl',\n      'dt',\n      'element',\n      'em',\n      'fieldset',\n      'figcaption',\n      'figure',\n      'font',\n      'footer',\n      'form',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'head',\n      'header',\n      'hgroup',\n      'hr',\n      'html',\n      'i',\n      'img',\n      'input',\n      'ins',\n      'kbd',\n      'label',\n      'legend',\n      'li',\n      'main',\n      'map',\n      'mark',\n      'marquee',\n      'menu',\n      'menuitem',\n      'meter',\n      'nav',\n      'nobr',\n      'ol',\n      'optgroup',\n      'option',\n      'output',\n      'p',\n      'picture',\n      'pre',\n      'progress',\n      'q',\n      'rp',\n      'rt',\n      'ruby',\n      's',\n      'samp',\n      'section',\n      'select',\n      'shadow',\n      'small',\n      'source',\n      'spacer',\n      'span',\n      'strike',\n      'strong',\n      'style',\n      'sub',\n      'summary',\n      'sup',\n      'table',\n      'tbody',\n      'td',\n      'template',\n      'textarea',\n      'tfoot',\n      'th',\n      'thead',\n      'time',\n      'tr',\n      'track',\n      'tt',\n      'u',\n      'ul',\n      'var',\n      'video',\n      'wbr'\n    ]);\n    var svg$1 = freeze([\n      'svg',\n      'a',\n      'altglyph',\n      'altglyphdef',\n      'altglyphitem',\n      'animatecolor',\n      'animatemotion',\n      'animatetransform',\n      'circle',\n      'clippath',\n      'defs',\n      'desc',\n      'ellipse',\n      'filter',\n      'font',\n      'g',\n      'glyph',\n      'glyphref',\n      'hkern',\n      'image',\n      'line',\n      'lineargradient',\n      'marker',\n      'mask',\n      'metadata',\n      'mpath',\n      'path',\n      'pattern',\n      'polygon',\n      'polyline',\n      'radialgradient',\n      'rect',\n      'stop',\n      'style',\n      'switch',\n      'symbol',\n      'text',\n      'textpath',\n      'title',\n      'tref',\n      'tspan',\n      'view',\n      'vkern'\n    ]);\n    var svgFilters = freeze([\n      'feBlend',\n      'feColorMatrix',\n      'feComponentTransfer',\n      'feComposite',\n      'feConvolveMatrix',\n      'feDiffuseLighting',\n      'feDisplacementMap',\n      'feDistantLight',\n      'feFlood',\n      'feFuncA',\n      'feFuncB',\n      'feFuncG',\n      'feFuncR',\n      'feGaussianBlur',\n      'feImage',\n      'feMerge',\n      'feMergeNode',\n      'feMorphology',\n      'feOffset',\n      'fePointLight',\n      'feSpecularLighting',\n      'feSpotLight',\n      'feTile',\n      'feTurbulence'\n    ]);\n    var svgDisallowed = freeze([\n      'animate',\n      'color-profile',\n      'cursor',\n      'discard',\n      'fedropshadow',\n      'font-face',\n      'font-face-format',\n      'font-face-name',\n      'font-face-src',\n      'font-face-uri',\n      'foreignobject',\n      'hatch',\n      'hatchpath',\n      'mesh',\n      'meshgradient',\n      'meshpatch',\n      'meshrow',\n      'missing-glyph',\n      'script',\n      'set',\n      'solidcolor',\n      'unknown',\n      'use'\n    ]);\n    var mathMl$1 = freeze([\n      'math',\n      'menclose',\n      'merror',\n      'mfenced',\n      'mfrac',\n      'mglyph',\n      'mi',\n      'mlabeledtr',\n      'mmultiscripts',\n      'mn',\n      'mo',\n      'mover',\n      'mpadded',\n      'mphantom',\n      'mroot',\n      'mrow',\n      'ms',\n      'mspace',\n      'msqrt',\n      'mstyle',\n      'msub',\n      'msup',\n      'msubsup',\n      'mtable',\n      'mtd',\n      'mtext',\n      'mtr',\n      'munder',\n      'munderover'\n    ]);\n    var mathMlDisallowed = freeze([\n      'maction',\n      'maligngroup',\n      'malignmark',\n      'mlongdiv',\n      'mscarries',\n      'mscarry',\n      'msgroup',\n      'mstack',\n      'msline',\n      'msrow',\n      'semantics',\n      'annotation',\n      'annotation-xml',\n      'mprescripts',\n      'none'\n    ]);\n    var text = freeze(['#text']);\n    var html = freeze([\n      'accept',\n      'action',\n      'align',\n      'alt',\n      'autocapitalize',\n      'autocomplete',\n      'autopictureinpicture',\n      'autoplay',\n      'background',\n      'bgcolor',\n      'border',\n      'capture',\n      'cellpadding',\n      'cellspacing',\n      'checked',\n      'cite',\n      'class',\n      'clear',\n      'color',\n      'cols',\n      'colspan',\n      'controls',\n      'controlslist',\n      'coords',\n      'crossorigin',\n      'datetime',\n      'decoding',\n      'default',\n      'dir',\n      'disabled',\n      'disablepictureinpicture',\n      'disableremoteplayback',\n      'download',\n      'draggable',\n      'enctype',\n      'enterkeyhint',\n      'face',\n      'for',\n      'headers',\n      'height',\n      'hidden',\n      'high',\n      'href',\n      'hreflang',\n      'id',\n      'inputmode',\n      'integrity',\n      'ismap',\n      'kind',\n      'label',\n      'lang',\n      'list',\n      'loading',\n      'loop',\n      'low',\n      'max',\n      'maxlength',\n      'media',\n      'method',\n      'min',\n      'minlength',\n      'multiple',\n      'muted',\n      'name',\n      'nonce',\n      'noshade',\n      'novalidate',\n      'nowrap',\n      'open',\n      'optimum',\n      'pattern',\n      'placeholder',\n      'playsinline',\n      'poster',\n      'preload',\n      'pubdate',\n      'radiogroup',\n      'readonly',\n      'rel',\n      'required',\n      'rev',\n      'reversed',\n      'role',\n      'rows',\n      'rowspan',\n      'spellcheck',\n      'scope',\n      'selected',\n      'shape',\n      'size',\n      'sizes',\n      'span',\n      'srclang',\n      'start',\n      'src',\n      'srcset',\n      'step',\n      'style',\n      'summary',\n      'tabindex',\n      'title',\n      'translate',\n      'type',\n      'usemap',\n      'valign',\n      'value',\n      'width',\n      'xmlns',\n      'slot'\n    ]);\n    var svg = freeze([\n      'accent-height',\n      'accumulate',\n      'additive',\n      'alignment-baseline',\n      'ascent',\n      'attributename',\n      'attributetype',\n      'azimuth',\n      'basefrequency',\n      'baseline-shift',\n      'begin',\n      'bias',\n      'by',\n      'class',\n      'clip',\n      'clippathunits',\n      'clip-path',\n      'clip-rule',\n      'color',\n      'color-interpolation',\n      'color-interpolation-filters',\n      'color-profile',\n      'color-rendering',\n      'cx',\n      'cy',\n      'd',\n      'dx',\n      'dy',\n      'diffuseconstant',\n      'direction',\n      'display',\n      'divisor',\n      'dur',\n      'edgemode',\n      'elevation',\n      'end',\n      'fill',\n      'fill-opacity',\n      'fill-rule',\n      'filter',\n      'filterunits',\n      'flood-color',\n      'flood-opacity',\n      'font-family',\n      'font-size',\n      'font-size-adjust',\n      'font-stretch',\n      'font-style',\n      'font-variant',\n      'font-weight',\n      'fx',\n      'fy',\n      'g1',\n      'g2',\n      'glyph-name',\n      'glyphref',\n      'gradientunits',\n      'gradienttransform',\n      'height',\n      'href',\n      'id',\n      'image-rendering',\n      'in',\n      'in2',\n      'k',\n      'k1',\n      'k2',\n      'k3',\n      'k4',\n      'kerning',\n      'keypoints',\n      'keysplines',\n      'keytimes',\n      'lang',\n      'lengthadjust',\n      'letter-spacing',\n      'kernelmatrix',\n      'kernelunitlength',\n      'lighting-color',\n      'local',\n      'marker-end',\n      'marker-mid',\n      'marker-start',\n      'markerheight',\n      'markerunits',\n      'markerwidth',\n      'maskcontentunits',\n      'maskunits',\n      'max',\n      'mask',\n      'media',\n      'method',\n      'mode',\n      'min',\n      'name',\n      'numoctaves',\n      'offset',\n      'operator',\n      'opacity',\n      'order',\n      'orient',\n      'orientation',\n      'origin',\n      'overflow',\n      'paint-order',\n      'path',\n      'pathlength',\n      'patterncontentunits',\n      'patterntransform',\n      'patternunits',\n      'points',\n      'preservealpha',\n      'preserveaspectratio',\n      'primitiveunits',\n      'r',\n      'rx',\n      'ry',\n      'radius',\n      'refx',\n      'refy',\n      'repeatcount',\n      'repeatdur',\n      'restart',\n      'result',\n      'rotate',\n      'scale',\n      'seed',\n      'shape-rendering',\n      'specularconstant',\n      'specularexponent',\n      'spreadmethod',\n      'startoffset',\n      'stddeviation',\n      'stitchtiles',\n      'stop-color',\n      'stop-opacity',\n      'stroke-dasharray',\n      'stroke-dashoffset',\n      'stroke-linecap',\n      'stroke-linejoin',\n      'stroke-miterlimit',\n      'stroke-opacity',\n      'stroke',\n      'stroke-width',\n      'style',\n      'surfacescale',\n      'systemlanguage',\n      'tabindex',\n      'targetx',\n      'targety',\n      'transform',\n      'transform-origin',\n      'text-anchor',\n      'text-decoration',\n      'text-rendering',\n      'textlength',\n      'type',\n      'u1',\n      'u2',\n      'unicode',\n      'values',\n      'viewbox',\n      'visibility',\n      'version',\n      'vert-adv-y',\n      'vert-origin-x',\n      'vert-origin-y',\n      'width',\n      'word-spacing',\n      'wrap',\n      'writing-mode',\n      'xchannelselector',\n      'ychannelselector',\n      'x',\n      'x1',\n      'x2',\n      'xmlns',\n      'y',\n      'y1',\n      'y2',\n      'z',\n      'zoomandpan'\n    ]);\n    var mathMl = freeze([\n      'accent',\n      'accentunder',\n      'align',\n      'bevelled',\n      'close',\n      'columnsalign',\n      'columnlines',\n      'columnspan',\n      'denomalign',\n      'depth',\n      'dir',\n      'display',\n      'displaystyle',\n      'encoding',\n      'fence',\n      'frame',\n      'height',\n      'href',\n      'id',\n      'largeop',\n      'length',\n      'linethickness',\n      'lspace',\n      'lquote',\n      'mathbackground',\n      'mathcolor',\n      'mathsize',\n      'mathvariant',\n      'maxsize',\n      'minsize',\n      'movablelimits',\n      'notation',\n      'numalign',\n      'open',\n      'rowalign',\n      'rowlines',\n      'rowspacing',\n      'rowspan',\n      'rspace',\n      'rquote',\n      'scriptlevel',\n      'scriptminsize',\n      'scriptsizemultiplier',\n      'selection',\n      'separator',\n      'separators',\n      'stretchy',\n      'subscriptshift',\n      'supscriptshift',\n      'symmetric',\n      'voffset',\n      'width',\n      'xmlns'\n    ]);\n    var xml = freeze([\n      'xlink:href',\n      'xml:id',\n      'xlink:title',\n      'xml:space',\n      'xmlns:xlink'\n    ]);\n    var MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm);\n    var ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n    var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/);\n    var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/);\n    var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i);\n    var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n    var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g);\n    var DOCTYPE_NAME = seal(/^html$/i);\n    var getGlobal = function getGlobal() {\n      return typeof window === 'undefined' ? null : window;\n    };\n    var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n      if (_typeof(trustedTypes) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n        return null;\n      }\n      var suffix = null;\n      var ATTR_NAME = 'data-tt-policy-suffix';\n      if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n        suffix = document.currentScript.getAttribute(ATTR_NAME);\n      }\n      var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n      try {\n        return trustedTypes.createPolicy(policyName, {\n          createHTML: function createHTML(html) {\n            return html;\n          }\n        });\n      } catch (_) {\n        console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n        return null;\n      }\n    };\n    function createDOMPurify() {\n      var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n      var DOMPurify = function DOMPurify(root) {\n        return createDOMPurify(root);\n      };\n      DOMPurify.version = '2.3.8';\n      DOMPurify.removed = [];\n      if (!window || !window.document || window.document.nodeType !== 9) {\n        DOMPurify.isSupported = false;\n        return DOMPurify;\n      }\n      var originalDocument = window.document;\n      var document = window.document;\n      var DocumentFragment = window.DocumentFragment, HTMLTemplateElement = window.HTMLTemplateElement, Node = window.Node, Element = window.Element, NodeFilter = window.NodeFilter, _window$NamedNodeMap = window.NamedNodeMap, NamedNodeMap = _window$NamedNodeMap === void 0 ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap, HTMLFormElement = window.HTMLFormElement, DOMParser = window.DOMParser, trustedTypes = window.trustedTypes;\n      var ElementPrototype = Element.prototype;\n      var cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n      var getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n      var getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n      var getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n      if (typeof HTMLTemplateElement === 'function') {\n        var template = document.createElement('template');\n        if (template.content && template.content.ownerDocument) {\n          document = template.content.ownerDocument;\n        }\n      }\n      var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n      var emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n      var _document = document, implementation = _document.implementation, createNodeIterator = _document.createNodeIterator, createDocumentFragment = _document.createDocumentFragment, getElementsByTagName = _document.getElementsByTagName;\n      var importNode = originalDocument.importNode;\n      var documentMode = {};\n      try {\n        documentMode = clone(document).documentMode ? document.documentMode : {};\n      } catch (_) {\n      }\n      var hooks = {};\n      DOMPurify.isSupported = typeof getParentNode === 'function' && implementation && typeof implementation.createHTMLDocument !== 'undefined' && documentMode !== 9;\n      var MUSTACHE_EXPR$1 = MUSTACHE_EXPR, ERB_EXPR$1 = ERB_EXPR, DATA_ATTR$1 = DATA_ATTR, ARIA_ATTR$1 = ARIA_ATTR, IS_SCRIPT_OR_DATA$1 = IS_SCRIPT_OR_DATA, ATTR_WHITESPACE$1 = ATTR_WHITESPACE;\n      var IS_ALLOWED_URI$1 = IS_ALLOWED_URI;\n      var ALLOWED_TAGS = null;\n      var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(svgFilters), _toConsumableArray(mathMl$1), _toConsumableArray(text)));\n      var ALLOWED_ATTR = null;\n      var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html), _toConsumableArray(svg), _toConsumableArray(mathMl), _toConsumableArray(xml)));\n      var CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n        tagNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        attributeNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        allowCustomizedBuiltInElements: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: false\n        }\n      }));\n      var FORBID_TAGS = null;\n      var FORBID_ATTR = null;\n      var ALLOW_ARIA_ATTR = true;\n      var ALLOW_DATA_ATTR = true;\n      var ALLOW_UNKNOWN_PROTOCOLS = false;\n      var SAFE_FOR_TEMPLATES = false;\n      var WHOLE_DOCUMENT = false;\n      var SET_CONFIG = false;\n      var FORCE_BODY = false;\n      var RETURN_DOM = false;\n      var RETURN_DOM_FRAGMENT = false;\n      var RETURN_TRUSTED_TYPE = false;\n      var SANITIZE_DOM = true;\n      var KEEP_CONTENT = true;\n      var IN_PLACE = false;\n      var USE_PROFILES = {};\n      var FORBID_CONTENTS = null;\n      var DEFAULT_FORBID_CONTENTS = addToSet({}, [\n        'annotation-xml',\n        'audio',\n        'colgroup',\n        'desc',\n        'foreignobject',\n        'head',\n        'iframe',\n        'math',\n        'mi',\n        'mn',\n        'mo',\n        'ms',\n        'mtext',\n        'noembed',\n        'noframes',\n        'noscript',\n        'plaintext',\n        'script',\n        'style',\n        'svg',\n        'template',\n        'thead',\n        'title',\n        'video',\n        'xmp'\n      ]);\n      var DATA_URI_TAGS = null;\n      var DEFAULT_DATA_URI_TAGS = addToSet({}, [\n        'audio',\n        'video',\n        'img',\n        'source',\n        'image',\n        'track'\n      ]);\n      var URI_SAFE_ATTRIBUTES = null;\n      var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n        'alt',\n        'class',\n        'for',\n        'id',\n        'label',\n        'name',\n        'pattern',\n        'placeholder',\n        'role',\n        'summary',\n        'title',\n        'value',\n        'style',\n        'xmlns'\n      ]);\n      var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n      var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n      var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n      var NAMESPACE = HTML_NAMESPACE;\n      var IS_EMPTY_INPUT = false;\n      var PARSER_MEDIA_TYPE;\n      var SUPPORTED_PARSER_MEDIA_TYPES = [\n        'application/xhtml+xml',\n        'text/html'\n      ];\n      var DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n      var transformCaseFunc;\n      var CONFIG = null;\n      var formElement = document.createElement('form');\n      var isRegexOrFunction = function isRegexOrFunction(testValue) {\n        return testValue instanceof RegExp || testValue instanceof Function;\n      };\n      var _parseConfig = function _parseConfig(cfg) {\n        if (CONFIG && CONFIG === cfg) {\n          return;\n        }\n        if (!cfg || _typeof(cfg) !== 'object') {\n          cfg = {};\n        }\n        cfg = clone(cfg);\n        ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n        ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n        URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR) : DEFAULT_URI_SAFE_ATTRIBUTES;\n        DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS) : DEFAULT_DATA_URI_TAGS;\n        FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS) : DEFAULT_FORBID_CONTENTS;\n        FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS) : {};\n        FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR) : {};\n        USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n        ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false;\n        ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false;\n        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false;\n        SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false;\n        WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false;\n        RETURN_DOM = cfg.RETURN_DOM || false;\n        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false;\n        RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false;\n        FORCE_BODY = cfg.FORCE_BODY || false;\n        SANITIZE_DOM = cfg.SANITIZE_DOM !== false;\n        KEEP_CONTENT = cfg.KEEP_CONTENT !== false;\n        IN_PLACE = cfg.IN_PLACE || false;\n        IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$1;\n        NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n        }\n        PARSER_MEDIA_TYPE = SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE;\n        transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? function (x) {\n          return x;\n        } : stringToLowerCase;\n        if (SAFE_FOR_TEMPLATES) {\n          ALLOW_DATA_ATTR = false;\n        }\n        if (RETURN_DOM_FRAGMENT) {\n          RETURN_DOM = true;\n        }\n        if (USE_PROFILES) {\n          ALLOWED_TAGS = addToSet({}, _toConsumableArray(text));\n          ALLOWED_ATTR = [];\n          if (USE_PROFILES.html === true) {\n            addToSet(ALLOWED_TAGS, html$1);\n            addToSet(ALLOWED_ATTR, html);\n          }\n          if (USE_PROFILES.svg === true) {\n            addToSet(ALLOWED_TAGS, svg$1);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.svgFilters === true) {\n            addToSet(ALLOWED_TAGS, svgFilters);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.mathMl === true) {\n            addToSet(ALLOWED_TAGS, mathMl$1);\n            addToSet(ALLOWED_ATTR, mathMl);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n        }\n        if (cfg.ADD_TAGS) {\n          if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n            ALLOWED_TAGS = clone(ALLOWED_TAGS);\n          }\n          addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n        }\n        if (cfg.ADD_ATTR) {\n          if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n            ALLOWED_ATTR = clone(ALLOWED_ATTR);\n          }\n          addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n        }\n        if (cfg.ADD_URI_SAFE_ATTR) {\n          addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n        }\n        if (cfg.FORBID_CONTENTS) {\n          if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n            FORBID_CONTENTS = clone(FORBID_CONTENTS);\n          }\n          addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS);\n        }\n        if (KEEP_CONTENT) {\n          ALLOWED_TAGS['#text'] = true;\n        }\n        if (WHOLE_DOCUMENT) {\n          addToSet(ALLOWED_TAGS, [\n            'html',\n            'head',\n            'body'\n          ]);\n        }\n        if (ALLOWED_TAGS.table) {\n          addToSet(ALLOWED_TAGS, ['tbody']);\n          delete FORBID_TAGS.tbody;\n        }\n        if (freeze) {\n          freeze(cfg);\n        }\n        CONFIG = cfg;\n      };\n      var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n        'mi',\n        'mo',\n        'mn',\n        'ms',\n        'mtext'\n      ]);\n      var HTML_INTEGRATION_POINTS = addToSet({}, [\n        'foreignobject',\n        'desc',\n        'title',\n        'annotation-xml'\n      ]);\n      var COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n        'title',\n        'style',\n        'font',\n        'a',\n        'script'\n      ]);\n      var ALL_SVG_TAGS = addToSet({}, svg$1);\n      addToSet(ALL_SVG_TAGS, svgFilters);\n      addToSet(ALL_SVG_TAGS, svgDisallowed);\n      var ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n      addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n      var _checkValidNamespace = function _checkValidNamespace(element) {\n        var parent = getParentNode(element);\n        if (!parent || !parent.tagName) {\n          parent = {\n            namespaceURI: HTML_NAMESPACE,\n            tagName: 'template'\n          };\n        }\n        var tagName = stringToLowerCase(element.tagName);\n        var parentTagName = stringToLowerCase(parent.tagName);\n        if (element.namespaceURI === SVG_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'svg';\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE) {\n            return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n          }\n          return Boolean(ALL_SVG_TAGS[tagName]);\n        }\n        if (element.namespaceURI === MATHML_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'math';\n          }\n          if (parent.namespaceURI === SVG_NAMESPACE) {\n            return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n          }\n          return Boolean(ALL_MATHML_TAGS[tagName]);\n        }\n        if (element.namespaceURI === HTML_NAMESPACE) {\n          if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n        }\n        return false;\n      };\n      var _forceRemove = function _forceRemove(node) {\n        arrayPush(DOMPurify.removed, { element: node });\n        try {\n          node.parentNode.removeChild(node);\n        } catch (_) {\n          try {\n            node.outerHTML = emptyHTML;\n          } catch (_) {\n            node.remove();\n          }\n        }\n      };\n      var _removeAttribute = function _removeAttribute(name, node) {\n        try {\n          arrayPush(DOMPurify.removed, {\n            attribute: node.getAttributeNode(name),\n            from: node\n          });\n        } catch (_) {\n          arrayPush(DOMPurify.removed, {\n            attribute: null,\n            from: node\n          });\n        }\n        node.removeAttribute(name);\n        if (name === 'is' && !ALLOWED_ATTR[name]) {\n          if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n            try {\n              _forceRemove(node);\n            } catch (_) {\n            }\n          } else {\n            try {\n              node.setAttribute(name, '');\n            } catch (_) {\n            }\n          }\n        }\n      };\n      var _initDocument = function _initDocument(dirty) {\n        var doc;\n        var leadingWhitespace;\n        if (FORCE_BODY) {\n          dirty = '<remove></remove>' + dirty;\n        } else {\n          var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n          leadingWhitespace = matches && matches[0];\n        }\n        if (PARSER_MEDIA_TYPE === 'application/xhtml+xml') {\n          dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n        }\n        var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        if (NAMESPACE === HTML_NAMESPACE) {\n          try {\n            doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n          } catch (_) {\n          }\n        }\n        if (!doc || !doc.documentElement) {\n          doc = implementation.createDocument(NAMESPACE, 'template', null);\n          try {\n            doc.documentElement.innerHTML = IS_EMPTY_INPUT ? '' : dirtyPayload;\n          } catch (_) {\n          }\n        }\n        var body = doc.body || doc.documentElement;\n        if (dirty && leadingWhitespace) {\n          body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n        }\n        if (NAMESPACE === HTML_NAMESPACE) {\n          return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n        }\n        return WHOLE_DOCUMENT ? doc.documentElement : body;\n      };\n      var _createIterator = function _createIterator(root) {\n        return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n      };\n      var _isClobbered = function _isClobbered(elm) {\n        return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function');\n      };\n      var _isNode = function _isNode(object) {\n        return _typeof(Node) === 'object' ? object instanceof Node : object && _typeof(object) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n      };\n      var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n        if (!hooks[entryPoint]) {\n          return;\n        }\n        arrayForEach(hooks[entryPoint], function (hook) {\n          hook.call(DOMPurify, currentNode, data, CONFIG);\n        });\n      };\n      var _sanitizeElements = function _sanitizeElements(currentNode) {\n        var content;\n        _executeHook('beforeSanitizeElements', currentNode, null);\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (regExpTest(/[\\u0080-\\uFFFF]/, currentNode.nodeName)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        var tagName = transformCaseFunc(currentNode.nodeName);\n        _executeHook('uponSanitizeElement', currentNode, {\n          tagName: tagName,\n          allowedTags: ALLOWED_TAGS\n        });\n        if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (tagName === 'select' && regExpTest(/<template/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName))\n              return false;\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName))\n              return false;\n          }\n          if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n            var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n            var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n            if (childNodes && parentNode) {\n              var childCount = childNodes.length;\n              for (var i = childCount - 1; i >= 0; --i) {\n                parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n              }\n            }\n          }\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if ((tagName === 'noscript' || tagName === 'noembed') && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n          content = currentNode.textContent;\n          content = stringReplace(content, MUSTACHE_EXPR$1, ' ');\n          content = stringReplace(content, ERB_EXPR$1, ' ');\n          if (currentNode.textContent !== content) {\n            arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n            currentNode.textContent = content;\n          }\n        }\n        _executeHook('afterSanitizeElements', currentNode, null);\n        return false;\n      };\n      var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n        if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n          return false;\n        }\n        if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$1, lcName));\n        else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$1, lcName));\n        else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n          if (_basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value)));\n          else {\n            return false;\n          }\n        } else if (URI_SAFE_ATTRIBUTES[lcName]);\n        else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE$1, '')));\n        else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]);\n        else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$1, stringReplace(value, ATTR_WHITESPACE$1, '')));\n        else if (!value);\n        else {\n          return false;\n        }\n        return true;\n      };\n      var _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n        return tagName.indexOf('-') > 0;\n      };\n      var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n        var attr;\n        var value;\n        var lcName;\n        var l;\n        _executeHook('beforeSanitizeAttributes', currentNode, null);\n        var attributes = currentNode.attributes;\n        if (!attributes) {\n          return;\n        }\n        var hookEvent = {\n          attrName: '',\n          attrValue: '',\n          keepAttr: true,\n          allowedAttributes: ALLOWED_ATTR\n        };\n        l = attributes.length;\n        while (l--) {\n          attr = attributes[l];\n          var _attr = attr, name = _attr.name, namespaceURI = _attr.namespaceURI;\n          value = name === 'value' ? attr.value : stringTrim(attr.value);\n          lcName = transformCaseFunc(name);\n          var initValue = value;\n          hookEvent.attrName = lcName;\n          hookEvent.attrValue = value;\n          hookEvent.keepAttr = true;\n          hookEvent.forceKeepAttr = undefined;\n          _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n          value = hookEvent.attrValue;\n          if (hookEvent.forceKeepAttr) {\n            continue;\n          }\n          if (!hookEvent.keepAttr) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (regExpTest(/\\/>/i, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (SAFE_FOR_TEMPLATES) {\n            value = stringReplace(value, MUSTACHE_EXPR$1, ' ');\n            value = stringReplace(value, ERB_EXPR$1, ' ');\n          }\n          var lcTag = transformCaseFunc(currentNode.nodeName);\n          if (!_isValidAttribute(lcTag, lcName, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (value !== initValue) {\n            try {\n              if (namespaceURI) {\n                currentNode.setAttributeNS(namespaceURI, name, value);\n              } else {\n                currentNode.setAttribute(name, value);\n              }\n            } catch (_) {\n              _removeAttribute(name, currentNode);\n            }\n          }\n        }\n        _executeHook('afterSanitizeAttributes', currentNode, null);\n      };\n      var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n        var shadowNode;\n        var shadowIterator = _createIterator(fragment);\n        _executeHook('beforeSanitizeShadowDOM', fragment, null);\n        while (shadowNode = shadowIterator.nextNode()) {\n          _executeHook('uponSanitizeShadowNode', shadowNode, null);\n          if (_sanitizeElements(shadowNode)) {\n            continue;\n          }\n          if (shadowNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(shadowNode.content);\n          }\n          _sanitizeAttributes(shadowNode);\n        }\n        _executeHook('afterSanitizeShadowDOM', fragment, null);\n      };\n      DOMPurify.sanitize = function (dirty, cfg) {\n        var body;\n        var importedNode;\n        var currentNode;\n        var oldNode;\n        var returnNode;\n        IS_EMPTY_INPUT = !dirty;\n        if (IS_EMPTY_INPUT) {\n          dirty = '<!-->';\n        }\n        if (typeof dirty !== 'string' && !_isNode(dirty)) {\n          if (typeof dirty.toString !== 'function') {\n            throw typeErrorCreate('toString is not a function');\n          } else {\n            dirty = dirty.toString();\n            if (typeof dirty !== 'string') {\n              throw typeErrorCreate('dirty is not a string, aborting');\n            }\n          }\n        }\n        if (!DOMPurify.isSupported) {\n          if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n            if (typeof dirty === 'string') {\n              return window.toStaticHTML(dirty);\n            }\n            if (_isNode(dirty)) {\n              return window.toStaticHTML(dirty.outerHTML);\n            }\n          }\n          return dirty;\n        }\n        if (!SET_CONFIG) {\n          _parseConfig(cfg);\n        }\n        DOMPurify.removed = [];\n        if (typeof dirty === 'string') {\n          IN_PLACE = false;\n        }\n        if (IN_PLACE) {\n          if (dirty.nodeName) {\n            var tagName = transformCaseFunc(dirty.nodeName);\n            if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n              throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n            }\n          }\n        } else if (dirty instanceof Node) {\n          body = _initDocument('<!---->');\n          importedNode = body.ownerDocument.importNode(dirty, true);\n          if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n            body = importedNode;\n          } else if (importedNode.nodeName === 'HTML') {\n            body = importedNode;\n          } else {\n            body.appendChild(importedNode);\n          }\n        } else {\n          if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && dirty.indexOf('<') === -1) {\n            return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n          }\n          body = _initDocument(dirty);\n          if (!body) {\n            return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n          }\n        }\n        if (body && FORCE_BODY) {\n          _forceRemove(body.firstChild);\n        }\n        var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n        while (currentNode = nodeIterator.nextNode()) {\n          if (currentNode.nodeType === 3 && currentNode === oldNode) {\n            continue;\n          }\n          if (_sanitizeElements(currentNode)) {\n            continue;\n          }\n          if (currentNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(currentNode.content);\n          }\n          _sanitizeAttributes(currentNode);\n          oldNode = currentNode;\n        }\n        oldNode = null;\n        if (IN_PLACE) {\n          return dirty;\n        }\n        if (RETURN_DOM) {\n          if (RETURN_DOM_FRAGMENT) {\n            returnNode = createDocumentFragment.call(body.ownerDocument);\n            while (body.firstChild) {\n              returnNode.appendChild(body.firstChild);\n            }\n          } else {\n            returnNode = body;\n          }\n          if (ALLOWED_ATTR.shadowroot) {\n            returnNode = importNode.call(originalDocument, returnNode, true);\n          }\n          return returnNode;\n        }\n        var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n        if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n          serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n        }\n        if (SAFE_FOR_TEMPLATES) {\n          serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$1, ' ');\n          serializedHTML = stringReplace(serializedHTML, ERB_EXPR$1, ' ');\n        }\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n      };\n      DOMPurify.setConfig = function (cfg) {\n        _parseConfig(cfg);\n        SET_CONFIG = true;\n      };\n      DOMPurify.clearConfig = function () {\n        CONFIG = null;\n        SET_CONFIG = false;\n      };\n      DOMPurify.isValidAttribute = function (tag, attr, value) {\n        if (!CONFIG) {\n          _parseConfig({});\n        }\n        var lcTag = transformCaseFunc(tag);\n        var lcName = transformCaseFunc(attr);\n        return _isValidAttribute(lcTag, lcName, value);\n      };\n      DOMPurify.addHook = function (entryPoint, hookFunction) {\n        if (typeof hookFunction !== 'function') {\n          return;\n        }\n        hooks[entryPoint] = hooks[entryPoint] || [];\n        arrayPush(hooks[entryPoint], hookFunction);\n      };\n      DOMPurify.removeHook = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          return arrayPop(hooks[entryPoint]);\n        }\n      };\n      DOMPurify.removeHooks = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          hooks[entryPoint] = [];\n        }\n      };\n      DOMPurify.removeAllHooks = function () {\n        hooks = {};\n      };\n      return DOMPurify;\n    }\n    var purify = createDOMPurify();\n\n    const sanitizeHtmlString = html => purify().sanitize(html);\n\n    const isTouch = global$5.deviceType.isTouch();\n    const hiddenHeader = (title, close) => ({\n      dom: {\n        tag: 'div',\n        styles: { display: 'none' },\n        classes: ['tox-dialog__header']\n      },\n      components: [\n        title,\n        close\n      ]\n    });\n    const pClose = (onClose, providersBackstage) => ModalDialog.parts.close(Button.sketch({\n      dom: {\n        tag: 'button',\n        classes: [\n          'tox-button',\n          'tox-button--icon',\n          'tox-button--naked'\n        ],\n        attributes: {\n          'type': 'button',\n          'aria-label': providersBackstage.translate('Close')\n        }\n      },\n      action: onClose,\n      buttonBehaviours: derive$1([Tabstopping.config({})])\n    }));\n    const pUntitled = () => ModalDialog.parts.title({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__title'],\n        innerHtml: '',\n        styles: { display: 'none' }\n      }\n    });\n    const pBodyMessage = (message, providersBackstage) => ModalDialog.parts.body({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__body']\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-content']\n          },\n          components: [{ dom: fromHtml(`<p>${ sanitizeHtmlString(providersBackstage.translate(message)) }</p>`) }]\n        }]\n    });\n    const pFooter = buttons => ModalDialog.parts.footer({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__footer']\n      },\n      components: buttons\n    });\n    const pFooterGroup = (startButtons, endButtons) => [\n      Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer-start']\n        },\n        components: startButtons\n      }),\n      Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer-end']\n        },\n        components: endButtons\n      })\n    ];\n    const renderDialog$1 = spec => {\n      const dialogClass = 'tox-dialog';\n      const blockerClass = dialogClass + '-wrap';\n      const blockerBackdropClass = blockerClass + '__backdrop';\n      const scrollLockClass = dialogClass + '__disable-scroll';\n      return ModalDialog.sketch({\n        lazySink: spec.lazySink,\n        onEscape: comp => {\n          spec.onEscape(comp);\n          return Optional.some(true);\n        },\n        useTabstopAt: elem => !isPseudoStop(elem),\n        firstTabstop: spec.firstTabstop,\n        dom: {\n          tag: 'div',\n          classes: [dialogClass].concat(spec.extraClasses),\n          styles: {\n            position: 'relative',\n            ...spec.extraStyles\n          }\n        },\n        components: [\n          spec.header,\n          spec.body,\n          ...spec.footer.toArray()\n        ],\n        parts: {\n          blocker: {\n            dom: fromHtml(`<div class=\"${ blockerClass }\"></div>`),\n            components: [{\n                dom: {\n                  tag: 'div',\n                  classes: isTouch ? [\n                    blockerBackdropClass,\n                    blockerBackdropClass + '--opaque'\n                  ] : [blockerBackdropClass]\n                }\n              }]\n          }\n        },\n        dragBlockClass: blockerClass,\n        modalBehaviours: derive$1([\n          Focusing.config({}),\n          config('dialog-events', spec.dialogEvents.concat([runOnSource(focusin(), (comp, _se) => {\n              Keying.focusIn(comp);\n            })])),\n          config('scroll-lock', [\n            runOnAttached(() => {\n              add$2(body(), scrollLockClass);\n            }),\n            runOnDetached(() => {\n              remove$2(body(), scrollLockClass);\n            })\n          ]),\n          ...spec.extraBehaviours\n        ]),\n        eventOrder: {\n          [execute$5()]: ['dialog-events'],\n          [attachedToDom()]: [\n            'scroll-lock',\n            'dialog-events',\n            'alloy.base.behaviour'\n          ],\n          [detachedFromDom()]: [\n            'alloy.base.behaviour',\n            'dialog-events',\n            'scroll-lock'\n          ],\n          ...spec.eventOrder\n        }\n      });\n    };\n\n    const renderClose = providersBackstage => Button.sketch({\n      dom: {\n        tag: 'button',\n        classes: [\n          'tox-button',\n          'tox-button--icon',\n          'tox-button--naked'\n        ],\n        attributes: {\n          'type': 'button',\n          'aria-label': providersBackstage.translate('Close'),\n          'title': providersBackstage.translate('Close')\n        }\n      },\n      buttonBehaviours: derive$1([Tabstopping.config({})]),\n      components: [render$3('close', {\n          tag: 'div',\n          classes: ['tox-icon']\n        }, providersBackstage.icons)],\n      action: comp => {\n        emit(comp, formCancelEvent);\n      }\n    });\n    const renderTitle = (spec, dialogId, titleId, providersBackstage) => {\n      const renderComponents = data => [text$2(providersBackstage.translate(data.title))];\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__title'],\n          attributes: { ...titleId.map(x => ({ id: x })).getOr({}) }\n        },\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: `${ titleChannel }-${ dialogId }`,\n            initialData: spec,\n            renderComponents\n          })])\n      };\n    };\n    const renderDragHandle = () => ({ dom: fromHtml('<div class=\"tox-dialog__draghandle\"></div>') });\n    const renderInlineHeader = (spec, dialogId, titleId, providersBackstage) => Container.sketch({\n      dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n      components: [\n        renderTitle(spec, dialogId, Optional.some(titleId), providersBackstage),\n        renderDragHandle(),\n        renderClose(providersBackstage)\n      ],\n      containerBehaviours: derive$1([Dragging.config({\n          mode: 'mouse',\n          blockerClass: 'blocker',\n          getTarget: handle => {\n            return closest$1(handle, '[role=\"dialog\"]').getOrDie();\n          },\n          snaps: {\n            getSnapPoints: () => [],\n            leftAttr: 'data-drag-left',\n            topAttr: 'data-drag-top'\n          }\n        })])\n    });\n    const renderModalHeader = (spec, dialogId, providersBackstage) => {\n      const pTitle = ModalDialog.parts.title(renderTitle(spec, dialogId, Optional.none(), providersBackstage));\n      const pHandle = ModalDialog.parts.draghandle(renderDragHandle());\n      const pClose = ModalDialog.parts.close(renderClose(providersBackstage));\n      const components = [pTitle].concat(spec.draggable ? [pHandle] : []).concat([pClose]);\n      return Container.sketch({\n        dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n        components\n      });\n    };\n\n    const getHeader = (title, dialogId, backstage) => renderModalHeader({\n      title: backstage.shared.providers.translate(title),\n      draggable: backstage.dialog.isDraggableModal()\n    }, dialogId, backstage.shared.providers);\n    const getBusySpec = (message, bs, providers) => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__busy-spinner'],\n        attributes: { 'aria-label': providers.translate(message) },\n        styles: {\n          left: '0px',\n          right: '0px',\n          bottom: '0px',\n          top: '0px',\n          position: 'absolute'\n        }\n      },\n      behaviours: bs,\n      components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n    });\n    const getEventExtras = (lazyDialog, providers, extra) => ({\n      onClose: () => extra.closeWindow(),\n      onBlock: blockEvent => {\n        ModalDialog.setBusy(lazyDialog(), (_comp, bs) => getBusySpec(blockEvent.message, bs, providers));\n      },\n      onUnblock: () => {\n        ModalDialog.setIdle(lazyDialog());\n      }\n    });\n    const renderModalDialog = (spec, initialData, dialogEvents, backstage) => {\n      const updateState = (_comp, incoming) => Optional.some(incoming);\n      return build$1(renderDialog$1({\n        ...spec,\n        firstTabstop: 1,\n        lazySink: backstage.shared.getSink,\n        extraBehaviours: [\n          Reflecting.config({\n            channel: `${ dialogChannel }-${ spec.id }`,\n            updateState,\n            initialData\n          }),\n          RepresentingConfigs.memory({}),\n          ...spec.extraBehaviours\n        ],\n        onEscape: comp => {\n          emit(comp, formCancelEvent);\n        },\n        dialogEvents,\n        eventOrder: {\n          [receive()]: [\n            Reflecting.name(),\n            Receiving.name()\n          ],\n          [attachedToDom()]: [\n            'scroll-lock',\n            Reflecting.name(),\n            'messages',\n            'dialog-events',\n            'alloy.base.behaviour'\n          ],\n          [detachedFromDom()]: [\n            'alloy.base.behaviour',\n            'dialog-events',\n            'messages',\n            Reflecting.name(),\n            'scroll-lock'\n          ]\n        }\n      }));\n    };\n    const mapMenuButtons = (buttons, menuItemStates = {}) => {\n      const mapItems = button => {\n        const items = map$2(button.items, item => {\n          const cell = get$g(menuItemStates, item.name).getOr(Cell(false));\n          return {\n            ...item,\n            storage: cell\n          };\n        });\n        return {\n          ...button,\n          items\n        };\n      };\n      return map$2(buttons, button => {\n        return button.type === 'menu' ? mapItems(button) : button;\n      });\n    };\n    const extractCellsToObject = buttons => foldl(buttons, (acc, button) => {\n      if (button.type === 'menu') {\n        const menuButton = button;\n        return foldl(menuButton.items, (innerAcc, item) => {\n          innerAcc[item.name] = item.storage;\n          return innerAcc;\n        }, acc);\n      }\n      return acc;\n    }, {});\n\n    const initCommonEvents = (fireApiEvent, extras) => [\n      runWithTarget(focusin(), onFocus),\n      fireApiEvent(formCloseEvent, (_api, spec, _event, self) => {\n        active$1(getRootNode(self.element)).fold(noop, blur$1);\n        extras.onClose();\n        spec.onClose();\n      }),\n      fireApiEvent(formCancelEvent, (api, spec, _event, self) => {\n        spec.onCancel(api);\n        emit(self, formCloseEvent);\n      }),\n      run$1(formUnblockEvent, (_c, _se) => extras.onUnblock()),\n      run$1(formBlockEvent, (_c, se) => extras.onBlock(se.event))\n    ];\n    const initUrlDialog = (getInstanceApi, extras) => {\n      const fireApiEvent = (eventName, f) => run$1(eventName, (c, se) => {\n        withSpec(c, (spec, _c) => {\n          f(getInstanceApi(), spec, se.event, c);\n        });\n      });\n      const withSpec = (c, f) => {\n        Reflecting.getState(c).get().each(currentDialog => {\n          f(currentDialog, c);\n        });\n      };\n      return [\n        ...initCommonEvents(fireApiEvent, extras),\n        fireApiEvent(formActionEvent, (api, spec, event) => {\n          spec.onAction(api, { name: event.name });\n        })\n      ];\n    };\n    const initDialog = (getInstanceApi, extras, getSink) => {\n      const fireApiEvent = (eventName, f) => run$1(eventName, (c, se) => {\n        withSpec(c, (spec, _c) => {\n          f(getInstanceApi(), spec, se.event, c);\n        });\n      });\n      const withSpec = (c, f) => {\n        Reflecting.getState(c).get().each(currentDialogInit => {\n          f(currentDialogInit.internalDialog, c);\n        });\n      };\n      return [\n        ...initCommonEvents(fireApiEvent, extras),\n        fireApiEvent(formSubmitEvent, (api, spec) => spec.onSubmit(api)),\n        fireApiEvent(formChangeEvent, (api, spec, event) => {\n          spec.onChange(api, { name: event.name });\n        }),\n        fireApiEvent(formActionEvent, (api, spec, event, component) => {\n          const focusIn = () => Keying.focusIn(component);\n          const isDisabled = focused => has$1(focused, 'disabled') || getOpt(focused, 'aria-disabled').exists(val => val === 'true');\n          const rootNode = getRootNode(component.element);\n          const current = active$1(rootNode);\n          spec.onAction(api, {\n            name: event.name,\n            value: event.value\n          });\n          active$1(rootNode).fold(focusIn, focused => {\n            if (isDisabled(focused)) {\n              focusIn();\n            } else if (current.exists(cur => contains(focused, cur) && isDisabled(cur))) {\n              focusIn();\n            } else {\n              getSink().toOptional().filter(sink => !contains(sink.element, focused)).each(focusIn);\n            }\n          });\n        }),\n        fireApiEvent(formTabChangeEvent, (api, spec, event) => {\n          spec.onTabChange(api, {\n            newTabName: event.name,\n            oldTabName: event.oldName\n          });\n        }),\n        runOnDetached(component => {\n          const api = getInstanceApi();\n          Representing.setValue(component, api.getData());\n        })\n      ];\n    };\n    const SilverDialogEvents = {\n      initUrlDialog,\n      initDialog\n    };\n\n    const makeButton = (button, backstage) => renderFooterButton(button, button.type, backstage);\n    const lookup = (compInSystem, footerButtons, buttonName) => find$5(footerButtons, button => button.name === buttonName).bind(memButton => memButton.memento.getOpt(compInSystem));\n    const renderComponents = (_data, state) => {\n      const footerButtons = state.map(s => s.footerButtons).getOr([]);\n      const buttonGroups = partition$3(footerButtons, button => button.align === 'start');\n      const makeGroup = (edge, buttons) => Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: [`tox-dialog__footer-${ edge }`]\n        },\n        components: map$2(buttons, button => button.memento.asSpec())\n      });\n      const startButtons = makeGroup('start', buttonGroups.pass);\n      const endButtons = makeGroup('end', buttonGroups.fail);\n      return [\n        startButtons,\n        endButtons\n      ];\n    };\n    const renderFooter = (initSpec, dialogId, backstage) => {\n      const updateState = (comp, data) => {\n        const footerButtons = map$2(data.buttons, button => {\n          const memButton = record(makeButton(button, backstage));\n          return {\n            name: button.name,\n            align: button.align,\n            memento: memButton\n          };\n        });\n        const lookupByName = buttonName => lookup(comp, footerButtons, buttonName);\n        return Optional.some({\n          lookupByName,\n          footerButtons\n        });\n      };\n      return {\n        dom: fromHtml('<div class=\"tox-dialog__footer\"></div>'),\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: `${ footerChannel }-${ dialogId }`,\n            initialData: initSpec,\n            updateState,\n            renderComponents\n          })])\n      };\n    };\n    const renderInlineFooter = (initSpec, dialogId, backstage) => renderFooter(initSpec, dialogId, backstage);\n    const renderModalFooter = (initSpec, dialogId, backstage) => ModalDialog.parts.footer(renderFooter(initSpec, dialogId, backstage));\n\n    const getCompByName = (access, name) => {\n      const root = access.getRoot();\n      if (root.getSystem().isConnected()) {\n        const form = Composing.getCurrent(access.getFormWrapper()).getOr(access.getFormWrapper());\n        return Form.getField(form, name).orThunk(() => {\n          const footer = access.getFooter();\n          const footerState = Reflecting.getState(footer).get();\n          return footerState.bind(f => f.lookupByName(name));\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const validateData$1 = (access, data) => {\n      const root = access.getRoot();\n      return Reflecting.getState(root).get().map(dialogState => getOrDie(asRaw('data', dialogState.dataValidator, data))).getOr(data);\n    };\n    const getDialogApi = (access, doRedial, menuItemStates) => {\n      const withRoot = f => {\n        const root = access.getRoot();\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      const getData = () => {\n        const root = access.getRoot();\n        const valueComp = root.getSystem().isConnected() ? access.getFormWrapper() : root;\n        const representedValues = Representing.getValue(valueComp);\n        const menuItemCurrentState = map$1(menuItemStates, cell => cell.get());\n        return {\n          ...representedValues,\n          ...menuItemCurrentState\n        };\n      };\n      const setData = newData => {\n        withRoot(_ => {\n          const prevData = instanceApi.getData();\n          const mergedData = deepMerge(prevData, newData);\n          const newInternalData = validateData$1(access, mergedData);\n          const form = access.getFormWrapper();\n          Representing.setValue(form, newInternalData);\n          each(menuItemStates, (v, k) => {\n            if (has$2(mergedData, k)) {\n              v.set(mergedData[k]);\n            }\n          });\n        });\n      };\n      const setEnabled = (name, state) => {\n        getCompByName(access, name).each(state ? Disabling.enable : Disabling.disable);\n      };\n      const focus = name => {\n        getCompByName(access, name).each(Focusing.focus);\n      };\n      const block = message => {\n        if (!isString(message)) {\n          throw new Error('The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(root => {\n          emitWith(root, formBlockEvent, { message });\n        });\n      };\n      const unblock = () => {\n        withRoot(root => {\n          emit(root, formUnblockEvent);\n        });\n      };\n      const showTab = name => {\n        withRoot(_ => {\n          const body = access.getBody();\n          const bodyState = Reflecting.getState(body);\n          if (bodyState.get().exists(b => b.isTabPanel())) {\n            Composing.getCurrent(body).each(tabSection => {\n              TabSection.showTab(tabSection, name);\n            });\n          }\n        });\n      };\n      const redial = d => {\n        withRoot(root => {\n          const id = access.getId();\n          const dialogInit = doRedial(d);\n          const storedMenuButtons = mapMenuButtons(dialogInit.internalDialog.buttons, menuItemStates);\n          root.getSystem().broadcastOn([`${ dialogChannel }-${ id }`], dialogInit);\n          root.getSystem().broadcastOn([`${ titleChannel }-${ id }`], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([`${ bodyChannel }-${ id }`], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([`${ footerChannel }-${ id }`], {\n            ...dialogInit.internalDialog,\n            buttons: storedMenuButtons\n          });\n          instanceApi.setData(dialogInit.initialData);\n        });\n      };\n      const close = () => {\n        withRoot(root => {\n          emit(root, formCloseEvent);\n        });\n      };\n      const instanceApi = {\n        getData,\n        setData,\n        setEnabled,\n        focus,\n        block,\n        unblock,\n        showTab,\n        redial,\n        close,\n        toggleFullscreen: access.toggleFullscreen\n      };\n      return instanceApi;\n    };\n\n    const getDialogSizeClasses = size => {\n      switch (size) {\n      case 'large':\n        return ['tox-dialog--width-lg'];\n      case 'medium':\n        return ['tox-dialog--width-md'];\n      default:\n        return [];\n      }\n    };\n    const renderDialog = (dialogInit, extra, backstage) => {\n      const dialogId = generate$6('dialog');\n      const internalDialog = dialogInit.internalDialog;\n      const header = getHeader(internalDialog.title, dialogId, backstage);\n      const body = renderModalBody({\n        body: internalDialog.body,\n        initialData: internalDialog.initialData\n      }, dialogId, backstage);\n      const storedMenuButtons = mapMenuButtons(internalDialog.buttons);\n      const objOfCells = extractCellsToObject(storedMenuButtons);\n      const footer = renderModalFooter({ buttons: storedMenuButtons }, dialogId, backstage);\n      const dialogEvents = SilverDialogEvents.initDialog(() => instanceApi, getEventExtras(() => dialog, backstage.shared.providers, extra), backstage.shared.getSink);\n      const dialogSize = getDialogSizeClasses(internalDialog.size);\n      const spec = {\n        id: dialogId,\n        header,\n        body,\n        footer: Optional.some(footer),\n        extraClasses: dialogSize,\n        extraBehaviours: [],\n        extraStyles: {}\n      };\n      const dialog = renderModalDialog(spec, dialogInit, dialogEvents, backstage);\n      const modalAccess = (() => {\n        const getForm = () => {\n          const outerForm = ModalDialog.getBody(dialog);\n          return Composing.getCurrent(outerForm).getOr(outerForm);\n        };\n        const toggleFullscreen = () => {\n          const fullscreenClass = 'tox-dialog--fullscreen';\n          const sugarBody = SugarElement.fromDom(dialog.element.dom);\n          if (!has(sugarBody, fullscreenClass)) {\n            remove$1(sugarBody, dialogSize);\n            add$2(sugarBody, fullscreenClass);\n          } else {\n            remove$2(sugarBody, fullscreenClass);\n            add$1(sugarBody, dialogSize);\n          }\n        };\n        return {\n          getId: constant$1(dialogId),\n          getRoot: constant$1(dialog),\n          getBody: () => ModalDialog.getBody(dialog),\n          getFooter: () => ModalDialog.getFooter(dialog),\n          getFormWrapper: getForm,\n          toggleFullscreen\n        };\n      })();\n      const instanceApi = getDialogApi(modalAccess, extra.redial, objOfCells);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    const renderInlineDialog = (dialogInit, extra, backstage, ariaAttrs) => {\n      const dialogId = generate$6('dialog');\n      const dialogLabelId = generate$6('dialog-label');\n      const dialogContentId = generate$6('dialog-content');\n      const internalDialog = dialogInit.internalDialog;\n      const updateState = (_comp, incoming) => Optional.some(incoming);\n      const memHeader = record(renderInlineHeader({\n        title: internalDialog.title,\n        draggable: true\n      }, dialogId, dialogLabelId, backstage.shared.providers));\n      const memBody = record(renderInlineBody({\n        body: internalDialog.body,\n        initialData: internalDialog.initialData\n      }, dialogId, dialogContentId, backstage, ariaAttrs));\n      const storagedMenuButtons = mapMenuButtons(internalDialog.buttons);\n      const objOfCells = extractCellsToObject(storagedMenuButtons);\n      const memFooter = record(renderInlineFooter({ buttons: storagedMenuButtons }, dialogId, backstage));\n      const dialogEvents = SilverDialogEvents.initDialog(() => instanceApi, {\n        onBlock: event => {\n          Blocking.block(dialog, (_comp, bs) => getBusySpec(event.message, bs, backstage.shared.providers));\n        },\n        onUnblock: () => {\n          Blocking.unblock(dialog);\n        },\n        onClose: () => extra.closeWindow()\n      }, backstage.shared.getSink);\n      const inlineClass = 'tox-dialog-inline';\n      const dialog = build$1({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-dialog',\n            inlineClass\n          ],\n          attributes: {\n            role: 'dialog',\n            ['aria-labelledby']: dialogLabelId,\n            ['aria-describedby']: dialogContentId\n          }\n        },\n        eventOrder: {\n          [receive()]: [\n            Reflecting.name(),\n            Receiving.name()\n          ],\n          [execute$5()]: ['execute-on-form'],\n          [attachedToDom()]: [\n            'reflecting',\n            'execute-on-form'\n          ]\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'cyclic',\n            onEscape: c => {\n              emit(c, formCloseEvent);\n              return Optional.some(true);\n            },\n            useTabstopAt: elem => !isPseudoStop(elem) && (name$3(elem) !== 'button' || get$f(elem, 'disabled') !== 'disabled'),\n            firstTabstop: 1\n          }),\n          Reflecting.config({\n            channel: `${ dialogChannel }-${ dialogId }`,\n            updateState,\n            initialData: dialogInit\n          }),\n          Focusing.config({}),\n          config('execute-on-form', dialogEvents.concat([runOnSource(focusin(), (comp, _se) => {\n              Keying.focusIn(comp);\n            })])),\n          Blocking.config({ getRoot: () => Optional.some(dialog) }),\n          Replacing.config({}),\n          RepresentingConfigs.memory({})\n        ]),\n        components: [\n          memHeader.asSpec(),\n          memBody.asSpec(),\n          memFooter.asSpec()\n        ]\n      });\n      const toggleFullscreen = () => {\n        const fullscreenClass = 'tox-dialog--fullscreen';\n        const sugarBody = SugarElement.fromDom(dialog.element.dom);\n        if (!hasAll(sugarBody, [fullscreenClass])) {\n          remove$1(sugarBody, [inlineClass]);\n          add$1(sugarBody, [fullscreenClass]);\n        } else {\n          remove$1(sugarBody, [fullscreenClass]);\n          add$1(sugarBody, [inlineClass]);\n        }\n      };\n      const instanceApi = getDialogApi({\n        getId: constant$1(dialogId),\n        getRoot: constant$1(dialog),\n        getFooter: () => memFooter.get(dialog),\n        getBody: () => memBody.get(dialog),\n        getFormWrapper: () => {\n          const body = memBody.get(dialog);\n          return Composing.getCurrent(body).getOr(body);\n        },\n        toggleFullscreen\n      }, extra.redial, objOfCells);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const getUrlDialogApi = root => {\n      const withRoot = f => {\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      const block = message => {\n        if (!isString(message)) {\n          throw new Error('The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(root => {\n          emitWith(root, formBlockEvent, { message });\n        });\n      };\n      const unblock = () => {\n        withRoot(root => {\n          emit(root, formUnblockEvent);\n        });\n      };\n      const close = () => {\n        withRoot(root => {\n          emit(root, formCloseEvent);\n        });\n      };\n      const sendMessage = data => {\n        withRoot(root => {\n          root.getSystem().broadcastOn([bodySendMessageChannel], data);\n        });\n      };\n      return {\n        block,\n        unblock,\n        close,\n        sendMessage\n      };\n    };\n\n    const SUPPORTED_MESSAGE_ACTIONS = [\n      'insertContent',\n      'setContent',\n      'execCommand',\n      'close',\n      'block',\n      'unblock'\n    ];\n    const isSupportedMessage = data => isObject(data) && SUPPORTED_MESSAGE_ACTIONS.indexOf(data.mceAction) !== -1;\n    const isCustomMessage = data => !isSupportedMessage(data) && isObject(data) && has$2(data, 'mceAction');\n    const handleMessage = (editor, api, data) => {\n      switch (data.mceAction) {\n      case 'insertContent':\n        editor.insertContent(data.content);\n        break;\n      case 'setContent':\n        editor.setContent(data.content);\n        break;\n      case 'execCommand':\n        const ui = isBoolean(data.ui) ? data.ui : false;\n        editor.execCommand(data.cmd, ui, data.value);\n        break;\n      case 'close':\n        api.close();\n        break;\n      case 'block':\n        api.block(data.message);\n        break;\n      case 'unblock':\n        api.unblock();\n        break;\n      }\n    };\n    const renderUrlDialog = (internalDialog, extra, editor, backstage) => {\n      const dialogId = generate$6('dialog');\n      const header = getHeader(internalDialog.title, dialogId, backstage);\n      const body = renderIframeBody(internalDialog);\n      const footer = internalDialog.buttons.bind(buttons => {\n        if (buttons.length === 0) {\n          return Optional.none();\n        } else {\n          return Optional.some(renderModalFooter({ buttons }, dialogId, backstage));\n        }\n      });\n      const dialogEvents = SilverDialogEvents.initUrlDialog(() => instanceApi, getEventExtras(() => dialog, backstage.shared.providers, extra));\n      const styles = {\n        ...internalDialog.height.fold(() => ({}), height => ({\n          'height': height + 'px',\n          'max-height': height + 'px'\n        })),\n        ...internalDialog.width.fold(() => ({}), width => ({\n          'width': width + 'px',\n          'max-width': width + 'px'\n        }))\n      };\n      const classes = internalDialog.width.isNone() && internalDialog.height.isNone() ? ['tox-dialog--width-lg'] : [];\n      const iframeUri = new global(internalDialog.url, { base_uri: new global(window.location.href) });\n      const iframeDomain = `${ iframeUri.protocol }://${ iframeUri.host }${ iframeUri.port ? ':' + iframeUri.port : '' }`;\n      const messageHandlerUnbinder = unbindable();\n      const extraBehaviours = [\n        config('messages', [\n          runOnAttached(() => {\n            const unbind = bind(SugarElement.fromDom(window), 'message', e => {\n              if (iframeUri.isSameOrigin(new global(e.raw.origin))) {\n                const data = e.raw.data;\n                if (isSupportedMessage(data)) {\n                  handleMessage(editor, instanceApi, data);\n                } else if (isCustomMessage(data)) {\n                  internalDialog.onMessage(instanceApi, data);\n                }\n              }\n            });\n            messageHandlerUnbinder.set(unbind);\n          }),\n          runOnDetached(messageHandlerUnbinder.clear)\n        ]),\n        Receiving.config({\n          channels: {\n            [bodySendMessageChannel]: {\n              onReceive: (comp, data) => {\n                descendant(comp.element, 'iframe').each(iframeEle => {\n                  const iframeWin = iframeEle.dom.contentWindow;\n                  if (isNonNullable(iframeWin)) {\n                    iframeWin.postMessage(data, iframeDomain);\n                  }\n                });\n              }\n            }\n          }\n        })\n      ];\n      const spec = {\n        id: dialogId,\n        header,\n        body,\n        footer,\n        extraClasses: classes,\n        extraBehaviours,\n        extraStyles: styles\n      };\n      const dialog = renderModalDialog(spec, internalDialog, dialogEvents, backstage);\n      const instanceApi = getUrlDialogApi(dialog);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    const setup$2 = backstage => {\n      const sharedBackstage = backstage.shared;\n      const open = (message, callback) => {\n        const closeDialog = () => {\n          ModalDialog.hide(alertDialog);\n          callback();\n        };\n        const memFooterClose = record(renderFooterButton({\n          name: 'close-alert',\n          text: 'OK',\n          primary: true,\n          buttonType: Optional.some('primary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'cancel', backstage));\n        const titleSpec = pUntitled();\n        const closeSpec = pClose(closeDialog, sharedBackstage.providers);\n        const alertDialog = build$1(renderDialog$1({\n          lazySink: () => sharedBackstage.getSink(),\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [memFooterClose.asSpec()]))),\n          onEscape: closeDialog,\n          extraClasses: ['tox-alert-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [run$1(formCancelEvent, closeDialog)],\n          eventOrder: {}\n        }));\n        ModalDialog.show(alertDialog);\n        const footerCloseButton = memFooterClose.get(alertDialog);\n        Focusing.focus(footerCloseButton);\n      };\n      return { open };\n    };\n\n    const setup$1 = backstage => {\n      const sharedBackstage = backstage.shared;\n      const open = (message, callback) => {\n        const closeDialog = state => {\n          ModalDialog.hide(confirmDialog);\n          callback(state);\n        };\n        const memFooterYes = record(renderFooterButton({\n          name: 'yes',\n          text: 'Yes',\n          primary: true,\n          buttonType: Optional.some('primary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'submit', backstage));\n        const footerNo = renderFooterButton({\n          name: 'no',\n          text: 'No',\n          primary: false,\n          buttonType: Optional.some('secondary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'cancel', backstage);\n        const titleSpec = pUntitled();\n        const closeSpec = pClose(() => closeDialog(false), sharedBackstage.providers);\n        const confirmDialog = build$1(renderDialog$1({\n          lazySink: () => sharedBackstage.getSink(),\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [\n            footerNo,\n            memFooterYes.asSpec()\n          ]))),\n          onEscape: () => closeDialog(false),\n          extraClasses: ['tox-confirm-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [\n            run$1(formCancelEvent, () => closeDialog(false)),\n            run$1(formSubmitEvent, () => closeDialog(true))\n          ],\n          eventOrder: {}\n        }));\n        ModalDialog.show(confirmDialog);\n        const footerYesButton = memFooterYes.get(confirmDialog);\n        Focusing.focus(footerYesButton);\n      };\n      return { open };\n    };\n\n    const validateData = (data, validator) => getOrDie(asRaw('data', validator, data));\n    const isAlertOrConfirmDialog = target => closest(target, '.tox-alert-dialog') || closest(target, '.tox-confirm-dialog');\n    const inlineAdditionalBehaviours = (editor, isStickyToolbar, isToolbarLocationTop) => {\n      if (isStickyToolbar && isToolbarLocationTop) {\n        return [];\n      } else {\n        return [Docking.config({\n            contextual: {\n              lazyContext: () => Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer()))),\n              fadeInClass: 'tox-dialog-dock-fadein',\n              fadeOutClass: 'tox-dialog-dock-fadeout',\n              transitionClass: 'tox-dialog-dock-transition'\n            },\n            modes: ['top'],\n            lazyViewport: comp => {\n              const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n              return optScrollingContext.map(sc => {\n                const combinedBounds = getBoundsFrom(sc);\n                return {\n                  bounds: combinedBounds,\n                  optScrollEnv: Optional.some({\n                    currentScrollTop: sc.element.dom.scrollTop,\n                    scrollElmTop: absolute$3(sc.element).top\n                  })\n                };\n              }).getOrThunk(() => ({\n                bounds: win(),\n                optScrollEnv: Optional.none()\n              }));\n            }\n          })];\n      }\n    };\n    const setup = extras => {\n      const editor = extras.editor;\n      const isStickyToolbar$1 = isStickyToolbar(editor);\n      const alertDialog = setup$2(extras.backstages.dialog);\n      const confirmDialog = setup$1(extras.backstages.dialog);\n      const open = (config, params, closeWindow) => {\n        if (params !== undefined && params.inline === 'toolbar') {\n          return openInlineDialog(config, extras.backstages.popup.shared.anchors.inlineDialog(), closeWindow, params.ariaAttrs);\n        } else if (params !== undefined && params.inline === 'cursor') {\n          return openInlineDialog(config, extras.backstages.popup.shared.anchors.cursor(), closeWindow, params.ariaAttrs);\n        } else {\n          return openModalDialog(config, closeWindow);\n        }\n      };\n      const openUrl = (config, closeWindow) => openModalUrlDialog(config, closeWindow);\n      const openModalUrlDialog = (config, closeWindow) => {\n        const factory = contents => {\n          const dialog = renderUrlDialog(contents, {\n            closeWindow: () => {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, editor, extras.backstages.dialog);\n          ModalDialog.show(dialog.dialog);\n          return dialog.instanceApi;\n        };\n        return DialogManager.openUrl(factory, config);\n      };\n      const openModalDialog = (config, closeWindow) => {\n        const factory = (contents, internalInitialData, dataValidator) => {\n          const initialData = internalInitialData;\n          const dialogInit = {\n            dataValidator,\n            initialData,\n            internalDialog: contents\n          };\n          const dialog = renderDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: () => {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, extras.backstages.dialog);\n          ModalDialog.show(dialog.dialog);\n          dialog.instanceApi.setData(initialData);\n          return dialog.instanceApi;\n        };\n        return DialogManager.open(factory, config);\n      };\n      const openInlineDialog = (config$1, anchor, closeWindow, ariaAttrs = false) => {\n        const factory = (contents, internalInitialData, dataValidator) => {\n          const initialData = validateData(internalInitialData, dataValidator);\n          const inlineDialog = value$2();\n          const isToolbarLocationTop = extras.backstages.popup.shared.header.isPositionedAtTop();\n          const dialogInit = {\n            dataValidator,\n            initialData,\n            internalDialog: contents\n          };\n          const refreshDocking = () => inlineDialog.on(dialog => {\n            InlineView.reposition(dialog);\n            Docking.refresh(dialog);\n          });\n          const dialogUi = renderInlineDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: () => {\n              inlineDialog.on(InlineView.hide);\n              editor.off('ResizeEditor', refreshDocking);\n              inlineDialog.clear();\n              closeWindow(dialogUi.instanceApi);\n            }\n          }, extras.backstages.popup, ariaAttrs);\n          const inlineDialogComp = build$1(InlineView.sketch({\n            lazySink: extras.backstages.popup.shared.getSink,\n            dom: {\n              tag: 'div',\n              classes: []\n            },\n            fireDismissalEventInstead: {},\n            ...isToolbarLocationTop ? {} : { fireRepositionEventInstead: {} },\n            inlineBehaviours: derive$1([\n              config('window-manager-inline-events', [run$1(dismissRequested(), (_comp, _se) => {\n                  emit(dialogUi.dialog, formCancelEvent);\n                })]),\n              ...inlineAdditionalBehaviours(editor, isStickyToolbar$1, isToolbarLocationTop)\n            ]),\n            isExtraPart: (_comp, target) => isAlertOrConfirmDialog(target)\n          }));\n          inlineDialog.set(inlineDialogComp);\n          const getInlineDialogBounds = () => {\n            const elem = editor.inline ? body() : SugarElement.fromDom(editor.getContainer());\n            const bounds = box$1(elem);\n            return Optional.some(bounds);\n          };\n          InlineView.showWithinBounds(inlineDialogComp, premade(dialogUi.dialog), { anchor }, getInlineDialogBounds);\n          if (!isStickyToolbar$1 || !isToolbarLocationTop) {\n            Docking.refresh(inlineDialogComp);\n            editor.on('ResizeEditor', refreshDocking);\n          }\n          dialogUi.instanceApi.setData(initialData);\n          Keying.focusIn(dialogUi.dialog);\n          return dialogUi.instanceApi;\n        };\n        return DialogManager.open(factory, config$1);\n      };\n      const confirm = (message, callback) => {\n        confirmDialog.open(message, callback);\n      };\n      const alert = (message, callback) => {\n        alertDialog.open(message, callback);\n      };\n      const close = instanceApi => {\n        instanceApi.close();\n      };\n      return {\n        open,\n        openUrl,\n        alert,\n        close,\n        confirm\n      };\n    };\n\n    const registerOptions = editor => {\n      register$e(editor);\n      register$d(editor);\n      register(editor);\n    };\n    var Theme = () => {\n      global$a.add('silver', editor => {\n        registerOptions(editor);\n        let popupSinkBounds = () => win();\n        const {\n          dialogs,\n          popups,\n          renderUI: renderModeUI\n        } = setup$3(editor, { getPopupSinkBounds: () => popupSinkBounds() });\n        const renderUI = async () => {\n          const renderResult = await renderModeUI();\n          const optScrollingContext = detectWhenSplitUiMode(editor, popups.getMothership().element);\n          optScrollingContext.each(sc => {\n            popupSinkBounds = () => {\n              return getBoundsFrom(sc);\n            };\n          });\n          return renderResult;\n        };\n        Autocompleter.register(editor, popups.backstage.shared);\n        const windowMgr = setup({\n          editor,\n          backstages: {\n            popup: popups.backstage,\n            dialog: dialogs.backstage\n          }\n        });\n        const getNotificationManagerImpl = () => NotificationManagerImpl(editor, { backstage: popups.backstage }, popups.getMothership());\n        return {\n          renderUI,\n          getWindowManagerImpl: constant$1(windowMgr),\n          getNotificationManagerImpl\n        };\n      });\n    };\n\n    Theme();\n\n})();\n","// Exports the \"dom\" model for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/models/dom')\n//   ES2015:\n//     import 'tinymce/models/dom'\nrequire('./model.js');","/**\n * TinyMCE version 6.4.1 (2023-03-29)\n */\n\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.ModelManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$2 = t => a => t === a;\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isArray = isType$1('array');\n    const isNull = eq$2(null);\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$2(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n\n    const noop = () => {\n    };\n    const compose = (fa, fb) => {\n      return (...args) => {\n        return fa(fb.apply(null, args));\n      };\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const not = f => t => !f(t);\n    const die = msg => {\n      return () => {\n        throw new Error(msg);\n      };\n    };\n    const apply = f => {\n      return f();\n    };\n    const never = constant(false);\n    const always = constant(true);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains$2 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const range$1 = (num, f) => {\n      const r = [];\n      for (let i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    const map$1 = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$2 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter$2 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each$2(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find$1 = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const findIndex = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind$2 = (xs, f) => flatten(map$1(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const sort$1 = (xs, comparator) => {\n      const copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    const get$d = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$d(xs, 0);\n    const last$2 = xs => get$d(xs, xs.length - 1);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each$1 = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const map = (obj, f) => {\n      return tupleMap(obj, (x, i) => ({\n        k: i,\n        v: f(x, i)\n      }));\n    };\n    const tupleMap = (obj, f) => {\n      const r = {};\n      each$1(obj, (x, i) => {\n        const tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each$1(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter$1 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each$1(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const get$c = (obj, key) => {\n      return has$1(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has$1 = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has$1(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    const isEmpty = r => {\n      for (const x in r) {\n        if (hasOwnProperty.call(r, x)) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    const Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const path = (parts, scope) => {\n      let o = scope !== undefined && scope !== null ? scope : Global;\n      for (let i = 0; i < parts.length && o !== undefined && o !== null; ++i) {\n        o = o[parts[i]];\n      }\n      return o;\n    };\n    const resolve$2 = (p, scope) => {\n      const parts = p.split('.');\n      return path(parts, scope);\n    };\n\n    const unsafe = (name, scope) => {\n      return resolve$2(name, scope);\n    };\n    const getOrDie = (name, scope) => {\n      const actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) {\n        throw new Error(name + ' not available on this browser');\n      }\n      return actual;\n    };\n\n    const getPrototypeOf = Object.getPrototypeOf;\n    const sandHTMLElement = scope => {\n      return getOrDie('HTMLElement', scope);\n    };\n    const isPrototypeOf = x => {\n      const scope = resolve$2('ownerDocument.defaultView', x);\n      return isObject(x) && (sandHTMLElement(scope).prototype.isPrototypeOf(x) || /^HTML\\w*Element$/.test(getPrototypeOf(x).constructor.name));\n    };\n\n    const COMMENT = 8;\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type = element => element.dom.nodeType;\n    const isType = t => element => type(element) === t;\n    const isComment = element => type(element) === COMMENT || name(element) === '#comment';\n    const isHTMLElement = element => isElement(element) && isPrototypeOf(element.dom);\n    const isElement = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement(e) && name(e) === tag;\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$2 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll$1 = (element, attrs) => {\n      const dom = element.dom;\n      each$1(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const setOptions = (element, attrs) => {\n      each$1(attrs, (v, k) => {\n        v.fold(() => {\n          remove$7(element, k);\n        }, value => {\n          rawSet(element.dom, k, value);\n        });\n      });\n    };\n    const get$b = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$b(element, key));\n    const remove$7 = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const clone$2 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const fromHtml$1 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom$1(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom$1(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom$1(node);\n    };\n    const fromDom$1 = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint$1 = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$1);\n    const SugarElement = {\n      fromHtml: fromHtml$1,\n      fromTag,\n      fromText,\n      fromDom: fromDom$1,\n      fromPoint: fromPoint$1\n    };\n\n    const is$2 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all$1 = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$1(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq$1 = (e1, e2) => e1.dom === e2.dom;\n    const contains$1 = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    const is$1 = is$2;\n\n    const owner = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner(dos);\n    const documentElement = element => SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    const defaultView = element => SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const parents = (element, isRoot) => {\n      const stop = isFunction(isRoot) ? isRoot : never;\n      let dom = element.dom;\n      const ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        const rawParent = dom.parentNode;\n        const p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    const prevSibling = element => Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children$2 = element => map$1(element.dom.childNodes, SugarElement.fromDom);\n    const child$2 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$2(element, 0);\n\n    const before$3 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$5 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before$3(v, element);\n      });\n    };\n    const prepend = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$1(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const appendAt = (parent, element, index) => {\n      child$2(parent, index).fold(() => {\n        append$1(parent, element);\n      }, v => {\n        before$3(v, element);\n      });\n    };\n    const wrap = (element, wrapper) => {\n      before$3(element, wrapper);\n      append$1(wrapper, element);\n    };\n\n    const after$4 = (marker, elements) => {\n      each$2(elements, (x, i) => {\n        const e = i === 0 ? marker : elements[i - 1];\n        after$5(e, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each$2(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$2(children$2(element), rogue => {\n        remove$6(rogue);\n      });\n    };\n    const remove$6 = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    const unwrap = wrapper => {\n      const children = children$2(wrapper);\n      if (children.length > 0) {\n        after$4(wrapper, children);\n      }\n      remove$6(wrapper);\n    };\n\n    const clone$1 = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const shallow = original => clone$1(original, false);\n    const deep = original => clone$1(original, true);\n    const shallowAs = (original, tag) => {\n      const nu = SugarElement.fromTag(tag);\n      const attributes = clone$2(original);\n      setAll$1(nu, attributes);\n      return nu;\n    };\n    const copy$2 = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      const cloneChildren = children$2(deep(original));\n      append(nu, cloneChildren);\n      return nu;\n    };\n    const mutate$1 = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      after$5(original, nu);\n      const children = children$2(original);\n      append(nu, children);\n      remove$6(original);\n      return nu;\n    };\n\n    const validSectionList = [\n      'tfoot',\n      'thead',\n      'tbody',\n      'colgroup'\n    ];\n    const isValidSection = parentName => contains$2(validSectionList, parentName);\n    const grid = (rows, columns) => ({\n      rows,\n      columns\n    });\n    const address = (row, column) => ({\n      row,\n      column\n    });\n    const detail = (element, rowspan, colspan) => ({\n      element,\n      rowspan,\n      colspan\n    });\n    const detailnew = (element, rowspan, colspan, isNew) => ({\n      element,\n      rowspan,\n      colspan,\n      isNew\n    });\n    const extended = (element, rowspan, colspan, row, column, isLocked) => ({\n      element,\n      rowspan,\n      colspan,\n      row,\n      column,\n      isLocked\n    });\n    const rowdetail = (element, cells, section) => ({\n      element,\n      cells,\n      section\n    });\n    const rowdetailnew = (element, cells, section, isNew) => ({\n      element,\n      cells,\n      section,\n      isNew\n    });\n    const elementnew = (element, isNew, isLocked) => ({\n      element,\n      isNew,\n      isLocked\n    });\n    const rowcells = (element, cells, section, isNew) => ({\n      element,\n      cells,\n      section,\n      isNew\n    });\n    const bounds = (startRow, startCol, finishRow, finishCol) => ({\n      startRow,\n      startCol,\n      finishRow,\n      finishCol\n    });\n    const columnext = (element, colspan, column) => ({\n      element,\n      colspan,\n      column\n    });\n    const colgroup = (element, columns) => ({\n      element,\n      columns\n    });\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const isSupported$1 = constant(supported);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n    const getOriginalEventTarget = event => {\n      if (isSupported$1() && isNonNullable(event.target)) {\n        const el = SugarElement.fromDom(event.target);\n        if (isElement(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            const composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    const isOpenShadowHost = element => isNonNullable(element.dom.shadowRoot);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n    const body$1 = () => getBody$1(SugarElement.fromDom(document));\n    const getBody$1 = doc => {\n      const b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    const ancestors$4 = (scope, predicate, isRoot) => filter$2(parents(scope, isRoot), predicate);\n    const children$1 = (scope, predicate) => filter$2(children$2(scope), predicate);\n    const descendants$1 = (scope, predicate) => {\n      let result = [];\n      each$2(children$2(scope), x => {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants$1(x, predicate));\n      });\n      return result;\n    };\n\n    const ancestors$3 = (scope, selector, isRoot) => ancestors$4(scope, e => is$2(e, selector), isRoot);\n    const children = (scope, selector) => children$1(scope, e => is$2(e, selector));\n    const descendants = (scope, selector) => all$1(selector, scope);\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$2 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$2 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$2, scope, predicate, isRoot);\n    };\n    const child$1 = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find$1(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    const descendant$1 = (scope, predicate) => {\n      const descend = node => {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          const child = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    const ancestor$1 = (scope, selector, isRoot) => ancestor$2(scope, e => is$2(e, selector), isRoot);\n    const child = (scope, selector) => child$1(scope, e => is$2(e, selector));\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is = (element, selector) => is$2(element, selector);\n      return ClosestOrAncestor(is, ancestor$1, scope, selector, isRoot);\n    };\n\n    const is = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const bindFrom = (a, f) => a !== undefined && a !== null ? f(a) : Optional.none();\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const contains = (str, substr, start = 0, end) => {\n      const idx = str.indexOf(substr, start);\n      if (idx !== -1) {\n        return isUndefined(end) ? true : idx + substr.length <= end;\n      } else {\n        return false;\n      }\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const endsWith = (str, suffix) => {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const toFloat = value => {\n      const num = parseFloat(value);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n\n    const isSupported = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$1 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const setAll = (element, css) => {\n      const dom = element.dom;\n      each$1(css, (v, k) => {\n        internalSet(dom, k, v);\n      });\n    };\n    const get$a = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw$2 = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const remove$5 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is(getOpt(element, 'style').map(trim), '')) {\n        remove$7(element, 'style');\n      }\n    };\n    const copy$1 = (source, target) => {\n      const sourceDom = source.dom;\n      const targetDom = target.dom;\n      if (isSupported(sourceDom) && isSupported(targetDom)) {\n        targetDom.style.cssText = sourceDom.style.cssText;\n      }\n    };\n\n    const getAttrValue = (cell, name, fallback = 0) => getOpt(cell, name).map(value => parseInt(value, 10)).getOr(fallback);\n    const getSpan = (cell, type) => getAttrValue(cell, type, 1);\n    const hasColspan = cellOrCol => {\n      if (isTag('col')(cellOrCol)) {\n        return getAttrValue(cellOrCol, 'span', 1) > 1;\n      } else {\n        return getSpan(cellOrCol, 'colspan') > 1;\n      }\n    };\n    const hasRowspan = cell => getSpan(cell, 'rowspan') > 1;\n    const getCssValue = (element, property) => parseInt(get$a(element, property), 10);\n    const minWidth = constant(10);\n    const minHeight = constant(10);\n\n    const firstLayer = (scope, selector) => {\n      return filterFirstLayer(scope, selector, always);\n    };\n    const filterFirstLayer = (scope, selector, predicate) => {\n      return bind$2(children$2(scope), x => {\n        if (is$2(x, selector)) {\n          return predicate(x) ? [x] : [];\n        } else {\n          return filterFirstLayer(x, selector, predicate);\n        }\n      });\n    };\n\n    const lookup = (tags, element, isRoot = never) => {\n      if (isRoot(element)) {\n        return Optional.none();\n      }\n      if (contains$2(tags, name(element))) {\n        return Optional.some(element);\n      }\n      const isRootOrUpperTable = elm => is$2(elm, 'table') || isRoot(elm);\n      return ancestor$1(element, tags.join(','), isRootOrUpperTable);\n    };\n    const cell = (element, isRoot) => lookup([\n      'td',\n      'th'\n    ], element, isRoot);\n    const cells$1 = ancestor => firstLayer(ancestor, 'th,td');\n    const columns$1 = ancestor => {\n      if (is$2(ancestor, 'colgroup')) {\n        return children(ancestor, 'col');\n      } else {\n        return bind$2(columnGroups(ancestor), columnGroup => children(columnGroup, 'col'));\n      }\n    };\n    const table = (element, isRoot) => closest$1(element, 'table', isRoot);\n    const rows$1 = ancestor => firstLayer(ancestor, 'tr');\n    const columnGroups = ancestor => table(ancestor).fold(constant([]), table => children(table, 'colgroup'));\n\n    const fromRowsOrColGroups = (elems, getSection) => map$1(elems, row => {\n      if (name(row) === 'colgroup') {\n        const cells = map$1(columns$1(row), column => {\n          const colspan = getAttrValue(column, 'span', 1);\n          return detail(column, 1, colspan);\n        });\n        return rowdetail(row, cells, 'colgroup');\n      } else {\n        const cells = map$1(cells$1(row), cell => {\n          const rowspan = getAttrValue(cell, 'rowspan', 1);\n          const colspan = getAttrValue(cell, 'colspan', 1);\n          return detail(cell, rowspan, colspan);\n        });\n        return rowdetail(row, cells, getSection(row));\n      }\n    });\n    const getParentSection = group => parent(group).map(parent => {\n      const parentName = name(parent);\n      return isValidSection(parentName) ? parentName : 'tbody';\n    }).getOr('tbody');\n    const fromTable$1 = table => {\n      const rows = rows$1(table);\n      const columnGroups$1 = columnGroups(table);\n      const elems = [\n        ...columnGroups$1,\n        ...rows\n      ];\n      return fromRowsOrColGroups(elems, getParentSection);\n    };\n    const fromPastedRows = (elems, section) => fromRowsOrColGroups(elems, () => section);\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const DeviceType = (os, browser, userAgent, mediaMatch) => {\n      const isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      const isiPhone = os.isiOS() && !isiPad;\n      const isMobile = os.isiOS() || os.isAndroid();\n      const isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      const isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      const isPhone = isiPhone || isMobile && !isTablet;\n      const iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      const isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    const firstMatch = (regexes, s) => {\n      for (let i = 0; i < regexes.length; i++) {\n        const x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    const find = (regexes, agent) => {\n      const r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      const group = i => {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$2(group(1), group(2));\n    };\n    const detect$5 = (versionRegexes, agent) => {\n      const cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$2();\n      }\n      return find(versionRegexes, cleanedAgent);\n    };\n    const unknown$2 = () => {\n      return nu$2(0, 0);\n    };\n    const nu$2 = (major, minor) => {\n      return {\n        major,\n        minor\n      };\n    };\n    const Version = {\n      nu: nu$2,\n      detect: detect$5,\n      unknown: unknown$2\n    };\n\n    const detectBrowser$1 = (browsers, userAgentData) => {\n      return findMap(userAgentData.brands, uaBrand => {\n        const lcBrand = uaBrand.brand.toLowerCase();\n        return find$1(browsers, browser => {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(info => ({\n          current: info.name,\n          version: Version.nu(parseInt(uaBrand.version, 10), 0)\n        }));\n      });\n    };\n\n    const detect$4 = (candidates, userAgent) => {\n      const agent = String(userAgent).toLowerCase();\n      return find$1(candidates, candidate => {\n        return candidate.search(agent);\n      });\n    };\n    const detectBrowser = (browsers, userAgent) => {\n      return detect$4(browsers, userAgent).map(browser => {\n        const version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version\n        };\n      });\n    };\n    const detectOs = (oses, userAgent) => {\n      return detect$4(oses, userAgent).map(os => {\n        const version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version\n        };\n      });\n    };\n\n    const normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    const checkContains = target => {\n      return uastring => {\n        return contains(uastring, target);\n      };\n    };\n    const browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: uastring => {\n          return contains(uastring, 'edge/') && contains(uastring, 'chrome') && contains(uastring, 'safari') && contains(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chromium',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: uastring => {\n          return contains(uastring, 'chrome') && !contains(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: uastring => {\n          return contains(uastring, 'msie') || contains(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: uastring => {\n          return (contains(uastring, 'safari') || contains(uastring, 'mobile/')) && contains(uastring, 'applewebkit');\n        }\n      }\n    ];\n    const oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: uastring => {\n          return contains(uastring, 'iphone') || contains(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'macOS',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    const PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    const edge = 'Edge';\n    const chromium = 'Chromium';\n    const ie = 'IE';\n    const opera = 'Opera';\n    const firefox = 'Firefox';\n    const safari = 'Safari';\n    const unknown$1 = () => {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$1 = info => {\n      const current = info.current;\n      const version = info.version;\n      const isBrowser = name => () => current === name;\n      return {\n        current,\n        version,\n        isEdge: isBrowser(edge),\n        isChromium: isBrowser(chromium),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    const Browser = {\n      unknown: unknown$1,\n      nu: nu$1,\n      edge: constant(edge),\n      chromium: constant(chromium),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    const windows = 'Windows';\n    const ios = 'iOS';\n    const android = 'Android';\n    const linux = 'Linux';\n    const macos = 'macOS';\n    const solaris = 'Solaris';\n    const freebsd = 'FreeBSD';\n    const chromeos = 'ChromeOS';\n    const unknown = () => {\n      return nu({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu = info => {\n      const current = info.current;\n      const version = info.version;\n      const isOS = name => () => current === name;\n      return {\n        current,\n        version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isMacOS: isOS(macos),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    const OperatingSystem = {\n      unknown,\n      nu,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      macos: constant(macos),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd),\n      chromeos: constant(chromeos)\n    };\n\n    const detect$3 = (userAgent, userAgentDataOpt, mediaMatch) => {\n      const browsers = PlatformInfo.browsers();\n      const oses = PlatformInfo.oses();\n      const browser = userAgentDataOpt.bind(userAgentData => detectBrowser$1(browsers, userAgentData)).orThunk(() => detectBrowser(browsers, userAgent)).fold(Browser.unknown, Browser.nu);\n      const os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      const deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser,\n        os,\n        deviceType\n      };\n    };\n    const PlatformDetection = { detect: detect$3 };\n\n    const mediaMatch = query => window.matchMedia(query).matches;\n    let platform = cached(() => PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch));\n    const detect$2 = () => platform();\n\n    const Dimension = (name, getOffset) => {\n      const set = (element, h) => {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        const dom = element.dom;\n        if (isSupported(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      const get = element => {\n        const r = getOffset(element);\n        if (r <= 0 || r === null) {\n          const css = get$a(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      const getOuter = get;\n      const aggregate = (element, properties) => foldl(properties, (acc, property) => {\n        const val = get$a(element, property);\n        const value = val === undefined ? 0 : parseInt(val, 10);\n        return isNaN(value) ? acc : acc + value;\n      }, 0);\n      const max = (element, value, properties) => {\n        const cumulativeInclusions = aggregate(element, properties);\n        const absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set,\n        get,\n        getOuter,\n        aggregate,\n        max\n      };\n    };\n\n    const toNumber = (px, fallback) => toFloat(px).getOr(fallback);\n    const getProp = (element, name, fallback) => toNumber(get$a(element, name), fallback);\n    const calcContentBoxSize = (element, size, upper, lower) => {\n      const paddingUpper = getProp(element, `padding-${ upper }`, 0);\n      const paddingLower = getProp(element, `padding-${ lower }`, 0);\n      const borderUpper = getProp(element, `border-${ upper }-width`, 0);\n      const borderLower = getProp(element, `border-${ lower }-width`, 0);\n      return size - paddingUpper - paddingLower - borderUpper - borderLower;\n    };\n    const getCalculatedWidth = (element, boxSizing) => {\n      const dom = element.dom;\n      const width = dom.getBoundingClientRect().width || dom.offsetWidth;\n      return boxSizing === 'border-box' ? width : calcContentBoxSize(element, width, 'left', 'right');\n    };\n    const getHeight$1 = element => getProp(element, 'height', element.dom.offsetHeight);\n    const getWidth = element => getProp(element, 'width', element.dom.offsetWidth);\n    const getInnerWidth = element => getCalculatedWidth(element, 'content-box');\n\n    const api$2 = Dimension('width', element => element.dom.offsetWidth);\n    const get$9 = element => api$2.get(element);\n    const getOuter$2 = element => api$2.getOuter(element);\n    const getInner = getInnerWidth;\n    const getRuntime$1 = getWidth;\n\n    const addCells = (gridRow, index, cells) => {\n      const existingCells = gridRow.cells;\n      const before = existingCells.slice(0, index);\n      const after = existingCells.slice(index);\n      const newCells = before.concat(cells).concat(after);\n      return setCells(gridRow, newCells);\n    };\n    const addCell = (gridRow, index, cell) => addCells(gridRow, index, [cell]);\n    const mutateCell = (gridRow, index, cell) => {\n      const cells = gridRow.cells;\n      cells[index] = cell;\n    };\n    const setCells = (gridRow, cells) => rowcells(gridRow.element, cells, gridRow.section, gridRow.isNew);\n    const mapCells = (gridRow, f) => {\n      const cells = gridRow.cells;\n      const r = map$1(cells, f);\n      return rowcells(gridRow.element, r, gridRow.section, gridRow.isNew);\n    };\n    const getCell = (gridRow, index) => gridRow.cells[index];\n    const getCellElement = (gridRow, index) => getCell(gridRow, index).element;\n    const cellLength = gridRow => gridRow.cells.length;\n    const extractGridDetails = grid => {\n      const result = partition(grid, row => row.section === 'colgroup');\n      return {\n        rows: result.fail,\n        cols: result.pass\n      };\n    };\n    const clone = (gridRow, cloneRow, cloneCell) => {\n      const newCells = map$1(gridRow.cells, cloneCell);\n      return rowcells(cloneRow(gridRow.element), newCells, gridRow.section, true);\n    };\n\n    const LOCKED_COL_ATTR = 'data-snooker-locked-cols';\n    const getLockedColumnsFromTable = table => getOpt(table, LOCKED_COL_ATTR).bind(lockedColStr => Optional.from(lockedColStr.match(/\\d+/g))).map(lockedCols => mapToObject(lockedCols, always));\n    const getLockedColumnsFromGrid = grid => {\n      const locked = foldl(extractGridDetails(grid).rows, (acc, row) => {\n        each$2(row.cells, (cell, idx) => {\n          if (cell.isLocked) {\n            acc[idx] = true;\n          }\n        });\n        return acc;\n      }, {});\n      const lockedArr = mapToArray(locked, (_val, key) => parseInt(key, 10));\n      return sort$1(lockedArr);\n    };\n\n    const key = (row, column) => {\n      return row + ',' + column;\n    };\n    const getAt = (warehouse, row, column) => Optional.from(warehouse.access[key(row, column)]);\n    const findItem = (warehouse, item, comparator) => {\n      const filtered = filterItems(warehouse, detail => {\n        return comparator(item, detail.element);\n      });\n      return filtered.length > 0 ? Optional.some(filtered[0]) : Optional.none();\n    };\n    const filterItems = (warehouse, predicate) => {\n      const all = bind$2(warehouse.all, r => {\n        return r.cells;\n      });\n      return filter$2(all, predicate);\n    };\n    const generateColumns = rowData => {\n      const columnsGroup = {};\n      let index = 0;\n      each$2(rowData.cells, column => {\n        const colspan = column.colspan;\n        range$1(colspan, columnIndex => {\n          const colIndex = index + columnIndex;\n          columnsGroup[colIndex] = columnext(column.element, colspan, colIndex);\n        });\n        index += colspan;\n      });\n      return columnsGroup;\n    };\n    const generate$1 = list => {\n      const access = {};\n      const cells = [];\n      const tableOpt = head(list).map(rowData => rowData.element).bind(table);\n      const lockedColumns = tableOpt.bind(getLockedColumnsFromTable).getOr({});\n      let maxRows = 0;\n      let maxColumns = 0;\n      let rowCount = 0;\n      const {\n        pass: colgroupRows,\n        fail: rows\n      } = partition(list, rowData => rowData.section === 'colgroup');\n      each$2(rows, rowData => {\n        const currentRow = [];\n        each$2(rowData.cells, rowCell => {\n          let start = 0;\n          while (access[key(rowCount, start)] !== undefined) {\n            start++;\n          }\n          const isLocked = hasNonNullableKey(lockedColumns, start.toString());\n          const current = extended(rowCell.element, rowCell.rowspan, rowCell.colspan, rowCount, start, isLocked);\n          for (let occupiedColumnPosition = 0; occupiedColumnPosition < rowCell.colspan; occupiedColumnPosition++) {\n            for (let occupiedRowPosition = 0; occupiedRowPosition < rowCell.rowspan; occupiedRowPosition++) {\n              const rowPosition = rowCount + occupiedRowPosition;\n              const columnPosition = start + occupiedColumnPosition;\n              const newpos = key(rowPosition, columnPosition);\n              access[newpos] = current;\n              maxColumns = Math.max(maxColumns, columnPosition + 1);\n            }\n          }\n          currentRow.push(current);\n        });\n        maxRows++;\n        cells.push(rowdetail(rowData.element, currentRow, rowData.section));\n        rowCount++;\n      });\n      const {columns, colgroups} = last$2(colgroupRows).map(rowData => {\n        const columns = generateColumns(rowData);\n        const colgroup$1 = colgroup(rowData.element, values(columns));\n        return {\n          colgroups: [colgroup$1],\n          columns\n        };\n      }).getOrThunk(() => ({\n        colgroups: [],\n        columns: {}\n      }));\n      const grid$1 = grid(maxRows, maxColumns);\n      return {\n        grid: grid$1,\n        access,\n        all: cells,\n        columns,\n        colgroups\n      };\n    };\n    const fromTable = table => {\n      const list = fromTable$1(table);\n      return generate$1(list);\n    };\n    const justCells = warehouse => bind$2(warehouse.all, w => w.cells);\n    const justColumns = warehouse => values(warehouse.columns);\n    const hasColumns = warehouse => keys(warehouse.columns).length > 0;\n    const getColumnAt = (warehouse, columnIndex) => Optional.from(warehouse.columns[columnIndex]);\n    const Warehouse = {\n      fromTable,\n      generate: generate$1,\n      getAt,\n      findItem,\n      filterItems,\n      justCells,\n      justColumns,\n      hasColumns,\n      getColumnAt\n    };\n\n    const columns = (warehouse, isValidCell = always) => {\n      const grid = warehouse.grid;\n      const cols = range$1(grid.columns, identity);\n      const rowsArr = range$1(grid.rows, identity);\n      return map$1(cols, col => {\n        const getBlock = () => bind$2(rowsArr, r => Warehouse.getAt(warehouse, r, col).filter(detail => detail.column === col).toArray());\n        const isValid = detail => detail.colspan === 1 && isValidCell(detail.element);\n        const getFallback = () => Warehouse.getAt(warehouse, 0, col);\n        return decide(getBlock, isValid, getFallback);\n      });\n    };\n    const decide = (getBlock, isValid, getFallback) => {\n      const inBlock = getBlock();\n      const validInBlock = find$1(inBlock, isValid);\n      const detailOption = validInBlock.orThunk(() => Optional.from(inBlock[0]).orThunk(getFallback));\n      return detailOption.map(detail => detail.element);\n    };\n    const rows = warehouse => {\n      const grid = warehouse.grid;\n      const rowsArr = range$1(grid.rows, identity);\n      const cols = range$1(grid.columns, identity);\n      return map$1(rowsArr, row => {\n        const getBlock = () => bind$2(cols, c => Warehouse.getAt(warehouse, row, c).filter(detail => detail.row === row).fold(constant([]), detail => [detail]));\n        const isSingle = detail => detail.rowspan === 1;\n        const getFallback = () => Warehouse.getAt(warehouse, row, 0);\n        return decide(getBlock, isSingle, getFallback);\n      });\n    };\n\n    const deduce = (xs, index) => {\n      if (index < 0 || index >= xs.length - 1) {\n        return Optional.none();\n      }\n      const current = xs[index].fold(() => {\n        const rest = reverse(xs.slice(0, index));\n        return findMap(rest, (a, i) => a.map(aa => ({\n          value: aa,\n          delta: i + 1\n        })));\n      }, c => Optional.some({\n        value: c,\n        delta: 0\n      }));\n      const next = xs[index + 1].fold(() => {\n        const rest = xs.slice(index + 1);\n        return findMap(rest, (a, i) => a.map(aa => ({\n          value: aa,\n          delta: i + 1\n        })));\n      }, n => Optional.some({\n        value: n,\n        delta: 1\n      }));\n      return current.bind(c => next.map(n => {\n        const extras = n.delta + c.delta;\n        return Math.abs(n.value - c.value) / extras;\n      }));\n    };\n\n    const onDirection = (isLtr, isRtl) => element => getDirection(element) === 'rtl' ? isRtl : isLtr;\n    const getDirection = element => get$a(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n\n    const api$1 = Dimension('height', element => {\n      const dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    const get$8 = element => api$1.get(element);\n    const getOuter$1 = element => api$1.getOuter(element);\n    const getRuntime = getHeight$1;\n\n    const r = (left, top) => {\n      const translate = (x, y) => r(left + x, top + y);\n      return {\n        left,\n        top,\n        translate\n      };\n    };\n    const SugarPosition = r;\n\n    const boxPosition = dom => {\n      const box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    const firstDefinedOrZero = (a, b) => {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    const absolute = element => {\n      const doc = element.dom.ownerDocument;\n      const body = doc.body;\n      const win = doc.defaultView;\n      const html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      const scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      const scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      const clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      const clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    const viewport = element => {\n      const dom = element.dom;\n      const doc = dom.ownerDocument;\n      const body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    const rowInfo = (row, y) => ({\n      row,\n      y\n    });\n    const colInfo = (col, x) => ({\n      col,\n      x\n    });\n    const rtlEdge = cell => {\n      const pos = absolute(cell);\n      return pos.left + getOuter$2(cell);\n    };\n    const ltrEdge = cell => {\n      return absolute(cell).left;\n    };\n    const getLeftEdge = (index, cell) => {\n      return colInfo(index, ltrEdge(cell));\n    };\n    const getRightEdge = (index, cell) => {\n      return colInfo(index, rtlEdge(cell));\n    };\n    const getTop$1 = cell => {\n      return absolute(cell).top;\n    };\n    const getTopEdge = (index, cell) => {\n      return rowInfo(index, getTop$1(cell));\n    };\n    const getBottomEdge = (index, cell) => {\n      return rowInfo(index, getTop$1(cell) + getOuter$1(cell));\n    };\n    const findPositions = (getInnerEdge, getOuterEdge, array) => {\n      if (array.length === 0) {\n        return [];\n      }\n      const lines = map$1(array.slice(1), (cellOption, index) => {\n        return cellOption.map(cell => {\n          return getInnerEdge(index, cell);\n        });\n      });\n      const lastLine = array[array.length - 1].map(cell => {\n        return getOuterEdge(array.length - 1, cell);\n      });\n      return lines.concat([lastLine]);\n    };\n    const negate = step => {\n      return -step;\n    };\n    const height = {\n      delta: identity,\n      positions: optElements => findPositions(getTopEdge, getBottomEdge, optElements),\n      edge: getTop$1\n    };\n    const ltr$1 = {\n      delta: identity,\n      edge: ltrEdge,\n      positions: optElements => findPositions(getLeftEdge, getRightEdge, optElements)\n    };\n    const rtl$1 = {\n      delta: negate,\n      edge: rtlEdge,\n      positions: optElements => findPositions(getRightEdge, getLeftEdge, optElements)\n    };\n    const detect$1 = onDirection(ltr$1, rtl$1);\n    const width = {\n      delta: (amount, table) => detect$1(table).delta(amount, table),\n      positions: (cols, table) => detect$1(table).positions(cols, table),\n      edge: cell => detect$1(cell).edge(cell)\n    };\n\n    const units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    const pattern = (() => {\n      const decimalDigits = '[0-9]+';\n      const signedInteger = '[+-]?' + decimalDigits;\n      const exponentPart = '[eE]' + signedInteger;\n      const dot = '\\\\.';\n      const opt = input => `(?:${ input })?`;\n      const unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      const float = `[+-]?(?:${ unsignedDecimalLiteral })`;\n      return new RegExp(`^(${ float })(.*)$`);\n    })();\n    const isUnit = (unit, accepted) => exists(accepted, acc => exists(units[acc], check => unit === check));\n    const parse = (input, accepted) => {\n      const match = Optional.from(pattern.exec(input));\n      return match.bind(array => {\n        const value = Number(array[1]);\n        const unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n\n    const rPercentageBasedSizeRegex = /(\\d+(\\.\\d+)?)%/;\n    const rPixelBasedSizeRegex = /(\\d+(\\.\\d+)?)px|em/;\n    const isCol$2 = isTag('col');\n    const getPercentSize = (elm, outerGetter, innerGetter) => {\n      const relativeParent = parentElement(elm).getOrThunk(() => getBody$1(owner(elm)));\n      return outerGetter(elm) / innerGetter(relativeParent) * 100;\n    };\n    const setPixelWidth = (cell, amount) => {\n      set$1(cell, 'width', amount + 'px');\n    };\n    const setPercentageWidth = (cell, amount) => {\n      set$1(cell, 'width', amount + '%');\n    };\n    const setHeight = (cell, amount) => {\n      set$1(cell, 'height', amount + 'px');\n    };\n    const getHeightValue = cell => getRuntime(cell) + 'px';\n    const convert = (cell, number, getter, setter) => {\n      const newSize = table(cell).map(table => {\n        const total = getter(table);\n        return Math.floor(number / 100 * total);\n      }).getOr(number);\n      setter(cell, newSize);\n      return newSize;\n    };\n    const normalizePixelSize = (value, cell, getter, setter) => {\n      const number = parseFloat(value);\n      return endsWith(value, '%') && name(cell) !== 'table' ? convert(cell, number, getter, setter) : number;\n    };\n    const getTotalHeight = cell => {\n      const value = getHeightValue(cell);\n      if (!value) {\n        return get$8(cell);\n      }\n      return normalizePixelSize(value, cell, get$8, setHeight);\n    };\n    const get$7 = (cell, type, f) => {\n      const v = f(cell);\n      const span = getSpan(cell, type);\n      return v / span;\n    };\n    const getRaw$1 = (element, prop) => {\n      return getRaw$2(element, prop).orThunk(() => {\n        return getOpt(element, prop).map(val => val + 'px');\n      });\n    };\n    const getRawWidth$1 = element => getRaw$1(element, 'width');\n    const getRawHeight = element => getRaw$1(element, 'height');\n    const getPercentageWidth = cell => getPercentSize(cell, get$9, getInner);\n    const getPixelWidth$1 = cell => isCol$2(cell) ? get$9(cell) : getRuntime$1(cell);\n    const getHeight = cell => {\n      return get$7(cell, 'rowspan', getTotalHeight);\n    };\n    const getGenericWidth = cell => {\n      const width = getRawWidth$1(cell);\n      return width.bind(w => parse(w, [\n        'fixed',\n        'relative',\n        'empty'\n      ]));\n    };\n    const setGenericWidth = (cell, amount, unit) => {\n      set$1(cell, 'width', amount + unit);\n    };\n    const getPixelTableWidth = table => get$9(table) + 'px';\n    const getPercentTableWidth = table => getPercentSize(table, get$9, getInner) + '%';\n    const isPercentSizing$1 = table => getRawWidth$1(table).exists(size => rPercentageBasedSizeRegex.test(size));\n    const isPixelSizing$1 = table => getRawWidth$1(table).exists(size => rPixelBasedSizeRegex.test(size));\n    const isNoneSizing$1 = table => getRawWidth$1(table).isNone();\n    const percentageBasedSizeRegex = constant(rPercentageBasedSizeRegex);\n\n    const isCol$1 = isTag('col');\n    const getRawW = cell => {\n      return getRawWidth$1(cell).getOrThunk(() => getPixelWidth$1(cell) + 'px');\n    };\n    const getRawH = cell => {\n      return getRawHeight(cell).getOrThunk(() => getHeight(cell) + 'px');\n    };\n    const justCols = warehouse => map$1(Warehouse.justColumns(warehouse), column => Optional.from(column.element));\n    const isValidColumn = cell => {\n      const browser = detect$2().browser;\n      const supportsColWidths = browser.isChromium() || browser.isFirefox();\n      return isCol$1(cell) ? supportsColWidths : true;\n    };\n    const getDimension = (cellOpt, index, backups, filter, getter, fallback) => cellOpt.filter(filter).fold(() => fallback(deduce(backups, index)), cell => getter(cell));\n    const getWidthFrom = (warehouse, table, getWidth, fallback) => {\n      const columnCells = columns(warehouse);\n      const columns$1 = Warehouse.hasColumns(warehouse) ? justCols(warehouse) : columnCells;\n      const backups = [Optional.some(width.edge(table))].concat(map$1(width.positions(columnCells, table), pos => pos.map(p => p.x)));\n      const colFilter = not(hasColspan);\n      return map$1(columns$1, (cellOption, c) => {\n        return getDimension(cellOption, c, backups, colFilter, column => {\n          if (isValidColumn(column)) {\n            return getWidth(column);\n          } else {\n            const cell = bindFrom(columnCells[c], identity);\n            return getDimension(cell, c, backups, colFilter, cell => fallback(Optional.some(get$9(cell))), fallback);\n          }\n        }, fallback);\n      });\n    };\n    const getDeduced = deduced => {\n      return deduced.map(d => {\n        return d + 'px';\n      }).getOr('');\n    };\n    const getRawWidths = (warehouse, table) => {\n      return getWidthFrom(warehouse, table, getRawW, getDeduced);\n    };\n    const getPercentageWidths = (warehouse, table, tableSize) => {\n      return getWidthFrom(warehouse, table, getPercentageWidth, deduced => {\n        return deduced.fold(() => {\n          return tableSize.minCellWidth();\n        }, cellWidth => {\n          return cellWidth / tableSize.pixelWidth() * 100;\n        });\n      });\n    };\n    const getPixelWidths = (warehouse, table, tableSize) => {\n      return getWidthFrom(warehouse, table, getPixelWidth$1, deduced => {\n        return deduced.getOrThunk(tableSize.minCellWidth);\n      });\n    };\n    const getHeightFrom = (warehouse, table, direction, getHeight, fallback) => {\n      const rows$1 = rows(warehouse);\n      const backups = [Optional.some(direction.edge(table))].concat(map$1(direction.positions(rows$1, table), pos => pos.map(p => p.y)));\n      return map$1(rows$1, (cellOption, c) => {\n        return getDimension(cellOption, c, backups, not(hasRowspan), getHeight, fallback);\n      });\n    };\n    const getPixelHeights = (warehouse, table, direction) => {\n      return getHeightFrom(warehouse, table, direction, getHeight, deduced => {\n        return deduced.getOrThunk(minHeight);\n      });\n    };\n    const getRawHeights = (warehouse, table, direction) => {\n      return getHeightFrom(warehouse, table, direction, getRawH, getDeduced);\n    };\n\n    const widthLookup = (table, getter) => () => {\n      if (inBody(table)) {\n        return getter(table);\n      } else {\n        return parseFloat(getRaw$2(table, 'width').getOr('0'));\n      }\n    };\n    const noneSize = table => {\n      const getWidth = widthLookup(table, get$9);\n      const zero = constant(0);\n      const getWidths = (warehouse, tableSize) => getPixelWidths(warehouse, table, tableSize);\n      return {\n        width: getWidth,\n        pixelWidth: getWidth,\n        getWidths,\n        getCellDelta: zero,\n        singleColumnWidth: constant([0]),\n        minCellWidth: zero,\n        setElementWidth: noop,\n        adjustTableWidth: noop,\n        isRelative: true,\n        label: 'none'\n      };\n    };\n    const percentageSize = table => {\n      const getFloatWidth = widthLookup(table, elem => parseFloat(getPercentTableWidth(elem)));\n      const getWidth = widthLookup(table, get$9);\n      const getCellDelta = delta => delta / getWidth() * 100;\n      const singleColumnWidth = (w, _delta) => [100 - w];\n      const minCellWidth = () => minWidth() / getWidth() * 100;\n      const adjustTableWidth = delta => {\n        const currentWidth = getFloatWidth();\n        const change = delta / 100 * currentWidth;\n        const newWidth = currentWidth + change;\n        setPercentageWidth(table, newWidth);\n      };\n      const getWidths = (warehouse, tableSize) => getPercentageWidths(warehouse, table, tableSize);\n      return {\n        width: getFloatWidth,\n        pixelWidth: getWidth,\n        getWidths,\n        getCellDelta,\n        singleColumnWidth,\n        minCellWidth,\n        setElementWidth: setPercentageWidth,\n        adjustTableWidth,\n        isRelative: true,\n        label: 'percent'\n      };\n    };\n    const pixelSize = table => {\n      const getWidth = widthLookup(table, get$9);\n      const getCellDelta = identity;\n      const singleColumnWidth = (w, delta) => {\n        const newNext = Math.max(minWidth(), w + delta);\n        return [newNext - w];\n      };\n      const adjustTableWidth = delta => {\n        const newWidth = getWidth() + delta;\n        setPixelWidth(table, newWidth);\n      };\n      const getWidths = (warehouse, tableSize) => getPixelWidths(warehouse, table, tableSize);\n      return {\n        width: getWidth,\n        pixelWidth: getWidth,\n        getWidths,\n        getCellDelta,\n        singleColumnWidth,\n        minCellWidth: minWidth,\n        setElementWidth: setPixelWidth,\n        adjustTableWidth,\n        isRelative: false,\n        label: 'pixel'\n      };\n    };\n    const chooseSize = (element, width) => {\n      const percentMatch = percentageBasedSizeRegex().exec(width);\n      if (percentMatch !== null) {\n        return percentageSize(element);\n      } else {\n        return pixelSize(element);\n      }\n    };\n    const getTableSize = table => {\n      const width = getRawWidth$1(table);\n      return width.fold(() => noneSize(table), w => chooseSize(table, w));\n    };\n    const TableSize = {\n      getTableSize,\n      pixelSize,\n      percentageSize,\n      noneSize\n    };\n\n    const statsStruct = (minRow, minCol, maxRow, maxCol, allCells, selectedCells) => ({\n      minRow,\n      minCol,\n      maxRow,\n      maxCol,\n      allCells,\n      selectedCells\n    });\n    const findSelectedStats = (house, isSelected) => {\n      const totalColumns = house.grid.columns;\n      const totalRows = house.grid.rows;\n      let minRow = totalRows;\n      let minCol = totalColumns;\n      let maxRow = 0;\n      let maxCol = 0;\n      const allCells = [];\n      const selectedCells = [];\n      each$1(house.access, detail => {\n        allCells.push(detail);\n        if (isSelected(detail)) {\n          selectedCells.push(detail);\n          const startRow = detail.row;\n          const endRow = startRow + detail.rowspan - 1;\n          const startCol = detail.column;\n          const endCol = startCol + detail.colspan - 1;\n          if (startRow < minRow) {\n            minRow = startRow;\n          } else if (endRow > maxRow) {\n            maxRow = endRow;\n          }\n          if (startCol < minCol) {\n            minCol = startCol;\n          } else if (endCol > maxCol) {\n            maxCol = endCol;\n          }\n        }\n      });\n      return statsStruct(minRow, minCol, maxRow, maxCol, allCells, selectedCells);\n    };\n    const makeCell = (list, seenSelected, rowIndex) => {\n      const row = list[rowIndex].element;\n      const td = SugarElement.fromTag('td');\n      append$1(td, SugarElement.fromTag('br'));\n      const f = seenSelected ? append$1 : prepend;\n      f(row, td);\n    };\n    const fillInGaps = (list, house, stats, isSelected) => {\n      const rows = filter$2(list, row => row.section !== 'colgroup');\n      const totalColumns = house.grid.columns;\n      const totalRows = house.grid.rows;\n      for (let i = 0; i < totalRows; i++) {\n        let seenSelected = false;\n        for (let j = 0; j < totalColumns; j++) {\n          if (!(i < stats.minRow || i > stats.maxRow || j < stats.minCol || j > stats.maxCol)) {\n            const needCell = Warehouse.getAt(house, i, j).filter(isSelected).isNone();\n            if (needCell) {\n              makeCell(rows, seenSelected, i);\n            } else {\n              seenSelected = true;\n            }\n          }\n        }\n      }\n    };\n    const clean = (replica, stats, house, widthDelta) => {\n      each$1(house.columns, col => {\n        if (col.column < stats.minCol || col.column > stats.maxCol) {\n          remove$6(col.element);\n        }\n      });\n      const emptyRows = filter$2(firstLayer(replica, 'tr'), row => row.dom.childElementCount === 0);\n      each$2(emptyRows, remove$6);\n      if (stats.minCol === stats.maxCol || stats.minRow === stats.maxRow) {\n        each$2(firstLayer(replica, 'th,td'), cell => {\n          remove$7(cell, 'rowspan');\n          remove$7(cell, 'colspan');\n        });\n      }\n      remove$7(replica, LOCKED_COL_ATTR);\n      remove$7(replica, 'data-snooker-col-series');\n      const tableSize = TableSize.getTableSize(replica);\n      tableSize.adjustTableWidth(widthDelta);\n    };\n    const getTableWidthDelta = (table, warehouse, tableSize, stats) => {\n      if (stats.minCol === 0 && warehouse.grid.columns === stats.maxCol + 1) {\n        return 0;\n      }\n      const colWidths = getPixelWidths(warehouse, table, tableSize);\n      const allColsWidth = foldl(colWidths, (acc, width) => acc + width, 0);\n      const selectedColsWidth = foldl(colWidths.slice(stats.minCol, stats.maxCol + 1), (acc, width) => acc + width, 0);\n      const newWidth = selectedColsWidth / allColsWidth * tableSize.pixelWidth();\n      const delta = newWidth - tableSize.pixelWidth();\n      return tableSize.getCellDelta(delta);\n    };\n    const extract$1 = (table, selectedSelector) => {\n      const isSelected = detail => is$2(detail.element, selectedSelector);\n      const replica = deep(table);\n      const list = fromTable$1(replica);\n      const tableSize = TableSize.getTableSize(table);\n      const replicaHouse = Warehouse.generate(list);\n      const replicaStats = findSelectedStats(replicaHouse, isSelected);\n      const selector = 'th:not(' + selectedSelector + ')' + ',td:not(' + selectedSelector + ')';\n      const unselectedCells = filterFirstLayer(replica, 'th,td', cell => is$2(cell, selector));\n      each$2(unselectedCells, remove$6);\n      fillInGaps(list, replicaHouse, replicaStats, isSelected);\n      const house = Warehouse.fromTable(table);\n      const widthDelta = getTableWidthDelta(table, house, tableSize, replicaStats);\n      clean(replica, replicaStats, replicaHouse, widthDelta);\n      return replica;\n    };\n\n    const nbsp = '\\xA0';\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api = NodeValue(isText, 'text');\n    const get$6 = element => api.get(element);\n    const getOption = element => api.getOption(element);\n    const set = (element, value) => api.set(element, value);\n\n    const getEnd = element => name(element) === 'img' ? 1 : getOption(element).fold(() => children$2(element).length, v => v.length);\n    const isTextNodeWithCursorPosition = el => getOption(el).filter(text => text.trim().length !== 0 || text.indexOf(nbsp) > -1).isSome();\n    const isContentEditableFalse = elem => isHTMLElement(elem) && get$b(elem, 'contenteditable') === 'false';\n    const elementsWithCursorPosition = [\n      'img',\n      'br'\n    ];\n    const isCursorPosition = elem => {\n      const hasCursorPosition = isTextNodeWithCursorPosition(elem);\n      return hasCursorPosition || contains$2(elementsWithCursorPosition, name(elem)) || isContentEditableFalse(elem);\n    };\n\n    const first = element => descendant$1(element, isCursorPosition);\n    const last$1 = element => descendantRtl(element, isCursorPosition);\n    const descendantRtl = (scope, predicate) => {\n      const descend = element => {\n        const children = children$2(element);\n        for (let i = children.length - 1; i >= 0; i--) {\n          const child = children[i];\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(child);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope);\n    };\n\n    const transferableAttributes = {\n      scope: [\n        'row',\n        'col'\n      ]\n    };\n    const createCell = doc => () => {\n      const td = SugarElement.fromTag('td', doc.dom);\n      append$1(td, SugarElement.fromTag('br', doc.dom));\n      return td;\n    };\n    const createCol = doc => () => {\n      return SugarElement.fromTag('col', doc.dom);\n    };\n    const createColgroup = doc => () => {\n      return SugarElement.fromTag('colgroup', doc.dom);\n    };\n    const createRow$1 = doc => () => {\n      return SugarElement.fromTag('tr', doc.dom);\n    };\n    const replace$1 = (cell, tag, attrs) => {\n      const replica = copy$2(cell, tag);\n      each$1(attrs, (v, k) => {\n        if (v === null) {\n          remove$7(replica, k);\n        } else {\n          set$2(replica, k, v);\n        }\n      });\n      return replica;\n    };\n    const pasteReplace = cell => {\n      return cell;\n    };\n    const cloneFormats = (oldCell, newCell, formats) => {\n      const first$1 = first(oldCell);\n      return first$1.map(firstText => {\n        const formatSelector = formats.join(',');\n        const parents = ancestors$3(firstText, formatSelector, element => {\n          return eq$1(element, oldCell);\n        });\n        return foldr(parents, (last, parent) => {\n          const clonedFormat = shallow(parent);\n          append$1(last, clonedFormat);\n          return clonedFormat;\n        }, newCell);\n      }).getOr(newCell);\n    };\n    const cloneAppropriateAttributes = (original, clone) => {\n      each$1(transferableAttributes, (validAttributes, attributeName) => getOpt(original, attributeName).filter(attribute => contains$2(validAttributes, attribute)).each(attribute => set$2(clone, attributeName, attribute)));\n    };\n    const cellOperations = (mutate, doc, formatsToClone) => {\n      const cloneCss = (prev, clone) => {\n        copy$1(prev.element, clone);\n        remove$5(clone, 'height');\n        if (prev.colspan !== 1) {\n          remove$5(clone, 'width');\n        }\n      };\n      const newCell = prev => {\n        const td = SugarElement.fromTag(name(prev.element), doc.dom);\n        const formats = formatsToClone.getOr([\n          'strong',\n          'em',\n          'b',\n          'i',\n          'span',\n          'font',\n          'h1',\n          'h2',\n          'h3',\n          'h4',\n          'h5',\n          'h6',\n          'p',\n          'div'\n        ]);\n        const lastNode = formats.length > 0 ? cloneFormats(prev.element, td, formats) : td;\n        append$1(lastNode, SugarElement.fromTag('br'));\n        cloneCss(prev, td);\n        cloneAppropriateAttributes(prev.element, td);\n        mutate(prev.element, td);\n        return td;\n      };\n      const newCol = prev => {\n        const col = SugarElement.fromTag(name(prev.element), doc.dom);\n        cloneCss(prev, col);\n        mutate(prev.element, col);\n        return col;\n      };\n      return {\n        col: newCol,\n        colgroup: createColgroup(doc),\n        row: createRow$1(doc),\n        cell: newCell,\n        replace: replace$1,\n        colGap: createCol(doc),\n        gap: createCell(doc)\n      };\n    };\n    const paste$1 = doc => {\n      return {\n        col: createCol(doc),\n        colgroup: createColgroup(doc),\n        row: createRow$1(doc),\n        cell: createCell(doc),\n        replace: pasteReplace,\n        colGap: createCol(doc),\n        gap: createCell(doc)\n      };\n    };\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      return children$2(SugarElement.fromDom(div));\n    };\n    const fromDom = nodes => map$1(nodes, SugarElement.fromDom);\n\n    const closest = target => closest$1(target, '[contenteditable]');\n    const isEditable$1 = (element, assumeEditable = false) => {\n      if (inBody(element)) {\n        return element.dom.isContentEditable;\n      } else {\n        return closest(element).fold(constant(assumeEditable), editable => getRaw(editable) === 'true');\n      }\n    };\n    const getRaw = element => element.dom.contentEditable;\n\n    const getBody = editor => SugarElement.fromDom(editor.getBody());\n    const getIsRoot = editor => element => eq$1(element, getBody(editor));\n    const removeDataStyle = table => {\n      remove$7(table, 'data-mce-style');\n      const removeStyleAttribute = element => remove$7(element, 'data-mce-style');\n      each$2(cells$1(table), removeStyleAttribute);\n      each$2(columns$1(table), removeStyleAttribute);\n      each$2(rows$1(table), removeStyleAttribute);\n    };\n    const getSelectionStart = editor => SugarElement.fromDom(editor.selection.getStart());\n    const getPixelWidth = elm => elm.getBoundingClientRect().width;\n    const getPixelHeight = elm => elm.getBoundingClientRect().height;\n    const getRawWidth = (editor, elm) => {\n      const raw = editor.dom.getStyle(elm, 'width') || editor.dom.getAttrib(elm, 'width');\n      return Optional.from(raw).filter(isNotEmpty);\n    };\n    const isPercentage$1 = value => /^(\\d+(\\.\\d+)?)%$/.test(value);\n    const isPixel = value => /^(\\d+(\\.\\d+)?)px$/.test(value);\n    const isInEditableContext$1 = cell => closest$2(cell, isTag('table')).exists(isEditable$1);\n\n    const inSelection = (bounds, detail) => {\n      const leftEdge = detail.column;\n      const rightEdge = detail.column + detail.colspan - 1;\n      const topEdge = detail.row;\n      const bottomEdge = detail.row + detail.rowspan - 1;\n      return leftEdge <= bounds.finishCol && rightEdge >= bounds.startCol && (topEdge <= bounds.finishRow && bottomEdge >= bounds.startRow);\n    };\n    const isWithin = (bounds, detail) => {\n      return detail.column >= bounds.startCol && detail.column + detail.colspan - 1 <= bounds.finishCol && detail.row >= bounds.startRow && detail.row + detail.rowspan - 1 <= bounds.finishRow;\n    };\n    const isRectangular = (warehouse, bounds) => {\n      let isRect = true;\n      const detailIsWithin = curry(isWithin, bounds);\n      for (let i = bounds.startRow; i <= bounds.finishRow; i++) {\n        for (let j = bounds.startCol; j <= bounds.finishCol; j++) {\n          isRect = isRect && Warehouse.getAt(warehouse, i, j).exists(detailIsWithin);\n        }\n      }\n      return isRect ? Optional.some(bounds) : Optional.none();\n    };\n\n    const getBounds = (detailA, detailB) => {\n      return bounds(Math.min(detailA.row, detailB.row), Math.min(detailA.column, detailB.column), Math.max(detailA.row + detailA.rowspan - 1, detailB.row + detailB.rowspan - 1), Math.max(detailA.column + detailA.colspan - 1, detailB.column + detailB.colspan - 1));\n    };\n    const getAnyBox = (warehouse, startCell, finishCell) => {\n      const startCoords = Warehouse.findItem(warehouse, startCell, eq$1);\n      const finishCoords = Warehouse.findItem(warehouse, finishCell, eq$1);\n      return startCoords.bind(sc => {\n        return finishCoords.map(fc => {\n          return getBounds(sc, fc);\n        });\n      });\n    };\n    const getBox$1 = (warehouse, startCell, finishCell) => {\n      return getAnyBox(warehouse, startCell, finishCell).bind(bounds => {\n        return isRectangular(warehouse, bounds);\n      });\n    };\n\n    const moveBy$1 = (warehouse, cell, row, column) => {\n      return Warehouse.findItem(warehouse, cell, eq$1).bind(detail => {\n        const startRow = row > 0 ? detail.row + detail.rowspan - 1 : detail.row;\n        const startCol = column > 0 ? detail.column + detail.colspan - 1 : detail.column;\n        const dest = Warehouse.getAt(warehouse, startRow + row, startCol + column);\n        return dest.map(d => {\n          return d.element;\n        });\n      });\n    };\n    const intercepts$1 = (warehouse, start, finish) => {\n      return getAnyBox(warehouse, start, finish).map(bounds => {\n        const inside = Warehouse.filterItems(warehouse, curry(inSelection, bounds));\n        return map$1(inside, detail => {\n          return detail.element;\n        });\n      });\n    };\n    const parentCell = (warehouse, innerCell) => {\n      const isContainedBy = (c1, c2) => {\n        return contains$1(c2, c1);\n      };\n      return Warehouse.findItem(warehouse, innerCell, isContainedBy).map(detail => {\n        return detail.element;\n      });\n    };\n\n    const moveBy = (cell, deltaRow, deltaColumn) => {\n      return table(cell).bind(table => {\n        const warehouse = getWarehouse(table);\n        return moveBy$1(warehouse, cell, deltaRow, deltaColumn);\n      });\n    };\n    const intercepts = (table, first, last) => {\n      const warehouse = getWarehouse(table);\n      return intercepts$1(warehouse, first, last);\n    };\n    const nestedIntercepts = (table, first, firstTable, last, lastTable) => {\n      const warehouse = getWarehouse(table);\n      const optStartCell = eq$1(table, firstTable) ? Optional.some(first) : parentCell(warehouse, first);\n      const optLastCell = eq$1(table, lastTable) ? Optional.some(last) : parentCell(warehouse, last);\n      return optStartCell.bind(startCell => optLastCell.bind(lastCell => intercepts$1(warehouse, startCell, lastCell)));\n    };\n    const getBox = (table, first, last) => {\n      const warehouse = getWarehouse(table);\n      return getBox$1(warehouse, first, last);\n    };\n    const getWarehouse = Warehouse.fromTable;\n\n    var TagBoundaries = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'li',\n      'table',\n      'thead',\n      'tbody',\n      'tfoot',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n\n    var DomUniverse = () => {\n      const clone = element => {\n        return SugarElement.fromDom(element.dom.cloneNode(false));\n      };\n      const document = element => documentOrOwner(element).dom;\n      const isBoundary = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        if (name(element) === 'body') {\n          return true;\n        }\n        return contains$2(TagBoundaries, name(element));\n      };\n      const isEmptyTag = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        return contains$2([\n          'br',\n          'img',\n          'hr',\n          'input'\n        ], name(element));\n      };\n      const isNonEditable = element => isElement(element) && get$b(element, 'contenteditable') === 'false';\n      const comparePosition = (element, other) => {\n        return element.dom.compareDocumentPosition(other.dom);\n      };\n      const copyAttributesTo = (source, destination) => {\n        const as = clone$2(source);\n        setAll$1(destination, as);\n      };\n      const isSpecial = element => {\n        const tag = name(element);\n        return contains$2([\n          'script',\n          'noscript',\n          'iframe',\n          'noframes',\n          'noembed',\n          'title',\n          'style',\n          'textarea',\n          'xmp'\n        ], tag);\n      };\n      const getLanguage = element => isElement(element) ? getOpt(element, 'lang') : Optional.none();\n      return {\n        up: constant({\n          selector: ancestor$1,\n          closest: closest$1,\n          predicate: ancestor$2,\n          all: parents\n        }),\n        down: constant({\n          selector: descendants,\n          predicate: descendants$1\n        }),\n        styles: constant({\n          get: get$a,\n          getRaw: getRaw$2,\n          set: set$1,\n          remove: remove$5\n        }),\n        attrs: constant({\n          get: get$b,\n          set: set$2,\n          remove: remove$7,\n          copyTo: copyAttributesTo\n        }),\n        insert: constant({\n          before: before$3,\n          after: after$5,\n          afterAll: after$4,\n          append: append$1,\n          appendAll: append,\n          prepend: prepend,\n          wrap: wrap\n        }),\n        remove: constant({\n          unwrap: unwrap,\n          remove: remove$6\n        }),\n        create: constant({\n          nu: SugarElement.fromTag,\n          clone,\n          text: SugarElement.fromText\n        }),\n        query: constant({\n          comparePosition,\n          prevSibling: prevSibling,\n          nextSibling: nextSibling\n        }),\n        property: constant({\n          children: children$2,\n          name: name,\n          parent: parent,\n          document,\n          isText: isText,\n          isComment: isComment,\n          isElement: isElement,\n          isSpecial,\n          getLanguage,\n          getText: get$6,\n          setText: set,\n          isBoundary,\n          isEmptyTag,\n          isNonEditable\n        }),\n        eq: eq$1,\n        is: is$1\n      };\n    };\n\n    const all = (universe, look, elements, f) => {\n      const head = elements[0];\n      const tail = elements.slice(1);\n      return f(universe, look, head, tail);\n    };\n    const oneAll = (universe, look, elements) => {\n      return elements.length > 0 ? all(universe, look, elements, unsafeOne) : Optional.none();\n    };\n    const unsafeOne = (universe, look, head, tail) => {\n      const start = look(universe, head);\n      return foldr(tail, (b, a) => {\n        const current = look(universe, a);\n        return commonElement(universe, b, current);\n      }, start);\n    };\n    const commonElement = (universe, start, end) => {\n      return start.bind(s => {\n        return end.filter(curry(universe.eq, s));\n      });\n    };\n\n    const eq = (universe, item) => {\n      return curry(universe.eq, item);\n    };\n    const ancestors$2 = (universe, start, end, isRoot = never) => {\n      const ps1 = [start].concat(universe.up().all(start));\n      const ps2 = [end].concat(universe.up().all(end));\n      const prune = path => {\n        const index = findIndex(path, isRoot);\n        return index.fold(() => {\n          return path;\n        }, ind => {\n          return path.slice(0, ind + 1);\n        });\n      };\n      const pruned1 = prune(ps1);\n      const pruned2 = prune(ps2);\n      const shared = find$1(pruned1, x => {\n        return exists(pruned2, eq(universe, x));\n      });\n      return {\n        firstpath: pruned1,\n        secondpath: pruned2,\n        shared\n      };\n    };\n\n    const sharedOne$1 = oneAll;\n    const ancestors$1 = ancestors$2;\n\n    const universe$3 = DomUniverse();\n    const sharedOne = (look, elements) => {\n      return sharedOne$1(universe$3, (_universe, element) => {\n        return look(element);\n      }, elements);\n    };\n    const ancestors = (start, finish, isRoot) => {\n      return ancestors$1(universe$3, start, finish, isRoot);\n    };\n\n    const lookupTable = container => {\n      return ancestor$1(container, 'table');\n    };\n    const identify = (start, finish, isRoot) => {\n      const getIsRoot = rootTable => {\n        return element => {\n          return isRoot !== undefined && isRoot(element) || eq$1(element, rootTable);\n        };\n      };\n      if (eq$1(start, finish)) {\n        return Optional.some({\n          boxes: Optional.some([start]),\n          start,\n          finish\n        });\n      } else {\n        return lookupTable(start).bind(startTable => {\n          return lookupTable(finish).bind(finishTable => {\n            if (eq$1(startTable, finishTable)) {\n              return Optional.some({\n                boxes: intercepts(startTable, start, finish),\n                start,\n                finish\n              });\n            } else if (contains$1(startTable, finishTable)) {\n              const ancestorCells = ancestors$3(finish, 'td,th', getIsRoot(startTable));\n              const finishCell = ancestorCells.length > 0 ? ancestorCells[ancestorCells.length - 1] : finish;\n              return Optional.some({\n                boxes: nestedIntercepts(startTable, start, startTable, finish, finishTable),\n                start,\n                finish: finishCell\n              });\n            } else if (contains$1(finishTable, startTable)) {\n              const ancestorCells = ancestors$3(start, 'td,th', getIsRoot(finishTable));\n              const startCell = ancestorCells.length > 0 ? ancestorCells[ancestorCells.length - 1] : start;\n              return Optional.some({\n                boxes: nestedIntercepts(finishTable, start, startTable, finish, finishTable),\n                start,\n                finish: startCell\n              });\n            } else {\n              return ancestors(start, finish).shared.bind(lca => {\n                return closest$1(lca, 'table', isRoot).bind(lcaTable => {\n                  const finishAncestorCells = ancestors$3(finish, 'td,th', getIsRoot(lcaTable));\n                  const finishCell = finishAncestorCells.length > 0 ? finishAncestorCells[finishAncestorCells.length - 1] : finish;\n                  const startAncestorCells = ancestors$3(start, 'td,th', getIsRoot(lcaTable));\n                  const startCell = startAncestorCells.length > 0 ? startAncestorCells[startAncestorCells.length - 1] : start;\n                  return Optional.some({\n                    boxes: nestedIntercepts(lcaTable, start, startTable, finish, finishTable),\n                    start: startCell,\n                    finish: finishCell\n                  });\n                });\n              });\n            }\n          });\n        });\n      }\n    };\n    const retrieve$1 = (container, selector) => {\n      const sels = descendants(container, selector);\n      return sels.length > 0 ? Optional.some(sels) : Optional.none();\n    };\n    const getLast = (boxes, lastSelectedSelector) => {\n      return find$1(boxes, box => {\n        return is$2(box, lastSelectedSelector);\n      });\n    };\n    const getEdges = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return descendant(container, firstSelectedSelector).bind(first => {\n        return descendant(container, lastSelectedSelector).bind(last => {\n          return sharedOne(lookupTable, [\n            first,\n            last\n          ]).map(table => {\n            return {\n              first,\n              last,\n              table\n            };\n          });\n        });\n      });\n    };\n    const expandTo = (finish, firstSelectedSelector) => {\n      return ancestor$1(finish, 'table').bind(table => {\n        return descendant(table, firstSelectedSelector).bind(start => {\n          return identify(start, finish).bind(identified => {\n            return identified.boxes.map(boxes => {\n              return {\n                boxes,\n                start: identified.start,\n                finish: identified.finish\n              };\n            });\n          });\n        });\n      });\n    };\n    const shiftSelection = (boxes, deltaRow, deltaColumn, firstSelectedSelector, lastSelectedSelector) => {\n      return getLast(boxes, lastSelectedSelector).bind(last => {\n        return moveBy(last, deltaRow, deltaColumn).bind(finish => {\n          return expandTo(finish, firstSelectedSelector);\n        });\n      });\n    };\n\n    const retrieve = (container, selector) => {\n      return retrieve$1(container, selector);\n    };\n    const retrieveBox = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return getEdges(container, firstSelectedSelector, lastSelectedSelector).bind(edges => {\n        const isRoot = ancestor => {\n          return eq$1(container, ancestor);\n        };\n        const sectionSelector = 'thead,tfoot,tbody,table';\n        const firstAncestor = ancestor$1(edges.first, sectionSelector, isRoot);\n        const lastAncestor = ancestor$1(edges.last, sectionSelector, isRoot);\n        return firstAncestor.bind(fA => {\n          return lastAncestor.bind(lA => {\n            return eq$1(fA, lA) ? getBox(edges.table, edges.first, edges.last) : Optional.none();\n          });\n        });\n      });\n    };\n\n    const selection = identity;\n    const unmergable = selectedCells => {\n      const hasSpan = (elem, type) => getOpt(elem, type).exists(span => parseInt(span, 10) > 1);\n      const hasRowOrColSpan = elem => hasSpan(elem, 'rowspan') || hasSpan(elem, 'colspan');\n      return selectedCells.length > 0 && forall(selectedCells, hasRowOrColSpan) ? Optional.some(selectedCells) : Optional.none();\n    };\n    const mergable = (table, selectedCells, ephemera) => {\n      if (selectedCells.length <= 1) {\n        return Optional.none();\n      } else {\n        return retrieveBox(table, ephemera.firstSelectedSelector, ephemera.lastSelectedSelector).map(bounds => ({\n          bounds,\n          cells: selectedCells\n        }));\n      }\n    };\n\n    const strSelected = 'data-mce-selected';\n    const strSelectedSelector = 'td[' + strSelected + '],th[' + strSelected + ']';\n    const strAttributeSelector = '[' + strSelected + ']';\n    const strFirstSelected = 'data-mce-first-selected';\n    const strFirstSelectedSelector = 'td[' + strFirstSelected + '],th[' + strFirstSelected + ']';\n    const strLastSelected = 'data-mce-last-selected';\n    const strLastSelectedSelector = 'td[' + strLastSelected + '],th[' + strLastSelected + ']';\n    const attributeSelector = strAttributeSelector;\n    const ephemera = {\n      selected: strSelected,\n      selectedSelector: strSelectedSelector,\n      firstSelected: strFirstSelected,\n      firstSelectedSelector: strFirstSelectedSelector,\n      lastSelected: strLastSelected,\n      lastSelectedSelector: strLastSelectedSelector\n    };\n\n    const forMenu = (selectedCells, table, cell) => ({\n      element: cell,\n      mergable: mergable(table, selectedCells, ephemera),\n      unmergable: unmergable(selectedCells),\n      selection: selection(selectedCells)\n    });\n    const paste = (element, clipboard, generators) => ({\n      element,\n      clipboard,\n      generators\n    });\n    const pasteRows = (selectedCells, _cell, clipboard, generators) => ({\n      selection: selection(selectedCells),\n      clipboard,\n      generators\n    });\n\n    const getSelectionCellFallback = element => table(element).bind(table => retrieve(table, ephemera.firstSelectedSelector)).fold(constant(element), cells => cells[0]);\n    const getSelectionFromSelector = selector => (initCell, isRoot) => {\n      const cellName = name(initCell);\n      const cell = cellName === 'col' || cellName === 'colgroup' ? getSelectionCellFallback(initCell) : initCell;\n      return closest$1(cell, selector, isRoot);\n    };\n    const getSelectionCellOrCaption = getSelectionFromSelector('th,td,caption');\n    const getSelectionCell = getSelectionFromSelector('th,td');\n    const getCellsFromSelection = editor => fromDom(editor.model.table.getSelectedCells());\n    const getCellsFromFakeSelection = editor => filter$2(getCellsFromSelection(editor), cell => is$2(cell, ephemera.selectedSelector));\n\n    const extractSelected = cells => {\n      return table(cells[0]).map(table => {\n        const replica = extract$1(table, attributeSelector);\n        removeDataStyle(replica);\n        return [replica];\n      });\n    };\n    const serializeElements = (editor, elements) => map$1(elements, elm => editor.selection.serializer.serialize(elm.dom, {})).join('');\n    const getTextContent = elements => map$1(elements, element => element.dom.innerText).join('');\n    const registerEvents = (editor, actions) => {\n      editor.on('BeforeGetContent', e => {\n        const multiCellContext = cells => {\n          e.preventDefault();\n          extractSelected(cells).each(elements => {\n            e.content = e.format === 'text' ? getTextContent(elements) : serializeElements(editor, elements);\n          });\n        };\n        if (e.selection === true) {\n          const cells = getCellsFromFakeSelection(editor);\n          if (cells.length >= 1) {\n            multiCellContext(cells);\n          }\n        }\n      });\n      editor.on('BeforeSetContent', e => {\n        if (e.selection === true && e.paste === true) {\n          const selectedCells = getCellsFromSelection(editor);\n          head(selectedCells).each(cell => {\n            table(cell).each(table => {\n              const elements = filter$2(fromHtml(e.content), content => {\n                return name(content) !== 'meta';\n              });\n              const isTable = isTag('table');\n              if (elements.length === 1 && isTable(elements[0])) {\n                e.preventDefault();\n                const doc = SugarElement.fromDom(editor.getDoc());\n                const generators = paste$1(doc);\n                const targets = paste(cell, elements[0], generators);\n                actions.pasteCells(table, targets).each(() => {\n                  editor.focus();\n                });\n              }\n            });\n          });\n        }\n      });\n    };\n\n    const point = (element, offset) => ({\n      element,\n      offset\n    });\n\n    const scan$1 = (universe, element, direction) => {\n      if (universe.property().isText(element) && universe.property().getText(element).trim().length === 0 || universe.property().isComment(element)) {\n        return direction(element).bind(elem => {\n          return scan$1(universe, elem, direction).orThunk(() => {\n            return Optional.some(elem);\n          });\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const toEnd = (universe, element) => {\n      if (universe.property().isText(element)) {\n        return universe.property().getText(element).length;\n      }\n      const children = universe.property().children(element);\n      return children.length;\n    };\n    const freefallRtl$2 = (universe, element) => {\n      const candidate = scan$1(universe, element, universe.query().prevSibling).getOr(element);\n      if (universe.property().isText(candidate)) {\n        return point(candidate, toEnd(universe, candidate));\n      }\n      const children = universe.property().children(candidate);\n      return children.length > 0 ? freefallRtl$2(universe, children[children.length - 1]) : point(candidate, toEnd(universe, candidate));\n    };\n\n    const freefallRtl$1 = freefallRtl$2;\n\n    const universe$2 = DomUniverse();\n    const freefallRtl = element => {\n      return freefallRtl$1(universe$2, element);\n    };\n\n    const halve = (main, other) => {\n      if (!hasColspan(main)) {\n        const width = getGenericWidth(main);\n        width.each(w => {\n          const newWidth = w.value / 2;\n          setGenericWidth(main, newWidth, w.unit);\n          setGenericWidth(other, newWidth, w.unit);\n        });\n      }\n    };\n\n    const zero = array => map$1(array, constant(0));\n    const surround = (sizes, startIndex, endIndex, results, f) => f(sizes.slice(0, startIndex)).concat(results).concat(f(sizes.slice(endIndex)));\n    const clampDeltaHelper = predicate => (sizes, index, delta, minCellSize) => {\n      if (!predicate(delta)) {\n        return delta;\n      } else {\n        const newSize = Math.max(minCellSize, sizes[index] - Math.abs(delta));\n        const diff = Math.abs(newSize - sizes[index]);\n        return delta >= 0 ? diff : -diff;\n      }\n    };\n    const clampNegativeDelta = clampDeltaHelper(delta => delta < 0);\n    const clampDelta = clampDeltaHelper(always);\n    const resizeTable = () => {\n      const calcFixedDeltas = (sizes, index, next, delta, minCellSize) => {\n        const clampedDelta = clampNegativeDelta(sizes, index, delta, minCellSize);\n        return surround(sizes, index, next + 1, [\n          clampedDelta,\n          0\n        ], zero);\n      };\n      const calcRelativeDeltas = (sizes, index, delta, minCellSize) => {\n        const ratio = (100 + delta) / 100;\n        const newThis = Math.max(minCellSize, (sizes[index] + delta) / ratio);\n        return map$1(sizes, (size, idx) => {\n          const newSize = idx === index ? newThis : size / ratio;\n          return newSize - size;\n        });\n      };\n      const calcLeftEdgeDeltas = (sizes, index, next, delta, minCellSize, isRelative) => {\n        if (isRelative) {\n          return calcRelativeDeltas(sizes, index, delta, minCellSize);\n        } else {\n          return calcFixedDeltas(sizes, index, next, delta, minCellSize);\n        }\n      };\n      const calcMiddleDeltas = (sizes, _prev, index, next, delta, minCellSize, isRelative) => calcLeftEdgeDeltas(sizes, index, next, delta, minCellSize, isRelative);\n      const resizeTable = (resizer, delta) => resizer(delta);\n      const calcRightEdgeDeltas = (sizes, _prev, index, delta, minCellSize, isRelative) => {\n        if (isRelative) {\n          return calcRelativeDeltas(sizes, index, delta, minCellSize);\n        } else {\n          const clampedDelta = clampNegativeDelta(sizes, index, delta, minCellSize);\n          return zero(sizes.slice(0, index)).concat([clampedDelta]);\n        }\n      };\n      const calcRedestributedWidths = (sizes, totalWidth, pixelDelta, isRelative) => {\n        if (isRelative) {\n          const tableWidth = totalWidth + pixelDelta;\n          const ratio = tableWidth / totalWidth;\n          const newSizes = map$1(sizes, size => size / ratio);\n          return {\n            delta: ratio * 100 - 100,\n            newSizes\n          };\n        } else {\n          return {\n            delta: pixelDelta,\n            newSizes: sizes\n          };\n        }\n      };\n      return {\n        resizeTable,\n        clampTableDelta: clampNegativeDelta,\n        calcLeftEdgeDeltas,\n        calcMiddleDeltas,\n        calcRightEdgeDeltas,\n        calcRedestributedWidths\n      };\n    };\n    const preserveTable = () => {\n      const calcLeftEdgeDeltas = (sizes, index, next, delta, minCellSize) => {\n        const idx = delta >= 0 ? next : index;\n        const clampedDelta = clampDelta(sizes, idx, delta, minCellSize);\n        return surround(sizes, index, next + 1, [\n          clampedDelta,\n          -clampedDelta\n        ], zero);\n      };\n      const calcMiddleDeltas = (sizes, _prev, index, next, delta, minCellSize) => calcLeftEdgeDeltas(sizes, index, next, delta, minCellSize);\n      const resizeTable = (resizer, delta, isLastColumn) => {\n        if (isLastColumn) {\n          resizer(delta);\n        }\n      };\n      const calcRightEdgeDeltas = (sizes, _prev, _index, delta, _minCellSize, isRelative) => {\n        if (isRelative) {\n          return zero(sizes);\n        } else {\n          const diff = delta / sizes.length;\n          return map$1(sizes, constant(diff));\n        }\n      };\n      const clampTableDelta = (sizes, index, delta, minCellSize, isLastColumn) => {\n        if (isLastColumn) {\n          if (delta >= 0) {\n            return delta;\n          } else {\n            const maxDelta = foldl(sizes, (a, b) => a + b - minCellSize, 0);\n            return Math.max(-maxDelta, delta);\n          }\n        } else {\n          return clampNegativeDelta(sizes, index, delta, minCellSize);\n        }\n      };\n      const calcRedestributedWidths = (sizes, _totalWidth, _pixelDelta, _isRelative) => ({\n        delta: 0,\n        newSizes: sizes\n      });\n      return {\n        resizeTable,\n        clampTableDelta,\n        calcLeftEdgeDeltas,\n        calcMiddleDeltas,\n        calcRightEdgeDeltas,\n        calcRedestributedWidths\n      };\n    };\n\n    const getGridSize = table => {\n      const warehouse = Warehouse.fromTable(table);\n      return warehouse.grid;\n    };\n\n    const isHeaderCell = isTag('th');\n    const isHeaderCells = cells => forall(cells, cell => isHeaderCell(cell.element));\n    const getRowHeaderType = (isHeaderRow, isHeaderCells) => {\n      if (isHeaderRow && isHeaderCells) {\n        return 'sectionCells';\n      } else if (isHeaderRow) {\n        return 'section';\n      } else {\n        return 'cells';\n      }\n    };\n    const getRowType = row => {\n      const isHeaderRow = row.section === 'thead';\n      const isHeaderCells = is(findCommonCellType(row.cells), 'th');\n      if (row.section === 'tfoot') {\n        return { type: 'footer' };\n      } else if (isHeaderRow || isHeaderCells) {\n        return {\n          type: 'header',\n          subType: getRowHeaderType(isHeaderRow, isHeaderCells)\n        };\n      } else {\n        return { type: 'body' };\n      }\n    };\n    const findCommonCellType = cells => {\n      const headerCells = filter$2(cells, cell => isHeaderCell(cell.element));\n      if (headerCells.length === 0) {\n        return Optional.some('td');\n      } else if (headerCells.length === cells.length) {\n        return Optional.some('th');\n      } else {\n        return Optional.none();\n      }\n    };\n    const findCommonRowType = rows => {\n      const rowTypes = map$1(rows, row => getRowType(row).type);\n      const hasHeader = contains$2(rowTypes, 'header');\n      const hasFooter = contains$2(rowTypes, 'footer');\n      if (!hasHeader && !hasFooter) {\n        return Optional.some('body');\n      } else {\n        const hasBody = contains$2(rowTypes, 'body');\n        if (hasHeader && !hasBody && !hasFooter) {\n          return Optional.some('header');\n        } else if (!hasHeader && !hasBody && hasFooter) {\n          return Optional.some('footer');\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    const findTableRowHeaderType = warehouse => findMap(warehouse.all, row => {\n      const rowType = getRowType(row);\n      return rowType.type === 'header' ? Optional.from(rowType.subType) : Optional.none();\n    });\n\n    const transformCell = (cell, comparator, substitution) => elementnew(substitution(cell.element, comparator), true, cell.isLocked);\n    const transformRow = (row, section) => row.section !== section ? rowcells(row.element, row.cells, section, row.isNew) : row;\n    const section = () => ({\n      transformRow,\n      transformCell: (cell, comparator, substitution) => {\n        const newCell = substitution(cell.element, comparator);\n        const fixedCell = name(newCell) !== 'td' ? mutate$1(newCell, 'td') : newCell;\n        return elementnew(fixedCell, cell.isNew, cell.isLocked);\n      }\n    });\n    const sectionCells = () => ({\n      transformRow,\n      transformCell\n    });\n    const cells = () => ({\n      transformRow: (row, section) => {\n        const newSection = section === 'thead' ? 'tbody' : section;\n        return transformRow(row, newSection);\n      },\n      transformCell\n    });\n    const fallback = () => ({\n      transformRow: identity,\n      transformCell\n    });\n    const getTableSectionType = (table, fallback) => {\n      const warehouse = Warehouse.fromTable(table);\n      const type = findTableRowHeaderType(warehouse).getOr(fallback);\n      switch (type) {\n      case 'section':\n        return section();\n      case 'sectionCells':\n        return sectionCells();\n      case 'cells':\n        return cells();\n      }\n    };\n    const TableSection = {\n      getTableSectionType,\n      section,\n      sectionCells,\n      cells,\n      fallback\n    };\n\n    const setIfNot = (element, property, value, ignore) => {\n      if (value === ignore) {\n        remove$7(element, property);\n      } else {\n        set$2(element, property, value);\n      }\n    };\n    const insert$1 = (table, selector, element) => {\n      last$2(children(table, selector)).fold(() => prepend(table, element), child => after$5(child, element));\n    };\n    const generateSection = (table, sectionName) => {\n      const section = child(table, sectionName).getOrThunk(() => {\n        const newSection = SugarElement.fromTag(sectionName, owner(table).dom);\n        if (sectionName === 'thead') {\n          insert$1(table, 'caption,colgroup', newSection);\n        } else if (sectionName === 'colgroup') {\n          insert$1(table, 'caption', newSection);\n        } else {\n          append$1(table, newSection);\n        }\n        return newSection;\n      });\n      empty(section);\n      return section;\n    };\n    const render$1 = (table, grid) => {\n      const newRows = [];\n      const newCells = [];\n      const syncRows = gridSection => map$1(gridSection, row => {\n        if (row.isNew) {\n          newRows.push(row.element);\n        }\n        const tr = row.element;\n        empty(tr);\n        each$2(row.cells, cell => {\n          if (cell.isNew) {\n            newCells.push(cell.element);\n          }\n          setIfNot(cell.element, 'colspan', cell.colspan, 1);\n          setIfNot(cell.element, 'rowspan', cell.rowspan, 1);\n          append$1(tr, cell.element);\n        });\n        return tr;\n      });\n      const syncColGroup = gridSection => bind$2(gridSection, colGroup => map$1(colGroup.cells, col => {\n        setIfNot(col.element, 'span', col.colspan, 1);\n        return col.element;\n      }));\n      const renderSection = (gridSection, sectionName) => {\n        const section = generateSection(table, sectionName);\n        const sync = sectionName === 'colgroup' ? syncColGroup : syncRows;\n        const sectionElems = sync(gridSection);\n        append(section, sectionElems);\n      };\n      const removeSection = sectionName => {\n        child(table, sectionName).each(remove$6);\n      };\n      const renderOrRemoveSection = (gridSection, sectionName) => {\n        if (gridSection.length > 0) {\n          renderSection(gridSection, sectionName);\n        } else {\n          removeSection(sectionName);\n        }\n      };\n      const headSection = [];\n      const bodySection = [];\n      const footSection = [];\n      const columnGroupsSection = [];\n      each$2(grid, row => {\n        switch (row.section) {\n        case 'thead':\n          headSection.push(row);\n          break;\n        case 'tbody':\n          bodySection.push(row);\n          break;\n        case 'tfoot':\n          footSection.push(row);\n          break;\n        case 'colgroup':\n          columnGroupsSection.push(row);\n          break;\n        }\n      });\n      renderOrRemoveSection(columnGroupsSection, 'colgroup');\n      renderOrRemoveSection(headSection, 'thead');\n      renderOrRemoveSection(bodySection, 'tbody');\n      renderOrRemoveSection(footSection, 'tfoot');\n      return {\n        newRows,\n        newCells\n      };\n    };\n    const copy = grid => map$1(grid, row => {\n      const tr = shallow(row.element);\n      each$2(row.cells, cell => {\n        const clonedCell = deep(cell.element);\n        setIfNot(clonedCell, 'colspan', cell.colspan, 1);\n        setIfNot(clonedCell, 'rowspan', cell.rowspan, 1);\n        append$1(tr, clonedCell);\n      });\n      return tr;\n    });\n\n    const getColumn = (grid, index) => {\n      return map$1(grid, row => {\n        return getCell(row, index);\n      });\n    };\n    const getRow = (grid, index) => {\n      return grid[index];\n    };\n    const findDiff = (xs, comp) => {\n      if (xs.length === 0) {\n        return 0;\n      }\n      const first = xs[0];\n      const index = findIndex(xs, x => {\n        return !comp(first.element, x.element);\n      });\n      return index.getOr(xs.length);\n    };\n    const subgrid = (grid, row, column, comparator) => {\n      const gridRow = getRow(grid, row);\n      const isColRow = gridRow.section === 'colgroup';\n      const colspan = findDiff(gridRow.cells.slice(column), comparator);\n      const rowspan = isColRow ? 1 : findDiff(getColumn(grid.slice(row), column), comparator);\n      return {\n        colspan,\n        rowspan\n      };\n    };\n\n    const toDetails = (grid, comparator) => {\n      const seen = map$1(grid, row => map$1(row.cells, never));\n      const updateSeen = (rowIndex, columnIndex, rowspan, colspan) => {\n        for (let row = rowIndex; row < rowIndex + rowspan; row++) {\n          for (let column = columnIndex; column < columnIndex + colspan; column++) {\n            seen[row][column] = true;\n          }\n        }\n      };\n      return map$1(grid, (row, rowIndex) => {\n        const details = bind$2(row.cells, (cell, columnIndex) => {\n          if (seen[rowIndex][columnIndex] === false) {\n            const result = subgrid(grid, rowIndex, columnIndex, comparator);\n            updateSeen(rowIndex, columnIndex, result.rowspan, result.colspan);\n            return [detailnew(cell.element, result.rowspan, result.colspan, cell.isNew)];\n          } else {\n            return [];\n          }\n        });\n        return rowdetailnew(row.element, details, row.section, row.isNew);\n      });\n    };\n    const toGrid = (warehouse, generators, isNew) => {\n      const grid = [];\n      each$2(warehouse.colgroups, colgroup => {\n        const colgroupCols = [];\n        for (let columnIndex = 0; columnIndex < warehouse.grid.columns; columnIndex++) {\n          const element = Warehouse.getColumnAt(warehouse, columnIndex).map(column => elementnew(column.element, isNew, false)).getOrThunk(() => elementnew(generators.colGap(), true, false));\n          colgroupCols.push(element);\n        }\n        grid.push(rowcells(colgroup.element, colgroupCols, 'colgroup', isNew));\n      });\n      for (let rowIndex = 0; rowIndex < warehouse.grid.rows; rowIndex++) {\n        const rowCells = [];\n        for (let columnIndex = 0; columnIndex < warehouse.grid.columns; columnIndex++) {\n          const element = Warehouse.getAt(warehouse, rowIndex, columnIndex).map(item => elementnew(item.element, isNew, item.isLocked)).getOrThunk(() => elementnew(generators.gap(), true, false));\n          rowCells.push(element);\n        }\n        const rowDetail = warehouse.all[rowIndex];\n        const row = rowcells(rowDetail.element, rowCells, rowDetail.section, isNew);\n        grid.push(row);\n      }\n      return grid;\n    };\n\n    const fromWarehouse = (warehouse, generators) => toGrid(warehouse, generators, false);\n    const toDetailList = grid => toDetails(grid, eq$1);\n    const findInWarehouse = (warehouse, element) => findMap(warehouse.all, r => find$1(r.cells, e => eq$1(element, e.element)));\n    const extractCells = (warehouse, target, predicate) => {\n      const details = map$1(target.selection, cell$1 => {\n        return cell(cell$1).bind(lc => findInWarehouse(warehouse, lc)).filter(predicate);\n      });\n      const cells = cat(details);\n      return someIf(cells.length > 0, cells);\n    };\n    const run = (operation, extract, adjustment, postAction, genWrappers) => (table, target, generators, behaviours) => {\n      const warehouse = Warehouse.fromTable(table);\n      const tableSection = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.section).getOrThunk(TableSection.fallback);\n      const output = extract(warehouse, target).map(info => {\n        const model = fromWarehouse(warehouse, generators);\n        const result = operation(model, info, eq$1, genWrappers(generators), tableSection);\n        const lockedColumns = getLockedColumnsFromGrid(result.grid);\n        const grid = toDetailList(result.grid);\n        return {\n          info,\n          grid,\n          cursor: result.cursor,\n          lockedColumns\n        };\n      });\n      return output.bind(out => {\n        const newElements = render$1(table, out.grid);\n        const tableSizing = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.sizing).getOrThunk(() => TableSize.getTableSize(table));\n        const resizing = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.resize).getOrThunk(preserveTable);\n        adjustment(table, out.grid, out.info, {\n          sizing: tableSizing,\n          resize: resizing,\n          section: tableSection\n        });\n        postAction(table);\n        remove$7(table, LOCKED_COL_ATTR);\n        if (out.lockedColumns.length > 0) {\n          set$2(table, LOCKED_COL_ATTR, out.lockedColumns.join(','));\n        }\n        return Optional.some({\n          cursor: out.cursor,\n          newRows: newElements.newRows,\n          newCells: newElements.newCells\n        });\n      });\n    };\n    const onPaste = (warehouse, target) => cell(target.element).bind(cell => findInWarehouse(warehouse, cell).map(details => {\n      const value = {\n        ...details,\n        generators: target.generators,\n        clipboard: target.clipboard\n      };\n      return value;\n    }));\n    const onPasteByEditor = (warehouse, target) => extractCells(warehouse, target, always).map(cells => ({\n      cells,\n      generators: target.generators,\n      clipboard: target.clipboard\n    }));\n    const onMergable = (_warehouse, target) => target.mergable;\n    const onUnmergable = (_warehouse, target) => target.unmergable;\n    const onCells = (warehouse, target) => extractCells(warehouse, target, always);\n    const onUnlockedCells = (warehouse, target) => extractCells(warehouse, target, detail => !detail.isLocked);\n    const isUnlockedTableCell = (warehouse, cell) => findInWarehouse(warehouse, cell).exists(detail => !detail.isLocked);\n    const allUnlocked = (warehouse, cells) => forall(cells, cell => isUnlockedTableCell(warehouse, cell));\n    const onUnlockedMergable = (warehouse, target) => onMergable(warehouse, target).filter(mergeable => allUnlocked(warehouse, mergeable.cells));\n    const onUnlockedUnmergable = (warehouse, target) => onUnmergable(warehouse, target).filter(cells => allUnlocked(warehouse, cells));\n\n    const merge$2 = (grid, bounds, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      if (rows.length === 0) {\n        return grid;\n      }\n      for (let i = bounds.startRow; i <= bounds.finishRow; i++) {\n        for (let j = bounds.startCol; j <= bounds.finishCol; j++) {\n          const row = rows[i];\n          const isLocked = getCell(row, j).isLocked;\n          mutateCell(row, j, elementnew(substitution(), false, isLocked));\n        }\n      }\n      return grid;\n    };\n    const unmerge = (grid, target, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      let first = true;\n      for (let i = 0; i < rows.length; i++) {\n        for (let j = 0; j < cellLength(rows[0]); j++) {\n          const row = rows[i];\n          const currentCell = getCell(row, j);\n          const currentCellElm = currentCell.element;\n          const isToReplace = comparator(currentCellElm, target);\n          if (isToReplace && !first) {\n            mutateCell(row, j, elementnew(substitution(), true, currentCell.isLocked));\n          } else if (isToReplace) {\n            first = false;\n          }\n        }\n      }\n      return grid;\n    };\n    const uniqueCells = (row, comparator) => {\n      return foldl(row, (rest, cell) => {\n        return exists(rest, currentCell => {\n          return comparator(currentCell.element, cell.element);\n        }) ? rest : rest.concat([cell]);\n      }, []);\n    };\n    const splitCols = (grid, index, comparator, substitution) => {\n      if (index > 0 && index < grid[0].cells.length) {\n        each$2(grid, row => {\n          const prevCell = row.cells[index - 1];\n          let offset = 0;\n          const substitute = substitution();\n          while (row.cells.length > index + offset && comparator(prevCell.element, row.cells[index + offset].element)) {\n            mutateCell(row, index + offset, elementnew(substitute, true, row.cells[index + offset].isLocked));\n            offset++;\n          }\n        });\n      }\n      return grid;\n    };\n    const splitRows = (grid, index, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      if (index > 0 && index < rows.length) {\n        const rowPrevCells = rows[index - 1].cells;\n        const cells = uniqueCells(rowPrevCells, comparator);\n        each$2(cells, cell => {\n          let replacement = Optional.none();\n          for (let i = index; i < rows.length; i++) {\n            for (let j = 0; j < cellLength(rows[0]); j++) {\n              const row = rows[i];\n              const current = getCell(row, j);\n              const isToReplace = comparator(current.element, cell.element);\n              if (isToReplace) {\n                if (replacement.isNone()) {\n                  replacement = Optional.some(substitution());\n                }\n                replacement.each(sub => {\n                  mutateCell(row, j, elementnew(sub, true, current.isLocked));\n                });\n              }\n            }\n          }\n        });\n      }\n      return grid;\n    };\n\n    const value$1 = value => {\n      const applyHelper = fn => fn(value);\n      const constHelper = constant(value);\n      const outputHelper = () => output;\n      const output = {\n        tag: true,\n        inner: value,\n        fold: (_onError, onValue) => onValue(value),\n        isValue: always,\n        isError: never,\n        map: mapper => Result.value(mapper(value)),\n        mapError: outputHelper,\n        bind: applyHelper,\n        exists: applyHelper,\n        forall: applyHelper,\n        getOr: constHelper,\n        or: outputHelper,\n        getOrThunk: constHelper,\n        orThunk: outputHelper,\n        getOrDie: constHelper,\n        each: fn => {\n          fn(value);\n        },\n        toOptional: () => Optional.some(value)\n      };\n      return output;\n    };\n    const error = error => {\n      const outputHelper = () => output;\n      const output = {\n        tag: false,\n        inner: error,\n        fold: (onError, _onValue) => onError(error),\n        isValue: never,\n        isError: always,\n        map: outputHelper,\n        mapError: mapper => Result.error(mapper(error)),\n        bind: outputHelper,\n        exists: never,\n        forall: always,\n        getOr: identity,\n        or: identity,\n        getOrThunk: apply,\n        orThunk: apply,\n        getOrDie: die(String(error)),\n        each: noop,\n        toOptional: Optional.none\n      };\n      return output;\n    };\n    const fromOption = (optional, err) => optional.fold(() => error(err), value$1);\n    const Result = {\n      value: value$1,\n      error,\n      fromOption\n    };\n\n    const measure = (startAddress, gridA, gridB) => {\n      if (startAddress.row >= gridA.length || startAddress.column > cellLength(gridA[0])) {\n        return Result.error('invalid start address out of table bounds, row: ' + startAddress.row + ', column: ' + startAddress.column);\n      }\n      const rowRemainder = gridA.slice(startAddress.row);\n      const colRemainder = rowRemainder[0].cells.slice(startAddress.column);\n      const colRequired = cellLength(gridB[0]);\n      const rowRequired = gridB.length;\n      return Result.value({\n        rowDelta: rowRemainder.length - rowRequired,\n        colDelta: colRemainder.length - colRequired\n      });\n    };\n    const measureWidth = (gridA, gridB) => {\n      const colLengthA = cellLength(gridA[0]);\n      const colLengthB = cellLength(gridB[0]);\n      return {\n        rowDelta: 0,\n        colDelta: colLengthA - colLengthB\n      };\n    };\n    const measureHeight = (gridA, gridB) => {\n      const rowLengthA = gridA.length;\n      const rowLengthB = gridB.length;\n      return {\n        rowDelta: rowLengthA - rowLengthB,\n        colDelta: 0\n      };\n    };\n    const generateElements = (amount, row, generators, isLocked) => {\n      const generator = row.section === 'colgroup' ? generators.col : generators.cell;\n      return range$1(amount, idx => elementnew(generator(), true, isLocked(idx)));\n    };\n    const rowFill = (grid, amount, generators, lockedColumns) => {\n      const exampleRow = grid[grid.length - 1];\n      return grid.concat(range$1(amount, () => {\n        const generator = exampleRow.section === 'colgroup' ? generators.colgroup : generators.row;\n        const row = clone(exampleRow, generator, identity);\n        const elements = generateElements(row.cells.length, row, generators, idx => has$1(lockedColumns, idx.toString()));\n        return setCells(row, elements);\n      }));\n    };\n    const colFill = (grid, amount, generators, startIndex) => map$1(grid, row => {\n      const newChildren = generateElements(amount, row, generators, never);\n      return addCells(row, startIndex, newChildren);\n    });\n    const lockedColFill = (grid, generators, lockedColumns) => map$1(grid, row => {\n      return foldl(lockedColumns, (acc, colNum) => {\n        const newChild = generateElements(1, row, generators, always)[0];\n        return addCell(acc, colNum, newChild);\n      }, row);\n    });\n    const tailor = (gridA, delta, generators) => {\n      const fillCols = delta.colDelta < 0 ? colFill : identity;\n      const fillRows = delta.rowDelta < 0 ? rowFill : identity;\n      const lockedColumns = getLockedColumnsFromGrid(gridA);\n      const gridWidth = cellLength(gridA[0]);\n      const isLastColLocked = exists(lockedColumns, locked => locked === gridWidth - 1);\n      const modifiedCols = fillCols(gridA, Math.abs(delta.colDelta), generators, isLastColLocked ? gridWidth - 1 : gridWidth);\n      const newLockedColumns = getLockedColumnsFromGrid(modifiedCols);\n      return fillRows(modifiedCols, Math.abs(delta.rowDelta), generators, mapToObject(newLockedColumns, always));\n    };\n\n    const isSpanning = (grid, row, col, comparator) => {\n      const candidate = getCell(grid[row], col);\n      const matching = curry(comparator, candidate.element);\n      const currentRow = grid[row];\n      return grid.length > 1 && cellLength(currentRow) > 1 && (col > 0 && matching(getCellElement(currentRow, col - 1)) || col < currentRow.cells.length - 1 && matching(getCellElement(currentRow, col + 1)) || row > 0 && matching(getCellElement(grid[row - 1], col)) || row < grid.length - 1 && matching(getCellElement(grid[row + 1], col)));\n    };\n    const mergeTables = (startAddress, gridA, gridBRows, generator, comparator, lockedColumns) => {\n      const startRow = startAddress.row;\n      const startCol = startAddress.column;\n      const mergeHeight = gridBRows.length;\n      const mergeWidth = cellLength(gridBRows[0]);\n      const endRow = startRow + mergeHeight;\n      const endCol = startCol + mergeWidth + lockedColumns.length;\n      const lockedColumnObj = mapToObject(lockedColumns, always);\n      for (let r = startRow; r < endRow; r++) {\n        let skippedCol = 0;\n        for (let c = startCol; c < endCol; c++) {\n          if (lockedColumnObj[c]) {\n            skippedCol++;\n            continue;\n          }\n          if (isSpanning(gridA, r, c, comparator)) {\n            unmerge(gridA, getCellElement(gridA[r], c), comparator, generator.cell);\n          }\n          const gridBColIndex = c - startCol - skippedCol;\n          const newCell = getCell(gridBRows[r - startRow], gridBColIndex);\n          const newCellElm = newCell.element;\n          const replacement = generator.replace(newCellElm);\n          mutateCell(gridA[r], c, elementnew(replacement, true, newCell.isLocked));\n        }\n      }\n      return gridA;\n    };\n    const getValidStartAddress = (currentStartAddress, grid, lockedColumns) => {\n      const gridColLength = cellLength(grid[0]);\n      const adjustedRowAddress = extractGridDetails(grid).cols.length + currentStartAddress.row;\n      const possibleColAddresses = range$1(gridColLength - currentStartAddress.column, num => num + currentStartAddress.column);\n      const validColAddress = find$1(possibleColAddresses, num => forall(lockedColumns, col => col !== num)).getOr(gridColLength - 1);\n      return {\n        row: adjustedRowAddress,\n        column: validColAddress\n      };\n    };\n    const getLockedColumnsWithinBounds = (startAddress, rows, lockedColumns) => filter$2(lockedColumns, colNum => colNum >= startAddress.column && colNum <= cellLength(rows[0]) + startAddress.column);\n    const merge$1 = (startAddress, gridA, gridB, generator, comparator) => {\n      const lockedColumns = getLockedColumnsFromGrid(gridA);\n      const validStartAddress = getValidStartAddress(startAddress, gridA, lockedColumns);\n      const gridBRows = extractGridDetails(gridB).rows;\n      const lockedColumnsWithinBounds = getLockedColumnsWithinBounds(validStartAddress, gridBRows, lockedColumns);\n      const result = measure(validStartAddress, gridA, gridBRows);\n      return result.map(diff => {\n        const delta = {\n          ...diff,\n          colDelta: diff.colDelta - lockedColumnsWithinBounds.length\n        };\n        const fittedGrid = tailor(gridA, delta, generator);\n        const newLockedColumns = getLockedColumnsFromGrid(fittedGrid);\n        const newLockedColumnsWithinBounds = getLockedColumnsWithinBounds(validStartAddress, gridBRows, newLockedColumns);\n        return mergeTables(validStartAddress, fittedGrid, gridBRows, generator, comparator, newLockedColumnsWithinBounds);\n      });\n    };\n    const insertCols = (index, gridA, gridB, generator, comparator) => {\n      splitCols(gridA, index, comparator, generator.cell);\n      const delta = measureHeight(gridB, gridA);\n      const fittedNewGrid = tailor(gridB, delta, generator);\n      const secondDelta = measureHeight(gridA, fittedNewGrid);\n      const fittedOldGrid = tailor(gridA, secondDelta, generator);\n      return map$1(fittedOldGrid, (gridRow, i) => {\n        return addCells(gridRow, index, fittedNewGrid[i].cells);\n      });\n    };\n    const insertRows = (index, gridA, gridB, generator, comparator) => {\n      splitRows(gridA, index, comparator, generator.cell);\n      const locked = getLockedColumnsFromGrid(gridA);\n      const diff = measureWidth(gridA, gridB);\n      const delta = {\n        ...diff,\n        colDelta: diff.colDelta - locked.length\n      };\n      const fittedOldGrid = tailor(gridA, delta, generator);\n      const {\n        cols: oldCols,\n        rows: oldRows\n      } = extractGridDetails(fittedOldGrid);\n      const newLocked = getLockedColumnsFromGrid(fittedOldGrid);\n      const secondDiff = measureWidth(gridB, gridA);\n      const secondDelta = {\n        ...secondDiff,\n        colDelta: secondDiff.colDelta + newLocked.length\n      };\n      const fittedGridB = lockedColFill(gridB, generator, newLocked);\n      const fittedNewGrid = tailor(fittedGridB, secondDelta, generator);\n      return [\n        ...oldCols,\n        ...oldRows.slice(0, index),\n        ...fittedNewGrid,\n        ...oldRows.slice(index, oldRows.length)\n      ];\n    };\n\n    const cloneRow = (row, cloneCell, comparator, substitution) => clone(row, elem => substitution(elem, comparator), cloneCell);\n    const insertRowAt = (grid, index, example, comparator, substitution) => {\n      const {rows, cols} = extractGridDetails(grid);\n      const before = rows.slice(0, index);\n      const after = rows.slice(index);\n      const newRow = cloneRow(rows[example], (ex, c) => {\n        const withinSpan = index > 0 && index < rows.length && comparator(getCellElement(rows[index - 1], c), getCellElement(rows[index], c));\n        const ret = withinSpan ? getCell(rows[index], c) : elementnew(substitution(ex.element, comparator), true, ex.isLocked);\n        return ret;\n      }, comparator, substitution);\n      return [\n        ...cols,\n        ...before,\n        newRow,\n        ...after\n      ];\n    };\n    const getElementFor = (row, column, section, withinSpan, example, comparator, substitution) => {\n      if (section === 'colgroup' || !withinSpan) {\n        const cell = getCell(row, example);\n        return elementnew(substitution(cell.element, comparator), true, false);\n      } else {\n        return getCell(row, column);\n      }\n    };\n    const insertColumnAt = (grid, index, example, comparator, substitution) => map$1(grid, row => {\n      const withinSpan = index > 0 && index < cellLength(row) && comparator(getCellElement(row, index - 1), getCellElement(row, index));\n      const sub = getElementFor(row, index, row.section, withinSpan, example, comparator, substitution);\n      return addCell(row, index, sub);\n    });\n    const deleteColumnsAt = (grid, columns) => bind$2(grid, row => {\n      const existingCells = row.cells;\n      const cells = foldr(columns, (acc, column) => column >= 0 && column < acc.length ? acc.slice(0, column).concat(acc.slice(column + 1)) : acc, existingCells);\n      return cells.length > 0 ? [rowcells(row.element, cells, row.section, row.isNew)] : [];\n    });\n    const deleteRowsAt = (grid, start, finish) => {\n      const {rows, cols} = extractGridDetails(grid);\n      return [\n        ...cols,\n        ...rows.slice(0, start),\n        ...rows.slice(finish + 1)\n      ];\n    };\n\n    const notInStartRow = (grid, rowIndex, colIndex, comparator) => getCellElement(grid[rowIndex], colIndex) !== undefined && (rowIndex > 0 && comparator(getCellElement(grid[rowIndex - 1], colIndex), getCellElement(grid[rowIndex], colIndex)));\n    const notInStartColumn = (row, index, comparator) => index > 0 && comparator(getCellElement(row, index - 1), getCellElement(row, index));\n    const isDuplicatedCell = (grid, rowIndex, colIndex, comparator) => notInStartRow(grid, rowIndex, colIndex, comparator) || notInStartColumn(grid[rowIndex], colIndex, comparator);\n    const rowReplacerPredicate = (targetRow, columnHeaders) => {\n      const entireTableIsHeader = forall(columnHeaders, identity) && isHeaderCells(targetRow.cells);\n      return entireTableIsHeader ? always : (cell, _rowIndex, colIndex) => {\n        const type = name(cell.element);\n        return !(type === 'th' && columnHeaders[colIndex]);\n      };\n    };\n    const columnReplacePredicate = (targetColumn, rowHeaders) => {\n      const entireTableIsHeader = forall(rowHeaders, identity) && isHeaderCells(targetColumn);\n      return entireTableIsHeader ? always : (cell, rowIndex, _colIndex) => {\n        const type = name(cell.element);\n        return !(type === 'th' && rowHeaders[rowIndex]);\n      };\n    };\n    const determineScope = (applyScope, cell, newScope, isInHeader) => {\n      const hasSpan = scope => scope === 'row' ? hasRowspan(cell) : hasColspan(cell);\n      const getScope = scope => hasSpan(scope) ? `${ scope }group` : scope;\n      if (applyScope) {\n        return isHeaderCell(cell) ? getScope(newScope) : null;\n      } else if (isInHeader && isHeaderCell(cell)) {\n        const oppositeScope = newScope === 'row' ? 'col' : 'row';\n        return getScope(oppositeScope);\n      } else {\n        return null;\n      }\n    };\n    const rowScopeGenerator = (applyScope, columnHeaders) => (cell, rowIndex, columnIndex) => Optional.some(determineScope(applyScope, cell.element, 'col', columnHeaders[columnIndex]));\n    const columnScopeGenerator = (applyScope, rowHeaders) => (cell, rowIndex) => Optional.some(determineScope(applyScope, cell.element, 'row', rowHeaders[rowIndex]));\n    const replace = (cell, comparator, substitute) => elementnew(substitute(cell.element, comparator), true, cell.isLocked);\n    const replaceIn = (grid, targets, comparator, substitute, replacer, genScope, shouldReplace) => {\n      const isTarget = cell => {\n        return exists(targets, target => {\n          return comparator(cell.element, target.element);\n        });\n      };\n      return map$1(grid, (row, rowIndex) => {\n        return mapCells(row, (cell, colIndex) => {\n          if (isTarget(cell)) {\n            const newCell = shouldReplace(cell, rowIndex, colIndex) ? replacer(cell, comparator, substitute) : cell;\n            genScope(newCell, rowIndex, colIndex).each(scope => {\n              setOptions(newCell.element, { scope: Optional.from(scope) });\n            });\n            return newCell;\n          } else {\n            return cell;\n          }\n        });\n      });\n    };\n    const getColumnCells = (rows, columnIndex, comparator) => bind$2(rows, (row, i) => {\n      return isDuplicatedCell(rows, i, columnIndex, comparator) ? [] : [getCell(row, columnIndex)];\n    });\n    const getRowCells = (rows, rowIndex, comparator) => {\n      const targetRow = rows[rowIndex];\n      return bind$2(targetRow.cells, (item, i) => {\n        return isDuplicatedCell(rows, rowIndex, i, comparator) ? [] : [item];\n      });\n    };\n    const replaceColumns = (grid, indexes, applyScope, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      const targets = bind$2(indexes, index => getColumnCells(rows, index, comparator));\n      const rowHeaders = map$1(rows, row => isHeaderCells(row.cells));\n      const shouldReplaceCell = columnReplacePredicate(targets, rowHeaders);\n      const scopeGenerator = columnScopeGenerator(applyScope, rowHeaders);\n      return replaceIn(grid, targets, comparator, substitution, replace, scopeGenerator, shouldReplaceCell);\n    };\n    const replaceRows = (grid, indexes, section, applyScope, comparator, substitution, tableSection) => {\n      const {cols, rows} = extractGridDetails(grid);\n      const targetRow = rows[indexes[0]];\n      const targets = bind$2(indexes, index => getRowCells(rows, index, comparator));\n      const columnHeaders = map$1(targetRow.cells, (_cell, index) => isHeaderCells(getColumnCells(rows, index, comparator)));\n      const newRows = [...rows];\n      each$2(indexes, index => {\n        newRows[index] = tableSection.transformRow(rows[index], section);\n      });\n      const newGrid = [\n        ...cols,\n        ...newRows\n      ];\n      const shouldReplaceCell = rowReplacerPredicate(targetRow, columnHeaders);\n      const scopeGenerator = rowScopeGenerator(applyScope, columnHeaders);\n      return replaceIn(newGrid, targets, comparator, substitution, tableSection.transformCell, scopeGenerator, shouldReplaceCell);\n    };\n    const replaceCells = (grid, details, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      const targetCells = map$1(details, detail => getCell(rows[detail.row], detail.column));\n      return replaceIn(grid, targetCells, comparator, substitution, replace, Optional.none, always);\n    };\n\n    const generate = cases => {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each$2(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate };\n\n    const adt$6 = Adt.generate([\n      { none: [] },\n      { only: ['index'] },\n      {\n        left: [\n          'index',\n          'next'\n        ]\n      },\n      {\n        middle: [\n          'prev',\n          'index',\n          'next'\n        ]\n      },\n      {\n        right: [\n          'prev',\n          'index'\n        ]\n      }\n    ]);\n    const ColumnContext = { ...adt$6 };\n\n    const neighbours = (input, index) => {\n      if (input.length === 0) {\n        return ColumnContext.none();\n      }\n      if (input.length === 1) {\n        return ColumnContext.only(0);\n      }\n      if (index === 0) {\n        return ColumnContext.left(0, 1);\n      }\n      if (index === input.length - 1) {\n        return ColumnContext.right(index - 1, index);\n      }\n      if (index > 0 && index < input.length - 1) {\n        return ColumnContext.middle(index - 1, index, index + 1);\n      }\n      return ColumnContext.none();\n    };\n    const determine = (input, column, step, tableSize, resize) => {\n      const result = input.slice(0);\n      const context = neighbours(input, column);\n      const onNone = constant(map$1(result, constant(0)));\n      const onOnly = index => tableSize.singleColumnWidth(result[index], step);\n      const onLeft = (index, next) => resize.calcLeftEdgeDeltas(result, index, next, step, tableSize.minCellWidth(), tableSize.isRelative);\n      const onMiddle = (prev, index, next) => resize.calcMiddleDeltas(result, prev, index, next, step, tableSize.minCellWidth(), tableSize.isRelative);\n      const onRight = (prev, index) => resize.calcRightEdgeDeltas(result, prev, index, step, tableSize.minCellWidth(), tableSize.isRelative);\n      return context.fold(onNone, onOnly, onLeft, onMiddle, onRight);\n    };\n\n    const total = (start, end, measures) => {\n      let r = 0;\n      for (let i = start; i < end; i++) {\n        r += measures[i] !== undefined ? measures[i] : 0;\n      }\n      return r;\n    };\n    const recalculateWidthForCells = (warehouse, widths) => {\n      const all = Warehouse.justCells(warehouse);\n      return map$1(all, cell => {\n        const width = total(cell.column, cell.column + cell.colspan, widths);\n        return {\n          element: cell.element,\n          width,\n          colspan: cell.colspan\n        };\n      });\n    };\n    const recalculateWidthForColumns = (warehouse, widths) => {\n      const groups = Warehouse.justColumns(warehouse);\n      return map$1(groups, (column, index) => ({\n        element: column.element,\n        width: widths[index],\n        colspan: column.colspan\n      }));\n    };\n    const recalculateHeightForCells = (warehouse, heights) => {\n      const all = Warehouse.justCells(warehouse);\n      return map$1(all, cell => {\n        const height = total(cell.row, cell.row + cell.rowspan, heights);\n        return {\n          element: cell.element,\n          height,\n          rowspan: cell.rowspan\n        };\n      });\n    };\n    const matchRowHeight = (warehouse, heights) => {\n      return map$1(warehouse.all, (row, i) => {\n        return {\n          element: row.element,\n          height: heights[i]\n        };\n      });\n    };\n\n    const sumUp = newSize => foldr(newSize, (b, a) => b + a, 0);\n    const recalculate = (warehouse, widths) => {\n      if (Warehouse.hasColumns(warehouse)) {\n        return recalculateWidthForColumns(warehouse, widths);\n      } else {\n        return recalculateWidthForCells(warehouse, widths);\n      }\n    };\n    const recalculateAndApply = (warehouse, widths, tableSize) => {\n      const newSizes = recalculate(warehouse, widths);\n      each$2(newSizes, cell => {\n        tableSize.setElementWidth(cell.element, cell.width);\n      });\n    };\n    const adjustWidth = (table, delta, index, resizing, tableSize) => {\n      const warehouse = Warehouse.fromTable(table);\n      const step = tableSize.getCellDelta(delta);\n      const widths = tableSize.getWidths(warehouse, tableSize);\n      const isLastColumn = index === warehouse.grid.columns - 1;\n      const clampedStep = resizing.clampTableDelta(widths, index, step, tableSize.minCellWidth(), isLastColumn);\n      const deltas = determine(widths, index, clampedStep, tableSize, resizing);\n      const newWidths = map$1(deltas, (dx, i) => dx + widths[i]);\n      recalculateAndApply(warehouse, newWidths, tableSize);\n      resizing.resizeTable(tableSize.adjustTableWidth, clampedStep, isLastColumn);\n    };\n    const adjustHeight = (table, delta, index, direction) => {\n      const warehouse = Warehouse.fromTable(table);\n      const heights = getPixelHeights(warehouse, table, direction);\n      const newHeights = map$1(heights, (dy, i) => index === i ? Math.max(delta + dy, minHeight()) : dy);\n      const newCellSizes = recalculateHeightForCells(warehouse, newHeights);\n      const newRowSizes = matchRowHeight(warehouse, newHeights);\n      each$2(newRowSizes, row => {\n        setHeight(row.element, row.height);\n      });\n      each$2(newCellSizes, cell => {\n        setHeight(cell.element, cell.height);\n      });\n      const total = sumUp(newHeights);\n      setHeight(table, total);\n    };\n    const adjustAndRedistributeWidths$1 = (_table, list, details, tableSize, resizeBehaviour) => {\n      const warehouse = Warehouse.generate(list);\n      const sizes = tableSize.getWidths(warehouse, tableSize);\n      const tablePixelWidth = tableSize.pixelWidth();\n      const {newSizes, delta} = resizeBehaviour.calcRedestributedWidths(sizes, tablePixelWidth, details.pixelDelta, tableSize.isRelative);\n      recalculateAndApply(warehouse, newSizes, tableSize);\n      tableSize.adjustTableWidth(delta);\n    };\n    const adjustWidthTo = (_table, list, _info, tableSize) => {\n      const warehouse = Warehouse.generate(list);\n      const widths = tableSize.getWidths(warehouse, tableSize);\n      recalculateAndApply(warehouse, widths, tableSize);\n    };\n\n    const uniqueColumns = details => {\n      const uniqueCheck = (rest, detail) => {\n        const columnExists = exists(rest, currentDetail => currentDetail.column === detail.column);\n        return columnExists ? rest : rest.concat([detail]);\n      };\n      return foldl(details, uniqueCheck, []).sort((detailA, detailB) => detailA.column - detailB.column);\n    };\n\n    const isCol = isTag('col');\n    const isColgroup = isTag('colgroup');\n    const isRow$1 = element => name(element) === 'tr' || isColgroup(element);\n    const elementToData = element => {\n      const colspan = getAttrValue(element, 'colspan', 1);\n      const rowspan = getAttrValue(element, 'rowspan', 1);\n      return {\n        element,\n        colspan,\n        rowspan\n      };\n    };\n    const modification = (generators, toData = elementToData) => {\n      const nuCell = data => isCol(data.element) ? generators.col(data) : generators.cell(data);\n      const nuRow = data => isColgroup(data.element) ? generators.colgroup(data) : generators.row(data);\n      const add = element => {\n        if (isRow$1(element)) {\n          return nuRow({ element });\n        } else {\n          const cell = element;\n          const replacement = nuCell(toData(cell));\n          recent = Optional.some({\n            item: cell,\n            replacement\n          });\n          return replacement;\n        }\n      };\n      let recent = Optional.none();\n      const getOrInit = (element, comparator) => {\n        return recent.fold(() => {\n          return add(element);\n        }, p => {\n          return comparator(element, p.item) ? p.replacement : add(element);\n        });\n      };\n      return { getOrInit };\n    };\n    const transform$1 = tag => {\n      return generators => {\n        const list = [];\n        const find = (element, comparator) => {\n          return find$1(list, x => {\n            return comparator(x.item, element);\n          });\n        };\n        const makeNew = element => {\n          const attrs = tag === 'td' ? { scope: null } : {};\n          const cell = generators.replace(element, tag, attrs);\n          list.push({\n            item: element,\n            sub: cell\n          });\n          return cell;\n        };\n        const replaceOrInit = (element, comparator) => {\n          if (isRow$1(element) || isCol(element)) {\n            return element;\n          } else {\n            const cell = element;\n            return find(cell, comparator).fold(() => {\n              return makeNew(cell);\n            }, p => {\n              return comparator(element, p.item) ? p.sub : makeNew(cell);\n            });\n          }\n        };\n        return { replaceOrInit };\n      };\n    };\n    const getScopeAttribute = cell => getOpt(cell, 'scope').map(attribute => attribute.substr(0, 3));\n    const merging = generators => {\n      const unmerge = cell => {\n        const scope = getScopeAttribute(cell);\n        scope.each(attribute => set$2(cell, 'scope', attribute));\n        return () => {\n          const raw = generators.cell({\n            element: cell,\n            colspan: 1,\n            rowspan: 1\n          });\n          remove$5(raw, 'width');\n          remove$5(cell, 'width');\n          scope.each(attribute => set$2(raw, 'scope', attribute));\n          return raw;\n        };\n      };\n      const merge = cells => {\n        const getScopeProperty = () => {\n          const stringAttributes = cat(map$1(cells, getScopeAttribute));\n          if (stringAttributes.length === 0) {\n            return Optional.none();\n          } else {\n            const baseScope = stringAttributes[0];\n            const scopes = [\n              'row',\n              'col'\n            ];\n            const isMixed = exists(stringAttributes, attribute => {\n              return attribute !== baseScope && contains$2(scopes, attribute);\n            });\n            return isMixed ? Optional.none() : Optional.from(baseScope);\n          }\n        };\n        remove$5(cells[0], 'width');\n        getScopeProperty().fold(() => remove$7(cells[0], 'scope'), attribute => set$2(cells[0], 'scope', attribute + 'group'));\n        return constant(cells[0]);\n      };\n      return {\n        unmerge,\n        merge\n      };\n    };\n    const Generators = {\n      modification,\n      transform: transform$1,\n      merging\n    };\n\n    const blockList = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'table',\n      'thead',\n      'tfoot',\n      'tbody',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n    const isList$1 = (universe, item) => {\n      const tagName = universe.property().name(item);\n      return contains$2([\n        'ol',\n        'ul'\n      ], tagName);\n    };\n    const isBlock$1 = (universe, item) => {\n      const tagName = universe.property().name(item);\n      return contains$2(blockList, tagName);\n    };\n    const isEmptyTag$1 = (universe, item) => {\n      return contains$2([\n        'br',\n        'img',\n        'hr',\n        'input'\n      ], universe.property().name(item));\n    };\n\n    const universe$1 = DomUniverse();\n    const isBlock = element => {\n      return isBlock$1(universe$1, element);\n    };\n    const isList = element => {\n      return isList$1(universe$1, element);\n    };\n    const isEmptyTag = element => {\n      return isEmptyTag$1(universe$1, element);\n    };\n\n    const merge = cells => {\n      const isBr = isTag('br');\n      const advancedBr = children => {\n        return forall(children, c => {\n          return isBr(c) || isText(c) && get$6(c).trim().length === 0;\n        });\n      };\n      const isListItem = el => {\n        return name(el) === 'li' || ancestor$2(el, isList).isSome();\n      };\n      const siblingIsBlock = el => {\n        return nextSibling(el).map(rightSibling => {\n          if (isBlock(rightSibling)) {\n            return true;\n          }\n          if (isEmptyTag(rightSibling)) {\n            return name(rightSibling) === 'img' ? false : true;\n          }\n          return false;\n        }).getOr(false);\n      };\n      const markCell = cell => {\n        return last$1(cell).bind(rightEdge => {\n          const rightSiblingIsBlock = siblingIsBlock(rightEdge);\n          return parent(rightEdge).map(parent => {\n            return rightSiblingIsBlock === true || isListItem(parent) || isBr(rightEdge) || isBlock(parent) && !eq$1(cell, parent) ? [] : [SugarElement.fromTag('br')];\n          });\n        }).getOr([]);\n      };\n      const markContent = () => {\n        const content = bind$2(cells, cell => {\n          const children = children$2(cell);\n          return advancedBr(children) ? [] : children.concat(markCell(cell));\n        });\n        return content.length === 0 ? [SugarElement.fromTag('br')] : content;\n      };\n      const contents = markContent();\n      empty(cells[0]);\n      append(cells[0], contents);\n    };\n\n    const isEditable = elem => isEditable$1(elem, true);\n    const prune = table => {\n      const cells = cells$1(table);\n      if (cells.length === 0) {\n        remove$6(table);\n      }\n    };\n    const outcome = (grid, cursor) => ({\n      grid,\n      cursor\n    });\n    const findEditableCursorPosition = rows => findMap(rows, row => findMap(row.cells, cell => {\n      const elem = cell.element;\n      return someIf(isEditable(elem), elem);\n    }));\n    const elementFromGrid = (grid, row, column) => {\n      var _a, _b;\n      const rows = extractGridDetails(grid).rows;\n      return Optional.from((_b = (_a = rows[row]) === null || _a === void 0 ? void 0 : _a.cells[column]) === null || _b === void 0 ? void 0 : _b.element).filter(isEditable).orThunk(() => findEditableCursorPosition(rows));\n    };\n    const bundle = (grid, row, column) => {\n      const cursorElement = elementFromGrid(grid, row, column);\n      return outcome(grid, cursorElement);\n    };\n    const uniqueRows = details => {\n      const rowCompilation = (rest, detail) => {\n        const rowExists = exists(rest, currentDetail => currentDetail.row === detail.row);\n        return rowExists ? rest : rest.concat([detail]);\n      };\n      return foldl(details, rowCompilation, []).sort((detailA, detailB) => detailA.row - detailB.row);\n    };\n    const opInsertRowsBefore = (grid, details, comparator, genWrappers) => {\n      const targetIndex = details[0].row;\n      const rows = uniqueRows(details);\n      const newGrid = foldr(rows, (acc, row) => {\n        const newG = insertRowAt(acc.grid, targetIndex, row.row + acc.delta, comparator, genWrappers.getOrInit);\n        return {\n          grid: newG,\n          delta: acc.delta + 1\n        };\n      }, {\n        grid,\n        delta: 0\n      }).grid;\n      return bundle(newGrid, targetIndex, details[0].column);\n    };\n    const opInsertRowsAfter = (grid, details, comparator, genWrappers) => {\n      const rows = uniqueRows(details);\n      const target = rows[rows.length - 1];\n      const targetIndex = target.row + target.rowspan;\n      const newGrid = foldr(rows, (newG, row) => {\n        return insertRowAt(newG, targetIndex, row.row, comparator, genWrappers.getOrInit);\n      }, grid);\n      return bundle(newGrid, targetIndex, details[0].column);\n    };\n    const opInsertColumnsBefore = (grid, extractDetail, comparator, genWrappers) => {\n      const details = extractDetail.details;\n      const columns = uniqueColumns(details);\n      const targetIndex = columns[0].column;\n      const newGrid = foldr(columns, (acc, col) => {\n        const newG = insertColumnAt(acc.grid, targetIndex, col.column + acc.delta, comparator, genWrappers.getOrInit);\n        return {\n          grid: newG,\n          delta: acc.delta + 1\n        };\n      }, {\n        grid,\n        delta: 0\n      }).grid;\n      return bundle(newGrid, details[0].row, targetIndex);\n    };\n    const opInsertColumnsAfter = (grid, extractDetail, comparator, genWrappers) => {\n      const details = extractDetail.details;\n      const target = details[details.length - 1];\n      const targetIndex = target.column + target.colspan;\n      const columns = uniqueColumns(details);\n      const newGrid = foldr(columns, (newG, col) => {\n        return insertColumnAt(newG, targetIndex, col.column, comparator, genWrappers.getOrInit);\n      }, grid);\n      return bundle(newGrid, details[0].row, targetIndex);\n    };\n    const opMakeColumnsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const columns = uniqueColumns(details);\n      const columnIndexes = map$1(columns, detail => detail.column);\n      const newGrid = replaceColumns(initialGrid, columnIndexes, true, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opMakeCellsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const newGrid = replaceCells(initialGrid, details, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opUnmakeColumnsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const columns = uniqueColumns(details);\n      const columnIndexes = map$1(columns, detail => detail.column);\n      const newGrid = replaceColumns(initialGrid, columnIndexes, false, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opUnmakeCellsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const newGrid = replaceCells(initialGrid, details, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const makeRowsSection = (section, applyScope) => (initialGrid, details, comparator, genWrappers, tableSection) => {\n      const rows = uniqueRows(details);\n      const rowIndexes = map$1(rows, detail => detail.row);\n      const newGrid = replaceRows(initialGrid, rowIndexes, section, applyScope, comparator, genWrappers.replaceOrInit, tableSection);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opMakeRowsHeader = makeRowsSection('thead', true);\n    const opMakeRowsBody = makeRowsSection('tbody', false);\n    const opMakeRowsFooter = makeRowsSection('tfoot', false);\n    const opEraseColumns = (grid, extractDetail, _comparator, _genWrappers) => {\n      const columns = uniqueColumns(extractDetail.details);\n      const newGrid = deleteColumnsAt(grid, map$1(columns, column => column.column));\n      const maxColIndex = newGrid.length > 0 ? newGrid[0].cells.length - 1 : 0;\n      return bundle(newGrid, columns[0].row, Math.min(columns[0].column, maxColIndex));\n    };\n    const opEraseRows = (grid, details, _comparator, _genWrappers) => {\n      const rows = uniqueRows(details);\n      const newGrid = deleteRowsAt(grid, rows[0].row, rows[rows.length - 1].row);\n      const maxRowIndex = newGrid.length > 0 ? newGrid.length - 1 : 0;\n      return bundle(newGrid, Math.min(details[0].row, maxRowIndex), details[0].column);\n    };\n    const opMergeCells = (grid, mergable, comparator, genWrappers) => {\n      const cells = mergable.cells;\n      merge(cells);\n      const newGrid = merge$2(grid, mergable.bounds, comparator, genWrappers.merge(cells));\n      return outcome(newGrid, Optional.from(cells[0]));\n    };\n    const opUnmergeCells = (grid, unmergable, comparator, genWrappers) => {\n      const unmerge$1 = (b, cell) => unmerge(b, cell, comparator, genWrappers.unmerge(cell));\n      const newGrid = foldr(unmergable, unmerge$1, grid);\n      return outcome(newGrid, Optional.from(unmergable[0]));\n    };\n    const opPasteCells = (grid, pasteDetails, comparator, _genWrappers) => {\n      const gridify = (table, generators) => {\n        const wh = Warehouse.fromTable(table);\n        return toGrid(wh, generators, true);\n      };\n      const gridB = gridify(pasteDetails.clipboard, pasteDetails.generators);\n      const startAddress = address(pasteDetails.row, pasteDetails.column);\n      const mergedGrid = merge$1(startAddress, grid, gridB, pasteDetails.generators, comparator);\n      return mergedGrid.fold(() => outcome(grid, Optional.some(pasteDetails.element)), newGrid => {\n        return bundle(newGrid, pasteDetails.row, pasteDetails.column);\n      });\n    };\n    const gridifyRows = (rows, generators, context) => {\n      const pasteDetails = fromPastedRows(rows, context.section);\n      const wh = Warehouse.generate(pasteDetails);\n      return toGrid(wh, generators, true);\n    };\n    const opPasteColsBefore = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[0].column;\n      const context = rows[pasteDetails.cells[0].row];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertCols(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opPasteColsAfter = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[pasteDetails.cells.length - 1].column + pasteDetails.cells[pasteDetails.cells.length - 1].colspan;\n      const context = rows[pasteDetails.cells[0].row];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertCols(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opPasteRowsBefore = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[0].row;\n      const context = rows[index];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertRows(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opPasteRowsAfter = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[pasteDetails.cells.length - 1].row + pasteDetails.cells[pasteDetails.cells.length - 1].rowspan;\n      const context = rows[pasteDetails.cells[0].row];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertRows(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opGetColumnsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minColRange = selectedCells[0].column;\n        const maxColRange = lastSelectedCell.column + lastSelectedCell.colspan;\n        const selectedColumnCells = flatten(map$1(house.all, row => filter$2(row.cells, cell => cell.column >= minColRange && cell.column < maxColRange)));\n        return findCommonCellType(selectedColumnCells);\n      }).getOr('');\n    };\n    const opGetCellsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(findCommonCellType).getOr('');\n    };\n    const opGetRowsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minRowRange = selectedCells[0].row;\n        const maxRowRange = lastSelectedCell.row + lastSelectedCell.rowspan;\n        const selectedRows = house.all.slice(minRowRange, maxRowRange);\n        return findCommonRowType(selectedRows);\n      }).getOr('');\n    };\n    const resize = (table, list, details, behaviours) => adjustWidthTo(table, list, details, behaviours.sizing);\n    const adjustAndRedistributeWidths = (table, list, details, behaviours) => adjustAndRedistributeWidths$1(table, list, details, behaviours.sizing, behaviours.resize);\n    const firstColumnIsLocked = (_warehouse, details) => exists(details, detail => detail.column === 0 && detail.isLocked);\n    const lastColumnIsLocked = (warehouse, details) => exists(details, detail => detail.column + detail.colspan >= warehouse.grid.columns && detail.isLocked);\n    const getColumnsWidth = (warehouse, details) => {\n      const columns$1 = columns(warehouse);\n      const uniqueCols = uniqueColumns(details);\n      return foldl(uniqueCols, (acc, detail) => {\n        const column = columns$1[detail.column];\n        const colWidth = column.map(getOuter$2).getOr(0);\n        return acc + colWidth;\n      }, 0);\n    };\n    const insertColumnsExtractor = before => (warehouse, target) => onCells(warehouse, target).filter(details => {\n      const checkLocked = before ? firstColumnIsLocked : lastColumnIsLocked;\n      return !checkLocked(warehouse, details);\n    }).map(details => ({\n      details,\n      pixelDelta: getColumnsWidth(warehouse, details)\n    }));\n    const eraseColumnsExtractor = (warehouse, target) => onUnlockedCells(warehouse, target).map(details => ({\n      details,\n      pixelDelta: -getColumnsWidth(warehouse, details)\n    }));\n    const pasteColumnsExtractor = before => (warehouse, target) => onPasteByEditor(warehouse, target).filter(details => {\n      const checkLocked = before ? firstColumnIsLocked : lastColumnIsLocked;\n      return !checkLocked(warehouse, details.cells);\n    });\n    const headerCellGenerator = Generators.transform('th');\n    const bodyCellGenerator = Generators.transform('td');\n    const insertRowsBefore = run(opInsertRowsBefore, onCells, noop, noop, Generators.modification);\n    const insertRowsAfter = run(opInsertRowsAfter, onCells, noop, noop, Generators.modification);\n    const insertColumnsBefore = run(opInsertColumnsBefore, insertColumnsExtractor(true), adjustAndRedistributeWidths, noop, Generators.modification);\n    const insertColumnsAfter = run(opInsertColumnsAfter, insertColumnsExtractor(false), adjustAndRedistributeWidths, noop, Generators.modification);\n    const eraseColumns = run(opEraseColumns, eraseColumnsExtractor, adjustAndRedistributeWidths, prune, Generators.modification);\n    const eraseRows = run(opEraseRows, onCells, noop, prune, Generators.modification);\n    const makeColumnsHeader = run(opMakeColumnsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    const unmakeColumnsHeader = run(opUnmakeColumnsHeader, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const makeRowsHeader = run(opMakeRowsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    const makeRowsBody = run(opMakeRowsBody, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const makeRowsFooter = run(opMakeRowsFooter, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const makeCellsHeader = run(opMakeCellsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    const unmakeCellsHeader = run(opUnmakeCellsHeader, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const mergeCells = run(opMergeCells, onUnlockedMergable, resize, noop, Generators.merging);\n    const unmergeCells = run(opUnmergeCells, onUnlockedUnmergable, resize, noop, Generators.merging);\n    const pasteCells = run(opPasteCells, onPaste, resize, noop, Generators.modification);\n    const pasteColsBefore = run(opPasteColsBefore, pasteColumnsExtractor(true), noop, noop, Generators.modification);\n    const pasteColsAfter = run(opPasteColsAfter, pasteColumnsExtractor(false), noop, noop, Generators.modification);\n    const pasteRowsBefore = run(opPasteRowsBefore, onPasteByEditor, noop, noop, Generators.modification);\n    const pasteRowsAfter = run(opPasteRowsAfter, onPasteByEditor, noop, noop, Generators.modification);\n    const getColumnsType = opGetColumnsType;\n    const getCellsType = opGetCellsType;\n    const getRowsType = opGetRowsType;\n\n    const fireNewRow = (editor, row) => editor.dispatch('NewRow', { node: row });\n    const fireNewCell = (editor, cell) => editor.dispatch('NewCell', { node: cell });\n    const fireTableModified = (editor, table, data) => {\n      editor.dispatch('TableModified', {\n        ...data,\n        table\n      });\n    };\n    const fireTableSelectionChange = (editor, cells, start, finish, otherCells) => {\n      editor.dispatch('TableSelectionChange', {\n        cells,\n        start,\n        finish,\n        otherCells\n      });\n    };\n    const fireTableSelectionClear = editor => {\n      editor.dispatch('TableSelectionClear');\n    };\n    const fireObjectResizeStart = (editor, target, width, height, origin) => {\n      editor.dispatch('ObjectResizeStart', {\n        target,\n        width,\n        height,\n        origin\n      });\n    };\n    const fireObjectResized = (editor, target, width, height, origin) => {\n      editor.dispatch('ObjectResized', {\n        target,\n        width,\n        height,\n        origin\n      });\n    };\n    const styleModified = {\n      structure: false,\n      style: true\n    };\n    const structureModified = {\n      structure: true,\n      style: false\n    };\n    const styleAndStructureModified = {\n      structure: true,\n      style: true\n    };\n\n    const option = name => editor => editor.options.get(name);\n    const defaultWidth = '100%';\n    const getPixelForcedWidth = editor => {\n      var _a;\n      const dom = editor.dom;\n      const parentBlock = (_a = dom.getParent(editor.selection.getStart(), dom.isBlock)) !== null && _a !== void 0 ? _a : editor.getBody();\n      return getInner(SugarElement.fromDom(parentBlock)) + 'px';\n    };\n    const determineDefaultTableStyles = (editor, defaultStyles) => {\n      if (isTableResponsiveForced(editor) || !shouldStyleWithCss(editor)) {\n        return defaultStyles;\n      } else if (isTablePixelsForced(editor)) {\n        return {\n          ...defaultStyles,\n          width: getPixelForcedWidth(editor)\n        };\n      } else {\n        return {\n          ...defaultStyles,\n          width: defaultWidth\n        };\n      }\n    };\n    const determineDefaultTableAttributes = (editor, defaultAttributes) => {\n      if (isTableResponsiveForced(editor) || shouldStyleWithCss(editor)) {\n        return defaultAttributes;\n      } else if (isTablePixelsForced(editor)) {\n        return {\n          ...defaultAttributes,\n          width: getPixelForcedWidth(editor)\n        };\n      } else {\n        return {\n          ...defaultAttributes,\n          width: defaultWidth\n        };\n      }\n    };\n    const register = editor => {\n      const registerOption = editor.options.register;\n      registerOption('table_clone_elements', { processor: 'string[]' });\n      registerOption('table_use_colgroups', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_header_type', {\n        processor: value => {\n          const valid = contains$2([\n            'section',\n            'cells',\n            'sectionCells',\n            'auto'\n          ], value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be one of: section, cells, sectionCells or auto.'\n          };\n        },\n        default: 'section'\n      });\n      registerOption('table_sizing_mode', {\n        processor: 'string',\n        default: 'auto'\n      });\n      registerOption('table_default_attributes', {\n        processor: 'object',\n        default: { border: '1' }\n      });\n      registerOption('table_default_styles', {\n        processor: 'object',\n        default: { 'border-collapse': 'collapse' }\n      });\n      registerOption('table_column_resizing', {\n        processor: value => {\n          const valid = contains$2([\n            'preservetable',\n            'resizetable'\n          ], value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be preservetable, or resizetable.'\n          };\n        },\n        default: 'preservetable'\n      });\n      registerOption('table_resize_bars', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_style_by_css', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const getTableCloneElements = editor => {\n      return Optional.from(editor.options.get('table_clone_elements'));\n    };\n    const hasTableObjectResizing = editor => {\n      const objectResizing = editor.options.get('object_resizing');\n      return contains$2(objectResizing.split(','), 'table');\n    };\n    const getTableHeaderType = option('table_header_type');\n    const getTableColumnResizingBehaviour = option('table_column_resizing');\n    const isPreserveTableColumnResizing = editor => getTableColumnResizingBehaviour(editor) === 'preservetable';\n    const isResizeTableColumnResizing = editor => getTableColumnResizingBehaviour(editor) === 'resizetable';\n    const getTableSizingMode = option('table_sizing_mode');\n    const isTablePercentagesForced = editor => getTableSizingMode(editor) === 'relative';\n    const isTablePixelsForced = editor => getTableSizingMode(editor) === 'fixed';\n    const isTableResponsiveForced = editor => getTableSizingMode(editor) === 'responsive';\n    const hasTableResizeBars = option('table_resize_bars');\n    const shouldStyleWithCss = option('table_style_by_css');\n    const getTableDefaultAttributes = editor => {\n      const options = editor.options;\n      const defaultAttributes = options.get('table_default_attributes');\n      return options.isSet('table_default_attributes') ? defaultAttributes : determineDefaultTableAttributes(editor, defaultAttributes);\n    };\n    const getTableDefaultStyles = editor => {\n      const options = editor.options;\n      const defaultStyles = options.get('table_default_styles');\n      return options.isSet('table_default_styles') ? defaultStyles : determineDefaultTableStyles(editor, defaultStyles);\n    };\n    const tableUseColumnGroup = option('table_use_colgroups');\n\n    const get$5 = (editor, table) => {\n      if (isTablePercentagesForced(editor)) {\n        return TableSize.percentageSize(table);\n      } else if (isTablePixelsForced(editor)) {\n        return TableSize.pixelSize(table);\n      } else {\n        return TableSize.getTableSize(table);\n      }\n    };\n\n    const TableActions = (editor, resizeHandler, cellSelectionHandler) => {\n      const isTableBody = editor => name(getBody(editor)) === 'table';\n      const lastRowGuard = table => !isTableBody(editor) || getGridSize(table).rows > 1;\n      const lastColumnGuard = table => !isTableBody(editor) || getGridSize(table).columns > 1;\n      const cloneFormats = getTableCloneElements(editor);\n      const colMutationOp = isResizeTableColumnResizing(editor) ? noop : halve;\n      const getTableSectionType = table => {\n        switch (getTableHeaderType(editor)) {\n        case 'section':\n          return TableSection.section();\n        case 'sectionCells':\n          return TableSection.sectionCells();\n        case 'cells':\n          return TableSection.cells();\n        default:\n          return TableSection.getTableSectionType(table, 'section');\n        }\n      };\n      const setSelectionFromAction = (table, result) => result.cursor.fold(() => {\n        const cells = cells$1(table);\n        return head(cells).filter(inBody).map(firstCell => {\n          cellSelectionHandler.clearSelectedCells(table.dom);\n          const rng = editor.dom.createRng();\n          rng.selectNode(firstCell.dom);\n          editor.selection.setRng(rng);\n          set$2(firstCell, 'data-mce-selected', '1');\n          return rng;\n        });\n      }, cell => {\n        const des = freefallRtl(cell);\n        const rng = editor.dom.createRng();\n        rng.setStart(des.element.dom, des.offset);\n        rng.setEnd(des.element.dom, des.offset);\n        editor.selection.setRng(rng);\n        cellSelectionHandler.clearSelectedCells(table.dom);\n        return Optional.some(rng);\n      });\n      const execute = (operation, guard, mutate, effect) => (table, target, noEvents = false) => {\n        removeDataStyle(table);\n        const doc = SugarElement.fromDom(editor.getDoc());\n        const generators = cellOperations(mutate, doc, cloneFormats);\n        const behaviours = {\n          sizing: get$5(editor, table),\n          resize: isResizeTableColumnResizing(editor) ? resizeTable() : preserveTable(),\n          section: getTableSectionType(table)\n        };\n        return guard(table) ? operation(table, target, generators, behaviours).bind(result => {\n          resizeHandler.refresh(table.dom);\n          each$2(result.newRows, row => {\n            fireNewRow(editor, row.dom);\n          });\n          each$2(result.newCells, cell => {\n            fireNewCell(editor, cell.dom);\n          });\n          const range = setSelectionFromAction(table, result);\n          if (inBody(table)) {\n            removeDataStyle(table);\n            if (!noEvents) {\n              fireTableModified(editor, table.dom, effect);\n            }\n          }\n          return range.map(rng => ({\n            rng,\n            effect\n          }));\n        }) : Optional.none();\n      };\n      const deleteRow = execute(eraseRows, lastRowGuard, noop, structureModified);\n      const deleteColumn = execute(eraseColumns, lastColumnGuard, noop, structureModified);\n      const insertRowsBefore$1 = execute(insertRowsBefore, always, noop, structureModified);\n      const insertRowsAfter$1 = execute(insertRowsAfter, always, noop, structureModified);\n      const insertColumnsBefore$1 = execute(insertColumnsBefore, always, colMutationOp, structureModified);\n      const insertColumnsAfter$1 = execute(insertColumnsAfter, always, colMutationOp, structureModified);\n      const mergeCells$1 = execute(mergeCells, always, noop, structureModified);\n      const unmergeCells$1 = execute(unmergeCells, always, noop, structureModified);\n      const pasteColsBefore$1 = execute(pasteColsBefore, always, noop, structureModified);\n      const pasteColsAfter$1 = execute(pasteColsAfter, always, noop, structureModified);\n      const pasteRowsBefore$1 = execute(pasteRowsBefore, always, noop, structureModified);\n      const pasteRowsAfter$1 = execute(pasteRowsAfter, always, noop, structureModified);\n      const pasteCells$1 = execute(pasteCells, always, noop, styleAndStructureModified);\n      const makeCellsHeader$1 = execute(makeCellsHeader, always, noop, structureModified);\n      const unmakeCellsHeader$1 = execute(unmakeCellsHeader, always, noop, structureModified);\n      const makeColumnsHeader$1 = execute(makeColumnsHeader, always, noop, structureModified);\n      const unmakeColumnsHeader$1 = execute(unmakeColumnsHeader, always, noop, structureModified);\n      const makeRowsHeader$1 = execute(makeRowsHeader, always, noop, structureModified);\n      const makeRowsBody$1 = execute(makeRowsBody, always, noop, structureModified);\n      const makeRowsFooter$1 = execute(makeRowsFooter, always, noop, structureModified);\n      const getTableCellType = getCellsType;\n      const getTableColType = getColumnsType;\n      const getTableRowType = getRowsType;\n      return {\n        deleteRow,\n        deleteColumn,\n        insertRowsBefore: insertRowsBefore$1,\n        insertRowsAfter: insertRowsAfter$1,\n        insertColumnsBefore: insertColumnsBefore$1,\n        insertColumnsAfter: insertColumnsAfter$1,\n        mergeCells: mergeCells$1,\n        unmergeCells: unmergeCells$1,\n        pasteColsBefore: pasteColsBefore$1,\n        pasteColsAfter: pasteColsAfter$1,\n        pasteRowsBefore: pasteRowsBefore$1,\n        pasteRowsAfter: pasteRowsAfter$1,\n        pasteCells: pasteCells$1,\n        makeCellsHeader: makeCellsHeader$1,\n        unmakeCellsHeader: unmakeCellsHeader$1,\n        makeColumnsHeader: makeColumnsHeader$1,\n        unmakeColumnsHeader: unmakeColumnsHeader$1,\n        makeRowsHeader: makeRowsHeader$1,\n        makeRowsBody: makeRowsBody$1,\n        makeRowsFooter: makeRowsFooter$1,\n        getTableRowType,\n        getTableCellType,\n        getTableColType\n      };\n    };\n\n    const constrainSpan = (element, property, value) => {\n      const currentColspan = getAttrValue(element, property, 1);\n      if (value === 1 || currentColspan <= 1) {\n        remove$7(element, property);\n      } else {\n        set$2(element, property, Math.min(value, currentColspan));\n      }\n    };\n    const isColInRange = (minColRange, maxColRange) => cell => {\n      const endCol = cell.column + cell.colspan - 1;\n      const startCol = cell.column;\n      return endCol >= minColRange && startCol < maxColRange;\n    };\n    const generateColGroup = (house, minColRange, maxColRange) => {\n      if (Warehouse.hasColumns(house)) {\n        const colsToCopy = filter$2(Warehouse.justColumns(house), isColInRange(minColRange, maxColRange));\n        const copiedCols = map$1(colsToCopy, c => {\n          const clonedCol = deep(c.element);\n          constrainSpan(clonedCol, 'span', maxColRange - minColRange);\n          return clonedCol;\n        });\n        const fakeColgroup = SugarElement.fromTag('colgroup');\n        append(fakeColgroup, copiedCols);\n        return [fakeColgroup];\n      } else {\n        return [];\n      }\n    };\n    const generateRows = (house, minColRange, maxColRange) => map$1(house.all, row => {\n      const cellsToCopy = filter$2(row.cells, isColInRange(minColRange, maxColRange));\n      const copiedCells = map$1(cellsToCopy, cell => {\n        const clonedCell = deep(cell.element);\n        constrainSpan(clonedCell, 'colspan', maxColRange - minColRange);\n        return clonedCell;\n      });\n      const fakeTR = SugarElement.fromTag('tr');\n      append(fakeTR, copiedCells);\n      return fakeTR;\n    });\n    const copyCols = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onUnlockedCells(house, target);\n      return details.map(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minColRange = selectedCells[0].column;\n        const maxColRange = lastSelectedCell.column + lastSelectedCell.colspan;\n        const fakeColGroups = generateColGroup(house, minColRange, maxColRange);\n        const fakeRows = generateRows(house, minColRange, maxColRange);\n        return [\n          ...fakeColGroups,\n          ...fakeRows\n        ];\n      });\n    };\n\n    const copyRows = (table, target, generators) => {\n      const warehouse = Warehouse.fromTable(table);\n      const details = onCells(warehouse, target);\n      return details.bind(selectedCells => {\n        const grid = toGrid(warehouse, generators, false);\n        const rows = extractGridDetails(grid).rows;\n        const slicedGrid = rows.slice(selectedCells[0].row, selectedCells[selectedCells.length - 1].row + selectedCells[selectedCells.length - 1].rowspan);\n        const filteredGrid = bind$2(slicedGrid, row => {\n          const newCells = filter$2(row.cells, cell => !cell.isLocked);\n          return newCells.length > 0 ? [{\n              ...row,\n              cells: newCells\n            }] : [];\n        });\n        const slicedDetails = toDetailList(filteredGrid);\n        return someIf(slicedDetails.length > 0, slicedDetails);\n      }).map(slicedDetails => copy(slicedDetails));\n    };\n\n    const adt$5 = Adt.generate([\n      { invalid: ['raw'] },\n      { pixels: ['value'] },\n      { percent: ['value'] }\n    ]);\n    const validateFor = (suffix, type, value) => {\n      const rawAmount = value.substring(0, value.length - suffix.length);\n      const amount = parseFloat(rawAmount);\n      return rawAmount === amount.toString() ? type(amount) : adt$5.invalid(value);\n    };\n    const from = value => {\n      if (endsWith(value, '%')) {\n        return validateFor('%', adt$5.percent, value);\n      }\n      if (endsWith(value, 'px')) {\n        return validateFor('px', adt$5.pixels, value);\n      }\n      return adt$5.invalid(value);\n    };\n    const Size = {\n      ...adt$5,\n      from\n    };\n\n    const redistributeToPercent = (widths, totalWidth) => {\n      return map$1(widths, w => {\n        const colType = Size.from(w);\n        return colType.fold(() => {\n          return w;\n        }, px => {\n          const ratio = px / totalWidth * 100;\n          return ratio + '%';\n        }, pc => {\n          return pc + '%';\n        });\n      });\n    };\n    const redistributeToPx = (widths, totalWidth, newTotalWidth) => {\n      const scale = newTotalWidth / totalWidth;\n      return map$1(widths, w => {\n        const colType = Size.from(w);\n        return colType.fold(() => {\n          return w;\n        }, px => {\n          return px * scale + 'px';\n        }, pc => {\n          return pc / 100 * newTotalWidth + 'px';\n        });\n      });\n    };\n    const redistributeEmpty = (newWidthType, columns) => {\n      const f = newWidthType.fold(() => constant(''), pixels => {\n        const num = pixels / columns;\n        return constant(num + 'px');\n      }, () => {\n        const num = 100 / columns;\n        return constant(num + '%');\n      });\n      return range$1(columns, f);\n    };\n    const redistributeValues = (newWidthType, widths, totalWidth) => {\n      return newWidthType.fold(() => {\n        return widths;\n      }, px => {\n        return redistributeToPx(widths, totalWidth, px);\n      }, _pc => {\n        return redistributeToPercent(widths, totalWidth);\n      });\n    };\n    const redistribute$1 = (widths, totalWidth, newWidth) => {\n      const newType = Size.from(newWidth);\n      const floats = forall(widths, s => {\n        return s === '0px';\n      }) ? redistributeEmpty(newType, widths.length) : redistributeValues(newType, widths, totalWidth);\n      return normalize(floats);\n    };\n    const sum = (values, fallback) => {\n      if (values.length === 0) {\n        return fallback;\n      }\n      return foldr(values, (rest, v) => {\n        return Size.from(v).fold(constant(0), identity, identity) + rest;\n      }, 0);\n    };\n    const roundDown = (num, unit) => {\n      const floored = Math.floor(num);\n      return {\n        value: floored + unit,\n        remainder: num - floored\n      };\n    };\n    const add$3 = (value, amount) => {\n      return Size.from(value).fold(constant(value), px => {\n        return px + amount + 'px';\n      }, pc => {\n        return pc + amount + '%';\n      });\n    };\n    const normalize = values => {\n      if (values.length === 0) {\n        return values;\n      }\n      const scan = foldr(values, (rest, value) => {\n        const info = Size.from(value).fold(() => ({\n          value,\n          remainder: 0\n        }), num => roundDown(num, 'px'), num => ({\n          value: num + '%',\n          remainder: 0\n        }));\n        return {\n          output: [info.value].concat(rest.output),\n          remainder: rest.remainder + info.remainder\n        };\n      }, {\n        output: [],\n        remainder: 0\n      });\n      const r = scan.output;\n      return r.slice(0, r.length - 1).concat([add$3(r[r.length - 1], Math.round(scan.remainder))]);\n    };\n    const validate = Size.from;\n\n    const redistributeToW = (newWidths, cells, unit) => {\n      each$2(cells, cell => {\n        const widths = newWidths.slice(cell.column, cell.colspan + cell.column);\n        const w = sum(widths, minWidth());\n        set$1(cell.element, 'width', w + unit);\n      });\n    };\n    const redistributeToColumns = (newWidths, columns, unit) => {\n      each$2(columns, (column, index) => {\n        const width = sum([newWidths[index]], minWidth());\n        set$1(column.element, 'width', width + unit);\n      });\n    };\n    const redistributeToH = (newHeights, rows, cells, unit) => {\n      each$2(cells, cell => {\n        const heights = newHeights.slice(cell.row, cell.rowspan + cell.row);\n        const h = sum(heights, minHeight());\n        set$1(cell.element, 'height', h + unit);\n      });\n      each$2(rows, (row, i) => {\n        set$1(row.element, 'height', newHeights[i]);\n      });\n    };\n    const getUnit = newSize => {\n      return validate(newSize).fold(constant('px'), constant('px'), constant('%'));\n    };\n    const redistribute = (table, optWidth, optHeight) => {\n      const warehouse = Warehouse.fromTable(table);\n      const rows = warehouse.all;\n      const cells = Warehouse.justCells(warehouse);\n      const columns = Warehouse.justColumns(warehouse);\n      optWidth.each(newWidth => {\n        const widthUnit = getUnit(newWidth);\n        const totalWidth = get$9(table);\n        const oldWidths = getRawWidths(warehouse, table);\n        const nuWidths = redistribute$1(oldWidths, totalWidth, newWidth);\n        if (Warehouse.hasColumns(warehouse)) {\n          redistributeToColumns(nuWidths, columns, widthUnit);\n        } else {\n          redistributeToW(nuWidths, cells, widthUnit);\n        }\n        set$1(table, 'width', newWidth);\n      });\n      optHeight.each(newHeight => {\n        const hUnit = getUnit(newHeight);\n        const totalHeight = get$8(table);\n        const oldHeights = getRawHeights(warehouse, table, height);\n        const nuHeights = redistribute$1(oldHeights, totalHeight, newHeight);\n        redistributeToH(nuHeights, rows, cells, hUnit);\n        set$1(table, 'height', newHeight);\n      });\n    };\n    const isPercentSizing = isPercentSizing$1;\n    const isPixelSizing = isPixelSizing$1;\n    const isNoneSizing = isNoneSizing$1;\n\n    const cleanupLegacyAttributes = element => {\n      remove$7(element, 'width');\n    };\n    const convertToPercentSize = table => {\n      const newWidth = getPercentTableWidth(table);\n      redistribute(table, Optional.some(newWidth), Optional.none());\n      cleanupLegacyAttributes(table);\n    };\n    const convertToPixelSize = table => {\n      const newWidth = getPixelTableWidth(table);\n      redistribute(table, Optional.some(newWidth), Optional.none());\n      cleanupLegacyAttributes(table);\n    };\n    const convertToNoneSize = table => {\n      remove$5(table, 'width');\n      const columns = columns$1(table);\n      const rowElements = columns.length > 0 ? columns : cells$1(table);\n      each$2(rowElements, cell => {\n        remove$5(cell, 'width');\n        cleanupLegacyAttributes(cell);\n      });\n      cleanupLegacyAttributes(table);\n    };\n\n    const DefaultRenderOptions = {\n      styles: {\n        'border-collapse': 'collapse',\n        'width': '100%'\n      },\n      attributes: { border: '1' },\n      colGroups: false\n    };\n    const tableHeaderCell = () => SugarElement.fromTag('th');\n    const tableCell = () => SugarElement.fromTag('td');\n    const tableColumn = () => SugarElement.fromTag('col');\n    const createRow = (columns, rowHeaders, columnHeaders, rowIndex) => {\n      const tr = SugarElement.fromTag('tr');\n      for (let j = 0; j < columns; j++) {\n        const td = rowIndex < rowHeaders || j < columnHeaders ? tableHeaderCell() : tableCell();\n        if (j < columnHeaders) {\n          set$2(td, 'scope', 'row');\n        }\n        if (rowIndex < rowHeaders) {\n          set$2(td, 'scope', 'col');\n        }\n        append$1(td, SugarElement.fromTag('br'));\n        append$1(tr, td);\n      }\n      return tr;\n    };\n    const createGroupRow = columns => {\n      const columnGroup = SugarElement.fromTag('colgroup');\n      range$1(columns, () => append$1(columnGroup, tableColumn()));\n      return columnGroup;\n    };\n    const createRows = (rows, columns, rowHeaders, columnHeaders) => range$1(rows, r => createRow(columns, rowHeaders, columnHeaders, r));\n    const render = (rows, columns, rowHeaders, columnHeaders, headerType, renderOpts = DefaultRenderOptions) => {\n      const table = SugarElement.fromTag('table');\n      const rowHeadersGoInThead = headerType !== 'cells';\n      setAll(table, renderOpts.styles);\n      setAll$1(table, renderOpts.attributes);\n      if (renderOpts.colGroups) {\n        append$1(table, createGroupRow(columns));\n      }\n      const actualRowHeaders = Math.min(rows, rowHeaders);\n      if (rowHeadersGoInThead && rowHeaders > 0) {\n        const thead = SugarElement.fromTag('thead');\n        append$1(table, thead);\n        const theadRowHeaders = headerType === 'sectionCells' ? actualRowHeaders : 0;\n        const theadRows = createRows(rowHeaders, columns, theadRowHeaders, columnHeaders);\n        append(thead, theadRows);\n      }\n      const tbody = SugarElement.fromTag('tbody');\n      append$1(table, tbody);\n      const numRows = rowHeadersGoInThead ? rows - actualRowHeaders : rows;\n      const numRowHeaders = rowHeadersGoInThead ? 0 : rowHeaders;\n      const tbodyRows = createRows(numRows, columns, numRowHeaders, columnHeaders);\n      append(tbody, tbodyRows);\n      return table;\n    };\n\n    const get$4 = element => element.dom.innerHTML;\n    const getOuter = element => {\n      const container = SugarElement.fromTag('div');\n      const clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$1(container, clone);\n      return get$4(container);\n    };\n\n    const placeCaretInCell = (editor, cell) => {\n      editor.selection.select(cell.dom, true);\n      editor.selection.collapse(true);\n    };\n    const selectFirstCellInTable = (editor, tableElm) => {\n      descendant(tableElm, 'td,th').each(curry(placeCaretInCell, editor));\n    };\n    const fireEvents = (editor, table) => {\n      each$2(descendants(table, 'tr'), row => {\n        fireNewRow(editor, row.dom);\n        each$2(descendants(row, 'th,td'), cell => {\n          fireNewCell(editor, cell.dom);\n        });\n      });\n    };\n    const isPercentage = width => isString(width) && width.indexOf('%') !== -1;\n    const insert = (editor, columns, rows, colHeaders, rowHeaders) => {\n      const defaultStyles = getTableDefaultStyles(editor);\n      const options = {\n        styles: defaultStyles,\n        attributes: getTableDefaultAttributes(editor),\n        colGroups: tableUseColumnGroup(editor)\n      };\n      editor.undoManager.ignore(() => {\n        const table = render(rows, columns, rowHeaders, colHeaders, getTableHeaderType(editor), options);\n        set$2(table, 'data-mce-id', '__mce');\n        const html = getOuter(table);\n        editor.insertContent(html);\n        editor.addVisual();\n      });\n      return descendant(getBody(editor), 'table[data-mce-id=\"__mce\"]').map(table => {\n        if (isTablePixelsForced(editor)) {\n          convertToPixelSize(table);\n        } else if (isTableResponsiveForced(editor)) {\n          convertToNoneSize(table);\n        } else if (isTablePercentagesForced(editor) || isPercentage(defaultStyles.width)) {\n          convertToPercentSize(table);\n        }\n        removeDataStyle(table);\n        remove$7(table, 'data-mce-id');\n        fireEvents(editor, table);\n        selectFirstCellInTable(editor, table);\n        return table.dom;\n      }).getOrNull();\n    };\n    const insertTable = (editor, rows, columns, options = {}) => {\n      const checkInput = val => isNumber(val) && val > 0;\n      if (checkInput(rows) && checkInput(columns)) {\n        const headerRows = options.headerRows || 0;\n        const headerColumns = options.headerColumns || 0;\n        return insert(editor, columns, rows, headerColumns, headerRows);\n      } else {\n        console.error('Invalid values for mceInsertTable - rows and columns values are required to insert a table.');\n        return null;\n      }\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.FakeClipboard');\n\n    const tableTypeBase = 'x-tinymce/dom-table-';\n    const tableTypeRow = tableTypeBase + 'rows';\n    const tableTypeColumn = tableTypeBase + 'columns';\n    const setData = items => {\n      const fakeClipboardItem = global.FakeClipboardItem(items);\n      global.write([fakeClipboardItem]);\n    };\n    const getData = type => {\n      var _a;\n      const items = (_a = global.read()) !== null && _a !== void 0 ? _a : [];\n      return findMap(items, item => Optional.from(item.getType(type)));\n    };\n    const clearData = type => {\n      if (getData(type).isSome()) {\n        global.clear();\n      }\n    };\n    const setRows = rowsOpt => {\n      rowsOpt.fold(clearRows, rows => setData({ [tableTypeRow]: rows }));\n    };\n    const getRows = () => getData(tableTypeRow);\n    const clearRows = () => clearData(tableTypeRow);\n    const setColumns = columnsOpt => {\n      columnsOpt.fold(clearColumns, columns => setData({ [tableTypeColumn]: columns }));\n    };\n    const getColumns = () => getData(tableTypeColumn);\n    const clearColumns = () => clearData(tableTypeColumn);\n\n    const getSelectionStartCellOrCaption = editor => getSelectionCellOrCaption(getSelectionStart(editor), getIsRoot(editor)).filter(isInEditableContext$1);\n    const getSelectionStartCell = editor => getSelectionCell(getSelectionStart(editor), getIsRoot(editor)).filter(isInEditableContext$1);\n    const registerCommands = (editor, actions) => {\n      const isRoot = getIsRoot(editor);\n      const eraseTable = () => getSelectionStartCellOrCaption(editor).each(cellOrCaption => {\n        table(cellOrCaption, isRoot).filter(not(isRoot)).each(table => {\n          const cursor = SugarElement.fromText('');\n          after$5(table, cursor);\n          remove$6(table);\n          if (editor.dom.isEmpty(editor.getBody())) {\n            editor.setContent('');\n            editor.selection.setCursorLocation();\n          } else {\n            const rng = editor.dom.createRng();\n            rng.setStart(cursor.dom, 0);\n            rng.setEnd(cursor.dom, 0);\n            editor.selection.setRng(rng);\n            editor.nodeChanged();\n          }\n        });\n      });\n      const setSizingMode = sizing => getSelectionStartCellOrCaption(editor).each(cellOrCaption => {\n        const isForcedSizing = isTableResponsiveForced(editor) || isTablePixelsForced(editor) || isTablePercentagesForced(editor);\n        if (!isForcedSizing) {\n          table(cellOrCaption, isRoot).each(table => {\n            if (sizing === 'relative' && !isPercentSizing(table)) {\n              convertToPercentSize(table);\n            } else if (sizing === 'fixed' && !isPixelSizing(table)) {\n              convertToPixelSize(table);\n            } else if (sizing === 'responsive' && !isNoneSizing(table)) {\n              convertToNoneSize(table);\n            }\n            removeDataStyle(table);\n            fireTableModified(editor, table.dom, structureModified);\n          });\n        }\n      });\n      const getTableFromCell = cell => table(cell, isRoot);\n      const performActionOnSelection = action => getSelectionStartCell(editor).bind(cell => getTableFromCell(cell).map(table => action(table, cell)));\n      const toggleTableClass = (_ui, clazz) => {\n        performActionOnSelection(table => {\n          editor.formatter.toggle('tableclass', { value: clazz }, table.dom);\n          fireTableModified(editor, table.dom, styleModified);\n        });\n      };\n      const toggleTableCellClass = (_ui, clazz) => {\n        performActionOnSelection(table => {\n          const selectedCells = getCellsFromSelection(editor);\n          const allHaveClass = forall(selectedCells, cell => editor.formatter.match('tablecellclass', { value: clazz }, cell.dom));\n          const formatterAction = allHaveClass ? editor.formatter.remove : editor.formatter.apply;\n          each$2(selectedCells, cell => formatterAction('tablecellclass', { value: clazz }, cell.dom));\n          fireTableModified(editor, table.dom, styleModified);\n        });\n      };\n      const toggleCaption = () => {\n        getSelectionStartCellOrCaption(editor).each(cellOrCaption => {\n          table(cellOrCaption, isRoot).each(table => {\n            child(table, 'caption').fold(() => {\n              const caption = SugarElement.fromTag('caption');\n              append$1(caption, SugarElement.fromText('Caption'));\n              appendAt(table, caption, 0);\n              editor.selection.setCursorLocation(caption.dom, 0);\n            }, caption => {\n              if (isTag('caption')(cellOrCaption)) {\n                one('td', table).each(td => editor.selection.setCursorLocation(td.dom, 0));\n              }\n              remove$6(caption);\n            });\n            fireTableModified(editor, table.dom, structureModified);\n          });\n        });\n      };\n      const postExecute = _data => {\n        editor.focus();\n      };\n      const actOnSelection = (execute, noEvents = false) => performActionOnSelection((table, startCell) => {\n        const targets = forMenu(getCellsFromSelection(editor), table, startCell);\n        execute(table, targets, noEvents).each(postExecute);\n      });\n      const copyRowSelection = () => performActionOnSelection((table, startCell) => {\n        const targets = forMenu(getCellsFromSelection(editor), table, startCell);\n        const generators = cellOperations(noop, SugarElement.fromDom(editor.getDoc()), Optional.none());\n        return copyRows(table, targets, generators);\n      });\n      const copyColSelection = () => performActionOnSelection((table, startCell) => {\n        const targets = forMenu(getCellsFromSelection(editor), table, startCell);\n        return copyCols(table, targets);\n      });\n      const pasteOnSelection = (execute, getRows) => getRows().each(rows => {\n        const clonedRows = map$1(rows, row => deep(row));\n        performActionOnSelection((table, startCell) => {\n          const generators = paste$1(SugarElement.fromDom(editor.getDoc()));\n          const targets = pasteRows(getCellsFromSelection(editor), startCell, clonedRows, generators);\n          execute(table, targets).each(postExecute);\n        });\n      });\n      const actOnType = getAction => (_ui, args) => get$c(args, 'type').each(type => {\n        actOnSelection(getAction(type), args.no_events);\n      });\n      each$1({\n        mceTableSplitCells: () => actOnSelection(actions.unmergeCells),\n        mceTableMergeCells: () => actOnSelection(actions.mergeCells),\n        mceTableInsertRowBefore: () => actOnSelection(actions.insertRowsBefore),\n        mceTableInsertRowAfter: () => actOnSelection(actions.insertRowsAfter),\n        mceTableInsertColBefore: () => actOnSelection(actions.insertColumnsBefore),\n        mceTableInsertColAfter: () => actOnSelection(actions.insertColumnsAfter),\n        mceTableDeleteCol: () => actOnSelection(actions.deleteColumn),\n        mceTableDeleteRow: () => actOnSelection(actions.deleteRow),\n        mceTableCutCol: () => copyColSelection().each(selection => {\n          setColumns(selection);\n          actOnSelection(actions.deleteColumn);\n        }),\n        mceTableCutRow: () => copyRowSelection().each(selection => {\n          setRows(selection);\n          actOnSelection(actions.deleteRow);\n        }),\n        mceTableCopyCol: () => copyColSelection().each(selection => setColumns(selection)),\n        mceTableCopyRow: () => copyRowSelection().each(selection => setRows(selection)),\n        mceTablePasteColBefore: () => pasteOnSelection(actions.pasteColsBefore, getColumns),\n        mceTablePasteColAfter: () => pasteOnSelection(actions.pasteColsAfter, getColumns),\n        mceTablePasteRowBefore: () => pasteOnSelection(actions.pasteRowsBefore, getRows),\n        mceTablePasteRowAfter: () => pasteOnSelection(actions.pasteRowsAfter, getRows),\n        mceTableDelete: eraseTable,\n        mceTableCellToggleClass: toggleTableCellClass,\n        mceTableToggleClass: toggleTableClass,\n        mceTableToggleCaption: toggleCaption,\n        mceTableSizingMode: (_ui, sizing) => setSizingMode(sizing),\n        mceTableCellType: actOnType(type => type === 'th' ? actions.makeCellsHeader : actions.unmakeCellsHeader),\n        mceTableColType: actOnType(type => type === 'th' ? actions.makeColumnsHeader : actions.unmakeColumnsHeader),\n        mceTableRowType: actOnType(type => {\n          switch (type) {\n          case 'header':\n            return actions.makeRowsHeader;\n          case 'footer':\n            return actions.makeRowsFooter;\n          default:\n            return actions.makeRowsBody;\n          }\n        })\n      }, (func, name) => editor.addCommand(name, func));\n      editor.addCommand('mceInsertTable', (_ui, args) => {\n        insertTable(editor, args.rows, args.columns, args.options);\n      });\n      editor.addCommand('mceTableApplyCellStyle', (_ui, args) => {\n        const getFormatName = style => 'tablecell' + style.toLowerCase().replace('-', '');\n        if (!isObject(args)) {\n          return;\n        }\n        const cells = filter$2(getCellsFromSelection(editor), isInEditableContext$1);\n        if (cells.length === 0) {\n          return;\n        }\n        const validArgs = filter$1(args, (value, style) => editor.formatter.has(getFormatName(style)) && isString(value));\n        if (isEmpty(validArgs)) {\n          return;\n        }\n        each$1(validArgs, (value, style) => {\n          const formatName = getFormatName(style);\n          each$2(cells, cell => {\n            if (value === '') {\n              editor.formatter.remove(formatName, { value: null }, cell.dom, true);\n            } else {\n              editor.formatter.apply(formatName, { value }, cell.dom);\n            }\n          });\n        });\n        getTableFromCell(cells[0]).each(table => fireTableModified(editor, table.dom, styleModified));\n      });\n    };\n\n    const registerQueryCommands = (editor, actions) => {\n      const isRoot = getIsRoot(editor);\n      const lookupOnSelection = action => getSelectionCell(getSelectionStart(editor)).bind(cell => table(cell, isRoot).map(table => {\n        const targets = forMenu(getCellsFromSelection(editor), table, cell);\n        return action(table, targets);\n      })).getOr('');\n      each$1({\n        mceTableRowType: () => lookupOnSelection(actions.getTableRowType),\n        mceTableCellType: () => lookupOnSelection(actions.getTableCellType),\n        mceTableColType: () => lookupOnSelection(actions.getTableColType)\n      }, (func, name) => editor.addQueryValueHandler(name, func));\n    };\n\n    const adt$4 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    const cata$1 = (subject, onBefore, onOn, onAfter) => subject.fold(onBefore, onOn, onAfter);\n    const getStart$1 = situ => situ.fold(identity, identity, identity);\n    const before$2 = adt$4.before;\n    const on = adt$4.on;\n    const after$3 = adt$4.after;\n    const Situ = {\n      before: before$2,\n      on,\n      after: after$3,\n      cata: cata$1,\n      getStart: getStart$1\n    };\n\n    const create$4 = (selection, kill) => ({\n      selection,\n      kill\n    });\n    const Response = { create: create$4 };\n\n    const selectNode = (win, element) => {\n      const rng = win.document.createRange();\n      rng.selectNode(element.dom);\n      return rng;\n    };\n    const selectNodeContents = (win, element) => {\n      const rng = win.document.createRange();\n      selectNodeContentsUsing(rng, element);\n      return rng;\n    };\n    const selectNodeContentsUsing = (rng, element) => rng.selectNodeContents(element.dom);\n    const setStart = (rng, situ) => {\n      situ.fold(e => {\n        rng.setStartBefore(e.dom);\n      }, (e, o) => {\n        rng.setStart(e.dom, o);\n      }, e => {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    const setFinish = (rng, situ) => {\n      situ.fold(e => {\n        rng.setEndBefore(e.dom);\n      }, (e, o) => {\n        rng.setEnd(e.dom, o);\n      }, e => {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    const relativeToNative = (win, startSitu, finishSitu) => {\n      const range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    const exactToNative = (win, start, soffset, finish, foffset) => {\n      const rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const toRect = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      width: rect.width,\n      height: rect.height\n    });\n    const getFirstRect$1 = rng => {\n      const rects = rng.getClientRects();\n      const rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    const adt$3 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const fromRange = (win, type, range) => type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    const getRanges = (win, selection) => selection.match({\n      domRange: rng => {\n        return {\n          ltr: constant(rng),\n          rtl: Optional.none\n        };\n      },\n      relative: (startSitu, finishSitu) => {\n        return {\n          ltr: cached(() => relativeToNative(win, startSitu, finishSitu)),\n          rtl: cached(() => Optional.some(relativeToNative(win, finishSitu, startSitu)))\n        };\n      },\n      exact: (start, soffset, finish, foffset) => {\n        return {\n          ltr: cached(() => exactToNative(win, start, soffset, finish, foffset)),\n          rtl: cached(() => Optional.some(exactToNative(win, finish, foffset, start, soffset)))\n        };\n      }\n    });\n    const doDiagnose = (win, ranges) => {\n      const rng = ranges.ltr();\n      if (rng.collapsed) {\n        const reversed = ranges.rtl().filter(rev => rev.collapsed === false);\n        return reversed.map(rev => adt$3.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset)).getOrThunk(() => fromRange(win, adt$3.ltr, rng));\n      } else {\n        return fromRange(win, adt$3.ltr, rng);\n      }\n    };\n    const diagnose = (win, selection) => {\n      const ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    const asLtrRange = (win, selection) => {\n      const diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$3.ltr;\n    adt$3.rtl;\n\n    const create$3 = (start, soffset, finish, foffset) => ({\n      start,\n      soffset,\n      finish,\n      foffset\n    });\n    const SimRange = { create: create$3 };\n\n    const create$2 = (start, soffset, finish, foffset) => {\n      return {\n        start: Situ.on(start, soffset),\n        finish: Situ.on(finish, foffset)\n      };\n    };\n    const Situs = { create: create$2 };\n\n    const convertToRange = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return SimRange.create(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset);\n    };\n    const makeSitus = Situs.create;\n\n    const sync = (container, isRoot, start, soffset, finish, foffset, selectRange) => {\n      if (!(eq$1(start, finish) && soffset === foffset)) {\n        return closest$1(start, 'td,th', isRoot).bind(s => {\n          return closest$1(finish, 'td,th', isRoot).bind(f => {\n            return detect(container, isRoot, s, f, selectRange);\n          });\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const detect = (container, isRoot, start, finish, selectRange) => {\n      if (!eq$1(start, finish)) {\n        return identify(start, finish, isRoot).bind(cellSel => {\n          const boxes = cellSel.boxes.getOr([]);\n          if (boxes.length > 1) {\n            selectRange(container, boxes, cellSel.start, cellSel.finish);\n            return Optional.some(Response.create(Optional.some(makeSitus(start, 0, start, getEnd(start))), true));\n          } else {\n            return Optional.none();\n          }\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const update = (rows, columns, container, selected, annotations) => {\n      const updateSelection = newSels => {\n        annotations.clearBeforeUpdate(container);\n        annotations.selectRange(container, newSels.boxes, newSels.start, newSels.finish);\n        return newSels.boxes;\n      };\n      return shiftSelection(selected, rows, columns, annotations.firstSelectedSelector, annotations.lastSelectedSelector).map(updateSelection);\n    };\n\n    const traverse = (item, mode) => ({\n      item,\n      mode\n    });\n    const backtrack = (universe, item, _direction, transition = sidestep) => {\n      return universe.property().parent(item).map(p => {\n        return traverse(p, transition);\n      });\n    };\n    const sidestep = (universe, item, direction, transition = advance) => {\n      return direction.sibling(universe, item).map(p => {\n        return traverse(p, transition);\n      });\n    };\n    const advance = (universe, item, direction, transition = advance) => {\n      const children = universe.property().children(item);\n      const result = direction.first(children);\n      return result.map(r => {\n        return traverse(r, transition);\n      });\n    };\n    const successors = [\n      {\n        current: backtrack,\n        next: sidestep,\n        fallback: Optional.none()\n      },\n      {\n        current: sidestep,\n        next: advance,\n        fallback: Optional.some(backtrack)\n      },\n      {\n        current: advance,\n        next: advance,\n        fallback: Optional.some(sidestep)\n      }\n    ];\n    const go = (universe, item, mode, direction, rules = successors) => {\n      const ruleOpt = find$1(rules, succ => {\n        return succ.current === mode;\n      });\n      return ruleOpt.bind(rule => {\n        return rule.current(universe, item, direction, rule.next).orThunk(() => {\n          return rule.fallback.bind(fb => {\n            return go(universe, item, fb, direction);\n          });\n        });\n      });\n    };\n\n    const left$1 = () => {\n      const sibling = (universe, item) => {\n        return universe.query().prevSibling(item);\n      };\n      const first = children => {\n        return children.length > 0 ? Optional.some(children[children.length - 1]) : Optional.none();\n      };\n      return {\n        sibling,\n        first\n      };\n    };\n    const right$1 = () => {\n      const sibling = (universe, item) => {\n        return universe.query().nextSibling(item);\n      };\n      const first = children => {\n        return children.length > 0 ? Optional.some(children[0]) : Optional.none();\n      };\n      return {\n        sibling,\n        first\n      };\n    };\n    const Walkers = {\n      left: left$1,\n      right: right$1\n    };\n\n    const hone = (universe, item, predicate, mode, direction, isRoot) => {\n      const next = go(universe, item, mode, direction);\n      return next.bind(n => {\n        if (isRoot(n.item)) {\n          return Optional.none();\n        } else {\n          return predicate(n.item) ? Optional.some(n.item) : hone(universe, n.item, predicate, n.mode, direction, isRoot);\n        }\n      });\n    };\n    const left = (universe, item, predicate, isRoot) => {\n      return hone(universe, item, predicate, sidestep, Walkers.left(), isRoot);\n    };\n    const right = (universe, item, predicate, isRoot) => {\n      return hone(universe, item, predicate, sidestep, Walkers.right(), isRoot);\n    };\n\n    const isLeaf = universe => element => universe.property().children(element).length === 0;\n    const before$1 = (universe, item, isRoot) => {\n      return seekLeft$1(universe, item, isLeaf(universe), isRoot);\n    };\n    const after$2 = (universe, item, isRoot) => {\n      return seekRight$1(universe, item, isLeaf(universe), isRoot);\n    };\n    const seekLeft$1 = left;\n    const seekRight$1 = right;\n\n    const universe = DomUniverse();\n    const before = (element, isRoot) => {\n      return before$1(universe, element, isRoot);\n    };\n    const after$1 = (element, isRoot) => {\n      return after$2(universe, element, isRoot);\n    };\n    const seekLeft = (element, predicate, isRoot) => {\n      return seekLeft$1(universe, element, predicate, isRoot);\n    };\n    const seekRight = (element, predicate, isRoot) => {\n      return seekRight$1(universe, element, predicate, isRoot);\n    };\n\n    const ancestor = (scope, predicate, isRoot) => ancestor$2(scope, predicate, isRoot).isSome();\n\n    const adt$2 = Adt.generate([\n      { none: ['message'] },\n      { success: [] },\n      { failedUp: ['cell'] },\n      { failedDown: ['cell'] }\n    ]);\n    const isOverlapping = (bridge, before, after) => {\n      const beforeBounds = bridge.getRect(before);\n      const afterBounds = bridge.getRect(after);\n      return afterBounds.right > beforeBounds.left && afterBounds.left < beforeBounds.right;\n    };\n    const isRow = elem => {\n      return closest$1(elem, 'tr');\n    };\n    const verify = (bridge, before, beforeOffset, after, afterOffset, failure, isRoot) => {\n      return closest$1(after, 'td,th', isRoot).bind(afterCell => {\n        return closest$1(before, 'td,th', isRoot).map(beforeCell => {\n          if (!eq$1(afterCell, beforeCell)) {\n            return sharedOne(isRow, [\n              afterCell,\n              beforeCell\n            ]).fold(() => {\n              return isOverlapping(bridge, beforeCell, afterCell) ? adt$2.success() : failure(beforeCell);\n            }, _sharedRow => {\n              return failure(beforeCell);\n            });\n          } else {\n            return eq$1(after, afterCell) && getEnd(afterCell) === afterOffset ? failure(beforeCell) : adt$2.none('in same cell');\n          }\n        });\n      }).getOr(adt$2.none('default'));\n    };\n    const cata = (subject, onNone, onSuccess, onFailedUp, onFailedDown) => {\n      return subject.fold(onNone, onSuccess, onFailedUp, onFailedDown);\n    };\n    const BeforeAfter = {\n      ...adt$2,\n      verify,\n      cata\n    };\n\n    const inParent = (parent, children, element, index) => ({\n      parent,\n      children,\n      element,\n      index\n    });\n    const indexInParent = element => parent(element).bind(parent => {\n      const children = children$2(parent);\n      return indexOf(children, element).map(index => inParent(parent, children, element, index));\n    });\n    const indexOf = (elements, element) => findIndex(elements, curry(eq$1, element));\n\n    const isBr = isTag('br');\n    const gatherer = (cand, gather, isRoot) => {\n      return gather(cand, isRoot).bind(target => {\n        return isText(target) && get$6(target).trim().length === 0 ? gatherer(target, gather, isRoot) : Optional.some(target);\n      });\n    };\n    const handleBr = (isRoot, element, direction) => {\n      return direction.traverse(element).orThunk(() => {\n        return gatherer(element, direction.gather, isRoot);\n      }).map(direction.relative);\n    };\n    const findBr = (element, offset) => {\n      return child$2(element, offset).filter(isBr).orThunk(() => {\n        return child$2(element, offset - 1).filter(isBr);\n      });\n    };\n    const handleParent = (isRoot, element, offset, direction) => {\n      return findBr(element, offset).bind(br => {\n        return direction.traverse(br).fold(() => {\n          return gatherer(br, direction.gather, isRoot).map(direction.relative);\n        }, adjacent => {\n          return indexInParent(adjacent).map(info => {\n            return Situ.on(info.parent, info.index);\n          });\n        });\n      });\n    };\n    const tryBr = (isRoot, element, offset, direction) => {\n      const target = isBr(element) ? handleBr(isRoot, element, direction) : handleParent(isRoot, element, offset, direction);\n      return target.map(tgt => {\n        return {\n          start: tgt,\n          finish: tgt\n        };\n      });\n    };\n    const process = analysis => {\n      return BeforeAfter.cata(analysis, _message => {\n        return Optional.none();\n      }, () => {\n        return Optional.none();\n      }, cell => {\n        return Optional.some(point(cell, 0));\n      }, cell => {\n        return Optional.some(point(cell, getEnd(cell)));\n      });\n    };\n\n    const moveDown = (caret, amount) => {\n      return {\n        left: caret.left,\n        top: caret.top + amount,\n        right: caret.right,\n        bottom: caret.bottom + amount\n      };\n    };\n    const moveUp = (caret, amount) => {\n      return {\n        left: caret.left,\n        top: caret.top - amount,\n        right: caret.right,\n        bottom: caret.bottom - amount\n      };\n    };\n    const translate = (caret, xDelta, yDelta) => {\n      return {\n        left: caret.left + xDelta,\n        top: caret.top + yDelta,\n        right: caret.right + xDelta,\n        bottom: caret.bottom + yDelta\n      };\n    };\n    const getTop = caret => {\n      return caret.top;\n    };\n    const getBottom = caret => {\n      return caret.bottom;\n    };\n\n    const getPartialBox = (bridge, element, offset) => {\n      if (offset >= 0 && offset < getEnd(element)) {\n        return bridge.getRangedRect(element, offset, element, offset + 1);\n      } else if (offset > 0) {\n        return bridge.getRangedRect(element, offset - 1, element, offset);\n      }\n      return Optional.none();\n    };\n    const toCaret = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom\n    });\n    const getElemBox = (bridge, element) => {\n      return Optional.some(bridge.getRect(element));\n    };\n    const getBoxAt = (bridge, element, offset) => {\n      if (isElement(element)) {\n        return getElemBox(bridge, element).map(toCaret);\n      } else if (isText(element)) {\n        return getPartialBox(bridge, element, offset).map(toCaret);\n      } else {\n        return Optional.none();\n      }\n    };\n    const getEntireBox = (bridge, element) => {\n      if (isElement(element)) {\n        return getElemBox(bridge, element).map(toCaret);\n      } else if (isText(element)) {\n        return bridge.getRangedRect(element, 0, element, getEnd(element)).map(toCaret);\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const JUMP_SIZE = 5;\n    const NUM_RETRIES = 100;\n    const adt$1 = Adt.generate([\n      { none: [] },\n      { retry: ['caret'] }\n    ]);\n    const isOutside = (caret, box) => {\n      return caret.left < box.left || Math.abs(box.right - caret.left) < 1 || caret.left > box.right;\n    };\n    const inOutsideBlock = (bridge, element, caret) => {\n      return closest$2(element, isBlock).fold(never, cell => {\n        return getEntireBox(bridge, cell).exists(box => {\n          return isOutside(caret, box);\n        });\n      });\n    };\n    const adjustDown = (bridge, element, guessBox, original, caret) => {\n      const lowerCaret = moveDown(caret, JUMP_SIZE);\n      if (Math.abs(guessBox.bottom - original.bottom) < 1) {\n        return adt$1.retry(lowerCaret);\n      } else if (guessBox.top > caret.bottom) {\n        return adt$1.retry(lowerCaret);\n      } else if (guessBox.top === caret.bottom) {\n        return adt$1.retry(moveDown(caret, 1));\n      } else {\n        return inOutsideBlock(bridge, element, caret) ? adt$1.retry(translate(lowerCaret, JUMP_SIZE, 0)) : adt$1.none();\n      }\n    };\n    const adjustUp = (bridge, element, guessBox, original, caret) => {\n      const higherCaret = moveUp(caret, JUMP_SIZE);\n      if (Math.abs(guessBox.top - original.top) < 1) {\n        return adt$1.retry(higherCaret);\n      } else if (guessBox.bottom < caret.top) {\n        return adt$1.retry(higherCaret);\n      } else if (guessBox.bottom === caret.top) {\n        return adt$1.retry(moveUp(caret, 1));\n      } else {\n        return inOutsideBlock(bridge, element, caret) ? adt$1.retry(translate(higherCaret, JUMP_SIZE, 0)) : adt$1.none();\n      }\n    };\n    const upMovement = {\n      point: getTop,\n      adjuster: adjustUp,\n      move: moveUp,\n      gather: before\n    };\n    const downMovement = {\n      point: getBottom,\n      adjuster: adjustDown,\n      move: moveDown,\n      gather: after$1\n    };\n    const isAtTable = (bridge, x, y) => {\n      return bridge.elementFromPoint(x, y).filter(elm => {\n        return name(elm) === 'table';\n      }).isSome();\n    };\n    const adjustForTable = (bridge, movement, original, caret, numRetries) => {\n      return adjustTil(bridge, movement, original, movement.move(caret, JUMP_SIZE), numRetries);\n    };\n    const adjustTil = (bridge, movement, original, caret, numRetries) => {\n      if (numRetries === 0) {\n        return Optional.some(caret);\n      }\n      if (isAtTable(bridge, caret.left, movement.point(caret))) {\n        return adjustForTable(bridge, movement, original, caret, numRetries - 1);\n      }\n      return bridge.situsFromPoint(caret.left, movement.point(caret)).bind(guess => {\n        return guess.start.fold(Optional.none, element => {\n          return getEntireBox(bridge, element).bind(guessBox => {\n            return movement.adjuster(bridge, element, guessBox, original, caret).fold(Optional.none, newCaret => {\n              return adjustTil(bridge, movement, original, newCaret, numRetries - 1);\n            });\n          }).orThunk(() => {\n            return Optional.some(caret);\n          });\n        }, Optional.none);\n      });\n    };\n    const checkScroll = (movement, adjusted, bridge) => {\n      if (movement.point(adjusted) > bridge.getInnerHeight()) {\n        return Optional.some(movement.point(adjusted) - bridge.getInnerHeight());\n      } else if (movement.point(adjusted) < 0) {\n        return Optional.some(-movement.point(adjusted));\n      } else {\n        return Optional.none();\n      }\n    };\n    const retry = (movement, bridge, caret) => {\n      const moved = movement.move(caret, JUMP_SIZE);\n      const adjusted = adjustTil(bridge, movement, caret, moved, NUM_RETRIES).getOr(moved);\n      return checkScroll(movement, adjusted, bridge).fold(() => {\n        return bridge.situsFromPoint(adjusted.left, movement.point(adjusted));\n      }, delta => {\n        bridge.scrollBy(0, delta);\n        return bridge.situsFromPoint(adjusted.left, movement.point(adjusted) - delta);\n      });\n    };\n    const Retries = {\n      tryUp: curry(retry, upMovement),\n      tryDown: curry(retry, downMovement),\n      getJumpSize: constant(JUMP_SIZE)\n    };\n\n    const MAX_RETRIES = 20;\n    const findSpot = (bridge, isRoot, direction) => {\n      return bridge.getSelection().bind(sel => {\n        return tryBr(isRoot, sel.finish, sel.foffset, direction).fold(() => {\n          return Optional.some(point(sel.finish, sel.foffset));\n        }, brNeighbour => {\n          const range = bridge.fromSitus(brNeighbour);\n          const analysis = BeforeAfter.verify(bridge, sel.finish, sel.foffset, range.finish, range.foffset, direction.failure, isRoot);\n          return process(analysis);\n        });\n      });\n    };\n    const scan = (bridge, isRoot, element, offset, direction, numRetries) => {\n      if (numRetries === 0) {\n        return Optional.none();\n      }\n      return tryCursor(bridge, isRoot, element, offset, direction).bind(situs => {\n        const range = bridge.fromSitus(situs);\n        const analysis = BeforeAfter.verify(bridge, element, offset, range.finish, range.foffset, direction.failure, isRoot);\n        return BeforeAfter.cata(analysis, () => {\n          return Optional.none();\n        }, () => {\n          return Optional.some(situs);\n        }, cell => {\n          if (eq$1(element, cell) && offset === 0) {\n            return tryAgain(bridge, element, offset, moveUp, direction);\n          } else {\n            return scan(bridge, isRoot, cell, 0, direction, numRetries - 1);\n          }\n        }, cell => {\n          if (eq$1(element, cell) && offset === getEnd(cell)) {\n            return tryAgain(bridge, element, offset, moveDown, direction);\n          } else {\n            return scan(bridge, isRoot, cell, getEnd(cell), direction, numRetries - 1);\n          }\n        });\n      });\n    };\n    const tryAgain = (bridge, element, offset, move, direction) => {\n      return getBoxAt(bridge, element, offset).bind(box => {\n        return tryAt(bridge, direction, move(box, Retries.getJumpSize()));\n      });\n    };\n    const tryAt = (bridge, direction, box) => {\n      const browser = detect$2().browser;\n      if (browser.isChromium() || browser.isSafari() || browser.isFirefox()) {\n        return direction.retry(bridge, box);\n      } else {\n        return Optional.none();\n      }\n    };\n    const tryCursor = (bridge, isRoot, element, offset, direction) => {\n      return getBoxAt(bridge, element, offset).bind(box => {\n        return tryAt(bridge, direction, box);\n      });\n    };\n    const handle$1 = (bridge, isRoot, direction) => {\n      return findSpot(bridge, isRoot, direction).bind(spot => {\n        return scan(bridge, isRoot, spot.element, spot.offset, direction, MAX_RETRIES).map(bridge.fromSitus);\n      });\n    };\n\n    const inSameTable = (elem, table) => {\n      return ancestor(elem, e => {\n        return parent(e).exists(p => {\n          return eq$1(p, table);\n        });\n      });\n    };\n    const simulate = (bridge, isRoot, direction, initial, anchor) => {\n      return closest$1(initial, 'td,th', isRoot).bind(start => {\n        return closest$1(start, 'table', isRoot).bind(table => {\n          if (!inSameTable(anchor, table)) {\n            return Optional.none();\n          }\n          return handle$1(bridge, isRoot, direction).bind(range => {\n            return closest$1(range.finish, 'td,th', isRoot).map(finish => {\n              return {\n                start,\n                finish,\n                range\n              };\n            });\n          });\n        });\n      });\n    };\n    const navigate = (bridge, isRoot, direction, initial, anchor, precheck) => {\n      return precheck(initial, isRoot).orThunk(() => {\n        return simulate(bridge, isRoot, direction, initial, anchor).map(info => {\n          const range = info.range;\n          return Response.create(Optional.some(makeSitus(range.start, range.soffset, range.finish, range.foffset)), true);\n        });\n      });\n    };\n    const firstUpCheck = (initial, isRoot) => {\n      return closest$1(initial, 'tr', isRoot).bind(startRow => {\n        return closest$1(startRow, 'table', isRoot).bind(table => {\n          const rows = descendants(table, 'tr');\n          if (eq$1(startRow, rows[0])) {\n            return seekLeft(table, element => {\n              return last$1(element).isSome();\n            }, isRoot).map(last => {\n              const lastOffset = getEnd(last);\n              return Response.create(Optional.some(makeSitus(last, lastOffset, last, lastOffset)), true);\n            });\n          } else {\n            return Optional.none();\n          }\n        });\n      });\n    };\n    const lastDownCheck = (initial, isRoot) => {\n      return closest$1(initial, 'tr', isRoot).bind(startRow => {\n        return closest$1(startRow, 'table', isRoot).bind(table => {\n          const rows = descendants(table, 'tr');\n          if (eq$1(startRow, rows[rows.length - 1])) {\n            return seekRight(table, element => {\n              return first(element).isSome();\n            }, isRoot).map(first => {\n              return Response.create(Optional.some(makeSitus(first, 0, first, 0)), true);\n            });\n          } else {\n            return Optional.none();\n          }\n        });\n      });\n    };\n    const select = (bridge, container, isRoot, direction, initial, anchor, selectRange) => {\n      return simulate(bridge, isRoot, direction, initial, anchor).bind(info => {\n        return detect(container, isRoot, info.start, info.finish, selectRange);\n      });\n    };\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const value = () => {\n      const subject = singleton(noop);\n      const on = f => subject.get().each(f);\n      return {\n        ...subject,\n        on\n      };\n    };\n\n    const findCell = (target, isRoot) => closest$1(target, 'td,th', isRoot);\n    const isInEditableContext = cell => parentElement(cell).exists(isEditable$1);\n    const MouseSelection = (bridge, container, isRoot, annotations) => {\n      const cursor = value();\n      const clearstate = cursor.clear;\n      const applySelection = event => {\n        cursor.on(start => {\n          annotations.clearBeforeUpdate(container);\n          findCell(event.target, isRoot).each(finish => {\n            identify(start, finish, isRoot).each(cellSel => {\n              const boxes = cellSel.boxes.getOr([]);\n              if (boxes.length === 1) {\n                const singleCell = boxes[0];\n                const isNonEditableCell = getRaw(singleCell) === 'false';\n                const isCellClosestContentEditable = is(closest(event.target), singleCell, eq$1);\n                if (isNonEditableCell && isCellClosestContentEditable) {\n                  annotations.selectRange(container, boxes, singleCell, singleCell);\n                  bridge.selectContents(singleCell);\n                }\n              } else if (boxes.length > 1) {\n                annotations.selectRange(container, boxes, cellSel.start, cellSel.finish);\n                bridge.selectContents(finish);\n              }\n            });\n          });\n        });\n      };\n      const mousedown = event => {\n        annotations.clear(container);\n        findCell(event.target, isRoot).filter(isInEditableContext).each(cursor.set);\n      };\n      const mouseover = event => {\n        applySelection(event);\n      };\n      const mouseup = event => {\n        applySelection(event);\n        clearstate();\n      };\n      return {\n        clearstate,\n        mousedown,\n        mouseover,\n        mouseup\n      };\n    };\n\n    const down = {\n      traverse: nextSibling,\n      gather: after$1,\n      relative: Situ.before,\n      retry: Retries.tryDown,\n      failure: BeforeAfter.failedDown\n    };\n    const up = {\n      traverse: prevSibling,\n      gather: before,\n      relative: Situ.before,\n      retry: Retries.tryUp,\n      failure: BeforeAfter.failedUp\n    };\n\n    const isKey = key => {\n      return keycode => {\n        return keycode === key;\n      };\n    };\n    const isUp = isKey(38);\n    const isDown = isKey(40);\n    const isNavigation = keycode => {\n      return keycode >= 37 && keycode <= 40;\n    };\n    const ltr = {\n      isBackward: isKey(37),\n      isForward: isKey(39)\n    };\n    const rtl = {\n      isBackward: isKey(39),\n      isForward: isKey(37)\n    };\n\n    const get$3 = _DOC => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      const y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    const by = (x, y, _DOC) => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const win = doc.defaultView;\n      if (win) {\n        win.scrollBy(x, y);\n      }\n    };\n\n    const adt = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const exactFromRange = simRange => adt.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    const getStart = selection => selection.match({\n      domRange: rng => SugarElement.fromDom(rng.startContainer),\n      relative: (startSitu, _finishSitu) => Situ.getStart(startSitu),\n      exact: (start, _soffset, _finish, _foffset) => start\n    });\n    const domRange = adt.domRange;\n    const relative = adt.relative;\n    const exact = adt.exact;\n    const getWin = selection => {\n      const start = getStart(selection);\n      return defaultView(start);\n    };\n    const range = SimRange.create;\n    const SimSelection = {\n      domRange,\n      relative,\n      exact,\n      exactFromRange,\n      getWin,\n      range\n    };\n\n    const caretPositionFromPoint = (doc, x, y) => {\n      var _a, _b;\n      return Optional.from((_b = (_a = doc.dom).caretPositionFromPoint) === null || _b === void 0 ? void 0 : _b.call(_a, x, y)).bind(pos => {\n        if (pos.offsetNode === null) {\n          return Optional.none();\n        }\n        const r = doc.dom.createRange();\n        r.setStart(pos.offsetNode, pos.offset);\n        r.collapse();\n        return Optional.some(r);\n      });\n    };\n    const caretRangeFromPoint = (doc, x, y) => {\n      var _a, _b;\n      return Optional.from((_b = (_a = doc.dom).caretRangeFromPoint) === null || _b === void 0 ? void 0 : _b.call(_a, x, y));\n    };\n    const availableSearch = (() => {\n      if (document.caretPositionFromPoint) {\n        return caretPositionFromPoint;\n      } else if (document.caretRangeFromPoint) {\n        return caretRangeFromPoint;\n      } else {\n        return Optional.none;\n      }\n    })();\n    const fromPoint = (win, x, y) => {\n      const doc = SugarElement.fromDom(win.document);\n      return availableSearch(doc, x, y).map(rng => SimRange.create(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n    };\n\n    const beforeSpecial = (element, offset) => {\n      const name$1 = name(element);\n      if ('input' === name$1) {\n        return Situ.after(element);\n      } else if (!contains$2([\n          'br',\n          'img'\n        ], name$1)) {\n        return Situ.on(element, offset);\n      } else {\n        return offset === 0 ? Situ.before(element) : Situ.after(element);\n      }\n    };\n    const preprocessRelative = (startSitu, finishSitu) => {\n      const start = startSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      const finish = finishSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      return SimSelection.relative(start, finish);\n    };\n    const preprocessExact = (start, soffset, finish, foffset) => {\n      const startSitu = beforeSpecial(start, soffset);\n      const finishSitu = beforeSpecial(finish, foffset);\n      return SimSelection.relative(startSitu, finishSitu);\n    };\n\n    const makeRange = (start, soffset, finish, foffset) => {\n      const doc = owner(start);\n      const rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const after = (start, soffset, finish, foffset) => {\n      const r = makeRange(start, soffset, finish, foffset);\n      const same = eq$1(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    const getNativeSelection = win => Optional.from(win.getSelection());\n    const doSetNativeRange = (win, rng) => {\n      getNativeSelection(win).each(selection => {\n        selection.removeAllRanges();\n        selection.addRange(rng);\n      });\n    };\n    const doSetRange = (win, start, soffset, finish, foffset) => {\n      const rng = exactToNative(win, start, soffset, finish, foffset);\n      doSetNativeRange(win, rng);\n    };\n    const setLegacyRtlRange = (win, selection, start, soffset, finish, foffset) => {\n      selection.collapse(start.dom, soffset);\n      selection.extend(finish.dom, foffset);\n    };\n    const setRangeFromRelative = (win, relative) => diagnose(win, relative).match({\n      ltr: (start, soffset, finish, foffset) => {\n        doSetRange(win, start, soffset, finish, foffset);\n      },\n      rtl: (start, soffset, finish, foffset) => {\n        getNativeSelection(win).each(selection => {\n          if (selection.setBaseAndExtent) {\n            selection.setBaseAndExtent(start.dom, soffset, finish.dom, foffset);\n          } else if (selection.extend) {\n            try {\n              setLegacyRtlRange(win, selection, start, soffset, finish, foffset);\n            } catch (e) {\n              doSetRange(win, finish, foffset, start, soffset);\n            }\n          } else {\n            doSetRange(win, finish, foffset, start, soffset);\n          }\n        });\n      }\n    });\n    const setExact = (win, start, soffset, finish, foffset) => {\n      const relative = preprocessExact(start, soffset, finish, foffset);\n      setRangeFromRelative(win, relative);\n    };\n    const setRelative = (win, startSitu, finishSitu) => {\n      const relative = preprocessRelative(startSitu, finishSitu);\n      setRangeFromRelative(win, relative);\n    };\n    const readRange = selection => {\n      if (selection.rangeCount > 0) {\n        const firstRng = selection.getRangeAt(0);\n        const lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    const doGetExact = selection => {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        const anchor = SugarElement.fromDom(selection.anchorNode);\n        const focus = SugarElement.fromDom(selection.focusNode);\n        return after(anchor, selection.anchorOffset, focus, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    const setToElement = (win, element, selectNodeContents$1 = true) => {\n      const rngGetter = selectNodeContents$1 ? selectNodeContents : selectNode;\n      const rng = rngGetter(win, element);\n      doSetNativeRange(win, rng);\n    };\n    const getExact = win => getNativeSelection(win).filter(sel => sel.rangeCount > 0).bind(doGetExact);\n    const get$2 = win => getExact(win).map(range => SimSelection.exact(range.start, range.soffset, range.finish, range.foffset));\n    const getFirstRect = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    const getAtPoint = (win, x, y) => fromPoint(win, x, y);\n    const clear = win => {\n      getNativeSelection(win).each(selection => selection.removeAllRanges());\n    };\n\n    const WindowBridge = win => {\n      const elementFromPoint = (x, y) => {\n        return SugarElement.fromPoint(SugarElement.fromDom(win.document), x, y);\n      };\n      const getRect = element => {\n        return element.dom.getBoundingClientRect();\n      };\n      const getRangedRect = (start, soffset, finish, foffset) => {\n        const sel = SimSelection.exact(start, soffset, finish, foffset);\n        return getFirstRect(win, sel);\n      };\n      const getSelection = () => {\n        return get$2(win).map(exactAdt => {\n          return convertToRange(win, exactAdt);\n        });\n      };\n      const fromSitus = situs => {\n        const relative = SimSelection.relative(situs.start, situs.finish);\n        return convertToRange(win, relative);\n      };\n      const situsFromPoint = (x, y) => {\n        return getAtPoint(win, x, y).map(exact => {\n          return Situs.create(exact.start, exact.soffset, exact.finish, exact.foffset);\n        });\n      };\n      const clearSelection = () => {\n        clear(win);\n      };\n      const collapseSelection = (toStart = false) => {\n        get$2(win).each(sel => sel.fold(rng => rng.collapse(toStart), (startSitu, finishSitu) => {\n          const situ = toStart ? startSitu : finishSitu;\n          setRelative(win, situ, situ);\n        }, (start, soffset, finish, foffset) => {\n          const node = toStart ? start : finish;\n          const offset = toStart ? soffset : foffset;\n          setExact(win, node, offset, node, offset);\n        }));\n      };\n      const selectNode = element => {\n        setToElement(win, element, false);\n      };\n      const selectContents = element => {\n        setToElement(win, element);\n      };\n      const setSelection = sel => {\n        setExact(win, sel.start, sel.soffset, sel.finish, sel.foffset);\n      };\n      const setRelativeSelection = (start, finish) => {\n        setRelative(win, start, finish);\n      };\n      const getInnerHeight = () => {\n        return win.innerHeight;\n      };\n      const getScrollY = () => {\n        const pos = get$3(SugarElement.fromDom(win.document));\n        return pos.top;\n      };\n      const scrollBy = (x, y) => {\n        by(x, y, SugarElement.fromDom(win.document));\n      };\n      return {\n        elementFromPoint,\n        getRect,\n        getRangedRect,\n        getSelection,\n        fromSitus,\n        situsFromPoint,\n        clearSelection,\n        collapseSelection,\n        setSelection,\n        setRelativeSelection,\n        selectNode,\n        selectContents,\n        getInnerHeight,\n        getScrollY,\n        scrollBy\n      };\n    };\n\n    const rc = (rows, cols) => ({\n      rows,\n      cols\n    });\n    const mouse = (win, container, isRoot, annotations) => {\n      const bridge = WindowBridge(win);\n      const handlers = MouseSelection(bridge, container, isRoot, annotations);\n      return {\n        clearstate: handlers.clearstate,\n        mousedown: handlers.mousedown,\n        mouseover: handlers.mouseover,\n        mouseup: handlers.mouseup\n      };\n    };\n    const isEditableNode = node => closest$2(node, isHTMLElement).exists(isEditable$1);\n    const isEditableSelection = (start, finish) => isEditableNode(start) || isEditableNode(finish);\n    const keyboard = (win, container, isRoot, annotations) => {\n      const bridge = WindowBridge(win);\n      const clearToNavigate = () => {\n        annotations.clear(container);\n        return Optional.none();\n      };\n      const keydown = (event, start, soffset, finish, foffset, direction) => {\n        const realEvent = event.raw;\n        const keycode = realEvent.which;\n        const shiftKey = realEvent.shiftKey === true;\n        const handler = retrieve$1(container, annotations.selectedSelector).fold(() => {\n          if (isNavigation(keycode) && !shiftKey) {\n            annotations.clearBeforeUpdate(container);\n          }\n          if (isNavigation(keycode) && shiftKey && !isEditableSelection(start, finish)) {\n            return Optional.none;\n          } else if (isDown(keycode) && shiftKey) {\n            return curry(select, bridge, container, isRoot, down, finish, start, annotations.selectRange);\n          } else if (isUp(keycode) && shiftKey) {\n            return curry(select, bridge, container, isRoot, up, finish, start, annotations.selectRange);\n          } else if (isDown(keycode)) {\n            return curry(navigate, bridge, isRoot, down, finish, start, lastDownCheck);\n          } else if (isUp(keycode)) {\n            return curry(navigate, bridge, isRoot, up, finish, start, firstUpCheck);\n          } else {\n            return Optional.none;\n          }\n        }, selected => {\n          const update$1 = attempts => {\n            return () => {\n              const navigation = findMap(attempts, delta => {\n                return update(delta.rows, delta.cols, container, selected, annotations);\n              });\n              return navigation.fold(() => {\n                return getEdges(container, annotations.firstSelectedSelector, annotations.lastSelectedSelector).map(edges => {\n                  const relative = isDown(keycode) || direction.isForward(keycode) ? Situ.after : Situ.before;\n                  bridge.setRelativeSelection(Situ.on(edges.first, 0), relative(edges.table));\n                  annotations.clear(container);\n                  return Response.create(Optional.none(), true);\n                });\n              }, _ => {\n                return Optional.some(Response.create(Optional.none(), true));\n              });\n            };\n          };\n          if (isNavigation(keycode) && shiftKey && !isEditableSelection(start, finish)) {\n            return Optional.none;\n          } else if (isDown(keycode) && shiftKey) {\n            return update$1([rc(+1, 0)]);\n          } else if (isUp(keycode) && shiftKey) {\n            return update$1([rc(-1, 0)]);\n          } else if (direction.isBackward(keycode) && shiftKey) {\n            return update$1([\n              rc(0, -1),\n              rc(-1, 0)\n            ]);\n          } else if (direction.isForward(keycode) && shiftKey) {\n            return update$1([\n              rc(0, +1),\n              rc(+1, 0)\n            ]);\n          } else if (isNavigation(keycode) && !shiftKey) {\n            return clearToNavigate;\n          } else {\n            return Optional.none;\n          }\n        });\n        return handler();\n      };\n      const keyup = (event, start, soffset, finish, foffset) => {\n        return retrieve$1(container, annotations.selectedSelector).fold(() => {\n          const realEvent = event.raw;\n          const keycode = realEvent.which;\n          const shiftKey = realEvent.shiftKey === true;\n          if (!shiftKey) {\n            return Optional.none();\n          }\n          if (isNavigation(keycode) && isEditableSelection(start, finish)) {\n            return sync(container, isRoot, start, soffset, finish, foffset, annotations.selectRange);\n          } else {\n            return Optional.none();\n          }\n        }, Optional.none);\n      };\n      return {\n        keydown,\n        keyup\n      };\n    };\n    const external = (win, container, isRoot, annotations) => {\n      const bridge = WindowBridge(win);\n      return (start, finish) => {\n        annotations.clearBeforeUpdate(container);\n        identify(start, finish, isRoot).each(cellSel => {\n          const boxes = cellSel.boxes.getOr([]);\n          annotations.selectRange(container, boxes, cellSel.start, cellSel.finish);\n          bridge.selectContents(finish);\n          bridge.collapseSelection();\n        });\n      };\n    };\n\n    const read = (element, attr) => {\n      const value = get$b(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    const add$2 = (element, attr, id) => {\n      const old = read(element, attr);\n      const nu = old.concat([id]);\n      set$2(element, attr, nu.join(' '));\n      return true;\n    };\n    const remove$4 = (element, attr, id) => {\n      const nu = filter$2(read(element, attr), v => v !== id);\n      if (nu.length > 0) {\n        set$2(element, attr, nu.join(' '));\n      } else {\n        remove$7(element, attr);\n      }\n      return false;\n    };\n\n    const supports = element => element.dom.classList !== undefined;\n    const get$1 = element => read(element, 'class');\n    const add$1 = (element, clazz) => add$2(element, 'class', clazz);\n    const remove$3 = (element, clazz) => remove$4(element, 'class', clazz);\n\n    const add = (element, clazz) => {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$1(element, clazz);\n      }\n    };\n    const cleanClass = element => {\n      const classList = supports(element) ? element.dom.classList : get$1(element);\n      if (classList.length === 0) {\n        remove$7(element, 'class');\n      }\n    };\n    const remove$2 = (element, clazz) => {\n      if (supports(element)) {\n        const classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    const has = (element, clazz) => supports(element) && element.dom.classList.contains(clazz);\n\n    const remove$1 = (element, classes) => {\n      each$2(classes, x => {\n        remove$2(element, x);\n      });\n    };\n\n    const addClass = clazz => element => {\n      add(element, clazz);\n    };\n    const removeClasses = classes => element => {\n      remove$1(element, classes);\n    };\n\n    const byClass = ephemera => {\n      const addSelectionClass = addClass(ephemera.selected);\n      const removeSelectionClasses = removeClasses([\n        ephemera.selected,\n        ephemera.lastSelected,\n        ephemera.firstSelected\n      ]);\n      const clear = container => {\n        const sels = descendants(container, ephemera.selectedSelector);\n        each$2(sels, removeSelectionClasses);\n      };\n      const selectRange = (container, cells, start, finish) => {\n        clear(container);\n        each$2(cells, addSelectionClass);\n        add(start, ephemera.firstSelected);\n        add(finish, ephemera.lastSelected);\n      };\n      return {\n        clearBeforeUpdate: clear,\n        clear,\n        selectRange,\n        selectedSelector: ephemera.selectedSelector,\n        firstSelectedSelector: ephemera.firstSelectedSelector,\n        lastSelectedSelector: ephemera.lastSelectedSelector\n      };\n    };\n    const byAttr = (ephemera, onSelection, onClear) => {\n      const removeSelectionAttributes = element => {\n        remove$7(element, ephemera.selected);\n        remove$7(element, ephemera.firstSelected);\n        remove$7(element, ephemera.lastSelected);\n      };\n      const addSelectionAttribute = element => {\n        set$2(element, ephemera.selected, '1');\n      };\n      const clear = container => {\n        clearBeforeUpdate(container);\n        onClear();\n      };\n      const clearBeforeUpdate = container => {\n        const sels = descendants(container, `${ ephemera.selectedSelector },${ ephemera.firstSelectedSelector },${ ephemera.lastSelectedSelector }`);\n        each$2(sels, removeSelectionAttributes);\n      };\n      const selectRange = (container, cells, start, finish) => {\n        clear(container);\n        each$2(cells, addSelectionAttribute);\n        set$2(start, ephemera.firstSelected, '1');\n        set$2(finish, ephemera.lastSelected, '1');\n        onSelection(cells, start, finish);\n      };\n      return {\n        clearBeforeUpdate,\n        clear,\n        selectRange,\n        selectedSelector: ephemera.selectedSelector,\n        firstSelectedSelector: ephemera.firstSelectedSelector,\n        lastSelectedSelector: ephemera.lastSelectedSelector\n      };\n    };\n    const SelectionAnnotation = {\n      byClass,\n      byAttr\n    };\n\n    const fold = (subject, onNone, onMultiple, onSingle) => {\n      switch (subject.tag) {\n      case 'none':\n        return onNone();\n      case 'single':\n        return onSingle(subject.element);\n      case 'multiple':\n        return onMultiple(subject.elements);\n      }\n    };\n    const none = () => ({ tag: 'none' });\n    const multiple = elements => ({\n      tag: 'multiple',\n      elements\n    });\n    const single = element => ({\n      tag: 'single',\n      element\n    });\n\n    const Selections = (lazyRoot, getStart, selectedSelector) => {\n      const get = () => retrieve(lazyRoot(), selectedSelector).fold(() => getStart().fold(none, single), multiple);\n      return { get };\n    };\n\n    const getUpOrLeftCells = (grid, selectedCells) => {\n      const upGrid = grid.slice(0, selectedCells[selectedCells.length - 1].row + 1);\n      const upDetails = toDetailList(upGrid);\n      return bind$2(upDetails, detail => {\n        const slicedCells = detail.cells.slice(0, selectedCells[selectedCells.length - 1].column + 1);\n        return map$1(slicedCells, cell => cell.element);\n      });\n    };\n    const getDownOrRightCells = (grid, selectedCells) => {\n      const downGrid = grid.slice(selectedCells[0].row + selectedCells[0].rowspan - 1, grid.length);\n      const downDetails = toDetailList(downGrid);\n      return bind$2(downDetails, detail => {\n        const slicedCells = detail.cells.slice(selectedCells[0].column + selectedCells[0].colspan - 1, detail.cells.length);\n        return map$1(slicedCells, cell => cell.element);\n      });\n    };\n    const getOtherCells = (table, target, generators) => {\n      const warehouse = Warehouse.fromTable(table);\n      const details = onCells(warehouse, target);\n      return details.map(selectedCells => {\n        const grid = toGrid(warehouse, generators, false);\n        const {rows} = extractGridDetails(grid);\n        const upOrLeftCells = getUpOrLeftCells(rows, selectedCells);\n        const downOrRightCells = getDownOrRightCells(rows, selectedCells);\n        return {\n          upOrLeftCells,\n          downOrRightCells\n        };\n      });\n    };\n\n    const mkEvent = (target, x, y, stop, prevent, kill, raw) => ({\n      target,\n      x,\n      y,\n      stop,\n      prevent,\n      kill,\n      raw\n    });\n    const fromRawEvent$1 = rawEvent => {\n      const target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      const stop = () => rawEvent.stopPropagation();\n      const prevent = () => rawEvent.preventDefault();\n      const kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    const handle = (filter, handler) => rawEvent => {\n      if (filter(rawEvent)) {\n        handler(fromRawEvent$1(rawEvent));\n      }\n    };\n    const binder = (element, event, filter, handler, useCapture) => {\n      const wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    const bind$1 = (element, event, filter, handler) => binder(element, event, filter, handler, false);\n    const unbind = (element, event, handler, useCapture) => {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    const filter = always;\n    const bind = (element, event, handler) => bind$1(element, event, filter, handler);\n    const fromRawEvent = fromRawEvent$1;\n\n    const hasInternalTarget = e => !has(SugarElement.fromDom(e.target), 'ephox-snooker-resizer-bar');\n    const TableCellSelectionHandler = (editor, resizeHandler) => {\n      const cellSelection = Selections(() => SugarElement.fromDom(editor.getBody()), () => getSelectionCell(getSelectionStart(editor), getIsRoot(editor)), ephemera.selectedSelector);\n      const onSelection = (cells, start, finish) => {\n        const tableOpt = table(start);\n        tableOpt.each(table => {\n          const cloneFormats = getTableCloneElements(editor);\n          const generators = cellOperations(noop, SugarElement.fromDom(editor.getDoc()), cloneFormats);\n          const selectedCells = getCellsFromSelection(editor);\n          const otherCells = getOtherCells(table, { selection: selectedCells }, generators);\n          fireTableSelectionChange(editor, cells, start, finish, otherCells);\n        });\n      };\n      const onClear = () => fireTableSelectionClear(editor);\n      const annotations = SelectionAnnotation.byAttr(ephemera, onSelection, onClear);\n      editor.on('init', _e => {\n        const win = editor.getWin();\n        const body = getBody(editor);\n        const isRoot = getIsRoot(editor);\n        const syncSelection = () => {\n          const sel = editor.selection;\n          const start = SugarElement.fromDom(sel.getStart());\n          const end = SugarElement.fromDom(sel.getEnd());\n          const shared = sharedOne(table, [\n            start,\n            end\n          ]);\n          shared.fold(() => annotations.clear(body), noop);\n        };\n        const mouseHandlers = mouse(win, body, isRoot, annotations);\n        const keyHandlers = keyboard(win, body, isRoot, annotations);\n        const external$1 = external(win, body, isRoot, annotations);\n        const hasShiftKey = event => event.raw.shiftKey === true;\n        editor.on('TableSelectorChange', e => external$1(e.start, e.finish));\n        const handleResponse = (event, response) => {\n          if (!hasShiftKey(event)) {\n            return;\n          }\n          if (response.kill) {\n            event.kill();\n          }\n          response.selection.each(ns => {\n            const relative = SimSelection.relative(ns.start, ns.finish);\n            const rng = asLtrRange(win, relative);\n            editor.selection.setRng(rng);\n          });\n        };\n        const keyup = event => {\n          const wrappedEvent = fromRawEvent(event);\n          if (wrappedEvent.raw.shiftKey && isNavigation(wrappedEvent.raw.which)) {\n            const rng = editor.selection.getRng();\n            const start = SugarElement.fromDom(rng.startContainer);\n            const end = SugarElement.fromDom(rng.endContainer);\n            keyHandlers.keyup(wrappedEvent, start, rng.startOffset, end, rng.endOffset).each(response => {\n              handleResponse(wrappedEvent, response);\n            });\n          }\n        };\n        const keydown = event => {\n          const wrappedEvent = fromRawEvent(event);\n          resizeHandler.hide();\n          const rng = editor.selection.getRng();\n          const start = SugarElement.fromDom(rng.startContainer);\n          const end = SugarElement.fromDom(rng.endContainer);\n          const direction = onDirection(ltr, rtl)(SugarElement.fromDom(editor.selection.getStart()));\n          keyHandlers.keydown(wrappedEvent, start, rng.startOffset, end, rng.endOffset, direction).each(response => {\n            handleResponse(wrappedEvent, response);\n          });\n          resizeHandler.show();\n        };\n        const isLeftMouse = raw => raw.button === 0;\n        const isLeftButtonPressed = raw => {\n          if (raw.buttons === undefined) {\n            return true;\n          }\n          return (raw.buttons & 1) !== 0;\n        };\n        const dragStart = _e => {\n          mouseHandlers.clearstate();\n        };\n        const mouseDown = e => {\n          if (isLeftMouse(e) && hasInternalTarget(e)) {\n            mouseHandlers.mousedown(fromRawEvent(e));\n          }\n        };\n        const mouseOver = e => {\n          if (isLeftButtonPressed(e) && hasInternalTarget(e)) {\n            mouseHandlers.mouseover(fromRawEvent(e));\n          }\n        };\n        const mouseUp = e => {\n          if (isLeftMouse(e) && hasInternalTarget(e)) {\n            mouseHandlers.mouseup(fromRawEvent(e));\n          }\n        };\n        const getDoubleTap = () => {\n          const lastTarget = Cell(SugarElement.fromDom(body));\n          const lastTimeStamp = Cell(0);\n          const touchEnd = t => {\n            const target = SugarElement.fromDom(t.target);\n            if (isTag('td')(target) || isTag('th')(target)) {\n              const lT = lastTarget.get();\n              const lTS = lastTimeStamp.get();\n              if (eq$1(lT, target) && t.timeStamp - lTS < 300) {\n                t.preventDefault();\n                external$1(target, target);\n              }\n            }\n            lastTarget.set(target);\n            lastTimeStamp.set(t.timeStamp);\n          };\n          return { touchEnd };\n        };\n        const doubleTap = getDoubleTap();\n        editor.on('dragstart', dragStart);\n        editor.on('mousedown', mouseDown);\n        editor.on('mouseover', mouseOver);\n        editor.on('mouseup', mouseUp);\n        editor.on('touchend', doubleTap.touchEnd);\n        editor.on('keyup', keyup);\n        editor.on('keydown', keydown);\n        editor.on('NodeChange', syncSelection);\n      });\n      editor.on('PreInit', () => {\n        editor.serializer.addTempAttr(ephemera.firstSelected);\n        editor.serializer.addTempAttr(ephemera.lastSelected);\n      });\n      const clearSelectedCells = container => annotations.clear(SugarElement.fromDom(container));\n      const getSelectedCells = () => fold(cellSelection.get(), constant([]), cells => {\n        return map$1(cells, cell => cell.dom);\n      }, cell => [cell.dom]);\n      return {\n        getSelectedCells,\n        clearSelectedCells\n      };\n    };\n\n    const Event = fields => {\n      let handlers = [];\n      const bind = handler => {\n        if (handler === undefined) {\n          throw new Error('Event bind error: undefined handler');\n        }\n        handlers.push(handler);\n      };\n      const unbind = handler => {\n        handlers = filter$2(handlers, h => {\n          return h !== handler;\n        });\n      };\n      const trigger = (...args) => {\n        const event = {};\n        each$2(fields, (name, i) => {\n          event[name] = args[i];\n        });\n        each$2(handlers, handler => {\n          handler(event);\n        });\n      };\n      return {\n        bind,\n        unbind,\n        trigger\n      };\n    };\n\n    const create$1 = typeDefs => {\n      const registry = map(typeDefs, event => {\n        return {\n          bind: event.bind,\n          unbind: event.unbind\n        };\n      });\n      const trigger = map(typeDefs, event => {\n        return event.trigger;\n      });\n      return {\n        registry,\n        trigger\n      };\n    };\n\n    const last = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        cancel();\n        timer = setTimeout(() => {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n\n    const sort = arr => {\n      return arr.slice(0).sort();\n    };\n    const reqMessage = (required, keys) => {\n      throw new Error('All required keys (' + sort(required).join(', ') + ') were not specified. Specified keys were: ' + sort(keys).join(', ') + '.');\n    };\n    const unsuppMessage = unsupported => {\n      throw new Error('Unsupported keys for object: ' + sort(unsupported).join(', '));\n    };\n    const validateStrArr = (label, array) => {\n      if (!isArray(array)) {\n        throw new Error('The ' + label + ' fields must be an array. Was: ' + array + '.');\n      }\n      each$2(array, a => {\n        if (!isString(a)) {\n          throw new Error('The value ' + a + ' in the ' + label + ' fields was not a string.');\n        }\n      });\n    };\n    const invalidTypeMessage = (incorrect, type) => {\n      throw new Error('All values need to be of type: ' + type + '. Keys (' + sort(incorrect).join(', ') + ') were not.');\n    };\n    const checkDupes = everything => {\n      const sorted = sort(everything);\n      const dupe = find$1(sorted, (s, i) => {\n        return i < sorted.length - 1 && s === sorted[i + 1];\n      });\n      dupe.each(d => {\n        throw new Error('The field: ' + d + ' occurs more than once in the combined fields: [' + sorted.join(', ') + '].');\n      });\n    };\n\n    const base = (handleUnsupported, required) => {\n      return baseWith(handleUnsupported, required, {\n        validate: isFunction,\n        label: 'function'\n      });\n    };\n    const baseWith = (handleUnsupported, required, pred) => {\n      if (required.length === 0) {\n        throw new Error('You must specify at least one required field.');\n      }\n      validateStrArr('required', required);\n      checkDupes(required);\n      return obj => {\n        const keys$1 = keys(obj);\n        const allReqd = forall(required, req => {\n          return contains$2(keys$1, req);\n        });\n        if (!allReqd) {\n          reqMessage(required, keys$1);\n        }\n        handleUnsupported(required, keys$1);\n        const invalidKeys = filter$2(required, key => {\n          return !pred.validate(obj[key], key);\n        });\n        if (invalidKeys.length > 0) {\n          invalidTypeMessage(invalidKeys, pred.label);\n        }\n        return obj;\n      };\n    };\n    const handleExact = (required, keys) => {\n      const unsupported = filter$2(keys, key => {\n        return !contains$2(required, key);\n      });\n      if (unsupported.length > 0) {\n        unsuppMessage(unsupported);\n      }\n    };\n    const exactly = required => base(handleExact, required);\n\n    const DragMode = exactly([\n      'compare',\n      'extract',\n      'mutate',\n      'sink'\n    ]);\n    const DragSink = exactly([\n      'element',\n      'start',\n      'stop',\n      'destroy'\n    ]);\n    const DragApi = exactly([\n      'forceDrop',\n      'drop',\n      'move',\n      'delayDrop'\n    ]);\n\n    const InDrag = () => {\n      let previous = Optional.none();\n      const reset = () => {\n        previous = Optional.none();\n      };\n      const update = (mode, nu) => {\n        const result = previous.map(old => {\n          return mode.compare(old, nu);\n        });\n        previous = Optional.some(nu);\n        return result;\n      };\n      const onEvent = (event, mode) => {\n        const dataOption = mode.extract(event);\n        dataOption.each(data => {\n          const offset = update(mode, data);\n          offset.each(d => {\n            events.trigger.move(d);\n          });\n        });\n      };\n      const events = create$1({ move: Event(['info']) });\n      return {\n        onEvent,\n        reset,\n        events: events.registry\n      };\n    };\n\n    const NoDrag = () => {\n      const events = create$1({ move: Event(['info']) });\n      return {\n        onEvent: noop,\n        reset: noop,\n        events: events.registry\n      };\n    };\n\n    const Movement = () => {\n      const noDragState = NoDrag();\n      const inDragState = InDrag();\n      let dragState = noDragState;\n      const on = () => {\n        dragState.reset();\n        dragState = inDragState;\n      };\n      const off = () => {\n        dragState.reset();\n        dragState = noDragState;\n      };\n      const onEvent = (event, mode) => {\n        dragState.onEvent(event, mode);\n      };\n      const isOn = () => {\n        return dragState === inDragState;\n      };\n      return {\n        on,\n        off,\n        isOn,\n        onEvent,\n        events: inDragState.events\n      };\n    };\n\n    const setup = (mutation, mode, settings) => {\n      let active = false;\n      const events = create$1({\n        start: Event([]),\n        stop: Event([])\n      });\n      const movement = Movement();\n      const drop = () => {\n        sink.stop();\n        if (movement.isOn()) {\n          movement.off();\n          events.trigger.stop();\n        }\n      };\n      const throttledDrop = last(drop, 200);\n      const go = parent => {\n        sink.start(parent);\n        movement.on();\n        events.trigger.start();\n      };\n      const mousemove = event => {\n        throttledDrop.cancel();\n        movement.onEvent(event, mode);\n      };\n      movement.events.move.bind(event => {\n        mode.mutate(mutation, event.info);\n      });\n      const on = () => {\n        active = true;\n      };\n      const off = () => {\n        active = false;\n      };\n      const isActive = () => active;\n      const runIfActive = f => {\n        return (...args) => {\n          if (active) {\n            f.apply(null, args);\n          }\n        };\n      };\n      const sink = mode.sink(DragApi({\n        forceDrop: drop,\n        drop: runIfActive(drop),\n        move: runIfActive(mousemove),\n        delayDrop: runIfActive(throttledDrop.throttle)\n      }), settings);\n      const destroy = () => {\n        sink.destroy();\n      };\n      return {\n        element: sink.element,\n        go,\n        on,\n        off,\n        isActive,\n        destroy,\n        events: events.registry\n      };\n    };\n\n    const css = namespace => {\n      const dashNamespace = namespace.replace(/\\./g, '-');\n      const resolve = str => {\n        return dashNamespace + '-' + str;\n      };\n      return { resolve };\n    };\n\n    const styles$1 = css('ephox-dragster');\n    const resolve$1 = styles$1.resolve;\n\n    const Blocker = options => {\n      const settings = {\n        layerClass: resolve$1('blocker'),\n        ...options\n      };\n      const div = SugarElement.fromTag('div');\n      set$2(div, 'role', 'presentation');\n      setAll(div, {\n        position: 'fixed',\n        left: '0px',\n        top: '0px',\n        width: '100%',\n        height: '100%'\n      });\n      add(div, resolve$1('blocker'));\n      add(div, settings.layerClass);\n      const element = constant(div);\n      const destroy = () => {\n        remove$6(div);\n      };\n      return {\n        element,\n        destroy\n      };\n    };\n\n    const compare = (old, nu) => {\n      return SugarPosition(nu.left - old.left, nu.top - old.top);\n    };\n    const extract = event => {\n      return Optional.some(SugarPosition(event.x, event.y));\n    };\n    const mutate = (mutation, info) => {\n      mutation.mutate(info.left, info.top);\n    };\n    const sink = (dragApi, settings) => {\n      const blocker = Blocker(settings);\n      const mdown = bind(blocker.element(), 'mousedown', dragApi.forceDrop);\n      const mup = bind(blocker.element(), 'mouseup', dragApi.drop);\n      const mmove = bind(blocker.element(), 'mousemove', dragApi.move);\n      const mout = bind(blocker.element(), 'mouseout', dragApi.delayDrop);\n      const destroy = () => {\n        blocker.destroy();\n        mup.unbind();\n        mmove.unbind();\n        mout.unbind();\n        mdown.unbind();\n      };\n      const start = parent => {\n        append$1(parent, blocker.element());\n      };\n      const stop = () => {\n        remove$6(blocker.element());\n      };\n      return DragSink({\n        element: blocker.element,\n        start,\n        stop,\n        destroy\n      });\n    };\n    var MouseDrag = DragMode({\n      compare,\n      extract,\n      sink,\n      mutate\n    });\n\n    const transform = (mutation, settings = {}) => {\n      var _a;\n      const mode = (_a = settings.mode) !== null && _a !== void 0 ? _a : MouseDrag;\n      return setup(mutation, mode, settings);\n    };\n\n    const styles = css('ephox-snooker');\n    const resolve = styles.resolve;\n\n    const Mutation = () => {\n      const events = create$1({\n        drag: Event([\n          'xDelta',\n          'yDelta'\n        ])\n      });\n      const mutate = (x, y) => {\n        events.trigger.drag(x, y);\n      };\n      return {\n        mutate,\n        events: events.registry\n      };\n    };\n\n    const BarMutation = () => {\n      const events = create$1({\n        drag: Event([\n          'xDelta',\n          'yDelta',\n          'target'\n        ])\n      });\n      let target = Optional.none();\n      const delegate = Mutation();\n      delegate.events.drag.bind(event => {\n        target.each(t => {\n          events.trigger.drag(event.xDelta, event.yDelta, t);\n        });\n      });\n      const assign = t => {\n        target = Optional.some(t);\n      };\n      const get = () => {\n        return target;\n      };\n      return {\n        assign,\n        get,\n        mutate: delegate.mutate,\n        events: events.registry\n      };\n    };\n\n    const col = (column, x, y, w, h) => {\n      const bar = SugarElement.fromTag('div');\n      setAll(bar, {\n        position: 'absolute',\n        left: x - w / 2 + 'px',\n        top: y + 'px',\n        height: h + 'px',\n        width: w + 'px'\n      });\n      setAll$1(bar, {\n        'data-column': column,\n        'role': 'presentation'\n      });\n      return bar;\n    };\n    const row = (r, x, y, w, h) => {\n      const bar = SugarElement.fromTag('div');\n      setAll(bar, {\n        position: 'absolute',\n        left: x + 'px',\n        top: y - h / 2 + 'px',\n        height: h + 'px',\n        width: w + 'px'\n      });\n      setAll$1(bar, {\n        'data-row': r,\n        'role': 'presentation'\n      });\n      return bar;\n    };\n\n    const resizeBar = resolve('resizer-bar');\n    const resizeRowBar = resolve('resizer-rows');\n    const resizeColBar = resolve('resizer-cols');\n    const BAR_THICKNESS = 7;\n    const resizableRows = (warehouse, isResizable) => bind$2(warehouse.all, (row, i) => isResizable(row.element) ? [i] : []);\n    const resizableColumns = (warehouse, isResizable) => {\n      const resizableCols = [];\n      range$1(warehouse.grid.columns, index => {\n        const colElmOpt = Warehouse.getColumnAt(warehouse, index).map(col => col.element);\n        if (colElmOpt.forall(isResizable)) {\n          resizableCols.push(index);\n        }\n      });\n      return filter$2(resizableCols, colIndex => {\n        const columnCells = Warehouse.filterItems(warehouse, cell => cell.column === colIndex);\n        return forall(columnCells, cell => isResizable(cell.element));\n      });\n    };\n    const destroy = wire => {\n      const previous = descendants(wire.parent(), '.' + resizeBar);\n      each$2(previous, remove$6);\n    };\n    const drawBar = (wire, positions, create) => {\n      const origin = wire.origin();\n      each$2(positions, cpOption => {\n        cpOption.each(cp => {\n          const bar = create(origin, cp);\n          add(bar, resizeBar);\n          append$1(wire.parent(), bar);\n        });\n      });\n    };\n    const refreshCol = (wire, colPositions, position, tableHeight) => {\n      drawBar(wire, colPositions, (origin, cp) => {\n        const colBar = col(cp.col, cp.x - origin.left, position.top - origin.top, BAR_THICKNESS, tableHeight);\n        add(colBar, resizeColBar);\n        return colBar;\n      });\n    };\n    const refreshRow = (wire, rowPositions, position, tableWidth) => {\n      drawBar(wire, rowPositions, (origin, cp) => {\n        const rowBar = row(cp.row, position.left - origin.left, cp.y - origin.top, tableWidth, BAR_THICKNESS);\n        add(rowBar, resizeRowBar);\n        return rowBar;\n      });\n    };\n    const refreshGrid = (warhouse, wire, table, rows, cols) => {\n      const position = absolute(table);\n      const isResizable = wire.isResizable;\n      const rowPositions = rows.length > 0 ? height.positions(rows, table) : [];\n      const resizableRowBars = rowPositions.length > 0 ? resizableRows(warhouse, isResizable) : [];\n      const resizableRowPositions = filter$2(rowPositions, (_pos, i) => exists(resizableRowBars, barIndex => i === barIndex));\n      refreshRow(wire, resizableRowPositions, position, getOuter$2(table));\n      const colPositions = cols.length > 0 ? width.positions(cols, table) : [];\n      const resizableColBars = colPositions.length > 0 ? resizableColumns(warhouse, isResizable) : [];\n      const resizableColPositions = filter$2(colPositions, (_pos, i) => exists(resizableColBars, barIndex => i === barIndex));\n      refreshCol(wire, resizableColPositions, position, getOuter$1(table));\n    };\n    const refresh = (wire, table) => {\n      destroy(wire);\n      if (wire.isResizable(table)) {\n        const warehouse = Warehouse.fromTable(table);\n        const rows$1 = rows(warehouse);\n        const cols = columns(warehouse);\n        refreshGrid(warehouse, wire, table, rows$1, cols);\n      }\n    };\n    const each = (wire, f) => {\n      const bars = descendants(wire.parent(), '.' + resizeBar);\n      each$2(bars, f);\n    };\n    const hide = wire => {\n      each(wire, bar => {\n        set$1(bar, 'display', 'none');\n      });\n    };\n    const show = wire => {\n      each(wire, bar => {\n        set$1(bar, 'display', 'block');\n      });\n    };\n    const isRowBar = element => {\n      return has(element, resizeRowBar);\n    };\n    const isColBar = element => {\n      return has(element, resizeColBar);\n    };\n\n    const resizeBarDragging = resolve('resizer-bar-dragging');\n    const BarManager = wire => {\n      const mutation = BarMutation();\n      const resizing = transform(mutation, {});\n      let hoverTable = Optional.none();\n      const getResizer = (element, type) => {\n        return Optional.from(get$b(element, type));\n      };\n      mutation.events.drag.bind(event => {\n        getResizer(event.target, 'data-row').each(_dataRow => {\n          const currentRow = getCssValue(event.target, 'top');\n          set$1(event.target, 'top', currentRow + event.yDelta + 'px');\n        });\n        getResizer(event.target, 'data-column').each(_dataCol => {\n          const currentCol = getCssValue(event.target, 'left');\n          set$1(event.target, 'left', currentCol + event.xDelta + 'px');\n        });\n      });\n      const getDelta = (target, dir) => {\n        const newX = getCssValue(target, dir);\n        const oldX = getAttrValue(target, 'data-initial-' + dir, 0);\n        return newX - oldX;\n      };\n      resizing.events.stop.bind(() => {\n        mutation.get().each(target => {\n          hoverTable.each(table => {\n            getResizer(target, 'data-row').each(row => {\n              const delta = getDelta(target, 'top');\n              remove$7(target, 'data-initial-top');\n              events.trigger.adjustHeight(table, delta, parseInt(row, 10));\n            });\n            getResizer(target, 'data-column').each(column => {\n              const delta = getDelta(target, 'left');\n              remove$7(target, 'data-initial-left');\n              events.trigger.adjustWidth(table, delta, parseInt(column, 10));\n            });\n            refresh(wire, table);\n          });\n        });\n      });\n      const handler = (target, dir) => {\n        events.trigger.startAdjust();\n        mutation.assign(target);\n        set$2(target, 'data-initial-' + dir, getCssValue(target, dir));\n        add(target, resizeBarDragging);\n        set$1(target, 'opacity', '0.2');\n        resizing.go(wire.parent());\n      };\n      const mousedown = bind(wire.parent(), 'mousedown', event => {\n        if (isRowBar(event.target)) {\n          handler(event.target, 'top');\n        }\n        if (isColBar(event.target)) {\n          handler(event.target, 'left');\n        }\n      });\n      const isRoot = e => {\n        return eq$1(e, wire.view());\n      };\n      const findClosestEditableTable = target => closest$1(target, 'table', isRoot).filter(isEditable$1);\n      const mouseover = bind(wire.view(), 'mouseover', event => {\n        findClosestEditableTable(event.target).fold(() => {\n          if (inBody(event.target)) {\n            destroy(wire);\n          }\n        }, table => {\n          if (resizing.isActive()) {\n            hoverTable = Optional.some(table);\n            refresh(wire, table);\n          }\n        });\n      });\n      const destroy$1 = () => {\n        mousedown.unbind();\n        mouseover.unbind();\n        resizing.destroy();\n        destroy(wire);\n      };\n      const refresh$1 = tbl => {\n        refresh(wire, tbl);\n      };\n      const events = create$1({\n        adjustHeight: Event([\n          'table',\n          'delta',\n          'row'\n        ]),\n        adjustWidth: Event([\n          'table',\n          'delta',\n          'column'\n        ]),\n        startAdjust: Event([])\n      });\n      return {\n        destroy: destroy$1,\n        refresh: refresh$1,\n        on: resizing.on,\n        off: resizing.off,\n        hideBars: curry(hide, wire),\n        showBars: curry(show, wire),\n        events: events.registry\n      };\n    };\n\n    const create = (wire, resizing, lazySizing) => {\n      const hdirection = height;\n      const vdirection = width;\n      const manager = BarManager(wire);\n      const events = create$1({\n        beforeResize: Event([\n          'table',\n          'type'\n        ]),\n        afterResize: Event([\n          'table',\n          'type'\n        ]),\n        startDrag: Event([])\n      });\n      manager.events.adjustHeight.bind(event => {\n        const table = event.table;\n        events.trigger.beforeResize(table, 'row');\n        const delta = hdirection.delta(event.delta, table);\n        adjustHeight(table, delta, event.row, hdirection);\n        events.trigger.afterResize(table, 'row');\n      });\n      manager.events.startAdjust.bind(_event => {\n        events.trigger.startDrag();\n      });\n      manager.events.adjustWidth.bind(event => {\n        const table = event.table;\n        events.trigger.beforeResize(table, 'col');\n        const delta = vdirection.delta(event.delta, table);\n        const tableSize = lazySizing(table);\n        adjustWidth(table, delta, event.column, resizing, tableSize);\n        events.trigger.afterResize(table, 'col');\n      });\n      return {\n        on: manager.on,\n        off: manager.off,\n        refreshBars: manager.refresh,\n        hideBars: manager.hideBars,\n        showBars: manager.showBars,\n        destroy: manager.destroy,\n        events: events.registry\n      };\n    };\n    const TableResize = { create };\n\n    const only = (element, isResizable) => {\n      const parent = isDocument(element) ? documentElement(element) : element;\n      return {\n        parent: constant(parent),\n        view: constant(element),\n        origin: constant(SugarPosition(0, 0)),\n        isResizable\n      };\n    };\n    const detached = (editable, chrome, isResizable) => {\n      const origin = () => absolute(chrome);\n      return {\n        parent: constant(chrome),\n        view: constant(editable),\n        origin,\n        isResizable\n      };\n    };\n    const body = (editable, chrome, isResizable) => {\n      return {\n        parent: constant(chrome),\n        view: constant(editable),\n        origin: constant(SugarPosition(0, 0)),\n        isResizable\n      };\n    };\n    const ResizeWire = {\n      only,\n      detached,\n      body\n    };\n\n    const createContainer = () => {\n      const container = SugarElement.fromTag('div');\n      setAll(container, {\n        position: 'static',\n        height: '0',\n        width: '0',\n        padding: '0',\n        margin: '0',\n        border: '0'\n      });\n      append$1(body$1(), container);\n      return container;\n    };\n    const get = (editor, isResizable) => {\n      return editor.inline ? ResizeWire.body(SugarElement.fromDom(editor.getBody()), createContainer(), isResizable) : ResizeWire.only(SugarElement.fromDom(editor.getDoc()), isResizable);\n    };\n    const remove = (editor, wire) => {\n      if (editor.inline) {\n        remove$6(wire.parent());\n      }\n    };\n\n    const isTable = node => isNonNullable(node) && node.nodeName === 'TABLE';\n    const barResizerPrefix = 'bar-';\n    const isResizable = elm => get$b(elm, 'data-mce-resize') !== 'false';\n    const syncPixels = table => {\n      const warehouse = Warehouse.fromTable(table);\n      if (!Warehouse.hasColumns(warehouse)) {\n        each$2(cells$1(table), cell => {\n          const computedWidth = get$a(cell, 'width');\n          set$1(cell, 'width', computedWidth);\n          remove$7(cell, 'width');\n        });\n      }\n    };\n    const TableResizeHandler = editor => {\n      const selectionRng = value();\n      const tableResize = value();\n      const resizeWire = value();\n      let startW;\n      let startRawW;\n      const lazySizing = table => get$5(editor, table);\n      const lazyResizingBehaviour = () => isPreserveTableColumnResizing(editor) ? preserveTable() : resizeTable();\n      const getNumColumns = table => getGridSize(table).columns;\n      const afterCornerResize = (table, origin, width) => {\n        const isRightEdgeResize = endsWith(origin, 'e');\n        if (startRawW === '') {\n          convertToPercentSize(table);\n        }\n        if (width !== startW && startRawW !== '') {\n          set$1(table, 'width', startRawW);\n          const resizing = lazyResizingBehaviour();\n          const tableSize = lazySizing(table);\n          const col = isPreserveTableColumnResizing(editor) || isRightEdgeResize ? getNumColumns(table) - 1 : 0;\n          adjustWidth(table, width - startW, col, resizing, tableSize);\n        } else if (isPercentage$1(startRawW)) {\n          const percentW = parseFloat(startRawW.replace('%', ''));\n          const targetPercentW = width * percentW / startW;\n          set$1(table, 'width', targetPercentW + '%');\n        }\n        if (isPixel(startRawW)) {\n          syncPixels(table);\n        }\n      };\n      const destroy = () => {\n        tableResize.on(sz => {\n          sz.destroy();\n        });\n        resizeWire.on(w => {\n          remove(editor, w);\n        });\n      };\n      editor.on('init', () => {\n        const rawWire = get(editor, isResizable);\n        resizeWire.set(rawWire);\n        if (hasTableObjectResizing(editor) && hasTableResizeBars(editor)) {\n          const resizing = lazyResizingBehaviour();\n          const sz = TableResize.create(rawWire, resizing, lazySizing);\n          sz.on();\n          sz.events.startDrag.bind(_event => {\n            selectionRng.set(editor.selection.getRng());\n          });\n          sz.events.beforeResize.bind(event => {\n            const rawTable = event.table.dom;\n            fireObjectResizeStart(editor, rawTable, getPixelWidth(rawTable), getPixelHeight(rawTable), barResizerPrefix + event.type);\n          });\n          sz.events.afterResize.bind(event => {\n            const table = event.table;\n            const rawTable = table.dom;\n            removeDataStyle(table);\n            selectionRng.on(rng => {\n              editor.selection.setRng(rng);\n              editor.focus();\n            });\n            fireObjectResized(editor, rawTable, getPixelWidth(rawTable), getPixelHeight(rawTable), barResizerPrefix + event.type);\n            editor.undoManager.add();\n          });\n          tableResize.set(sz);\n        }\n      });\n      editor.on('ObjectResizeStart', e => {\n        const targetElm = e.target;\n        if (isTable(targetElm)) {\n          const table = SugarElement.fromDom(targetElm);\n          each$2(editor.dom.select('.mce-clonedresizable'), clone => {\n            editor.dom.addClass(clone, 'mce-' + getTableColumnResizingBehaviour(editor) + '-columns');\n          });\n          if (!isPixelSizing(table) && isTablePixelsForced(editor)) {\n            convertToPixelSize(table);\n          } else if (!isPercentSizing(table) && isTablePercentagesForced(editor)) {\n            convertToPercentSize(table);\n          }\n          if (isNoneSizing(table) && startsWith(e.origin, barResizerPrefix)) {\n            convertToPercentSize(table);\n          }\n          startW = e.width;\n          startRawW = isTableResponsiveForced(editor) ? '' : getRawWidth(editor, targetElm).getOr('');\n        }\n      });\n      editor.on('ObjectResized', e => {\n        const targetElm = e.target;\n        if (isTable(targetElm)) {\n          const table = SugarElement.fromDom(targetElm);\n          const origin = e.origin;\n          if (startsWith(origin, 'corner-')) {\n            afterCornerResize(table, origin, e.width);\n          }\n          removeDataStyle(table);\n          fireTableModified(editor, table.dom, styleModified);\n        }\n      });\n      editor.on('SwitchMode', () => {\n        tableResize.on(resize => {\n          if (editor.mode.isReadOnly()) {\n            resize.hideBars();\n          } else {\n            resize.showBars();\n          }\n        });\n      });\n      editor.on('dragstart dragend', e => {\n        tableResize.on(resize => {\n          if (e.type === 'dragstart') {\n            resize.hideBars();\n            resize.off();\n          } else {\n            resize.on();\n            resize.showBars();\n          }\n        });\n      });\n      editor.on('remove', () => {\n        destroy();\n      });\n      const refresh = table => {\n        tableResize.on(resize => resize.refreshBars(SugarElement.fromDom(table)));\n      };\n      const hide = () => {\n        tableResize.on(resize => resize.hideBars());\n      };\n      const show = () => {\n        tableResize.on(resize => resize.showBars());\n      };\n      return {\n        refresh,\n        hide,\n        show\n      };\n    };\n\n    const setupTable = editor => {\n      register(editor);\n      const resizeHandler = TableResizeHandler(editor);\n      const cellSelectionHandler = TableCellSelectionHandler(editor, resizeHandler);\n      const actions = TableActions(editor, resizeHandler, cellSelectionHandler);\n      registerCommands(editor, actions);\n      registerQueryCommands(editor, actions);\n      registerEvents(editor, actions);\n      return {\n        getSelectedCells: cellSelectionHandler.getSelectedCells,\n        clearSelectedCells: cellSelectionHandler.clearSelectedCells\n      };\n    };\n\n    const DomModel = editor => {\n      const table = setupTable(editor);\n      return { table };\n    };\n    var Model = () => {\n      global$1.add('dom', DomModel);\n    };\n\n    Model();\n\n})();\n","// Exports the \"media\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/media')\n//   ES2015:\n//     import 'tinymce/plugins/media'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.4.1 (2023-03-29)\n */\n\n(function () {\n    'use strict';\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType = type => value => typeOf(value) === type;\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isArray = isType('array');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativePush = Array.prototype.push;\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const get$1 = (obj, key) => {\n      return has(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n\n    const option = name => editor => editor.options.get(name);\n    const register$2 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('audio_template_callback', { processor: 'function' });\n      registerOption('video_template_callback', { processor: 'function' });\n      registerOption('iframe_template_callback', { processor: 'function' });\n      registerOption('media_live_embeds', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_filter_html', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_url_resolver', { processor: 'function' });\n      registerOption('media_alt_source', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_poster', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_dimensions', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const getAudioTemplateCallback = option('audio_template_callback');\n    const getVideoTemplateCallback = option('video_template_callback');\n    const getIframeTemplateCallback = option('iframe_template_callback');\n    const hasLiveEmbeds = option('media_live_embeds');\n    const shouldFilterHtml = option('media_filter_html');\n    const getUrlResolver = option('media_url_resolver');\n    const hasAltSource = option('media_alt_source');\n    const hasPoster = option('media_poster');\n    const hasDimensions = option('media_dimensions');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.html.DomParser');\n\n    const DOM$1 = global$4.DOM;\n    const trimPx = value => value.replace(/px$/, '');\n    const getEphoxEmbedData = node => {\n      const style = node.attr('style');\n      const styles = style ? DOM$1.parseStyle(style) : {};\n      return {\n        type: 'ephox-embed-iri',\n        source: node.attr('data-ephox-embed-iri'),\n        altsource: '',\n        poster: '',\n        width: get$1(styles, 'max-width').map(trimPx).getOr(''),\n        height: get$1(styles, 'max-height').map(trimPx).getOr('')\n      };\n    };\n    const htmlToData = (html, schema) => {\n      let data = {};\n      const parser = global$3({\n        validate: false,\n        forced_root_block: false\n      }, schema);\n      const rootNode = parser.parse(html);\n      for (let node = rootNode; node; node = node.walk()) {\n        if (node.type === 1) {\n          const name = node.name;\n          if (node.attr('data-ephox-embed-iri')) {\n            data = getEphoxEmbedData(node);\n            break;\n          } else {\n            if (!data.source && name === 'param') {\n              data.source = node.attr('movie');\n            }\n            if (name === 'iframe' || name === 'object' || name === 'embed' || name === 'video' || name === 'audio') {\n              if (!data.type) {\n                data.type = name;\n              }\n              data = global$5.extend(node.attributes.map, data);\n            }\n            if (name === 'script') {\n              data = {\n                type: 'script',\n                source: node.attr('src')\n              };\n            }\n            if (name === 'source') {\n              if (!data.source) {\n                data.source = node.attr('src');\n              } else if (!data.altsource) {\n                data.altsource = node.attr('src');\n              }\n            }\n            if (name === 'img' && !data.poster) {\n              data.poster = node.attr('src');\n            }\n          }\n        }\n      }\n      data.source = data.source || data.src || '';\n      data.altsource = data.altsource || '';\n      data.poster = data.poster || '';\n      return data;\n    };\n\n    const guess = url => {\n      var _a;\n      const mimes = {\n        mp3: 'audio/mpeg',\n        m4a: 'audio/x-m4a',\n        wav: 'audio/wav',\n        mp4: 'video/mp4',\n        webm: 'video/webm',\n        ogg: 'video/ogg',\n        swf: 'application/x-shockwave-flash'\n      };\n      const fileEnd = (_a = url.toLowerCase().split('.').pop()) !== null && _a !== void 0 ? _a : '';\n      return get$1(mimes, fileEnd).getOr('');\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.html.Serializer');\n\n    const Parser = (schema, settings = {}) => global$3({\n      forced_root_block: false,\n      validate: false,\n      allow_conditional_comments: true,\n      ...settings\n    }, schema);\n\n    const DOM = global$4.DOM;\n    const addPx = value => /^[0-9.]+$/.test(value) ? value + 'px' : value;\n    const updateEphoxEmbed = (data, node) => {\n      const style = node.attr('style');\n      const styleMap = style ? DOM.parseStyle(style) : {};\n      if (isNonNullable(data.width)) {\n        styleMap['max-width'] = addPx(data.width);\n      }\n      if (isNonNullable(data.height)) {\n        styleMap['max-height'] = addPx(data.height);\n      }\n      node.attr('style', DOM.serializeStyle(styleMap));\n    };\n    const sources = [\n      'source',\n      'altsource'\n    ];\n    const updateHtml = (html, data, updateAll, schema) => {\n      let numSources = 0;\n      let sourceCount = 0;\n      const parser = Parser(schema);\n      parser.addNodeFilter('source', nodes => numSources = nodes.length);\n      const rootNode = parser.parse(html);\n      for (let node = rootNode; node; node = node.walk()) {\n        if (node.type === 1) {\n          const name = node.name;\n          if (node.attr('data-ephox-embed-iri')) {\n            updateEphoxEmbed(data, node);\n            break;\n          } else {\n            switch (name) {\n            case 'video':\n            case 'object':\n            case 'embed':\n            case 'img':\n            case 'iframe':\n              if (data.height !== undefined && data.width !== undefined) {\n                node.attr('width', data.width);\n                node.attr('height', data.height);\n              }\n              break;\n            }\n            if (updateAll) {\n              switch (name) {\n              case 'video':\n                node.attr('poster', data.poster);\n                node.attr('src', null);\n                for (let index = numSources; index < 2; index++) {\n                  if (data[sources[index]]) {\n                    const source = new global$2('source', 1);\n                    source.attr('src', data[sources[index]]);\n                    source.attr('type', data[sources[index] + 'mime'] || null);\n                    node.append(source);\n                  }\n                }\n                break;\n              case 'iframe':\n                node.attr('src', data.source);\n                break;\n              case 'object':\n                const hasImage = node.getAll('img').length > 0;\n                if (data.poster && !hasImage) {\n                  node.attr('src', data.poster);\n                  const img = new global$2('img', 1);\n                  img.attr('src', data.poster);\n                  img.attr('width', data.width);\n                  img.attr('height', data.height);\n                  node.append(img);\n                }\n                break;\n              case 'source':\n                if (sourceCount < 2) {\n                  node.attr('src', data[sources[sourceCount]]);\n                  node.attr('type', data[sources[sourceCount] + 'mime'] || null);\n                  if (!data[sources[sourceCount]]) {\n                    node.remove();\n                    continue;\n                  }\n                }\n                sourceCount++;\n                break;\n              case 'img':\n                if (!data.poster) {\n                  node.remove();\n                }\n                break;\n              }\n            }\n          }\n        }\n      }\n      return global$1({}, schema).serialize(rootNode);\n    };\n\n    const urlPatterns = [\n      {\n        regex: /youtu\\.be\\/([\\w\\-_\\?&=.]+)/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /youtube\\.com(.+)v=([^&]+)(&([a-z0-9&=\\-_]+))?/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$2?$4',\n        allowFullscreen: true\n      },\n      {\n        regex: /youtube.com\\/embed\\/([a-z0-9\\?&=\\-_]+)/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/([0-9]+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/(.*)\\/([0-9]+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$2?title=0&amp;byline=0',\n        allowFullscreen: true\n      },\n      {\n        regex: /maps\\.google\\.([a-z]{2,3})\\/maps\\/(.+)msid=(.+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'maps.google.com/maps/ms?msid=$2&output=embed\"',\n        allowFullscreen: false\n      },\n      {\n        regex: /dailymotion\\.com\\/video\\/([^_]+)/,\n        type: 'iframe',\n        w: 480,\n        h: 270,\n        url: 'www.dailymotion.com/embed/video/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /dai\\.ly\\/([^_]+)/,\n        type: 'iframe',\n        w: 480,\n        h: 270,\n        url: 'www.dailymotion.com/embed/video/$1',\n        allowFullscreen: true\n      }\n    ];\n    const getProtocol = url => {\n      const protocolMatches = url.match(/^(https?:\\/\\/|www\\.)(.+)$/i);\n      if (protocolMatches && protocolMatches.length > 1) {\n        return protocolMatches[1] === 'www.' ? 'https://' : protocolMatches[1];\n      } else {\n        return 'https://';\n      }\n    };\n    const getUrl = (pattern, url) => {\n      const protocol = getProtocol(url);\n      const match = pattern.regex.exec(url);\n      let newUrl = protocol + pattern.url;\n      if (isNonNullable(match)) {\n        for (let i = 0; i < match.length; i++) {\n          newUrl = newUrl.replace('$' + i, () => match[i] ? match[i] : '');\n        }\n      }\n      return newUrl.replace(/\\?$/, '');\n    };\n    const matchPattern = url => {\n      const patterns = urlPatterns.filter(pattern => pattern.regex.test(url));\n      if (patterns.length > 0) {\n        return global$5.extend({}, patterns[0], { url: getUrl(patterns[0], url) });\n      } else {\n        return null;\n      }\n    };\n\n    const getIframeHtml = (data, iframeTemplateCallback) => {\n      if (iframeTemplateCallback) {\n        return iframeTemplateCallback(data);\n      } else {\n        const allowFullscreen = data.allowfullscreen ? ' allowFullscreen=\"1\"' : '';\n        return '<iframe src=\"' + data.source + '\" width=\"' + data.width + '\" height=\"' + data.height + '\"' + allowFullscreen + '></iframe>';\n      }\n    };\n    const getFlashHtml = data => {\n      let html = '<object data=\"' + data.source + '\" width=\"' + data.width + '\" height=\"' + data.height + '\" type=\"application/x-shockwave-flash\">';\n      if (data.poster) {\n        html += '<img src=\"' + data.poster + '\" width=\"' + data.width + '\" height=\"' + data.height + '\" />';\n      }\n      html += '</object>';\n      return html;\n    };\n    const getAudioHtml = (data, audioTemplateCallback) => {\n      if (audioTemplateCallback) {\n        return audioTemplateCallback(data);\n      } else {\n        return '<audio controls=\"controls\" src=\"' + data.source + '\">' + (data.altsource ? '\\n<source src=\"' + data.altsource + '\"' + (data.altsourcemime ? ' type=\"' + data.altsourcemime + '\"' : '') + ' />\\n' : '') + '</audio>';\n      }\n    };\n    const getVideoHtml = (data, videoTemplateCallback) => {\n      if (videoTemplateCallback) {\n        return videoTemplateCallback(data);\n      } else {\n        return '<video width=\"' + data.width + '\" height=\"' + data.height + '\"' + (data.poster ? ' poster=\"' + data.poster + '\"' : '') + ' controls=\"controls\">\\n' + '<source src=\"' + data.source + '\"' + (data.sourcemime ? ' type=\"' + data.sourcemime + '\"' : '') + ' />\\n' + (data.altsource ? '<source src=\"' + data.altsource + '\"' + (data.altsourcemime ? ' type=\"' + data.altsourcemime + '\"' : '') + ' />\\n' : '') + '</video>';\n      }\n    };\n    const getScriptHtml = data => {\n      return '<script src=\"' + data.source + '\"></script>';\n    };\n    const dataToHtml = (editor, dataIn) => {\n      var _a;\n      const data = global$5.extend({}, dataIn);\n      if (!data.source) {\n        global$5.extend(data, htmlToData((_a = data.embed) !== null && _a !== void 0 ? _a : '', editor.schema));\n        if (!data.source) {\n          return '';\n        }\n      }\n      if (!data.altsource) {\n        data.altsource = '';\n      }\n      if (!data.poster) {\n        data.poster = '';\n      }\n      data.source = editor.convertURL(data.source, 'source');\n      data.altsource = editor.convertURL(data.altsource, 'source');\n      data.sourcemime = guess(data.source);\n      data.altsourcemime = guess(data.altsource);\n      data.poster = editor.convertURL(data.poster, 'poster');\n      const pattern = matchPattern(data.source);\n      if (pattern) {\n        data.source = pattern.url;\n        data.type = pattern.type;\n        data.allowfullscreen = pattern.allowFullscreen;\n        data.width = data.width || String(pattern.w);\n        data.height = data.height || String(pattern.h);\n      }\n      if (data.embed) {\n        return updateHtml(data.embed, data, true, editor.schema);\n      } else {\n        const audioTemplateCallback = getAudioTemplateCallback(editor);\n        const videoTemplateCallback = getVideoTemplateCallback(editor);\n        const iframeTemplateCallback = getIframeTemplateCallback(editor);\n        data.width = data.width || '300';\n        data.height = data.height || '150';\n        global$5.each(data, (value, key) => {\n          data[key] = editor.dom.encode('' + value);\n        });\n        if (data.type === 'iframe') {\n          return getIframeHtml(data, iframeTemplateCallback);\n        } else if (data.sourcemime === 'application/x-shockwave-flash') {\n          return getFlashHtml(data);\n        } else if (data.sourcemime.indexOf('audio') !== -1) {\n          return getAudioHtml(data, audioTemplateCallback);\n        } else if (data.type === 'script') {\n          return getScriptHtml(data);\n        } else {\n          return getVideoHtml(data, videoTemplateCallback);\n        }\n      }\n    };\n\n    const isMediaElement = element => element.hasAttribute('data-mce-object') || element.hasAttribute('data-ephox-embed-iri');\n    const setup$2 = editor => {\n      editor.on('click keyup touchend', () => {\n        const selectedNode = editor.selection.getNode();\n        if (selectedNode && editor.dom.hasClass(selectedNode, 'mce-preview-object')) {\n          if (editor.dom.getAttrib(selectedNode, 'data-mce-selected')) {\n            selectedNode.setAttribute('data-mce-selected', '2');\n          }\n        }\n      });\n      editor.on('ObjectSelected', e => {\n        const objectType = e.target.getAttribute('data-mce-object');\n        if (objectType === 'script') {\n          e.preventDefault();\n        }\n      });\n      editor.on('ObjectResized', e => {\n        const target = e.target;\n        if (target.getAttribute('data-mce-object')) {\n          let html = target.getAttribute('data-mce-html');\n          if (html) {\n            html = unescape(html);\n            target.setAttribute('data-mce-html', escape(updateHtml(html, {\n              width: String(e.width),\n              height: String(e.height)\n            }, false, editor.schema)));\n          }\n        }\n      });\n    };\n\n    const cache = {};\n    const embedPromise = (data, dataToHtml, handler) => {\n      return new Promise((res, rej) => {\n        const wrappedResolve = response => {\n          if (response.html) {\n            cache[data.source] = response;\n          }\n          return res({\n            url: data.source,\n            html: response.html ? response.html : dataToHtml(data)\n          });\n        };\n        if (cache[data.source]) {\n          wrappedResolve(cache[data.source]);\n        } else {\n          handler({ url: data.source }, wrappedResolve, rej);\n        }\n      });\n    };\n    const defaultPromise = (data, dataToHtml) => Promise.resolve({\n      html: dataToHtml(data),\n      url: data.source\n    });\n    const loadedData = editor => data => dataToHtml(editor, data);\n    const getEmbedHtml = (editor, data) => {\n      const embedHandler = getUrlResolver(editor);\n      return embedHandler ? embedPromise(data, loadedData(editor), embedHandler) : defaultPromise(data, loadedData(editor));\n    };\n    const isCached = url => has(cache, url);\n\n    const extractMeta = (sourceInput, data) => get$1(data, sourceInput).bind(mainData => get$1(mainData, 'meta'));\n    const getValue = (data, metaData, sourceInput) => prop => {\n      const getFromData = () => get$1(data, prop);\n      const getFromMetaData = () => get$1(metaData, prop);\n      const getNonEmptyValue = c => get$1(c, 'value').bind(v => v.length > 0 ? Optional.some(v) : Optional.none());\n      const getFromValueFirst = () => getFromData().bind(child => isObject(child) ? getNonEmptyValue(child).orThunk(getFromMetaData) : getFromMetaData().orThunk(() => Optional.from(child)));\n      const getFromMetaFirst = () => getFromMetaData().orThunk(() => getFromData().bind(child => isObject(child) ? getNonEmptyValue(child) : Optional.from(child)));\n      return { [prop]: (prop === sourceInput ? getFromValueFirst() : getFromMetaFirst()).getOr('') };\n    };\n    const getDimensions = (data, metaData) => {\n      const dimensions = {};\n      get$1(data, 'dimensions').each(dims => {\n        each$1([\n          'width',\n          'height'\n        ], prop => {\n          get$1(metaData, prop).orThunk(() => get$1(dims, prop)).each(value => dimensions[prop] = value);\n        });\n      });\n      return dimensions;\n    };\n    const unwrap = (data, sourceInput) => {\n      const metaData = sourceInput && sourceInput !== 'dimensions' ? extractMeta(sourceInput, data).getOr({}) : {};\n      const get = getValue(data, metaData, sourceInput);\n      return {\n        ...get('source'),\n        ...get('altsource'),\n        ...get('poster'),\n        ...get('embed'),\n        ...getDimensions(data, metaData)\n      };\n    };\n    const wrap = data => {\n      const wrapped = {\n        ...data,\n        source: { value: get$1(data, 'source').getOr('') },\n        altsource: { value: get$1(data, 'altsource').getOr('') },\n        poster: { value: get$1(data, 'poster').getOr('') }\n      };\n      each$1([\n        'width',\n        'height'\n      ], prop => {\n        get$1(data, prop).each(value => {\n          const dimensions = wrapped.dimensions || {};\n          dimensions[prop] = value;\n          wrapped.dimensions = dimensions;\n        });\n      });\n      return wrapped;\n    };\n    const handleError = editor => error => {\n      const errorMessage = error && error.msg ? 'Media embed handler error: ' + error.msg : 'Media embed handler threw unknown error.';\n      editor.notificationManager.open({\n        type: 'error',\n        text: errorMessage\n      });\n    };\n    const getEditorData = editor => {\n      const element = editor.selection.getNode();\n      const snippet = isMediaElement(element) ? editor.serializer.serialize(element, { selection: true }) : '';\n      return {\n        embed: snippet,\n        ...htmlToData(snippet, editor.schema)\n      };\n    };\n    const addEmbedHtml = (api, editor) => response => {\n      if (isString(response.url) && response.url.trim().length > 0) {\n        const html = response.html;\n        const snippetData = htmlToData(html, editor.schema);\n        const nuData = {\n          ...snippetData,\n          source: response.url,\n          embed: html\n        };\n        api.setData(wrap(nuData));\n      }\n    };\n    const selectPlaceholder = (editor, beforeObjects) => {\n      const afterObjects = editor.dom.select('*[data-mce-object]');\n      for (let i = 0; i < beforeObjects.length; i++) {\n        for (let y = afterObjects.length - 1; y >= 0; y--) {\n          if (beforeObjects[i] === afterObjects[y]) {\n            afterObjects.splice(y, 1);\n          }\n        }\n      }\n      editor.selection.select(afterObjects[0]);\n    };\n    const handleInsert = (editor, html) => {\n      const beforeObjects = editor.dom.select('*[data-mce-object]');\n      editor.insertContent(html);\n      selectPlaceholder(editor, beforeObjects);\n      editor.nodeChanged();\n    };\n    const submitForm = (prevData, newData, editor) => {\n      var _a;\n      newData.embed = updateHtml((_a = newData.embed) !== null && _a !== void 0 ? _a : '', newData, false, editor.schema);\n      if (newData.embed && (prevData.source === newData.source || isCached(newData.source))) {\n        handleInsert(editor, newData.embed);\n      } else {\n        getEmbedHtml(editor, newData).then(response => {\n          handleInsert(editor, response.html);\n        }).catch(handleError(editor));\n      }\n    };\n    const showDialog = editor => {\n      const editorData = getEditorData(editor);\n      const currentData = Cell(editorData);\n      const initialData = wrap(editorData);\n      const handleSource = (prevData, api) => {\n        const serviceData = unwrap(api.getData(), 'source');\n        if (prevData.source !== serviceData.source) {\n          addEmbedHtml(win, editor)({\n            url: serviceData.source,\n            html: ''\n          });\n          getEmbedHtml(editor, serviceData).then(addEmbedHtml(win, editor)).catch(handleError(editor));\n        }\n      };\n      const handleEmbed = api => {\n        var _a;\n        const data = unwrap(api.getData());\n        const dataFromEmbed = htmlToData((_a = data.embed) !== null && _a !== void 0 ? _a : '', editor.schema);\n        api.setData(wrap(dataFromEmbed));\n      };\n      const handleUpdate = (api, sourceInput) => {\n        const data = unwrap(api.getData(), sourceInput);\n        const embed = dataToHtml(editor, data);\n        api.setData(wrap({\n          ...data,\n          embed\n        }));\n      };\n      const mediaInput = [{\n          name: 'source',\n          type: 'urlinput',\n          filetype: 'media',\n          label: 'Source'\n        }];\n      const sizeInput = !hasDimensions(editor) ? [] : [{\n          type: 'sizeinput',\n          name: 'dimensions',\n          label: 'Constrain proportions',\n          constrain: true\n        }];\n      const generalTab = {\n        title: 'General',\n        name: 'general',\n        items: flatten([\n          mediaInput,\n          sizeInput\n        ])\n      };\n      const embedTextarea = {\n        type: 'textarea',\n        name: 'embed',\n        label: 'Paste your embed code below:'\n      };\n      const embedTab = {\n        title: 'Embed',\n        items: [embedTextarea]\n      };\n      const advancedFormItems = [];\n      if (hasAltSource(editor)) {\n        advancedFormItems.push({\n          name: 'altsource',\n          type: 'urlinput',\n          filetype: 'media',\n          label: 'Alternative source URL'\n        });\n      }\n      if (hasPoster(editor)) {\n        advancedFormItems.push({\n          name: 'poster',\n          type: 'urlinput',\n          filetype: 'image',\n          label: 'Media poster (Image URL)'\n        });\n      }\n      const advancedTab = {\n        title: 'Advanced',\n        name: 'advanced',\n        items: advancedFormItems\n      };\n      const tabs = [\n        generalTab,\n        embedTab\n      ];\n      if (advancedFormItems.length > 0) {\n        tabs.push(advancedTab);\n      }\n      const body = {\n        type: 'tabpanel',\n        tabs\n      };\n      const win = editor.windowManager.open({\n        title: 'Insert/Edit Media',\n        size: 'normal',\n        body,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        onSubmit: api => {\n          const serviceData = unwrap(api.getData());\n          submitForm(currentData.get(), serviceData, editor);\n          api.close();\n        },\n        onChange: (api, detail) => {\n          switch (detail.name) {\n          case 'source':\n            handleSource(currentData.get(), api);\n            break;\n          case 'embed':\n            handleEmbed(api);\n            break;\n          case 'dimensions':\n          case 'altsource':\n          case 'poster':\n            handleUpdate(api, detail.name);\n            break;\n          }\n          currentData.set(unwrap(api.getData()));\n        },\n        initialData\n      });\n    };\n\n    const get = editor => {\n      const showDialog$1 = () => {\n        showDialog(editor);\n      };\n      return { showDialog: showDialog$1 };\n    };\n\n    const register$1 = editor => {\n      const showDialog$1 = () => {\n        showDialog(editor);\n      };\n      editor.addCommand('mceMedia', showDialog$1);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.Env');\n\n    const isLiveEmbedNode = node => {\n      const name = node.name;\n      return name === 'iframe' || name === 'video' || name === 'audio';\n    };\n    const getDimension = (node, styles, dimension, defaultValue = null) => {\n      const value = node.attr(dimension);\n      if (isNonNullable(value)) {\n        return value;\n      } else if (!has(styles, dimension)) {\n        return defaultValue;\n      } else {\n        return null;\n      }\n    };\n    const setDimensions = (node, previewNode, styles) => {\n      const useDefaults = previewNode.name === 'img' || node.name === 'video';\n      const defaultWidth = useDefaults ? '300' : null;\n      const fallbackHeight = node.name === 'audio' ? '30' : '150';\n      const defaultHeight = useDefaults ? fallbackHeight : null;\n      previewNode.attr({\n        width: getDimension(node, styles, 'width', defaultWidth),\n        height: getDimension(node, styles, 'height', defaultHeight)\n      });\n    };\n    const appendNodeContent = (editor, nodeName, previewNode, html) => {\n      const newNode = Parser(editor.schema).parse(html, { context: nodeName });\n      while (newNode.firstChild) {\n        previewNode.append(newNode.firstChild);\n      }\n    };\n    const createPlaceholderNode = (editor, node) => {\n      const name = node.name;\n      const placeHolder = new global$2('img', 1);\n      retainAttributesAndInnerHtml(editor, node, placeHolder);\n      setDimensions(node, placeHolder, {});\n      placeHolder.attr({\n        'style': node.attr('style'),\n        'src': global.transparentSrc,\n        'data-mce-object': name,\n        'class': 'mce-object mce-object-' + name\n      });\n      return placeHolder;\n    };\n    const createPreviewNode = (editor, node) => {\n      var _a;\n      const name = node.name;\n      const previewWrapper = new global$2('span', 1);\n      previewWrapper.attr({\n        'contentEditable': 'false',\n        'style': node.attr('style'),\n        'data-mce-object': name,\n        'class': 'mce-preview-object mce-object-' + name\n      });\n      retainAttributesAndInnerHtml(editor, node, previewWrapper);\n      const styles = editor.dom.parseStyle((_a = node.attr('style')) !== null && _a !== void 0 ? _a : '');\n      const previewNode = new global$2(name, 1);\n      setDimensions(node, previewNode, styles);\n      previewNode.attr({\n        src: node.attr('src'),\n        style: node.attr('style'),\n        class: node.attr('class')\n      });\n      if (name === 'iframe') {\n        previewNode.attr({\n          allowfullscreen: node.attr('allowfullscreen'),\n          frameborder: '0'\n        });\n      } else {\n        const attrs = [\n          'controls',\n          'crossorigin',\n          'currentTime',\n          'loop',\n          'muted',\n          'poster',\n          'preload'\n        ];\n        each$1(attrs, attrName => {\n          previewNode.attr(attrName, node.attr(attrName));\n        });\n        const sanitizedHtml = previewWrapper.attr('data-mce-html');\n        if (isNonNullable(sanitizedHtml)) {\n          appendNodeContent(editor, name, previewNode, unescape(sanitizedHtml));\n        }\n      }\n      const shimNode = new global$2('span', 1);\n      shimNode.attr('class', 'mce-shim');\n      previewWrapper.append(previewNode);\n      previewWrapper.append(shimNode);\n      return previewWrapper;\n    };\n    const retainAttributesAndInnerHtml = (editor, sourceNode, targetNode) => {\n      var _a;\n      const attribs = (_a = sourceNode.attributes) !== null && _a !== void 0 ? _a : [];\n      let ai = attribs.length;\n      while (ai--) {\n        const attrName = attribs[ai].name;\n        let attrValue = attribs[ai].value;\n        if (attrName !== 'width' && attrName !== 'height' && attrName !== 'style' && !startsWith(attrName, 'data-mce-')) {\n          if (attrName === 'data' || attrName === 'src') {\n            attrValue = editor.convertURL(attrValue, attrName);\n          }\n          targetNode.attr('data-mce-p-' + attrName, attrValue);\n        }\n      }\n      const serializer = global$1({ inner: true }, editor.schema);\n      const tempNode = new global$2('div', 1);\n      each$1(sourceNode.children(), child => tempNode.append(child));\n      const innerHtml = serializer.serialize(tempNode);\n      if (innerHtml) {\n        targetNode.attr('data-mce-html', escape(innerHtml));\n        targetNode.empty();\n      }\n    };\n    const isPageEmbedWrapper = node => {\n      const nodeClass = node.attr('class');\n      return isString(nodeClass) && /\\btiny-pageembed\\b/.test(nodeClass);\n    };\n    const isWithinEmbedWrapper = node => {\n      let tempNode = node;\n      while (tempNode = tempNode.parent) {\n        if (tempNode.attr('data-ephox-embed-iri') || isPageEmbedWrapper(tempNode)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const placeHolderConverter = editor => nodes => {\n      let i = nodes.length;\n      let node;\n      while (i--) {\n        node = nodes[i];\n        if (!node.parent) {\n          continue;\n        }\n        if (node.parent.attr('data-mce-object')) {\n          continue;\n        }\n        if (isLiveEmbedNode(node) && hasLiveEmbeds(editor)) {\n          if (!isWithinEmbedWrapper(node)) {\n            node.replace(createPreviewNode(editor, node));\n          }\n        } else {\n          if (!isWithinEmbedWrapper(node)) {\n            node.replace(createPlaceholderNode(editor, node));\n          }\n        }\n      }\n    };\n\n    const parseAndSanitize = (editor, context, html) => {\n      const getEditorOption = editor.options.get;\n      const sanitize = getEditorOption('xss_sanitization');\n      const validate = shouldFilterHtml(editor);\n      return Parser(editor.schema, {\n        sanitize,\n        validate\n      }).parse(html, { context });\n    };\n\n    const setup$1 = editor => {\n      editor.on('PreInit', () => {\n        const {schema, serializer, parser} = editor;\n        const boolAttrs = schema.getBoolAttrs();\n        each$1('webkitallowfullscreen mozallowfullscreen'.split(' '), name => {\n          boolAttrs[name] = {};\n        });\n        each({ embed: ['wmode'] }, (attrs, name) => {\n          const rule = schema.getElementRule(name);\n          if (rule) {\n            each$1(attrs, attr => {\n              rule.attributes[attr] = {};\n              rule.attributesOrder.push(attr);\n            });\n          }\n        });\n        parser.addNodeFilter('iframe,video,audio,object,embed,script', placeHolderConverter(editor));\n        serializer.addAttributeFilter('data-mce-object', (nodes, name) => {\n          var _a;\n          let i = nodes.length;\n          while (i--) {\n            const node = nodes[i];\n            if (!node.parent) {\n              continue;\n            }\n            const realElmName = node.attr(name);\n            const realElm = new global$2(realElmName, 1);\n            if (realElmName !== 'audio' && realElmName !== 'script') {\n              const className = node.attr('class');\n              if (className && className.indexOf('mce-preview-object') !== -1 && node.firstChild) {\n                realElm.attr({\n                  width: node.firstChild.attr('width'),\n                  height: node.firstChild.attr('height')\n                });\n              } else {\n                realElm.attr({\n                  width: node.attr('width'),\n                  height: node.attr('height')\n                });\n              }\n            }\n            realElm.attr({ style: node.attr('style') });\n            const attribs = (_a = node.attributes) !== null && _a !== void 0 ? _a : [];\n            let ai = attribs.length;\n            while (ai--) {\n              const attrName = attribs[ai].name;\n              if (attrName.indexOf('data-mce-p-') === 0) {\n                realElm.attr(attrName.substr(11), attribs[ai].value);\n              }\n            }\n            if (realElmName === 'script') {\n              realElm.attr('type', 'text/javascript');\n            }\n            const innerHtml = node.attr('data-mce-html');\n            if (innerHtml) {\n              const fragment = parseAndSanitize(editor, realElmName, unescape(innerHtml));\n              each$1(fragment.children(), child => realElm.append(child));\n            }\n            node.replace(realElm);\n          }\n        });\n      });\n      editor.on('SetContent', () => {\n        const dom = editor.dom;\n        each$1(dom.select('span.mce-preview-object'), elm => {\n          if (dom.select('span.mce-shim', elm).length === 0) {\n            dom.add(elm, 'span', { class: 'mce-shim' });\n          }\n        });\n      });\n    };\n\n    const setup = editor => {\n      editor.on('ResolveName', e => {\n        let name;\n        if (e.target.nodeType === 1 && (name = e.target.getAttribute('data-mce-object'))) {\n          e.name = name;\n        }\n      });\n    };\n\n    const register = editor => {\n      const onAction = () => editor.execCommand('mceMedia');\n      editor.ui.registry.addToggleButton('media', {\n        tooltip: 'Insert/edit media',\n        icon: 'embed',\n        onAction,\n        onSetup: buttonApi => {\n          const selection = editor.selection;\n          buttonApi.setActive(isMediaElement(selection.getNode()));\n          return selection.selectorChangedWithUnbind('img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]', buttonApi.setActive).unbind;\n        }\n      });\n      editor.ui.registry.addMenuItem('media', {\n        icon: 'embed',\n        text: 'Media...',\n        onAction\n      });\n    };\n\n    var Plugin = () => {\n      global$6.add('media', editor => {\n        register$2(editor);\n        register$1(editor);\n        register(editor);\n        setup(editor);\n        setup$1(editor);\n        setup$2(editor);\n        return get(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"image\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/image')\n//   ES2015:\n//     import 'tinymce/plugins/image'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.4.1 (2023-03-29)\n */\n\n(function () {\n    'use strict';\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const getPrototypeOf = Object.getPrototypeOf;\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq = t => a => t === a;\n    const is = (value, constructor) => isObject(value) && hasProto(value, constructor, (o, proto) => getPrototypeOf(o) === proto);\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isPlainObject = value => is(value, Object);\n    const isArray = isType('array');\n    const isNull = eq(null);\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    const nativePush = Array.prototype.push;\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const get = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get(xs, 0);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const remove = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    const fromDom = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    const SugarElement = {\n      fromHtml,\n      fromTag,\n      fromText,\n      fromDom,\n      fromPoint\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const isNotEmpty = s => s.length > 0;\n\n    const option = name => editor => editor.options.get(name);\n    const register$2 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('image_dimensions', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('image_advtab', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('image_uploadtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('image_prepend_url', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('image_class_list', { processor: 'object[]' });\n      registerOption('image_description', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('image_title', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('image_caption', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('image_list', {\n        processor: value => {\n          const valid = value === false || isString(value) || isArrayOf(value, isObject) || isFunction(value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be false, a string, an array or a function.'\n          };\n        },\n        default: false\n      });\n    };\n    const hasDimensions = option('image_dimensions');\n    const hasAdvTab = option('image_advtab');\n    const hasUploadTab = option('image_uploadtab');\n    const getPrependUrl = option('image_prepend_url');\n    const getClassList = option('image_class_list');\n    const hasDescription = option('image_description');\n    const hasImageTitle = option('image_title');\n    const hasImageCaption = option('image_caption');\n    const getImageList = option('image_list');\n    const showAccessibilityOptions = option('a11y_advanced_options');\n    const isAutomaticUploadsEnabled = option('automatic_uploads');\n    const hasUploadUrl = editor => isNotEmpty(editor.options.get('images_upload_url'));\n    const hasUploadHandler = editor => isNonNullable(editor.options.get('images_upload_handler'));\n\n    const parseIntAndGetMax = (val1, val2) => Math.max(parseInt(val1, 10), parseInt(val2, 10));\n    const getImageSize = url => new Promise(callback => {\n      const img = document.createElement('img');\n      const done = dimensions => {\n        img.onload = img.onerror = null;\n        if (img.parentNode) {\n          img.parentNode.removeChild(img);\n        }\n        callback(dimensions);\n      };\n      img.onload = () => {\n        const width = parseIntAndGetMax(img.width, img.clientWidth);\n        const height = parseIntAndGetMax(img.height, img.clientHeight);\n        const dimensions = {\n          width,\n          height\n        };\n        done(Promise.resolve(dimensions));\n      };\n      img.onerror = () => {\n        done(Promise.reject(`Failed to get image dimensions for: ${ url }`));\n      };\n      const style = img.style;\n      style.visibility = 'hidden';\n      style.position = 'fixed';\n      style.bottom = style.left = '0px';\n      style.width = style.height = 'auto';\n      document.body.appendChild(img);\n      img.src = url;\n    });\n    const removePixelSuffix = value => {\n      if (value) {\n        value = value.replace(/px$/, '');\n      }\n      return value;\n    };\n    const addPixelSuffix = value => {\n      if (value.length > 0 && /^[0-9]+$/.test(value)) {\n        value += 'px';\n      }\n      return value;\n    };\n    const mergeMargins = css => {\n      if (css.margin) {\n        const splitMargin = String(css.margin).split(' ');\n        switch (splitMargin.length) {\n        case 1:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[0];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[0];\n          css['margin-left'] = css['margin-left'] || splitMargin[0];\n          break;\n        case 2:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[0];\n          css['margin-left'] = css['margin-left'] || splitMargin[1];\n          break;\n        case 3:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[2];\n          css['margin-left'] = css['margin-left'] || splitMargin[1];\n          break;\n        case 4:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[2];\n          css['margin-left'] = css['margin-left'] || splitMargin[3];\n        }\n        delete css.margin;\n      }\n      return css;\n    };\n    const createImageList = (editor, callback) => {\n      const imageList = getImageList(editor);\n      if (isString(imageList)) {\n        fetch(imageList).then(res => {\n          if (res.ok) {\n            res.json().then(callback);\n          }\n        });\n      } else if (isFunction(imageList)) {\n        imageList(callback);\n      } else {\n        callback(imageList);\n      }\n    };\n    const waitLoadImage = (editor, data, imgElm) => {\n      const selectImage = () => {\n        imgElm.onload = imgElm.onerror = null;\n        if (editor.selection) {\n          editor.selection.select(imgElm);\n          editor.nodeChanged();\n        }\n      };\n      imgElm.onload = () => {\n        if (!data.width && !data.height && hasDimensions(editor)) {\n          editor.dom.setAttribs(imgElm, {\n            width: String(imgElm.clientWidth),\n            height: String(imgElm.clientHeight)\n          });\n        }\n        selectImage();\n      };\n      imgElm.onerror = selectImage;\n    };\n    const blobToDataUri = blob => new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = () => {\n        resolve(reader.result);\n      };\n      reader.onerror = () => {\n        var _a;\n        reject((_a = reader.error) === null || _a === void 0 ? void 0 : _a.message);\n      };\n      reader.readAsDataURL(blob);\n    });\n    const isPlaceholderImage = imgElm => imgElm.nodeName === 'IMG' && (imgElm.hasAttribute('data-mce-object') || imgElm.hasAttribute('data-mce-placeholder'));\n    const isSafeImageUrl = (editor, src) => {\n      const getOption = editor.options.get;\n      return global$2.isDomSafe(src, 'img', {\n        allow_html_data_urls: getOption('allow_html_data_urls'),\n        allow_script_urls: getOption('allow_script_urls'),\n        allow_svg_data_urls: getOption('allow_svg_data_urls')\n      });\n    };\n\n    const DOM = global$3.DOM;\n    const getHspace = image => {\n      if (image.style.marginLeft && image.style.marginRight && image.style.marginLeft === image.style.marginRight) {\n        return removePixelSuffix(image.style.marginLeft);\n      } else {\n        return '';\n      }\n    };\n    const getVspace = image => {\n      if (image.style.marginTop && image.style.marginBottom && image.style.marginTop === image.style.marginBottom) {\n        return removePixelSuffix(image.style.marginTop);\n      } else {\n        return '';\n      }\n    };\n    const getBorder = image => {\n      if (image.style.borderWidth) {\n        return removePixelSuffix(image.style.borderWidth);\n      } else {\n        return '';\n      }\n    };\n    const getAttrib = (image, name) => {\n      var _a;\n      if (image.hasAttribute(name)) {\n        return (_a = image.getAttribute(name)) !== null && _a !== void 0 ? _a : '';\n      } else {\n        return '';\n      }\n    };\n    const hasCaption = image => image.parentNode !== null && image.parentNode.nodeName === 'FIGURE';\n    const updateAttrib = (image, name, value) => {\n      if (value === '' || value === null) {\n        image.removeAttribute(name);\n      } else {\n        image.setAttribute(name, value);\n      }\n    };\n    const wrapInFigure = image => {\n      const figureElm = DOM.create('figure', { class: 'image' });\n      DOM.insertAfter(figureElm, image);\n      figureElm.appendChild(image);\n      figureElm.appendChild(DOM.create('figcaption', { contentEditable: 'true' }, 'Caption'));\n      figureElm.contentEditable = 'false';\n    };\n    const removeFigure = image => {\n      const figureElm = image.parentNode;\n      if (isNonNullable(figureElm)) {\n        DOM.insertAfter(image, figureElm);\n        DOM.remove(figureElm);\n      }\n    };\n    const toggleCaption = image => {\n      if (hasCaption(image)) {\n        removeFigure(image);\n      } else {\n        wrapInFigure(image);\n      }\n    };\n    const normalizeStyle = (image, normalizeCss) => {\n      const attrValue = image.getAttribute('style');\n      const value = normalizeCss(attrValue !== null ? attrValue : '');\n      if (value.length > 0) {\n        image.setAttribute('style', value);\n        image.setAttribute('data-mce-style', value);\n      } else {\n        image.removeAttribute('style');\n      }\n    };\n    const setSize = (name, normalizeCss) => (image, name, value) => {\n      const styles = image.style;\n      if (styles[name]) {\n        styles[name] = addPixelSuffix(value);\n        normalizeStyle(image, normalizeCss);\n      } else {\n        updateAttrib(image, name, value);\n      }\n    };\n    const getSize = (image, name) => {\n      if (image.style[name]) {\n        return removePixelSuffix(image.style[name]);\n      } else {\n        return getAttrib(image, name);\n      }\n    };\n    const setHspace = (image, value) => {\n      const pxValue = addPixelSuffix(value);\n      image.style.marginLeft = pxValue;\n      image.style.marginRight = pxValue;\n    };\n    const setVspace = (image, value) => {\n      const pxValue = addPixelSuffix(value);\n      image.style.marginTop = pxValue;\n      image.style.marginBottom = pxValue;\n    };\n    const setBorder = (image, value) => {\n      const pxValue = addPixelSuffix(value);\n      image.style.borderWidth = pxValue;\n    };\n    const setBorderStyle = (image, value) => {\n      image.style.borderStyle = value;\n    };\n    const getBorderStyle = image => {\n      var _a;\n      return (_a = image.style.borderStyle) !== null && _a !== void 0 ? _a : '';\n    };\n    const isFigure = elm => isNonNullable(elm) && elm.nodeName === 'FIGURE';\n    const isImage = elm => elm.nodeName === 'IMG';\n    const getIsDecorative = image => DOM.getAttrib(image, 'alt').length === 0 && DOM.getAttrib(image, 'role') === 'presentation';\n    const getAlt = image => {\n      if (getIsDecorative(image)) {\n        return '';\n      } else {\n        return getAttrib(image, 'alt');\n      }\n    };\n    const defaultData = () => ({\n      src: '',\n      alt: '',\n      title: '',\n      width: '',\n      height: '',\n      class: '',\n      style: '',\n      caption: false,\n      hspace: '',\n      vspace: '',\n      border: '',\n      borderStyle: '',\n      isDecorative: false\n    });\n    const getStyleValue = (normalizeCss, data) => {\n      var _a;\n      const image = document.createElement('img');\n      updateAttrib(image, 'style', data.style);\n      if (getHspace(image) || data.hspace !== '') {\n        setHspace(image, data.hspace);\n      }\n      if (getVspace(image) || data.vspace !== '') {\n        setVspace(image, data.vspace);\n      }\n      if (getBorder(image) || data.border !== '') {\n        setBorder(image, data.border);\n      }\n      if (getBorderStyle(image) || data.borderStyle !== '') {\n        setBorderStyle(image, data.borderStyle);\n      }\n      return normalizeCss((_a = image.getAttribute('style')) !== null && _a !== void 0 ? _a : '');\n    };\n    const create = (normalizeCss, data) => {\n      const image = document.createElement('img');\n      write(normalizeCss, {\n        ...data,\n        caption: false\n      }, image);\n      setAlt(image, data.alt, data.isDecorative);\n      if (data.caption) {\n        const figure = DOM.create('figure', { class: 'image' });\n        figure.appendChild(image);\n        figure.appendChild(DOM.create('figcaption', { contentEditable: 'true' }, 'Caption'));\n        figure.contentEditable = 'false';\n        return figure;\n      } else {\n        return image;\n      }\n    };\n    const read = (normalizeCss, image) => ({\n      src: getAttrib(image, 'src'),\n      alt: getAlt(image),\n      title: getAttrib(image, 'title'),\n      width: getSize(image, 'width'),\n      height: getSize(image, 'height'),\n      class: getAttrib(image, 'class'),\n      style: normalizeCss(getAttrib(image, 'style')),\n      caption: hasCaption(image),\n      hspace: getHspace(image),\n      vspace: getVspace(image),\n      border: getBorder(image),\n      borderStyle: getBorderStyle(image),\n      isDecorative: getIsDecorative(image)\n    });\n    const updateProp = (image, oldData, newData, name, set) => {\n      if (newData[name] !== oldData[name]) {\n        set(image, name, String(newData[name]));\n      }\n    };\n    const setAlt = (image, alt, isDecorative) => {\n      if (isDecorative) {\n        DOM.setAttrib(image, 'role', 'presentation');\n        const sugarImage = SugarElement.fromDom(image);\n        set(sugarImage, 'alt', '');\n      } else {\n        if (isNull(alt)) {\n          const sugarImage = SugarElement.fromDom(image);\n          remove(sugarImage, 'alt');\n        } else {\n          const sugarImage = SugarElement.fromDom(image);\n          set(sugarImage, 'alt', alt);\n        }\n        if (DOM.getAttrib(image, 'role') === 'presentation') {\n          DOM.setAttrib(image, 'role', '');\n        }\n      }\n    };\n    const updateAlt = (image, oldData, newData) => {\n      if (newData.alt !== oldData.alt || newData.isDecorative !== oldData.isDecorative) {\n        setAlt(image, newData.alt, newData.isDecorative);\n      }\n    };\n    const normalized = (set, normalizeCss) => (image, name, value) => {\n      set(image, value);\n      normalizeStyle(image, normalizeCss);\n    };\n    const write = (normalizeCss, newData, image) => {\n      const oldData = read(normalizeCss, image);\n      updateProp(image, oldData, newData, 'caption', (image, _name, _value) => toggleCaption(image));\n      updateProp(image, oldData, newData, 'src', updateAttrib);\n      updateProp(image, oldData, newData, 'title', updateAttrib);\n      updateProp(image, oldData, newData, 'width', setSize('width', normalizeCss));\n      updateProp(image, oldData, newData, 'height', setSize('height', normalizeCss));\n      updateProp(image, oldData, newData, 'class', updateAttrib);\n      updateProp(image, oldData, newData, 'style', normalized((image, value) => updateAttrib(image, 'style', value), normalizeCss));\n      updateProp(image, oldData, newData, 'hspace', normalized(setHspace, normalizeCss));\n      updateProp(image, oldData, newData, 'vspace', normalized(setVspace, normalizeCss));\n      updateProp(image, oldData, newData, 'border', normalized(setBorder, normalizeCss));\n      updateProp(image, oldData, newData, 'borderStyle', normalized(setBorderStyle, normalizeCss));\n      updateAlt(image, oldData, newData);\n    };\n\n    const normalizeCss$1 = (editor, cssText) => {\n      const css = editor.dom.styles.parse(cssText);\n      const mergedCss = mergeMargins(css);\n      const compressed = editor.dom.styles.parse(editor.dom.styles.serialize(mergedCss));\n      return editor.dom.styles.serialize(compressed);\n    };\n    const getSelectedImage = editor => {\n      const imgElm = editor.selection.getNode();\n      const figureElm = editor.dom.getParent(imgElm, 'figure.image');\n      if (figureElm) {\n        return editor.dom.select('img', figureElm)[0];\n      }\n      if (imgElm && (imgElm.nodeName !== 'IMG' || isPlaceholderImage(imgElm))) {\n        return null;\n      }\n      return imgElm;\n    };\n    const splitTextBlock = (editor, figure) => {\n      var _a;\n      const dom = editor.dom;\n      const textBlockElements = filter(editor.schema.getTextBlockElements(), (_, parentElm) => !editor.schema.isValidChild(parentElm, 'figure'));\n      const textBlock = dom.getParent(figure.parentNode, node => hasNonNullableKey(textBlockElements, node.nodeName), editor.getBody());\n      if (textBlock) {\n        return (_a = dom.split(textBlock, figure)) !== null && _a !== void 0 ? _a : figure;\n      } else {\n        return figure;\n      }\n    };\n    const readImageDataFromSelection = editor => {\n      const image = getSelectedImage(editor);\n      return image ? read(css => normalizeCss$1(editor, css), image) : defaultData();\n    };\n    const insertImageAtCaret = (editor, data) => {\n      const elm = create(css => normalizeCss$1(editor, css), data);\n      editor.dom.setAttrib(elm, 'data-mce-id', '__mcenew');\n      editor.focus();\n      editor.selection.setContent(elm.outerHTML);\n      const insertedElm = editor.dom.select('*[data-mce-id=\"__mcenew\"]')[0];\n      editor.dom.setAttrib(insertedElm, 'data-mce-id', null);\n      if (isFigure(insertedElm)) {\n        const figure = splitTextBlock(editor, insertedElm);\n        editor.selection.select(figure);\n      } else {\n        editor.selection.select(insertedElm);\n      }\n    };\n    const syncSrcAttr = (editor, image) => {\n      editor.dom.setAttrib(image, 'src', image.getAttribute('src'));\n    };\n    const deleteImage = (editor, image) => {\n      if (image) {\n        const elm = editor.dom.is(image.parentNode, 'figure.image') ? image.parentNode : image;\n        editor.dom.remove(elm);\n        editor.focus();\n        editor.nodeChanged();\n        if (editor.dom.isEmpty(editor.getBody())) {\n          editor.setContent('');\n          editor.selection.setCursorLocation();\n        }\n      }\n    };\n    const writeImageDataToSelection = (editor, data) => {\n      const image = getSelectedImage(editor);\n      if (image) {\n        write(css => normalizeCss$1(editor, css), data, image);\n        syncSrcAttr(editor, image);\n        if (isFigure(image.parentNode)) {\n          const figure = image.parentNode;\n          splitTextBlock(editor, figure);\n          editor.selection.select(image.parentNode);\n        } else {\n          editor.selection.select(image);\n          waitLoadImage(editor, data, image);\n        }\n      }\n    };\n    const sanitizeImageData = (editor, data) => {\n      const src = data.src;\n      return {\n        ...data,\n        src: isSafeImageUrl(editor, src) ? src : ''\n      };\n    };\n    const insertOrUpdateImage = (editor, partialData) => {\n      const image = getSelectedImage(editor);\n      if (image) {\n        const selectedImageData = read(css => normalizeCss$1(editor, css), image);\n        const data = {\n          ...selectedImageData,\n          ...partialData\n        };\n        const sanitizedData = sanitizeImageData(editor, data);\n        if (data.src) {\n          writeImageDataToSelection(editor, sanitizedData);\n        } else {\n          deleteImage(editor, image);\n        }\n      } else if (partialData.src) {\n        insertImageAtCaret(editor, {\n          ...defaultData(),\n          ...partialData\n        });\n      }\n    };\n\n    const deep = (old, nu) => {\n      const bothObjects = isPlainObject(old) && isPlainObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    const baseMerge = merger => {\n      return (...objects) => {\n        if (objects.length === 0) {\n          throw new Error(`Can't merge zero objects`);\n        }\n        const ret = {};\n        for (let j = 0; j < objects.length; j++) {\n          const curObject = objects[j];\n          for (const key in curObject) {\n            if (has(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    const deepMerge = baseMerge(deep);\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.ImageUploader');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const getValue = item => isString(item.value) ? item.value : '';\n    const getText = item => {\n      if (isString(item.text)) {\n        return item.text;\n      } else if (isString(item.title)) {\n        return item.title;\n      } else {\n        return '';\n      }\n    };\n    const sanitizeList = (list, extractValue) => {\n      const out = [];\n      global.each(list, item => {\n        const text = getText(item);\n        if (item.menu !== undefined) {\n          const items = sanitizeList(item.menu, extractValue);\n          out.push({\n            text,\n            items\n          });\n        } else {\n          const value = extractValue(item);\n          out.push({\n            text,\n            value\n          });\n        }\n      });\n      return out;\n    };\n    const sanitizer = (extractor = getValue) => list => {\n      if (list) {\n        return Optional.from(list).map(list => sanitizeList(list, extractor));\n      } else {\n        return Optional.none();\n      }\n    };\n    const sanitize = list => sanitizer(getValue)(list);\n    const isGroup = item => has(item, 'items');\n    const findEntryDelegate = (list, value) => findMap(list, item => {\n      if (isGroup(item)) {\n        return findEntryDelegate(item.items, value);\n      } else if (item.value === value) {\n        return Optional.some(item);\n      } else {\n        return Optional.none();\n      }\n    });\n    const findEntry = (optList, value) => optList.bind(list => findEntryDelegate(list, value));\n    const ListUtils = {\n      sanitizer,\n      sanitize,\n      findEntry\n    };\n\n    const makeTab$2 = _info => ({\n      title: 'Advanced',\n      name: 'advanced',\n      items: [{\n          type: 'grid',\n          columns: 2,\n          items: [\n            {\n              type: 'input',\n              label: 'Vertical space',\n              name: 'vspace',\n              inputMode: 'numeric'\n            },\n            {\n              type: 'input',\n              label: 'Horizontal space',\n              name: 'hspace',\n              inputMode: 'numeric'\n            },\n            {\n              type: 'input',\n              label: 'Border width',\n              name: 'border',\n              inputMode: 'numeric'\n            },\n            {\n              type: 'listbox',\n              name: 'borderstyle',\n              label: 'Border style',\n              items: [\n                {\n                  text: 'Select...',\n                  value: ''\n                },\n                {\n                  text: 'Solid',\n                  value: 'solid'\n                },\n                {\n                  text: 'Dotted',\n                  value: 'dotted'\n                },\n                {\n                  text: 'Dashed',\n                  value: 'dashed'\n                },\n                {\n                  text: 'Double',\n                  value: 'double'\n                },\n                {\n                  text: 'Groove',\n                  value: 'groove'\n                },\n                {\n                  text: 'Ridge',\n                  value: 'ridge'\n                },\n                {\n                  text: 'Inset',\n                  value: 'inset'\n                },\n                {\n                  text: 'Outset',\n                  value: 'outset'\n                },\n                {\n                  text: 'None',\n                  value: 'none'\n                },\n                {\n                  text: 'Hidden',\n                  value: 'hidden'\n                }\n              ]\n            }\n          ]\n        }]\n    });\n    const AdvTab = { makeTab: makeTab$2 };\n\n    const collect = editor => {\n      const urlListSanitizer = ListUtils.sanitizer(item => editor.convertURL(item.value || item.url || '', 'src'));\n      const futureImageList = new Promise(completer => {\n        createImageList(editor, imageList => {\n          completer(urlListSanitizer(imageList).map(items => flatten([\n            [{\n                text: 'None',\n                value: ''\n              }],\n            items\n          ])));\n        });\n      });\n      const classList = ListUtils.sanitize(getClassList(editor));\n      const hasAdvTab$1 = hasAdvTab(editor);\n      const hasUploadTab$1 = hasUploadTab(editor);\n      const hasUploadUrl$1 = hasUploadUrl(editor);\n      const hasUploadHandler$1 = hasUploadHandler(editor);\n      const image = readImageDataFromSelection(editor);\n      const hasDescription$1 = hasDescription(editor);\n      const hasImageTitle$1 = hasImageTitle(editor);\n      const hasDimensions$1 = hasDimensions(editor);\n      const hasImageCaption$1 = hasImageCaption(editor);\n      const hasAccessibilityOptions = showAccessibilityOptions(editor);\n      const automaticUploads = isAutomaticUploadsEnabled(editor);\n      const prependURL = Optional.some(getPrependUrl(editor)).filter(preUrl => isString(preUrl) && preUrl.length > 0);\n      return futureImageList.then(imageList => ({\n        image,\n        imageList,\n        classList,\n        hasAdvTab: hasAdvTab$1,\n        hasUploadTab: hasUploadTab$1,\n        hasUploadUrl: hasUploadUrl$1,\n        hasUploadHandler: hasUploadHandler$1,\n        hasDescription: hasDescription$1,\n        hasImageTitle: hasImageTitle$1,\n        hasDimensions: hasDimensions$1,\n        hasImageCaption: hasImageCaption$1,\n        prependURL,\n        hasAccessibilityOptions,\n        automaticUploads\n      }));\n    };\n\n    const makeItems = info => {\n      const imageUrl = {\n        name: 'src',\n        type: 'urlinput',\n        filetype: 'image',\n        label: 'Source'\n      };\n      const imageList = info.imageList.map(items => ({\n        name: 'images',\n        type: 'listbox',\n        label: 'Image list',\n        items\n      }));\n      const imageDescription = {\n        name: 'alt',\n        type: 'input',\n        label: 'Alternative description',\n        enabled: !(info.hasAccessibilityOptions && info.image.isDecorative)\n      };\n      const imageTitle = {\n        name: 'title',\n        type: 'input',\n        label: 'Image title'\n      };\n      const imageDimensions = {\n        name: 'dimensions',\n        type: 'sizeinput'\n      };\n      const isDecorative = {\n        type: 'label',\n        label: 'Accessibility',\n        items: [{\n            name: 'isDecorative',\n            type: 'checkbox',\n            label: 'Image is decorative'\n          }]\n      };\n      const classList = info.classList.map(items => ({\n        name: 'classes',\n        type: 'listbox',\n        label: 'Class',\n        items\n      }));\n      const caption = {\n        type: 'label',\n        label: 'Caption',\n        items: [{\n            type: 'checkbox',\n            name: 'caption',\n            label: 'Show caption'\n          }]\n      };\n      const getDialogContainerType = useColumns => useColumns ? {\n        type: 'grid',\n        columns: 2\n      } : { type: 'panel' };\n      return flatten([\n        [imageUrl],\n        imageList.toArray(),\n        info.hasAccessibilityOptions && info.hasDescription ? [isDecorative] : [],\n        info.hasDescription ? [imageDescription] : [],\n        info.hasImageTitle ? [imageTitle] : [],\n        info.hasDimensions ? [imageDimensions] : [],\n        [{\n            ...getDialogContainerType(info.classList.isSome() && info.hasImageCaption),\n            items: flatten([\n              classList.toArray(),\n              info.hasImageCaption ? [caption] : []\n            ])\n          }]\n      ]);\n    };\n    const makeTab$1 = info => ({\n      title: 'General',\n      name: 'general',\n      items: makeItems(info)\n    });\n    const MainTab = {\n      makeTab: makeTab$1,\n      makeItems\n    };\n\n    const makeTab = _info => {\n      const items = [{\n          type: 'dropzone',\n          name: 'fileinput'\n        }];\n      return {\n        title: 'Upload',\n        name: 'upload',\n        items\n      };\n    };\n    const UploadTab = { makeTab };\n\n    const createState = info => ({\n      prevImage: ListUtils.findEntry(info.imageList, info.image.src),\n      prevAlt: info.image.alt,\n      open: true\n    });\n    const fromImageData = image => ({\n      src: {\n        value: image.src,\n        meta: {}\n      },\n      images: image.src,\n      alt: image.alt,\n      title: image.title,\n      dimensions: {\n        width: image.width,\n        height: image.height\n      },\n      classes: image.class,\n      caption: image.caption,\n      style: image.style,\n      vspace: image.vspace,\n      border: image.border,\n      hspace: image.hspace,\n      borderstyle: image.borderStyle,\n      fileinput: [],\n      isDecorative: image.isDecorative\n    });\n    const toImageData = (data, removeEmptyAlt) => ({\n      src: data.src.value,\n      alt: (data.alt === null || data.alt.length === 0) && removeEmptyAlt ? null : data.alt,\n      title: data.title,\n      width: data.dimensions.width,\n      height: data.dimensions.height,\n      class: data.classes,\n      style: data.style,\n      caption: data.caption,\n      hspace: data.hspace,\n      vspace: data.vspace,\n      border: data.border,\n      borderStyle: data.borderstyle,\n      isDecorative: data.isDecorative\n    });\n    const addPrependUrl2 = (info, srcURL) => {\n      if (!/^(?:[a-zA-Z]+:)?\\/\\//.test(srcURL)) {\n        return info.prependURL.bind(prependUrl => {\n          if (srcURL.substring(0, prependUrl.length) !== prependUrl) {\n            return Optional.some(prependUrl + srcURL);\n          }\n          return Optional.none();\n        });\n      }\n      return Optional.none();\n    };\n    const addPrependUrl = (info, api) => {\n      const data = api.getData();\n      addPrependUrl2(info, data.src.value).each(srcURL => {\n        api.setData({\n          src: {\n            value: srcURL,\n            meta: data.src.meta\n          }\n        });\n      });\n    };\n    const formFillFromMeta2 = (info, data, meta) => {\n      if (info.hasDescription && isString(meta.alt)) {\n        data.alt = meta.alt;\n      }\n      if (info.hasAccessibilityOptions) {\n        data.isDecorative = meta.isDecorative || data.isDecorative || false;\n      }\n      if (info.hasImageTitle && isString(meta.title)) {\n        data.title = meta.title;\n      }\n      if (info.hasDimensions) {\n        if (isString(meta.width)) {\n          data.dimensions.width = meta.width;\n        }\n        if (isString(meta.height)) {\n          data.dimensions.height = meta.height;\n        }\n      }\n      if (isString(meta.class)) {\n        ListUtils.findEntry(info.classList, meta.class).each(entry => {\n          data.classes = entry.value;\n        });\n      }\n      if (info.hasImageCaption) {\n        if (isBoolean(meta.caption)) {\n          data.caption = meta.caption;\n        }\n      }\n      if (info.hasAdvTab) {\n        if (isString(meta.style)) {\n          data.style = meta.style;\n        }\n        if (isString(meta.vspace)) {\n          data.vspace = meta.vspace;\n        }\n        if (isString(meta.border)) {\n          data.border = meta.border;\n        }\n        if (isString(meta.hspace)) {\n          data.hspace = meta.hspace;\n        }\n        if (isString(meta.borderstyle)) {\n          data.borderstyle = meta.borderstyle;\n        }\n      }\n    };\n    const formFillFromMeta = (info, api) => {\n      const data = api.getData();\n      const meta = data.src.meta;\n      if (meta !== undefined) {\n        const newData = deepMerge({}, data);\n        formFillFromMeta2(info, newData, meta);\n        api.setData(newData);\n      }\n    };\n    const calculateImageSize = (helpers, info, state, api) => {\n      const data = api.getData();\n      const url = data.src.value;\n      const meta = data.src.meta || {};\n      if (!meta.width && !meta.height && info.hasDimensions) {\n        if (isNotEmpty(url)) {\n          helpers.imageSize(url).then(size => {\n            if (state.open) {\n              api.setData({ dimensions: size });\n            }\n          }).catch(e => console.error(e));\n        } else {\n          api.setData({\n            dimensions: {\n              width: '',\n              height: ''\n            }\n          });\n        }\n      }\n    };\n    const updateImagesDropdown = (info, state, api) => {\n      const data = api.getData();\n      const image = ListUtils.findEntry(info.imageList, data.src.value);\n      state.prevImage = image;\n      api.setData({ images: image.map(entry => entry.value).getOr('') });\n    };\n    const changeSrc = (helpers, info, state, api) => {\n      addPrependUrl(info, api);\n      formFillFromMeta(info, api);\n      calculateImageSize(helpers, info, state, api);\n      updateImagesDropdown(info, state, api);\n    };\n    const changeImages = (helpers, info, state, api) => {\n      const data = api.getData();\n      const image = ListUtils.findEntry(info.imageList, data.images);\n      image.each(img => {\n        const updateAlt = data.alt === '' || state.prevImage.map(image => image.text === data.alt).getOr(false);\n        if (updateAlt) {\n          if (img.value === '') {\n            api.setData({\n              src: img,\n              alt: state.prevAlt\n            });\n          } else {\n            api.setData({\n              src: img,\n              alt: img.text\n            });\n          }\n        } else {\n          api.setData({ src: img });\n        }\n      });\n      state.prevImage = image;\n      changeSrc(helpers, info, state, api);\n    };\n    const changeFileInput = (helpers, info, state, api) => {\n      const data = api.getData();\n      api.block('Uploading image');\n      head(data.fileinput).fold(() => {\n        api.unblock();\n      }, file => {\n        const blobUri = URL.createObjectURL(file);\n        const finalize = () => {\n          api.unblock();\n          URL.revokeObjectURL(blobUri);\n        };\n        const updateSrcAndSwitchTab = url => {\n          api.setData({\n            src: {\n              value: url,\n              meta: {}\n            }\n          });\n          api.showTab('general');\n          changeSrc(helpers, info, state, api);\n        };\n        blobToDataUri(file).then(dataUrl => {\n          const blobInfo = helpers.createBlobCache(file, blobUri, dataUrl);\n          if (info.automaticUploads) {\n            helpers.uploadImage(blobInfo).then(result => {\n              updateSrcAndSwitchTab(result.url);\n              finalize();\n            }).catch(err => {\n              finalize();\n              helpers.alertErr(err);\n            });\n          } else {\n            helpers.addToBlobCache(blobInfo);\n            updateSrcAndSwitchTab(blobInfo.blobUri());\n            api.unblock();\n          }\n        });\n      });\n    };\n    const changeHandler = (helpers, info, state) => (api, evt) => {\n      if (evt.name === 'src') {\n        changeSrc(helpers, info, state, api);\n      } else if (evt.name === 'images') {\n        changeImages(helpers, info, state, api);\n      } else if (evt.name === 'alt') {\n        state.prevAlt = api.getData().alt;\n      } else if (evt.name === 'fileinput') {\n        changeFileInput(helpers, info, state, api);\n      } else if (evt.name === 'isDecorative') {\n        api.setEnabled('alt', !api.getData().isDecorative);\n      }\n    };\n    const closeHandler = state => () => {\n      state.open = false;\n    };\n    const makeDialogBody = info => {\n      if (info.hasAdvTab || info.hasUploadUrl || info.hasUploadHandler) {\n        const tabPanel = {\n          type: 'tabpanel',\n          tabs: flatten([\n            [MainTab.makeTab(info)],\n            info.hasAdvTab ? [AdvTab.makeTab(info)] : [],\n            info.hasUploadTab && (info.hasUploadUrl || info.hasUploadHandler) ? [UploadTab.makeTab(info)] : []\n          ])\n        };\n        return tabPanel;\n      } else {\n        const panel = {\n          type: 'panel',\n          items: MainTab.makeItems(info)\n        };\n        return panel;\n      }\n    };\n    const submitHandler = (editor, info, helpers) => api => {\n      const data = deepMerge(fromImageData(info.image), api.getData());\n      const finalData = {\n        ...data,\n        style: getStyleValue(helpers.normalizeCss, toImageData(data, false))\n      };\n      editor.execCommand('mceUpdateImage', false, toImageData(finalData, info.hasAccessibilityOptions));\n      editor.editorUpload.uploadImagesAuto();\n      api.close();\n    };\n    const imageSize = editor => url => {\n      if (!isSafeImageUrl(editor, url)) {\n        return Promise.resolve({\n          width: '',\n          height: ''\n        });\n      } else {\n        return getImageSize(editor.documentBaseURI.toAbsolute(url)).then(dimensions => ({\n          width: String(dimensions.width),\n          height: String(dimensions.height)\n        }));\n      }\n    };\n    const createBlobCache = editor => (file, blobUri, dataUrl) => {\n      var _a;\n      return editor.editorUpload.blobCache.create({\n        blob: file,\n        blobUri,\n        name: (_a = file.name) === null || _a === void 0 ? void 0 : _a.replace(/\\.[^\\.]+$/, ''),\n        filename: file.name,\n        base64: dataUrl.split(',')[1]\n      });\n    };\n    const addToBlobCache = editor => blobInfo => {\n      editor.editorUpload.blobCache.add(blobInfo);\n    };\n    const alertErr = editor => message => {\n      editor.windowManager.alert(message);\n    };\n    const normalizeCss = editor => cssText => normalizeCss$1(editor, cssText);\n    const parseStyle = editor => cssText => editor.dom.parseStyle(cssText);\n    const serializeStyle = editor => (stylesArg, name) => editor.dom.serializeStyle(stylesArg, name);\n    const uploadImage = editor => blobInfo => global$1(editor).upload([blobInfo], false).then(results => {\n      var _a;\n      if (results.length === 0) {\n        return Promise.reject('Failed to upload image');\n      } else if (results[0].status === false) {\n        return Promise.reject((_a = results[0].error) === null || _a === void 0 ? void 0 : _a.message);\n      } else {\n        return results[0];\n      }\n    });\n    const Dialog = editor => {\n      const helpers = {\n        imageSize: imageSize(editor),\n        addToBlobCache: addToBlobCache(editor),\n        createBlobCache: createBlobCache(editor),\n        alertErr: alertErr(editor),\n        normalizeCss: normalizeCss(editor),\n        parseStyle: parseStyle(editor),\n        serializeStyle: serializeStyle(editor),\n        uploadImage: uploadImage(editor)\n      };\n      const open = () => {\n        collect(editor).then(info => {\n          const state = createState(info);\n          return {\n            title: 'Insert/Edit Image',\n            size: 'normal',\n            body: makeDialogBody(info),\n            buttons: [\n              {\n                type: 'cancel',\n                name: 'cancel',\n                text: 'Cancel'\n              },\n              {\n                type: 'submit',\n                name: 'save',\n                text: 'Save',\n                primary: true\n              }\n            ],\n            initialData: fromImageData(info.image),\n            onSubmit: submitHandler(editor, info, helpers),\n            onChange: changeHandler(helpers, info, state),\n            onClose: closeHandler(state)\n          };\n        }).then(editor.windowManager.open);\n      };\n      return { open };\n    };\n\n    const register$1 = editor => {\n      editor.addCommand('mceImage', Dialog(editor).open);\n      editor.addCommand('mceUpdateImage', (_ui, data) => {\n        editor.undoManager.transact(() => insertOrUpdateImage(editor, data));\n      });\n    };\n\n    const hasImageClass = node => {\n      const className = node.attr('class');\n      return isNonNullable(className) && /\\bimage\\b/.test(className);\n    };\n    const toggleContentEditableState = state => nodes => {\n      let i = nodes.length;\n      const toggleContentEditable = node => {\n        node.attr('contenteditable', state ? 'true' : null);\n      };\n      while (i--) {\n        const node = nodes[i];\n        if (hasImageClass(node)) {\n          node.attr('contenteditable', state ? 'false' : null);\n          global.each(node.getAll('figcaption'), toggleContentEditable);\n        }\n      }\n    };\n    const setup = editor => {\n      editor.on('PreInit', () => {\n        editor.parser.addNodeFilter('figure', toggleContentEditableState(true));\n        editor.serializer.addNodeFilter('figure', toggleContentEditableState(false));\n      });\n    };\n\n    const register = editor => {\n      editor.ui.registry.addToggleButton('image', {\n        icon: 'image',\n        tooltip: 'Insert/edit image',\n        onAction: Dialog(editor).open,\n        onSetup: buttonApi => {\n          buttonApi.setActive(isNonNullable(getSelectedImage(editor)));\n          return editor.selection.selectorChangedWithUnbind('img:not([data-mce-object]):not([data-mce-placeholder]),figure.image', buttonApi.setActive).unbind;\n        }\n      });\n      editor.ui.registry.addMenuItem('image', {\n        icon: 'image',\n        text: 'Image...',\n        onAction: Dialog(editor).open\n      });\n      editor.ui.registry.addContextMenu('image', { update: element => isFigure(element) || isImage(element) && !isPlaceholderImage(element) ? ['image'] : [] });\n    };\n\n    var Plugin = () => {\n      global$4.add('image', editor => {\n        register$2(editor);\n        setup(editor);\n        register(editor);\n        register$1(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"link\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/link')\n//   ES2015:\n//     import 'tinymce/plugins/link'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.4.1 (2023-03-29)\n */\n\n(function () {\n    'use strict';\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq = t => a => t === a;\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isArray = isType('array');\n    const isNull = eq(null);\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains = (xs, x) => rawIndexOf(xs, x) > -1;\n    const map = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind = (xs, f) => flatten(map(xs, f));\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const is = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const option = name => editor => editor.options.get(name);\n    const register$1 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('link_assume_external_targets', {\n        processor: value => {\n          const valid = isString(value) || isBoolean(value);\n          if (valid) {\n            if (value === true) {\n              return {\n                value: 1,\n                valid\n              };\n            } else if (value === 'http' || value === 'https') {\n              return {\n                value,\n                valid\n              };\n            } else {\n              return {\n                value: 0,\n                valid\n              };\n            }\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a string or a boolean.'\n            };\n          }\n        },\n        default: false\n      });\n      registerOption('link_context_toolbar', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('link_list', { processor: value => isString(value) || isFunction(value) || isArrayOf(value, isObject) });\n      registerOption('link_default_target', { processor: 'string' });\n      registerOption('link_default_protocol', {\n        processor: 'string',\n        default: 'https'\n      });\n      registerOption('link_target_list', {\n        processor: value => isBoolean(value) || isArrayOf(value, isObject),\n        default: true\n      });\n      registerOption('link_rel_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('link_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('link_title', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('allow_unsafe_link_target', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('link_quicklink', {\n        processor: 'boolean',\n        default: false\n      });\n    };\n    const assumeExternalTargets = option('link_assume_external_targets');\n    const hasContextToolbar = option('link_context_toolbar');\n    const getLinkList = option('link_list');\n    const getDefaultLinkTarget = option('link_default_target');\n    const getDefaultLinkProtocol = option('link_default_protocol');\n    const getTargetList = option('link_target_list');\n    const getRelList = option('link_rel_list');\n    const getLinkClassList = option('link_class_list');\n    const shouldShowLinkTitle = option('link_title');\n    const allowUnsafeLinkTarget = option('allow_unsafe_link_target');\n    const useQuickLink = option('link_quicklink');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const getValue = item => isString(item.value) ? item.value : '';\n    const getText = item => {\n      if (isString(item.text)) {\n        return item.text;\n      } else if (isString(item.title)) {\n        return item.title;\n      } else {\n        return '';\n      }\n    };\n    const sanitizeList = (list, extractValue) => {\n      const out = [];\n      global$4.each(list, item => {\n        const text = getText(item);\n        if (item.menu !== undefined) {\n          const items = sanitizeList(item.menu, extractValue);\n          out.push({\n            text,\n            items\n          });\n        } else {\n          const value = extractValue(item);\n          out.push({\n            text,\n            value\n          });\n        }\n      });\n      return out;\n    };\n    const sanitizeWith = (extracter = getValue) => list => Optional.from(list).map(list => sanitizeList(list, extracter));\n    const sanitize = list => sanitizeWith(getValue)(list);\n    const createUi = (name, label) => items => ({\n      name,\n      type: 'listbox',\n      label,\n      items\n    });\n    const ListOptions = {\n      sanitize,\n      sanitizeWith,\n      createUi,\n      getValue\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const isAnchor = elm => isNonNullable(elm) && elm.nodeName.toLowerCase() === 'a';\n    const isLink = elm => isAnchor(elm) && !!getHref(elm);\n    const collectNodesInRange = (rng, predicate) => {\n      if (rng.collapsed) {\n        return [];\n      } else {\n        const contents = rng.cloneContents();\n        const firstChild = contents.firstChild;\n        const walker = new global$3(firstChild, contents);\n        const elements = [];\n        let current = firstChild;\n        do {\n          if (predicate(current)) {\n            elements.push(current);\n          }\n        } while (current = walker.next());\n        return elements;\n      }\n    };\n    const hasProtocol = url => /^\\w+:/i.test(url);\n    const getHref = elm => {\n      var _a, _b;\n      return (_b = (_a = elm.getAttribute('data-mce-href')) !== null && _a !== void 0 ? _a : elm.getAttribute('href')) !== null && _b !== void 0 ? _b : '';\n    };\n    const applyRelTargetRules = (rel, isUnsafe) => {\n      const rules = ['noopener'];\n      const rels = rel ? rel.split(/\\s+/) : [];\n      const toString = rels => global$4.trim(rels.sort().join(' '));\n      const addTargetRules = rels => {\n        rels = removeTargetRules(rels);\n        return rels.length > 0 ? rels.concat(rules) : rules;\n      };\n      const removeTargetRules = rels => rels.filter(val => global$4.inArray(rules, val) === -1);\n      const newRels = isUnsafe ? addTargetRules(rels) : removeTargetRules(rels);\n      return newRels.length > 0 ? toString(newRels) : '';\n    };\n    const trimCaretContainers = text => text.replace(/\\uFEFF/g, '');\n    const getAnchorElement = (editor, selectedElm) => {\n      selectedElm = selectedElm || getLinksInSelection(editor.selection.getRng())[0] || editor.selection.getNode();\n      if (isImageFigure(selectedElm)) {\n        return Optional.from(editor.dom.select('a[href]', selectedElm)[0]);\n      } else {\n        return Optional.from(editor.dom.getParent(selectedElm, 'a[href]'));\n      }\n    };\n    const isInAnchor = (editor, selectedElm) => getAnchorElement(editor, selectedElm).isSome();\n    const getAnchorText = (selection, anchorElm) => {\n      const text = anchorElm.fold(() => selection.getContent({ format: 'text' }), anchorElm => anchorElm.innerText || anchorElm.textContent || '');\n      return trimCaretContainers(text);\n    };\n    const getLinksInSelection = rng => collectNodesInRange(rng, isLink);\n    const getLinks$1 = elements => global$4.grep(elements, isLink);\n    const hasLinks = elements => getLinks$1(elements).length > 0;\n    const hasLinksInSelection = rng => getLinksInSelection(rng).length > 0;\n    const isOnlyTextSelected = editor => {\n      const inlineTextElements = editor.schema.getTextInlineElements();\n      const isElement = elm => elm.nodeType === 1 && !isAnchor(elm) && !has(inlineTextElements, elm.nodeName.toLowerCase());\n      const isInBlockAnchor = getAnchorElement(editor).exists(anchor => anchor.hasAttribute('data-mce-block'));\n      if (isInBlockAnchor) {\n        return false;\n      }\n      const rng = editor.selection.getRng();\n      if (!rng.collapsed) {\n        const elements = collectNodesInRange(rng, isElement);\n        return elements.length === 0;\n      } else {\n        return true;\n      }\n    };\n    const isImageFigure = elm => isNonNullable(elm) && elm.nodeName === 'FIGURE' && /\\bimage\\b/i.test(elm.className);\n    const getLinkAttrs = data => {\n      const attrs = [\n        'title',\n        'rel',\n        'class',\n        'target'\n      ];\n      return foldl(attrs, (acc, key) => {\n        data[key].each(value => {\n          acc[key] = value.length > 0 ? value : null;\n        });\n        return acc;\n      }, { href: data.href });\n    };\n    const handleExternalTargets = (href, assumeExternalTargets) => {\n      if ((assumeExternalTargets === 'http' || assumeExternalTargets === 'https') && !hasProtocol(href)) {\n        return assumeExternalTargets + '://' + href;\n      }\n      return href;\n    };\n    const applyLinkOverrides = (editor, linkAttrs) => {\n      const newLinkAttrs = { ...linkAttrs };\n      if (getRelList(editor).length === 0 && !allowUnsafeLinkTarget(editor)) {\n        const newRel = applyRelTargetRules(newLinkAttrs.rel, newLinkAttrs.target === '_blank');\n        newLinkAttrs.rel = newRel ? newRel : null;\n      }\n      if (Optional.from(newLinkAttrs.target).isNone() && getTargetList(editor) === false) {\n        newLinkAttrs.target = getDefaultLinkTarget(editor);\n      }\n      newLinkAttrs.href = handleExternalTargets(newLinkAttrs.href, assumeExternalTargets(editor));\n      return newLinkAttrs;\n    };\n    const updateLink = (editor, anchorElm, text, linkAttrs) => {\n      text.each(text => {\n        if (has(anchorElm, 'innerText')) {\n          anchorElm.innerText = text;\n        } else {\n          anchorElm.textContent = text;\n        }\n      });\n      editor.dom.setAttribs(anchorElm, linkAttrs);\n      editor.selection.select(anchorElm);\n    };\n    const createLink = (editor, selectedElm, text, linkAttrs) => {\n      const dom = editor.dom;\n      if (isImageFigure(selectedElm)) {\n        linkImageFigure(dom, selectedElm, linkAttrs);\n      } else {\n        text.fold(() => {\n          editor.execCommand('mceInsertLink', false, linkAttrs);\n        }, text => {\n          editor.insertContent(dom.createHTML('a', linkAttrs, dom.encode(text)));\n        });\n      }\n    };\n    const linkDomMutation = (editor, attachState, data) => {\n      const selectedElm = editor.selection.getNode();\n      const anchorElm = getAnchorElement(editor, selectedElm);\n      const linkAttrs = applyLinkOverrides(editor, getLinkAttrs(data));\n      editor.undoManager.transact(() => {\n        if (data.href === attachState.href) {\n          attachState.attach();\n        }\n        anchorElm.fold(() => {\n          createLink(editor, selectedElm, data.text, linkAttrs);\n        }, elm => {\n          editor.focus();\n          updateLink(editor, elm, data.text, linkAttrs);\n        });\n      });\n    };\n    const unlinkSelection = editor => {\n      const dom = editor.dom, selection = editor.selection;\n      const bookmark = selection.getBookmark();\n      const rng = selection.getRng().cloneRange();\n      const startAnchorElm = dom.getParent(rng.startContainer, 'a[href]', editor.getBody());\n      const endAnchorElm = dom.getParent(rng.endContainer, 'a[href]', editor.getBody());\n      if (startAnchorElm) {\n        rng.setStartBefore(startAnchorElm);\n      }\n      if (endAnchorElm) {\n        rng.setEndAfter(endAnchorElm);\n      }\n      selection.setRng(rng);\n      editor.execCommand('unlink');\n      selection.moveToBookmark(bookmark);\n    };\n    const unlinkDomMutation = editor => {\n      editor.undoManager.transact(() => {\n        const node = editor.selection.getNode();\n        if (isImageFigure(node)) {\n          unlinkImageFigure(editor, node);\n        } else {\n          unlinkSelection(editor);\n        }\n        editor.focus();\n      });\n    };\n    const unwrapOptions = data => {\n      const {\n        class: cls,\n        href,\n        rel,\n        target,\n        text,\n        title\n      } = data;\n      return filter({\n        class: cls.getOrNull(),\n        href,\n        rel: rel.getOrNull(),\n        target: target.getOrNull(),\n        text: text.getOrNull(),\n        title: title.getOrNull()\n      }, (v, _k) => isNull(v) === false);\n    };\n    const sanitizeData = (editor, data) => {\n      const getOption = editor.options.get;\n      const uriOptions = {\n        allow_html_data_urls: getOption('allow_html_data_urls'),\n        allow_script_urls: getOption('allow_script_urls'),\n        allow_svg_data_urls: getOption('allow_svg_data_urls')\n      };\n      const href = data.href;\n      return {\n        ...data,\n        href: global$2.isDomSafe(href, 'a', uriOptions) ? href : ''\n      };\n    };\n    const link = (editor, attachState, data) => {\n      const sanitizedData = sanitizeData(editor, data);\n      editor.hasPlugin('rtc', true) ? editor.execCommand('createlink', false, unwrapOptions(sanitizedData)) : linkDomMutation(editor, attachState, sanitizedData);\n    };\n    const unlink = editor => {\n      editor.hasPlugin('rtc', true) ? editor.execCommand('unlink') : unlinkDomMutation(editor);\n    };\n    const unlinkImageFigure = (editor, fig) => {\n      var _a;\n      const img = editor.dom.select('img', fig)[0];\n      if (img) {\n        const a = editor.dom.getParents(img, 'a[href]', fig)[0];\n        if (a) {\n          (_a = a.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(img, a);\n          editor.dom.remove(a);\n        }\n      }\n    };\n    const linkImageFigure = (dom, fig, attrs) => {\n      var _a;\n      const img = dom.select('img', fig)[0];\n      if (img) {\n        const a = dom.create('a', attrs);\n        (_a = img.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(a, img);\n        a.appendChild(img);\n      }\n    };\n\n    const isListGroup = item => hasNonNullableKey(item, 'items');\n    const findTextByValue = (value, catalog) => findMap(catalog, item => {\n      if (isListGroup(item)) {\n        return findTextByValue(value, item.items);\n      } else {\n        return someIf(item.value === value, item);\n      }\n    });\n    const getDelta = (persistentText, fieldName, catalog, data) => {\n      const value = data[fieldName];\n      const hasPersistentText = persistentText.length > 0;\n      return value !== undefined ? findTextByValue(value, catalog).map(i => ({\n        url: {\n          value: i.value,\n          meta: {\n            text: hasPersistentText ? persistentText : i.text,\n            attach: noop\n          }\n        },\n        text: hasPersistentText ? persistentText : i.text\n      })) : Optional.none();\n    };\n    const findCatalog = (catalogs, fieldName) => {\n      if (fieldName === 'link') {\n        return catalogs.link;\n      } else if (fieldName === 'anchor') {\n        return catalogs.anchor;\n      } else {\n        return Optional.none();\n      }\n    };\n    const init = (initialData, linkCatalog) => {\n      const persistentData = {\n        text: initialData.text,\n        title: initialData.title\n      };\n      const getTitleFromUrlChange = url => {\n        var _a;\n        return someIf(persistentData.title.length <= 0, Optional.from((_a = url.meta) === null || _a === void 0 ? void 0 : _a.title).getOr(''));\n      };\n      const getTextFromUrlChange = url => {\n        var _a;\n        return someIf(persistentData.text.length <= 0, Optional.from((_a = url.meta) === null || _a === void 0 ? void 0 : _a.text).getOr(url.value));\n      };\n      const onUrlChange = data => {\n        const text = getTextFromUrlChange(data.url);\n        const title = getTitleFromUrlChange(data.url);\n        if (text.isSome() || title.isSome()) {\n          return Optional.some({\n            ...text.map(text => ({ text })).getOr({}),\n            ...title.map(title => ({ title })).getOr({})\n          });\n        } else {\n          return Optional.none();\n        }\n      };\n      const onCatalogChange = (data, change) => {\n        const catalog = findCatalog(linkCatalog, change).getOr([]);\n        return getDelta(persistentData.text, change, catalog, data);\n      };\n      const onChange = (getData, change) => {\n        const name = change.name;\n        if (name === 'url') {\n          return onUrlChange(getData());\n        } else if (contains([\n            'anchor',\n            'link'\n          ], name)) {\n          return onCatalogChange(getData(), name);\n        } else if (name === 'text' || name === 'title') {\n          persistentData[name] = getData()[name];\n          return Optional.none();\n        } else {\n          return Optional.none();\n        }\n      };\n      return { onChange };\n    };\n    const DialogChanges = {\n      init,\n      getDelta\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    const delayedConfirm = (editor, message, callback) => {\n      const rng = editor.selection.getRng();\n      global$1.setEditorTimeout(editor, () => {\n        editor.windowManager.confirm(message, state => {\n          editor.selection.setRng(rng);\n          callback(state);\n        });\n      });\n    };\n    const tryEmailTransform = data => {\n      const url = data.href;\n      const suggestMailTo = url.indexOf('@') > 0 && url.indexOf('/') === -1 && url.indexOf('mailto:') === -1;\n      return suggestMailTo ? Optional.some({\n        message: 'The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?',\n        preprocess: oldData => ({\n          ...oldData,\n          href: 'mailto:' + url\n        })\n      }) : Optional.none();\n    };\n    const tryProtocolTransform = (assumeExternalTargets, defaultLinkProtocol) => data => {\n      const url = data.href;\n      const suggestProtocol = assumeExternalTargets === 1 && !hasProtocol(url) || assumeExternalTargets === 0 && /^\\s*www(\\.|\\d\\.)/i.test(url);\n      return suggestProtocol ? Optional.some({\n        message: `The URL you entered seems to be an external link. Do you want to add the required ${ defaultLinkProtocol }:// prefix?`,\n        preprocess: oldData => ({\n          ...oldData,\n          href: defaultLinkProtocol + '://' + url\n        })\n      }) : Optional.none();\n    };\n    const preprocess = (editor, data) => findMap([\n      tryEmailTransform,\n      tryProtocolTransform(assumeExternalTargets(editor), getDefaultLinkProtocol(editor))\n    ], f => f(data)).fold(() => Promise.resolve(data), transform => new Promise(callback => {\n      delayedConfirm(editor, transform.message, state => {\n        callback(state ? transform.preprocess(data) : data);\n      });\n    }));\n    const DialogConfirms = { preprocess };\n\n    const getAnchors = editor => {\n      const anchorNodes = editor.dom.select('a:not([href])');\n      const anchors = bind(anchorNodes, anchor => {\n        const id = anchor.name || anchor.id;\n        return id ? [{\n            text: id,\n            value: '#' + id\n          }] : [];\n      });\n      return anchors.length > 0 ? Optional.some([{\n          text: 'None',\n          value: ''\n        }].concat(anchors)) : Optional.none();\n    };\n    const AnchorListOptions = { getAnchors };\n\n    const getClasses = editor => {\n      const list = getLinkClassList(editor);\n      if (list.length > 0) {\n        return ListOptions.sanitize(list);\n      }\n      return Optional.none();\n    };\n    const ClassListOptions = { getClasses };\n\n    const parseJson = text => {\n      try {\n        return Optional.some(JSON.parse(text));\n      } catch (err) {\n        return Optional.none();\n      }\n    };\n    const getLinks = editor => {\n      const extractor = item => editor.convertURL(item.value || item.url || '', 'href');\n      const linkList = getLinkList(editor);\n      return new Promise(resolve => {\n        if (isString(linkList)) {\n          fetch(linkList).then(res => res.ok ? res.text().then(parseJson) : Promise.reject()).then(resolve, () => resolve(Optional.none()));\n        } else if (isFunction(linkList)) {\n          linkList(output => resolve(Optional.some(output)));\n        } else {\n          resolve(Optional.from(linkList));\n        }\n      }).then(optItems => optItems.bind(ListOptions.sanitizeWith(extractor)).map(items => {\n        if (items.length > 0) {\n          const noneItem = [{\n              text: 'None',\n              value: ''\n            }];\n          return noneItem.concat(items);\n        } else {\n          return items;\n        }\n      }));\n    };\n    const LinkListOptions = { getLinks };\n\n    const getRels = (editor, initialTarget) => {\n      const list = getRelList(editor);\n      if (list.length > 0) {\n        const isTargetBlank = is(initialTarget, '_blank');\n        const enforceSafe = allowUnsafeLinkTarget(editor) === false;\n        const safeRelExtractor = item => applyRelTargetRules(ListOptions.getValue(item), isTargetBlank);\n        const sanitizer = enforceSafe ? ListOptions.sanitizeWith(safeRelExtractor) : ListOptions.sanitize;\n        return sanitizer(list);\n      }\n      return Optional.none();\n    };\n    const RelOptions = { getRels };\n\n    const fallbacks = [\n      {\n        text: 'Current window',\n        value: ''\n      },\n      {\n        text: 'New window',\n        value: '_blank'\n      }\n    ];\n    const getTargets = editor => {\n      const list = getTargetList(editor);\n      if (isArray(list)) {\n        return ListOptions.sanitize(list).orThunk(() => Optional.some(fallbacks));\n      } else if (list === false) {\n        return Optional.none();\n      }\n      return Optional.some(fallbacks);\n    };\n    const TargetOptions = { getTargets };\n\n    const nonEmptyAttr = (dom, elem, name) => {\n      const val = dom.getAttrib(elem, name);\n      return val !== null && val.length > 0 ? Optional.some(val) : Optional.none();\n    };\n    const extractFromAnchor = (editor, anchor) => {\n      const dom = editor.dom;\n      const onlyText = isOnlyTextSelected(editor);\n      const text = onlyText ? Optional.some(getAnchorText(editor.selection, anchor)) : Optional.none();\n      const url = anchor.bind(anchorElm => Optional.from(dom.getAttrib(anchorElm, 'href')));\n      const target = anchor.bind(anchorElm => Optional.from(dom.getAttrib(anchorElm, 'target')));\n      const rel = anchor.bind(anchorElm => nonEmptyAttr(dom, anchorElm, 'rel'));\n      const linkClass = anchor.bind(anchorElm => nonEmptyAttr(dom, anchorElm, 'class'));\n      const title = anchor.bind(anchorElm => nonEmptyAttr(dom, anchorElm, 'title'));\n      return {\n        url,\n        text,\n        title,\n        target,\n        rel,\n        linkClass\n      };\n    };\n    const collect = (editor, linkNode) => LinkListOptions.getLinks(editor).then(links => {\n      const anchor = extractFromAnchor(editor, linkNode);\n      return {\n        anchor,\n        catalogs: {\n          targets: TargetOptions.getTargets(editor),\n          rels: RelOptions.getRels(editor, anchor.target),\n          classes: ClassListOptions.getClasses(editor),\n          anchor: AnchorListOptions.getAnchors(editor),\n          link: links\n        },\n        optNode: linkNode,\n        flags: { titleEnabled: shouldShowLinkTitle(editor) }\n      };\n    });\n    const DialogInfo = { collect };\n\n    const handleSubmit = (editor, info) => api => {\n      const data = api.getData();\n      if (!data.url.value) {\n        unlink(editor);\n        api.close();\n        return;\n      }\n      const getChangedValue = key => Optional.from(data[key]).filter(value => !is(info.anchor[key], value));\n      const changedData = {\n        href: data.url.value,\n        text: getChangedValue('text'),\n        target: getChangedValue('target'),\n        rel: getChangedValue('rel'),\n        class: getChangedValue('linkClass'),\n        title: getChangedValue('title')\n      };\n      const attachState = {\n        href: data.url.value,\n        attach: data.url.meta !== undefined && data.url.meta.attach ? data.url.meta.attach : noop\n      };\n      DialogConfirms.preprocess(editor, changedData).then(pData => {\n        link(editor, attachState, pData);\n      });\n      api.close();\n    };\n    const collectData = editor => {\n      const anchorNode = getAnchorElement(editor);\n      return DialogInfo.collect(editor, anchorNode);\n    };\n    const getInitialData = (info, defaultTarget) => {\n      const anchor = info.anchor;\n      const url = anchor.url.getOr('');\n      return {\n        url: {\n          value: url,\n          meta: { original: { value: url } }\n        },\n        text: anchor.text.getOr(''),\n        title: anchor.title.getOr(''),\n        anchor: url,\n        link: url,\n        rel: anchor.rel.getOr(''),\n        target: anchor.target.or(defaultTarget).getOr(''),\n        linkClass: anchor.linkClass.getOr('')\n      };\n    };\n    const makeDialog = (settings, onSubmit, editor) => {\n      const urlInput = [{\n          name: 'url',\n          type: 'urlinput',\n          filetype: 'file',\n          label: 'URL'\n        }];\n      const displayText = settings.anchor.text.map(() => ({\n        name: 'text',\n        type: 'input',\n        label: 'Text to display'\n      })).toArray();\n      const titleText = settings.flags.titleEnabled ? [{\n          name: 'title',\n          type: 'input',\n          label: 'Title'\n        }] : [];\n      const defaultTarget = Optional.from(getDefaultLinkTarget(editor));\n      const initialData = getInitialData(settings, defaultTarget);\n      const catalogs = settings.catalogs;\n      const dialogDelta = DialogChanges.init(initialData, catalogs);\n      const body = {\n        type: 'panel',\n        items: flatten([\n          urlInput,\n          displayText,\n          titleText,\n          cat([\n            catalogs.anchor.map(ListOptions.createUi('anchor', 'Anchors')),\n            catalogs.rels.map(ListOptions.createUi('rel', 'Rel')),\n            catalogs.targets.map(ListOptions.createUi('target', 'Open link in...')),\n            catalogs.link.map(ListOptions.createUi('link', 'Link list')),\n            catalogs.classes.map(ListOptions.createUi('linkClass', 'Class'))\n          ])\n        ])\n      };\n      return {\n        title: 'Insert/Edit Link',\n        size: 'normal',\n        body,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData,\n        onChange: (api, {name}) => {\n          dialogDelta.onChange(api.getData, { name }).each(newData => {\n            api.setData(newData);\n          });\n        },\n        onSubmit\n      };\n    };\n    const open$1 = editor => {\n      const data = collectData(editor);\n      data.then(info => {\n        const onSubmit = handleSubmit(editor, info);\n        return makeDialog(info, onSubmit, editor);\n      }).then(spec => {\n        editor.windowManager.open(spec);\n      });\n    };\n\n    const register = editor => {\n      editor.addCommand('mceLink', (_ui, value) => {\n        if ((value === null || value === void 0 ? void 0 : value.dialog) === true || !useQuickLink(editor)) {\n          open$1(editor);\n        } else {\n          editor.dispatch('contexttoolbar-show', { toolbarKey: 'quicklink' });\n        }\n      });\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    const appendClickRemove = (link, evt) => {\n      document.body.appendChild(link);\n      link.dispatchEvent(evt);\n      document.body.removeChild(link);\n    };\n    const open = url => {\n      const link = document.createElement('a');\n      link.target = '_blank';\n      link.href = url;\n      link.rel = 'noreferrer noopener';\n      const evt = document.createEvent('MouseEvents');\n      evt.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n      appendClickRemove(link, evt);\n    };\n\n    const getLink = (editor, elm) => editor.dom.getParent(elm, 'a[href]');\n    const getSelectedLink = editor => getLink(editor, editor.selection.getStart());\n    const hasOnlyAltModifier = e => {\n      return e.altKey === true && e.shiftKey === false && e.ctrlKey === false && e.metaKey === false;\n    };\n    const gotoLink = (editor, a) => {\n      if (a) {\n        const href = getHref(a);\n        if (/^#/.test(href)) {\n          const targetEl = editor.dom.select(href);\n          if (targetEl.length) {\n            editor.selection.scrollIntoView(targetEl[0], true);\n          }\n        } else {\n          open(a.href);\n        }\n      }\n    };\n    const openDialog = editor => () => {\n      editor.execCommand('mceLink', false, { dialog: true });\n    };\n    const gotoSelectedLink = editor => () => {\n      gotoLink(editor, getSelectedLink(editor));\n    };\n    const setupGotoLinks = editor => {\n      editor.on('click', e => {\n        const link = getLink(editor, e.target);\n        if (link && global.metaKeyPressed(e)) {\n          e.preventDefault();\n          gotoLink(editor, link);\n        }\n      });\n      editor.on('keydown', e => {\n        if (!e.isDefaultPrevented() && e.keyCode === 13 && hasOnlyAltModifier(e)) {\n          const link = getSelectedLink(editor);\n          if (link) {\n            e.preventDefault();\n            gotoLink(editor, link);\n          }\n        }\n      });\n    };\n    const toggleState = (editor, toggler) => {\n      editor.on('NodeChange', toggler);\n      return () => editor.off('NodeChange', toggler);\n    };\n    const toggleActiveState = editor => api => {\n      const updateState = () => api.setActive(!editor.mode.isReadOnly() && isInAnchor(editor, editor.selection.getNode()));\n      updateState();\n      return toggleState(editor, updateState);\n    };\n    const hasExactlyOneLinkInSelection = editor => {\n      const links = editor.selection.isCollapsed() ? getLinks$1(editor.dom.getParents(editor.selection.getStart())) : getLinksInSelection(editor.selection.getRng());\n      return links.length === 1;\n    };\n    const toggleEnabledState = editor => api => {\n      const updateState = () => api.setEnabled(hasExactlyOneLinkInSelection(editor));\n      updateState();\n      return toggleState(editor, updateState);\n    };\n    const toggleUnlinkState = editor => api => {\n      const hasLinks$1 = parents => hasLinks(parents) || hasLinksInSelection(editor.selection.getRng());\n      const parents = editor.dom.getParents(editor.selection.getStart());\n      api.setEnabled(hasLinks$1(parents));\n      return toggleState(editor, e => api.setEnabled(hasLinks$1(e.parents)));\n    };\n\n    const setup = editor => {\n      editor.addShortcut('Meta+K', '', () => {\n        editor.execCommand('mceLink');\n      });\n    };\n\n    const setupButtons = editor => {\n      editor.ui.registry.addToggleButton('link', {\n        icon: 'link',\n        tooltip: 'Insert/edit link',\n        onAction: openDialog(editor),\n        onSetup: toggleActiveState(editor)\n      });\n      editor.ui.registry.addButton('openlink', {\n        icon: 'new-tab',\n        tooltip: 'Open link',\n        onAction: gotoSelectedLink(editor),\n        onSetup: toggleEnabledState(editor)\n      });\n      editor.ui.registry.addButton('unlink', {\n        icon: 'unlink',\n        tooltip: 'Remove link',\n        onAction: () => unlink(editor),\n        onSetup: toggleUnlinkState(editor)\n      });\n    };\n    const setupMenuItems = editor => {\n      editor.ui.registry.addMenuItem('openlink', {\n        text: 'Open link',\n        icon: 'new-tab',\n        onAction: gotoSelectedLink(editor),\n        onSetup: toggleEnabledState(editor)\n      });\n      editor.ui.registry.addMenuItem('link', {\n        icon: 'link',\n        text: 'Link...',\n        shortcut: 'Meta+K',\n        onAction: openDialog(editor)\n      });\n      editor.ui.registry.addMenuItem('unlink', {\n        icon: 'unlink',\n        text: 'Remove link',\n        onAction: () => unlink(editor),\n        onSetup: toggleUnlinkState(editor)\n      });\n    };\n    const setupContextMenu = editor => {\n      const inLink = 'link unlink openlink';\n      const noLink = 'link';\n      editor.ui.registry.addContextMenu('link', {\n        update: element => {\n          const isEditable = editor.dom.isEditable(element);\n          if (!isEditable) {\n            return '';\n          }\n          return hasLinks(editor.dom.getParents(element, 'a')) ? inLink : noLink;\n        }\n      });\n    };\n    const setupContextToolbars = editor => {\n      const collapseSelectionToEnd = editor => {\n        editor.selection.collapse(false);\n      };\n      const onSetupLink = buttonApi => {\n        const node = editor.selection.getNode();\n        buttonApi.setEnabled(isInAnchor(editor, node));\n        return noop;\n      };\n      const getLinkText = value => {\n        const anchor = getAnchorElement(editor);\n        const onlyText = isOnlyTextSelected(editor);\n        if (anchor.isNone() && onlyText) {\n          const text = getAnchorText(editor.selection, anchor);\n          return someIf(text.length === 0, value);\n        } else {\n          return Optional.none();\n        }\n      };\n      editor.ui.registry.addContextForm('quicklink', {\n        launch: {\n          type: 'contextformtogglebutton',\n          icon: 'link',\n          tooltip: 'Link',\n          onSetup: toggleActiveState(editor)\n        },\n        label: 'Link',\n        predicate: node => hasContextToolbar(editor) && isInAnchor(editor, node),\n        initValue: () => {\n          const elm = getAnchorElement(editor);\n          return elm.fold(constant(''), getHref);\n        },\n        commands: [\n          {\n            type: 'contextformtogglebutton',\n            icon: 'link',\n            tooltip: 'Link',\n            primary: true,\n            onSetup: buttonApi => {\n              const node = editor.selection.getNode();\n              buttonApi.setActive(isInAnchor(editor, node));\n              return toggleActiveState(editor)(buttonApi);\n            },\n            onAction: formApi => {\n              const value = formApi.getValue();\n              const text = getLinkText(value);\n              const attachState = {\n                href: value,\n                attach: noop\n              };\n              link(editor, attachState, {\n                href: value,\n                text,\n                title: Optional.none(),\n                rel: Optional.none(),\n                target: Optional.none(),\n                class: Optional.none()\n              });\n              collapseSelectionToEnd(editor);\n              formApi.hide();\n            }\n          },\n          {\n            type: 'contextformbutton',\n            icon: 'unlink',\n            tooltip: 'Remove link',\n            onSetup: onSetupLink,\n            onAction: formApi => {\n              unlink(editor);\n              formApi.hide();\n            }\n          },\n          {\n            type: 'contextformbutton',\n            icon: 'new-tab',\n            tooltip: 'Open link',\n            onSetup: onSetupLink,\n            onAction: formApi => {\n              gotoSelectedLink(editor)();\n              formApi.hide();\n            }\n          }\n        ]\n      });\n    };\n\n    var Plugin = () => {\n      global$5.add('link', editor => {\n        register$1(editor);\n        setupButtons(editor);\n        setupMenuItems(editor);\n        setupContextMenu(editor);\n        setupContextToolbars(editor);\n        setupGotoLinks(editor);\n        register(editor);\n        setup(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"lists\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/lists')\n//   ES2015:\n//     import 'tinymce/plugins/lists'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.4.1 (2023-03-29)\n */\n\n(function () {\n    'use strict';\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isArray = isType$1('array');\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n\n    const noop = () => {\n    };\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    const not = f => t => !f(t);\n    const never = constant(false);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains$1 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const map = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const filter$1 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const groupBy = (xs, f) => {\n      if (xs.length === 0) {\n        return [];\n      } else {\n        let wasType = f(xs[0]);\n        const r = [];\n        let group = [];\n        for (let i = 0, len = xs.length; i < len; i++) {\n          const x = xs[i];\n          const type = f(x);\n          if (type !== wasType) {\n            r.push(group);\n            group = [];\n          }\n          wasType = type;\n          group.push(x);\n        }\n        if (group.length !== 0) {\n          r.push(group);\n        }\n        return r;\n      }\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind = (xs, f) => flatten(map(xs, f));\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const get$1 = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$1(xs, 0);\n    const last = xs => get$1(xs, xs.length - 1);\n    const unique = (xs, comparator) => {\n      const r = [];\n      const isDuplicated = isFunction(comparator) ? x => exists(r, i => comparator(i, x)) : x => contains$1(r, x);\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (!isDuplicated(x)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n\n    const is$2 = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const equals = (lhs, rhs, comparator = tripleEquals) => lift2(lhs, rhs, comparator).getOr(lhs.isNone() && rhs.isNone());\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n\n    const ELEMENT = 1;\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom$1(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom$1(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom$1(node);\n    };\n    const fromDom$1 = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$1);\n    const SugarElement = {\n      fromHtml,\n      fromTag,\n      fromText,\n      fromDom: fromDom$1,\n      fromPoint\n    };\n\n    const is$1 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const contains = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    const is = is$1;\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type = element => element.dom.nodeType;\n    const isType = t => element => type(element) === t;\n    const isElement$1 = isType(ELEMENT);\n    const isTag = tag => e => isElement$1(e) && name(e) === tag;\n\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children = element => map(element.dom.childNodes, SugarElement.fromDom);\n    const child = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child(element, 0);\n    const lastChild = element => child(element, element.dom.childNodes.length - 1);\n\n    const ancestor = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor, scope, predicate, isRoot);\n    };\n\n    const before$1 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before$1(v, element);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n\n    const before = (marker, elements) => {\n      each$1(elements, x => {\n        before$1(marker, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each$1(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$1(children(element), rogue => {\n        remove(rogue);\n      });\n    };\n    const remove = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    const fromDom = nodes => map(nodes, SugarElement.fromDom);\n\n    const keys = Object.keys;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const setAll = (element, attrs) => {\n      const dom = element.dom;\n      each(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const clone$1 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const clone = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const deep = original => clone(original, true);\n    const shallowAs = (original, tag) => {\n      const nu = SugarElement.fromTag(tag);\n      const attributes = clone$1(original);\n      setAll(nu, attributes);\n      return nu;\n    };\n    const mutate = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      after(original, nu);\n      const children$1 = children(original);\n      append(nu, children$1);\n      remove(original);\n      return nu;\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const matchNodeName = name => node => isNonNullable(node) && node.nodeName.toLowerCase() === name;\n    const matchNodeNames = regex => node => isNonNullable(node) && regex.test(node.nodeName);\n    const isTextNode$1 = node => isNonNullable(node) && node.nodeType === 3;\n    const isElement = node => isNonNullable(node) && node.nodeType === 1;\n    const isListNode = matchNodeNames(/^(OL|UL|DL)$/);\n    const isOlUlNode = matchNodeNames(/^(OL|UL)$/);\n    const isOlNode = matchNodeName('ol');\n    const isListItemNode = matchNodeNames(/^(LI|DT|DD)$/);\n    const isDlItemNode = matchNodeNames(/^(DT|DD)$/);\n    const isTableCellNode = matchNodeNames(/^(TH|TD)$/);\n    const isBr = matchNodeName('br');\n    const isFirstChild = node => {\n      var _a;\n      return ((_a = node.parentNode) === null || _a === void 0 ? void 0 : _a.firstChild) === node;\n    };\n    const isTextBlock = (editor, node) => isNonNullable(node) && node.nodeName in editor.schema.getTextBlockElements();\n    const isBlock = (node, blockElements) => isNonNullable(node) && node.nodeName in blockElements;\n    const isVoid = (editor, node) => isNonNullable(node) && node.nodeName in editor.schema.getVoidElements();\n    const isBogusBr = (dom, node) => {\n      if (!isBr(node)) {\n        return false;\n      }\n      return dom.isBlock(node.nextSibling) && !isBr(node.previousSibling);\n    };\n    const isEmpty$2 = (dom, elm, keepBookmarks) => {\n      const empty = dom.isEmpty(elm);\n      if (keepBookmarks && dom.select('span[data-mce-type=bookmark]', elm).length > 0) {\n        return false;\n      }\n      return empty;\n    };\n    const isChildOfBody = (dom, elm) => dom.isChildOf(elm, dom.getRoot());\n\n    const option = name => editor => editor.options.get(name);\n    const register$3 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('lists_indent_on_tab', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const shouldIndentOnTab = option('lists_indent_on_tab');\n    const getForcedRootBlock = option('forced_root_block');\n    const getForcedRootBlockAttrs = option('forced_root_block_attrs');\n\n    const createTextBlock = (editor, contentNode) => {\n      const dom = editor.dom;\n      const blockElements = editor.schema.getBlockElements();\n      const fragment = dom.createFragment();\n      const blockName = getForcedRootBlock(editor);\n      const blockAttrs = getForcedRootBlockAttrs(editor);\n      let node;\n      let textBlock;\n      let hasContentNode = false;\n      textBlock = dom.create(blockName, blockAttrs);\n      if (!isBlock(contentNode.firstChild, blockElements)) {\n        fragment.appendChild(textBlock);\n      }\n      while (node = contentNode.firstChild) {\n        const nodeName = node.nodeName;\n        if (!hasContentNode && (nodeName !== 'SPAN' || node.getAttribute('data-mce-type') !== 'bookmark')) {\n          hasContentNode = true;\n        }\n        if (isBlock(node, blockElements)) {\n          fragment.appendChild(node);\n          textBlock = null;\n        } else {\n          if (!textBlock) {\n            textBlock = dom.create(blockName, blockAttrs);\n            fragment.appendChild(textBlock);\n          }\n          textBlock.appendChild(node);\n        }\n      }\n      if (!hasContentNode && textBlock) {\n        textBlock.appendChild(dom.create('br', { 'data-mce-bogus': '1' }));\n      }\n      return fragment;\n    };\n\n    const DOM$2 = global$3.DOM;\n    const splitList = (editor, list, li) => {\n      const removeAndKeepBookmarks = targetNode => {\n        const parent = targetNode.parentNode;\n        if (parent) {\n          global$2.each(bookmarks, node => {\n            parent.insertBefore(node, li.parentNode);\n          });\n        }\n        DOM$2.remove(targetNode);\n      };\n      const bookmarks = DOM$2.select('span[data-mce-type=\"bookmark\"]', list);\n      const newBlock = createTextBlock(editor, li);\n      const tmpRng = DOM$2.createRng();\n      tmpRng.setStartAfter(li);\n      tmpRng.setEndAfter(list);\n      const fragment = tmpRng.extractContents();\n      for (let node = fragment.firstChild; node; node = node.firstChild) {\n        if (node.nodeName === 'LI' && editor.dom.isEmpty(node)) {\n          DOM$2.remove(node);\n          break;\n        }\n      }\n      if (!editor.dom.isEmpty(fragment)) {\n        DOM$2.insertAfter(fragment, list);\n      }\n      DOM$2.insertAfter(newBlock, list);\n      const parent = li.parentElement;\n      if (parent && isEmpty$2(editor.dom, parent)) {\n        removeAndKeepBookmarks(parent);\n      }\n      DOM$2.remove(li);\n      if (isEmpty$2(editor.dom, list)) {\n        DOM$2.remove(list);\n      }\n    };\n\n    const isDescriptionDetail = isTag('dd');\n    const isDescriptionTerm = isTag('dt');\n    const outdentDlItem = (editor, item) => {\n      if (isDescriptionDetail(item)) {\n        mutate(item, 'dt');\n      } else if (isDescriptionTerm(item)) {\n        parentElement(item).each(dl => splitList(editor, dl.dom, item.dom));\n      }\n    };\n    const indentDlItem = item => {\n      if (isDescriptionTerm(item)) {\n        mutate(item, 'dd');\n      }\n    };\n    const dlIndentation = (editor, indentation, dlItems) => {\n      if (indentation === 'Indent') {\n        each$1(dlItems, indentDlItem);\n      } else {\n        each$1(dlItems, item => outdentDlItem(editor, item));\n      }\n    };\n\n    const getNormalizedPoint = (container, offset) => {\n      if (isTextNode$1(container)) {\n        return {\n          container,\n          offset\n        };\n      }\n      const node = global$6.getNode(container, offset);\n      if (isTextNode$1(node)) {\n        return {\n          container: node,\n          offset: offset >= container.childNodes.length ? node.data.length : 0\n        };\n      } else if (node.previousSibling && isTextNode$1(node.previousSibling)) {\n        return {\n          container: node.previousSibling,\n          offset: node.previousSibling.data.length\n        };\n      } else if (node.nextSibling && isTextNode$1(node.nextSibling)) {\n        return {\n          container: node.nextSibling,\n          offset: 0\n        };\n      }\n      return {\n        container,\n        offset\n      };\n    };\n    const normalizeRange = rng => {\n      const outRng = rng.cloneRange();\n      const rangeStart = getNormalizedPoint(rng.startContainer, rng.startOffset);\n      outRng.setStart(rangeStart.container, rangeStart.offset);\n      const rangeEnd = getNormalizedPoint(rng.endContainer, rng.endOffset);\n      outRng.setEnd(rangeEnd.container, rangeEnd.offset);\n      return outRng;\n    };\n\n    const listNames = [\n      'OL',\n      'UL',\n      'DL'\n    ];\n    const listSelector = listNames.join(',');\n    const getParentList = (editor, node) => {\n      const selectionStart = node || editor.selection.getStart(true);\n      return editor.dom.getParent(selectionStart, listSelector, getClosestListHost(editor, selectionStart));\n    };\n    const isParentListSelected = (parentList, selectedBlocks) => isNonNullable(parentList) && selectedBlocks.length === 1 && selectedBlocks[0] === parentList;\n    const findSubLists = parentList => filter$1(parentList.querySelectorAll(listSelector), isListNode);\n    const getSelectedSubLists = editor => {\n      const parentList = getParentList(editor);\n      const selectedBlocks = editor.selection.getSelectedBlocks();\n      if (isParentListSelected(parentList, selectedBlocks)) {\n        return findSubLists(parentList);\n      } else {\n        return filter$1(selectedBlocks, elm => {\n          return isListNode(elm) && parentList !== elm;\n        });\n      }\n    };\n    const findParentListItemsNodes = (editor, elms) => {\n      const listItemsElms = global$2.map(elms, elm => {\n        const parentLi = editor.dom.getParent(elm, 'li,dd,dt', getClosestListHost(editor, elm));\n        return parentLi ? parentLi : elm;\n      });\n      return unique(listItemsElms);\n    };\n    const getSelectedListItems = editor => {\n      const selectedBlocks = editor.selection.getSelectedBlocks();\n      return filter$1(findParentListItemsNodes(editor, selectedBlocks), isListItemNode);\n    };\n    const getSelectedDlItems = editor => filter$1(getSelectedListItems(editor), isDlItemNode);\n    const getClosestEditingHost = (editor, elm) => {\n      const parentTableCell = editor.dom.getParents(elm, 'TD,TH');\n      return parentTableCell.length > 0 ? parentTableCell[0] : editor.getBody();\n    };\n    const isListHost = (schema, node) => !isListNode(node) && !isListItemNode(node) && exists(listNames, listName => schema.isValidChild(node.nodeName, listName));\n    const getClosestListHost = (editor, elm) => {\n      const parentBlocks = editor.dom.getParents(elm, editor.dom.isBlock);\n      const parentBlock = find(parentBlocks, elm => isListHost(editor.schema, elm));\n      return parentBlock.getOr(editor.getBody());\n    };\n    const findLastParentListNode = (editor, elm) => {\n      const parentLists = editor.dom.getParents(elm, 'ol,ul', getClosestListHost(editor, elm));\n      return last(parentLists);\n    };\n    const getSelectedLists = editor => {\n      const firstList = findLastParentListNode(editor, editor.selection.getStart());\n      const subsequentLists = filter$1(editor.selection.getSelectedBlocks(), isOlUlNode);\n      return firstList.toArray().concat(subsequentLists);\n    };\n    const getSelectedListRoots = editor => {\n      const selectedLists = getSelectedLists(editor);\n      return getUniqueListRoots(editor, selectedLists);\n    };\n    const getUniqueListRoots = (editor, lists) => {\n      const listRoots = map(lists, list => findLastParentListNode(editor, list).getOr(list));\n      return unique(listRoots);\n    };\n\n    const isCustomList = list => /\\btox\\-/.test(list.className);\n    const inList = (parents, listName) => findUntil(parents, isListNode, isTableCellNode).exists(list => list.nodeName === listName && !isCustomList(list));\n    const isWithinNonEditable = (editor, element) => element !== null && !editor.dom.isEditable(element);\n    const selectionIsWithinNonEditableList = editor => {\n      const parentList = getParentList(editor);\n      return isWithinNonEditable(editor, parentList);\n    };\n    const isWithinNonEditableList = (editor, element) => {\n      const parentList = editor.dom.getParent(element, 'ol,ul,dl');\n      return isWithinNonEditable(editor, parentList);\n    };\n    const hasNonEditableBlocksSelected = editor => exists(editor.selection.getSelectedBlocks(), not(editor.dom.isEditable));\n    const setNodeChangeHandler = (editor, nodeChangeHandler) => {\n      const initialNode = editor.selection.getNode();\n      nodeChangeHandler({\n        parents: editor.dom.getParents(initialNode),\n        element: initialNode\n      });\n      editor.on('NodeChange', nodeChangeHandler);\n      return () => editor.off('NodeChange', nodeChangeHandler);\n    };\n\n    const fromElements = (elements, scope) => {\n      const doc = scope || document;\n      const fragment = doc.createDocumentFragment();\n      each$1(elements, element => {\n        fragment.appendChild(element.dom);\n      });\n      return SugarElement.fromDom(fragment);\n    };\n\n    const fireListEvent = (editor, action, element) => editor.dispatch('ListMutation', {\n      action,\n      element\n    });\n\n    const blank = r => s => s.replace(r, '');\n    const trim = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty$1 = s => !isNotEmpty(s);\n\n    const isSupported = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const set = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n\n    const joinSegment = (parent, child) => {\n      append$1(parent.item, child.list);\n    };\n    const joinSegments = segments => {\n      for (let i = 1; i < segments.length; i++) {\n        joinSegment(segments[i - 1], segments[i]);\n      }\n    };\n    const appendSegments = (head$1, tail) => {\n      lift2(last(head$1), head(tail), joinSegment);\n    };\n    const createSegment = (scope, listType) => {\n      const segment = {\n        list: SugarElement.fromTag(listType, scope),\n        item: SugarElement.fromTag('li', scope)\n      };\n      append$1(segment.list, segment.item);\n      return segment;\n    };\n    const createSegments = (scope, entry, size) => {\n      const segments = [];\n      for (let i = 0; i < size; i++) {\n        segments.push(createSegment(scope, entry.listType));\n      }\n      return segments;\n    };\n    const populateSegments = (segments, entry) => {\n      for (let i = 0; i < segments.length - 1; i++) {\n        set(segments[i].item, 'list-style-type', 'none');\n      }\n      last(segments).each(segment => {\n        setAll(segment.list, entry.listAttributes);\n        setAll(segment.item, entry.itemAttributes);\n        append(segment.item, entry.content);\n      });\n    };\n    const normalizeSegment = (segment, entry) => {\n      if (name(segment.list) !== entry.listType) {\n        segment.list = mutate(segment.list, entry.listType);\n      }\n      setAll(segment.list, entry.listAttributes);\n    };\n    const createItem = (scope, attr, content) => {\n      const item = SugarElement.fromTag('li', scope);\n      setAll(item, attr);\n      append(item, content);\n      return item;\n    };\n    const appendItem = (segment, item) => {\n      append$1(segment.list, item);\n      segment.item = item;\n    };\n    const writeShallow = (scope, cast, entry) => {\n      const newCast = cast.slice(0, entry.depth);\n      last(newCast).each(segment => {\n        const item = createItem(scope, entry.itemAttributes, entry.content);\n        appendItem(segment, item);\n        normalizeSegment(segment, entry);\n      });\n      return newCast;\n    };\n    const writeDeep = (scope, cast, entry) => {\n      const segments = createSegments(scope, entry, entry.depth - cast.length);\n      joinSegments(segments);\n      populateSegments(segments, entry);\n      appendSegments(cast, segments);\n      return cast.concat(segments);\n    };\n    const composeList = (scope, entries) => {\n      const cast = foldl(entries, (cast, entry) => {\n        return entry.depth > cast.length ? writeDeep(scope, cast, entry) : writeShallow(scope, cast, entry);\n      }, []);\n      return head(cast).map(segment => segment.list);\n    };\n\n    const isList = el => is(el, 'OL,UL');\n    const hasFirstChildList = el => firstChild(el).exists(isList);\n    const hasLastChildList = el => lastChild(el).exists(isList);\n\n    const isIndented = entry => entry.depth > 0;\n    const isSelected = entry => entry.isSelected;\n    const cloneItemContent = li => {\n      const children$1 = children(li);\n      const content = hasLastChildList(li) ? children$1.slice(0, -1) : children$1;\n      return map(content, deep);\n    };\n    const createEntry = (li, depth, isSelected) => parent(li).filter(isElement$1).map(list => ({\n      depth,\n      dirty: false,\n      isSelected,\n      content: cloneItemContent(li),\n      itemAttributes: clone$1(li),\n      listAttributes: clone$1(list),\n      listType: name(list)\n    }));\n\n    const indentEntry = (indentation, entry) => {\n      switch (indentation) {\n      case 'Indent':\n        entry.depth++;\n        break;\n      case 'Outdent':\n        entry.depth--;\n        break;\n      case 'Flatten':\n        entry.depth = 0;\n      }\n      entry.dirty = true;\n    };\n\n    const cloneListProperties = (target, source) => {\n      target.listType = source.listType;\n      target.listAttributes = { ...source.listAttributes };\n    };\n    const cleanListProperties = entry => {\n      entry.listAttributes = filter(entry.listAttributes, (_value, key) => key !== 'start');\n    };\n    const closestSiblingEntry = (entries, start) => {\n      const depth = entries[start].depth;\n      const matches = entry => entry.depth === depth && !entry.dirty;\n      const until = entry => entry.depth < depth;\n      return findUntil(reverse(entries.slice(0, start)), matches, until).orThunk(() => findUntil(entries.slice(start + 1), matches, until));\n    };\n    const normalizeEntries = entries => {\n      each$1(entries, (entry, i) => {\n        closestSiblingEntry(entries, i).fold(() => {\n          if (entry.dirty) {\n            cleanListProperties(entry);\n          }\n        }, matchingEntry => cloneListProperties(entry, matchingEntry));\n      });\n      return entries;\n    };\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const parseItem = (depth, itemSelection, selectionState, item) => firstChild(item).filter(isList).fold(() => {\n      itemSelection.each(selection => {\n        if (eq(selection.start, item)) {\n          selectionState.set(true);\n        }\n      });\n      const currentItemEntry = createEntry(item, depth, selectionState.get());\n      itemSelection.each(selection => {\n        if (eq(selection.end, item)) {\n          selectionState.set(false);\n        }\n      });\n      const childListEntries = lastChild(item).filter(isList).map(list => parseList(depth, itemSelection, selectionState, list)).getOr([]);\n      return currentItemEntry.toArray().concat(childListEntries);\n    }, list => parseList(depth, itemSelection, selectionState, list));\n    const parseList = (depth, itemSelection, selectionState, list) => bind(children(list), element => {\n      const parser = isList(element) ? parseList : parseItem;\n      const newDepth = depth + 1;\n      return parser(newDepth, itemSelection, selectionState, element);\n    });\n    const parseLists = (lists, itemSelection) => {\n      const selectionState = Cell(false);\n      const initialDepth = 0;\n      return map(lists, list => ({\n        sourceList: list,\n        entries: parseList(initialDepth, itemSelection, selectionState, list)\n      }));\n    };\n\n    const outdentedComposer = (editor, entries) => {\n      const normalizedEntries = normalizeEntries(entries);\n      return map(normalizedEntries, entry => {\n        const content = fromElements(entry.content);\n        return SugarElement.fromDom(createTextBlock(editor, content.dom));\n      });\n    };\n    const indentedComposer = (editor, entries) => {\n      const normalizedEntries = normalizeEntries(entries);\n      return composeList(editor.contentDocument, normalizedEntries).toArray();\n    };\n    const composeEntries = (editor, entries) => bind(groupBy(entries, isIndented), entries => {\n      const groupIsIndented = head(entries).exists(isIndented);\n      return groupIsIndented ? indentedComposer(editor, entries) : outdentedComposer(editor, entries);\n    });\n    const indentSelectedEntries = (entries, indentation) => {\n      each$1(filter$1(entries, isSelected), entry => indentEntry(indentation, entry));\n    };\n    const getItemSelection = editor => {\n      const selectedListItems = map(getSelectedListItems(editor), SugarElement.fromDom);\n      return lift2(find(selectedListItems, not(hasFirstChildList)), find(reverse(selectedListItems), not(hasFirstChildList)), (start, end) => ({\n        start,\n        end\n      }));\n    };\n    const listIndentation = (editor, lists, indentation) => {\n      const entrySets = parseLists(lists, getItemSelection(editor));\n      each$1(entrySets, entrySet => {\n        indentSelectedEntries(entrySet.entries, indentation);\n        const composedLists = composeEntries(editor, entrySet.entries);\n        each$1(composedLists, composedList => {\n          fireListEvent(editor, indentation === 'Indent' ? 'IndentList' : 'OutdentList', composedList.dom);\n        });\n        before(entrySet.sourceList, composedLists);\n        remove(entrySet.sourceList);\n      });\n    };\n\n    const selectionIndentation = (editor, indentation) => {\n      const lists = fromDom(getSelectedListRoots(editor));\n      const dlItems = fromDom(getSelectedDlItems(editor));\n      let isHandled = false;\n      if (lists.length || dlItems.length) {\n        const bookmark = editor.selection.getBookmark();\n        listIndentation(editor, lists, indentation);\n        dlIndentation(editor, indentation, dlItems);\n        editor.selection.moveToBookmark(bookmark);\n        editor.selection.setRng(normalizeRange(editor.selection.getRng()));\n        editor.nodeChanged();\n        isHandled = true;\n      }\n      return isHandled;\n    };\n    const handleIndentation = (editor, indentation) => !selectionIsWithinNonEditableList(editor) && selectionIndentation(editor, indentation);\n    const indentListSelection = editor => handleIndentation(editor, 'Indent');\n    const outdentListSelection = editor => handleIndentation(editor, 'Outdent');\n    const flattenListSelection = editor => handleIndentation(editor, 'Flatten');\n\n    const zeroWidth = '\\uFEFF';\n    const isZwsp = char => char === zeroWidth;\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.BookmarkManager');\n\n    const DOM$1 = global$3.DOM;\n    const createBookmark = rng => {\n      const bookmark = {};\n      const setupEndPoint = start => {\n        let container = rng[start ? 'startContainer' : 'endContainer'];\n        let offset = rng[start ? 'startOffset' : 'endOffset'];\n        if (isElement(container)) {\n          const offsetNode = DOM$1.create('span', { 'data-mce-type': 'bookmark' });\n          if (container.hasChildNodes()) {\n            offset = Math.min(offset, container.childNodes.length - 1);\n            if (start) {\n              container.insertBefore(offsetNode, container.childNodes[offset]);\n            } else {\n              DOM$1.insertAfter(offsetNode, container.childNodes[offset]);\n            }\n          } else {\n            container.appendChild(offsetNode);\n          }\n          container = offsetNode;\n          offset = 0;\n        }\n        bookmark[start ? 'startContainer' : 'endContainer'] = container;\n        bookmark[start ? 'startOffset' : 'endOffset'] = offset;\n      };\n      setupEndPoint(true);\n      if (!rng.collapsed) {\n        setupEndPoint();\n      }\n      return bookmark;\n    };\n    const resolveBookmark = bookmark => {\n      const restoreEndPoint = start => {\n        const nodeIndex = container => {\n          var _a;\n          let node = (_a = container.parentNode) === null || _a === void 0 ? void 0 : _a.firstChild;\n          let idx = 0;\n          while (node) {\n            if (node === container) {\n              return idx;\n            }\n            if (!isElement(node) || node.getAttribute('data-mce-type') !== 'bookmark') {\n              idx++;\n            }\n            node = node.nextSibling;\n          }\n          return -1;\n        };\n        let container = bookmark[start ? 'startContainer' : 'endContainer'];\n        let offset = bookmark[start ? 'startOffset' : 'endOffset'];\n        if (!container) {\n          return;\n        }\n        if (isElement(container) && container.parentNode) {\n          const node = container;\n          offset = nodeIndex(container);\n          container = container.parentNode;\n          DOM$1.remove(node);\n          if (!container.hasChildNodes() && DOM$1.isBlock(container)) {\n            container.appendChild(DOM$1.create('br'));\n          }\n        }\n        bookmark[start ? 'startContainer' : 'endContainer'] = container;\n        bookmark[start ? 'startOffset' : 'endOffset'] = offset;\n      };\n      restoreEndPoint(true);\n      restoreEndPoint();\n      const rng = DOM$1.createRng();\n      rng.setStart(bookmark.startContainer, bookmark.startOffset);\n      if (bookmark.endContainer) {\n        rng.setEnd(bookmark.endContainer, bookmark.endOffset);\n      }\n      return normalizeRange(rng);\n    };\n\n    const listToggleActionFromListName = listName => {\n      switch (listName) {\n      case 'UL':\n        return 'ToggleUlList';\n      case 'OL':\n        return 'ToggleOlList';\n      case 'DL':\n        return 'ToggleDLList';\n      }\n    };\n\n    const updateListStyle = (dom, el, detail) => {\n      const type = detail['list-style-type'] ? detail['list-style-type'] : null;\n      dom.setStyle(el, 'list-style-type', type);\n    };\n    const setAttribs = (elm, attrs) => {\n      global$2.each(attrs, (value, key) => {\n        elm.setAttribute(key, value);\n      });\n    };\n    const updateListAttrs = (dom, el, detail) => {\n      setAttribs(el, detail['list-attributes']);\n      global$2.each(dom.select('li', el), li => {\n        setAttribs(li, detail['list-item-attributes']);\n      });\n    };\n    const updateListWithDetails = (dom, el, detail) => {\n      updateListStyle(dom, el, detail);\n      updateListAttrs(dom, el, detail);\n    };\n    const removeStyles = (dom, element, styles) => {\n      global$2.each(styles, style => dom.setStyle(element, style, ''));\n    };\n    const isInline = (editor, node) => isNonNullable(node) && !isBlock(node, editor.schema.getBlockElements());\n    const getEndPointNode = (editor, rng, start, root) => {\n      let container = rng[start ? 'startContainer' : 'endContainer'];\n      const offset = rng[start ? 'startOffset' : 'endOffset'];\n      if (isElement(container)) {\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n      }\n      if (!start && isBr(container.nextSibling)) {\n        container = container.nextSibling;\n      }\n      const findBetterContainer = (container, forward) => {\n        var _a;\n        const walker = new global$5(container, root);\n        const dir = forward ? 'next' : 'prev';\n        let node;\n        while (node = walker[dir]()) {\n          if (!(isVoid(editor, node) || isZwsp(node.textContent) || ((_a = node.textContent) === null || _a === void 0 ? void 0 : _a.length) === 0)) {\n            return Optional.some(node);\n          }\n        }\n        return Optional.none();\n      };\n      if (start && isTextNode$1(container)) {\n        if (isZwsp(container.textContent)) {\n          container = findBetterContainer(container, false).getOr(container);\n        } else {\n          if (container.parentNode !== null && isInline(editor, container.parentNode)) {\n            container = container.parentNode;\n          }\n          while (container.previousSibling !== null && (isInline(editor, container.previousSibling) || isTextNode$1(container.previousSibling))) {\n            container = container.previousSibling;\n          }\n        }\n      }\n      if (!start && isTextNode$1(container)) {\n        if (isZwsp(container.textContent)) {\n          container = findBetterContainer(container, true).getOr(container);\n        } else {\n          if (container.parentNode !== null && isInline(editor, container.parentNode)) {\n            container = container.parentNode;\n          }\n          while (container.nextSibling !== null && (isInline(editor, container.nextSibling) || isTextNode$1(container.nextSibling))) {\n            container = container.nextSibling;\n          }\n        }\n      }\n      while (container.parentNode !== root) {\n        const parent = container.parentNode;\n        if (isTextBlock(editor, container)) {\n          return container;\n        }\n        if (/^(TD|TH)$/.test(parent.nodeName)) {\n          return container;\n        }\n        container = parent;\n      }\n      return container;\n    };\n    const getSelectedTextBlocks = (editor, rng, root) => {\n      const textBlocks = [];\n      const dom = editor.dom;\n      const startNode = getEndPointNode(editor, rng, true, root);\n      const endNode = getEndPointNode(editor, rng, false, root);\n      let block;\n      const siblings = [];\n      for (let node = startNode; node; node = node.nextSibling) {\n        siblings.push(node);\n        if (node === endNode) {\n          break;\n        }\n      }\n      global$2.each(siblings, node => {\n        var _a;\n        if (isTextBlock(editor, node)) {\n          textBlocks.push(node);\n          block = null;\n          return;\n        }\n        if (dom.isBlock(node) || isBr(node)) {\n          if (isBr(node)) {\n            dom.remove(node);\n          }\n          block = null;\n          return;\n        }\n        const nextSibling = node.nextSibling;\n        if (global$1.isBookmarkNode(node)) {\n          if (isListNode(nextSibling) || isTextBlock(editor, nextSibling) || !nextSibling && node.parentNode === root) {\n            block = null;\n            return;\n          }\n        }\n        if (!block) {\n          block = dom.create('p');\n          (_a = node.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(block, node);\n          textBlocks.push(block);\n        }\n        block.appendChild(node);\n      });\n      return textBlocks;\n    };\n    const hasCompatibleStyle = (dom, sib, detail) => {\n      const sibStyle = dom.getStyle(sib, 'list-style-type');\n      let detailStyle = detail ? detail['list-style-type'] : '';\n      detailStyle = detailStyle === null ? '' : detailStyle;\n      return sibStyle === detailStyle;\n    };\n    const applyList = (editor, listName, detail) => {\n      const rng = editor.selection.getRng();\n      let listItemName = 'LI';\n      const root = getClosestListHost(editor, editor.selection.getStart(true));\n      const dom = editor.dom;\n      if (dom.getContentEditable(editor.selection.getNode()) === 'false') {\n        return;\n      }\n      listName = listName.toUpperCase();\n      if (listName === 'DL') {\n        listItemName = 'DT';\n      }\n      const bookmark = createBookmark(rng);\n      const selectedTextBlocks = getSelectedTextBlocks(editor, rng, root);\n      global$2.each(selectedTextBlocks, block => {\n        let listBlock;\n        const sibling = block.previousSibling;\n        const parent = block.parentNode;\n        if (!isListItemNode(parent)) {\n          if (sibling && isListNode(sibling) && sibling.nodeName === listName && hasCompatibleStyle(dom, sibling, detail)) {\n            listBlock = sibling;\n            block = dom.rename(block, listItemName);\n            sibling.appendChild(block);\n          } else {\n            listBlock = dom.create(listName);\n            parent.insertBefore(listBlock, block);\n            listBlock.appendChild(block);\n            block = dom.rename(block, listItemName);\n          }\n          removeStyles(dom, block, [\n            'margin',\n            'margin-right',\n            'margin-bottom',\n            'margin-left',\n            'margin-top',\n            'padding',\n            'padding-right',\n            'padding-bottom',\n            'padding-left',\n            'padding-top'\n          ]);\n          updateListWithDetails(dom, listBlock, detail);\n          mergeWithAdjacentLists(editor.dom, listBlock);\n        }\n      });\n      editor.selection.setRng(resolveBookmark(bookmark));\n    };\n    const isValidLists = (list1, list2) => {\n      return isListNode(list1) && list1.nodeName === (list2 === null || list2 === void 0 ? void 0 : list2.nodeName);\n    };\n    const hasSameListStyle = (dom, list1, list2) => {\n      const targetStyle = dom.getStyle(list1, 'list-style-type', true);\n      const style = dom.getStyle(list2, 'list-style-type', true);\n      return targetStyle === style;\n    };\n    const hasSameClasses = (elm1, elm2) => {\n      return elm1.className === elm2.className;\n    };\n    const shouldMerge = (dom, list1, list2) => {\n      return isValidLists(list1, list2) && hasSameListStyle(dom, list1, list2) && hasSameClasses(list1, list2);\n    };\n    const mergeWithAdjacentLists = (dom, listBlock) => {\n      let node;\n      let sibling = listBlock.nextSibling;\n      if (shouldMerge(dom, listBlock, sibling)) {\n        const liSibling = sibling;\n        while (node = liSibling.firstChild) {\n          listBlock.appendChild(node);\n        }\n        dom.remove(liSibling);\n      }\n      sibling = listBlock.previousSibling;\n      if (shouldMerge(dom, listBlock, sibling)) {\n        const liSibling = sibling;\n        while (node = liSibling.lastChild) {\n          listBlock.insertBefore(node, listBlock.firstChild);\n        }\n        dom.remove(liSibling);\n      }\n    };\n    const updateList$1 = (editor, list, listName, detail) => {\n      if (list.nodeName !== listName) {\n        const newList = editor.dom.rename(list, listName);\n        updateListWithDetails(editor.dom, newList, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), newList);\n      } else {\n        updateListWithDetails(editor.dom, list, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), list);\n      }\n    };\n    const toggleMultipleLists = (editor, parentList, lists, listName, detail) => {\n      const parentIsList = isListNode(parentList);\n      if (parentIsList && parentList.nodeName === listName && !hasListStyleDetail(detail)) {\n        flattenListSelection(editor);\n      } else {\n        applyList(editor, listName, detail);\n        const bookmark = createBookmark(editor.selection.getRng());\n        const allLists = parentIsList ? [\n          parentList,\n          ...lists\n        ] : lists;\n        global$2.each(allLists, elm => {\n          updateList$1(editor, elm, listName, detail);\n        });\n        editor.selection.setRng(resolveBookmark(bookmark));\n      }\n    };\n    const hasListStyleDetail = detail => {\n      return 'list-style-type' in detail;\n    };\n    const toggleSingleList = (editor, parentList, listName, detail) => {\n      if (parentList === editor.getBody()) {\n        return;\n      }\n      if (parentList) {\n        if (parentList.nodeName === listName && !hasListStyleDetail(detail) && !isCustomList(parentList)) {\n          flattenListSelection(editor);\n        } else {\n          const bookmark = createBookmark(editor.selection.getRng());\n          updateListWithDetails(editor.dom, parentList, detail);\n          const newList = editor.dom.rename(parentList, listName);\n          mergeWithAdjacentLists(editor.dom, newList);\n          editor.selection.setRng(resolveBookmark(bookmark));\n          applyList(editor, listName, detail);\n          fireListEvent(editor, listToggleActionFromListName(listName), newList);\n        }\n      } else {\n        applyList(editor, listName, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), parentList);\n      }\n    };\n    const toggleList = (editor, listName, _detail) => {\n      const parentList = getParentList(editor);\n      if (isWithinNonEditableList(editor, parentList) || hasNonEditableBlocksSelected(editor)) {\n        return;\n      }\n      const selectedSubLists = getSelectedSubLists(editor);\n      const detail = isObject(_detail) ? _detail : {};\n      if (selectedSubLists.length > 0) {\n        toggleMultipleLists(editor, parentList, selectedSubLists, listName, detail);\n      } else {\n        toggleSingleList(editor, parentList, listName, detail);\n      }\n    };\n\n    const DOM = global$3.DOM;\n    const normalizeList = (dom, list) => {\n      const parentNode = list.parentElement;\n      if (parentNode && parentNode.nodeName === 'LI' && parentNode.firstChild === list) {\n        const sibling = parentNode.previousSibling;\n        if (sibling && sibling.nodeName === 'LI') {\n          sibling.appendChild(list);\n          if (isEmpty$2(dom, parentNode)) {\n            DOM.remove(parentNode);\n          }\n        } else {\n          DOM.setStyle(parentNode, 'listStyleType', 'none');\n        }\n      }\n      if (isListNode(parentNode)) {\n        const sibling = parentNode.previousSibling;\n        if (sibling && sibling.nodeName === 'LI') {\n          sibling.appendChild(list);\n        }\n      }\n    };\n    const normalizeLists = (dom, element) => {\n      const lists = global$2.grep(dom.select('ol,ul', element));\n      global$2.each(lists, list => {\n        normalizeList(dom, list);\n      });\n    };\n\n    const findNextCaretContainer = (editor, rng, isForward, root) => {\n      let node = rng.startContainer;\n      const offset = rng.startOffset;\n      if (isTextNode$1(node) && (isForward ? offset < node.data.length : offset > 0)) {\n        return node;\n      }\n      const nonEmptyBlocks = editor.schema.getNonEmptyElements();\n      if (isElement(node)) {\n        node = global$6.getNode(node, offset);\n      }\n      const walker = new global$5(node, root);\n      if (isForward) {\n        if (isBogusBr(editor.dom, node)) {\n          walker.next();\n        }\n      }\n      const walkFn = isForward ? walker.next.bind(walker) : walker.prev2.bind(walker);\n      while (node = walkFn()) {\n        if (node.nodeName === 'LI' && !node.hasChildNodes()) {\n          return node;\n        }\n        if (nonEmptyBlocks[node.nodeName]) {\n          return node;\n        }\n        if (isTextNode$1(node) && node.data.length > 0) {\n          return node;\n        }\n      }\n      return null;\n    };\n    const hasOnlyOneBlockChild = (dom, elm) => {\n      const childNodes = elm.childNodes;\n      return childNodes.length === 1 && !isListNode(childNodes[0]) && dom.isBlock(childNodes[0]);\n    };\n    const unwrapSingleBlockChild = (dom, elm) => {\n      if (hasOnlyOneBlockChild(dom, elm)) {\n        dom.remove(elm.firstChild, true);\n      }\n    };\n    const moveChildren = (dom, fromElm, toElm) => {\n      let node;\n      const targetElm = hasOnlyOneBlockChild(dom, toElm) ? toElm.firstChild : toElm;\n      unwrapSingleBlockChild(dom, fromElm);\n      if (!isEmpty$2(dom, fromElm, true)) {\n        while (node = fromElm.firstChild) {\n          targetElm.appendChild(node);\n        }\n      }\n    };\n    const mergeLiElements = (dom, fromElm, toElm) => {\n      let listNode;\n      const ul = fromElm.parentNode;\n      if (!isChildOfBody(dom, fromElm) || !isChildOfBody(dom, toElm)) {\n        return;\n      }\n      if (isListNode(toElm.lastChild)) {\n        listNode = toElm.lastChild;\n      }\n      if (ul === toElm.lastChild) {\n        if (isBr(ul.previousSibling)) {\n          dom.remove(ul.previousSibling);\n        }\n      }\n      const node = toElm.lastChild;\n      if (node && isBr(node) && fromElm.hasChildNodes()) {\n        dom.remove(node);\n      }\n      if (isEmpty$2(dom, toElm, true)) {\n        empty(SugarElement.fromDom(toElm));\n      }\n      moveChildren(dom, fromElm, toElm);\n      if (listNode) {\n        toElm.appendChild(listNode);\n      }\n      const contains$1 = contains(SugarElement.fromDom(toElm), SugarElement.fromDom(fromElm));\n      const nestedLists = contains$1 ? dom.getParents(fromElm, isListNode, toElm) : [];\n      dom.remove(fromElm);\n      each$1(nestedLists, list => {\n        if (isEmpty$2(dom, list) && list !== dom.getRoot()) {\n          dom.remove(list);\n        }\n      });\n    };\n    const mergeIntoEmptyLi = (editor, fromLi, toLi) => {\n      empty(SugarElement.fromDom(toLi));\n      mergeLiElements(editor.dom, fromLi, toLi);\n      editor.selection.setCursorLocation(toLi, 0);\n    };\n    const mergeForward = (editor, rng, fromLi, toLi) => {\n      const dom = editor.dom;\n      if (dom.isEmpty(toLi)) {\n        mergeIntoEmptyLi(editor, fromLi, toLi);\n      } else {\n        const bookmark = createBookmark(rng);\n        mergeLiElements(dom, fromLi, toLi);\n        editor.selection.setRng(resolveBookmark(bookmark));\n      }\n    };\n    const mergeBackward = (editor, rng, fromLi, toLi) => {\n      const bookmark = createBookmark(rng);\n      mergeLiElements(editor.dom, fromLi, toLi);\n      const resolvedBookmark = resolveBookmark(bookmark);\n      editor.selection.setRng(resolvedBookmark);\n    };\n    const backspaceDeleteFromListToListCaret = (editor, isForward) => {\n      const dom = editor.dom, selection = editor.selection;\n      const selectionStartElm = selection.getStart();\n      const root = getClosestEditingHost(editor, selectionStartElm);\n      const li = dom.getParent(selection.getStart(), 'LI', root);\n      if (li) {\n        const ul = li.parentElement;\n        if (ul === editor.getBody() && isEmpty$2(dom, ul)) {\n          return true;\n        }\n        const rng = normalizeRange(selection.getRng());\n        const otherLi = dom.getParent(findNextCaretContainer(editor, rng, isForward, root), 'LI', root);\n        if (otherLi && otherLi !== li) {\n          editor.undoManager.transact(() => {\n            if (isForward) {\n              mergeForward(editor, rng, otherLi, li);\n            } else {\n              if (isFirstChild(li)) {\n                outdentListSelection(editor);\n              } else {\n                mergeBackward(editor, rng, li, otherLi);\n              }\n            }\n          });\n          return true;\n        } else if (!otherLi) {\n          if (!isForward && rng.startOffset === 0 && rng.endOffset === 0) {\n            editor.undoManager.transact(() => {\n              flattenListSelection(editor);\n            });\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    const removeBlock = (dom, block, root) => {\n      const parentBlock = dom.getParent(block.parentNode, dom.isBlock, root);\n      dom.remove(block);\n      if (parentBlock && dom.isEmpty(parentBlock)) {\n        dom.remove(parentBlock);\n      }\n    };\n    const backspaceDeleteIntoListCaret = (editor, isForward) => {\n      const dom = editor.dom;\n      const selectionStartElm = editor.selection.getStart();\n      const root = getClosestEditingHost(editor, selectionStartElm);\n      const block = dom.getParent(selectionStartElm, dom.isBlock, root);\n      if (block && dom.isEmpty(block)) {\n        const rng = normalizeRange(editor.selection.getRng());\n        const otherLi = dom.getParent(findNextCaretContainer(editor, rng, isForward, root), 'LI', root);\n        if (otherLi) {\n          const findValidElement = element => contains$1([\n            'td',\n            'th',\n            'caption'\n          ], name(element));\n          const findRoot = node => node.dom === root;\n          const otherLiCell = closest(SugarElement.fromDom(otherLi), findValidElement, findRoot);\n          const caretCell = closest(SugarElement.fromDom(rng.startContainer), findValidElement, findRoot);\n          if (!equals(otherLiCell, caretCell, eq)) {\n            return false;\n          }\n          editor.undoManager.transact(() => {\n            removeBlock(dom, block, root);\n            mergeWithAdjacentLists(dom, otherLi.parentNode);\n            editor.selection.select(otherLi, true);\n            editor.selection.collapse(isForward);\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    const backspaceDeleteCaret = (editor, isForward) => {\n      return backspaceDeleteFromListToListCaret(editor, isForward) || backspaceDeleteIntoListCaret(editor, isForward);\n    };\n    const hasListSelection = editor => {\n      const selectionStartElm = editor.selection.getStart();\n      const root = getClosestEditingHost(editor, selectionStartElm);\n      const startListParent = editor.dom.getParent(selectionStartElm, 'LI,DT,DD', root);\n      return startListParent || getSelectedListItems(editor).length > 0;\n    };\n    const backspaceDeleteRange = editor => {\n      if (hasListSelection(editor)) {\n        editor.undoManager.transact(() => {\n          editor.execCommand('Delete');\n          normalizeLists(editor.dom, editor.getBody());\n        });\n        return true;\n      }\n      return false;\n    };\n    const backspaceDelete = (editor, isForward) => {\n      const selection = editor.selection;\n      return !isWithinNonEditableList(editor, selection.getNode()) && (selection.isCollapsed() ? backspaceDeleteCaret(editor, isForward) : backspaceDeleteRange(editor));\n    };\n    const setup$2 = editor => {\n      editor.on('ExecCommand', e => {\n        const cmd = e.command.toLowerCase();\n        if ((cmd === 'delete' || cmd === 'forwarddelete') && hasListSelection(editor)) {\n          normalizeLists(editor.dom, editor.getBody());\n        }\n      });\n      editor.on('keydown', e => {\n        if (e.keyCode === global$4.BACKSPACE) {\n          if (backspaceDelete(editor, false)) {\n            e.preventDefault();\n          }\n        } else if (e.keyCode === global$4.DELETE) {\n          if (backspaceDelete(editor, true)) {\n            e.preventDefault();\n          }\n        }\n      });\n    };\n\n    const get = editor => ({\n      backspaceDelete: isForward => {\n        backspaceDelete(editor, isForward);\n      }\n    });\n\n    const updateList = (editor, update) => {\n      const parentList = getParentList(editor);\n      if (parentList === null || isWithinNonEditableList(editor, parentList)) {\n        return;\n      }\n      editor.undoManager.transact(() => {\n        if (isObject(update.styles)) {\n          editor.dom.setStyles(parentList, update.styles);\n        }\n        if (isObject(update.attrs)) {\n          each(update.attrs, (v, k) => editor.dom.setAttrib(parentList, k, v));\n        }\n      });\n    };\n\n    const parseAlphabeticBase26 = str => {\n      const chars = reverse(trim(str).split(''));\n      const values = map(chars, (char, i) => {\n        const charValue = char.toUpperCase().charCodeAt(0) - 'A'.charCodeAt(0) + 1;\n        return Math.pow(26, i) * charValue;\n      });\n      return foldl(values, (sum, v) => sum + v, 0);\n    };\n    const composeAlphabeticBase26 = value => {\n      value--;\n      if (value < 0) {\n        return '';\n      } else {\n        const remainder = value % 26;\n        const quotient = Math.floor(value / 26);\n        const rest = composeAlphabeticBase26(quotient);\n        const char = String.fromCharCode('A'.charCodeAt(0) + remainder);\n        return rest + char;\n      }\n    };\n    const isUppercase = str => /^[A-Z]+$/.test(str);\n    const isLowercase = str => /^[a-z]+$/.test(str);\n    const isNumeric = str => /^[0-9]+$/.test(str);\n    const deduceListType = start => {\n      if (isNumeric(start)) {\n        return 2;\n      } else if (isUppercase(start)) {\n        return 0;\n      } else if (isLowercase(start)) {\n        return 1;\n      } else if (isEmpty$1(start)) {\n        return 3;\n      } else {\n        return 4;\n      }\n    };\n    const parseStartValue = start => {\n      switch (deduceListType(start)) {\n      case 2:\n        return Optional.some({\n          listStyleType: Optional.none(),\n          start\n        });\n      case 0:\n        return Optional.some({\n          listStyleType: Optional.some('upper-alpha'),\n          start: parseAlphabeticBase26(start).toString()\n        });\n      case 1:\n        return Optional.some({\n          listStyleType: Optional.some('lower-alpha'),\n          start: parseAlphabeticBase26(start).toString()\n        });\n      case 3:\n        return Optional.some({\n          listStyleType: Optional.none(),\n          start: ''\n        });\n      case 4:\n        return Optional.none();\n      }\n    };\n    const parseDetail = detail => {\n      const start = parseInt(detail.start, 10);\n      if (is$2(detail.listStyleType, 'upper-alpha')) {\n        return composeAlphabeticBase26(start);\n      } else if (is$2(detail.listStyleType, 'lower-alpha')) {\n        return composeAlphabeticBase26(start).toLowerCase();\n      } else {\n        return detail.start;\n      }\n    };\n\n    const open = editor => {\n      const currentList = getParentList(editor);\n      if (!isOlNode(currentList) || isWithinNonEditableList(editor, currentList)) {\n        return;\n      }\n      editor.windowManager.open({\n        title: 'List Properties',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'input',\n              name: 'start',\n              label: 'Start list at number',\n              inputMode: 'numeric'\n            }]\n        },\n        initialData: {\n          start: parseDetail({\n            start: editor.dom.getAttrib(currentList, 'start', '1'),\n            listStyleType: Optional.from(editor.dom.getStyle(currentList, 'list-style-type'))\n          })\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        onSubmit: api => {\n          const data = api.getData();\n          parseStartValue(data.start).each(detail => {\n            editor.execCommand('mceListUpdate', false, {\n              attrs: { start: detail.start === '1' ? '' : detail.start },\n              styles: { 'list-style-type': detail.listStyleType.getOr('') }\n            });\n          });\n          api.close();\n        }\n      });\n    };\n\n    const queryListCommandState = (editor, listName) => () => {\n      const parentList = getParentList(editor);\n      return isNonNullable(parentList) && parentList.nodeName === listName;\n    };\n    const registerDialog = editor => {\n      editor.addCommand('mceListProps', () => {\n        open(editor);\n      });\n    };\n    const register$2 = editor => {\n      editor.on('BeforeExecCommand', e => {\n        const cmd = e.command.toLowerCase();\n        if (cmd === 'indent') {\n          indentListSelection(editor);\n        } else if (cmd === 'outdent') {\n          outdentListSelection(editor);\n        }\n      });\n      editor.addCommand('InsertUnorderedList', (ui, detail) => {\n        toggleList(editor, 'UL', detail);\n      });\n      editor.addCommand('InsertOrderedList', (ui, detail) => {\n        toggleList(editor, 'OL', detail);\n      });\n      editor.addCommand('InsertDefinitionList', (ui, detail) => {\n        toggleList(editor, 'DL', detail);\n      });\n      editor.addCommand('RemoveList', () => {\n        flattenListSelection(editor);\n      });\n      registerDialog(editor);\n      editor.addCommand('mceListUpdate', (ui, detail) => {\n        if (isObject(detail)) {\n          updateList(editor, detail);\n        }\n      });\n      editor.addQueryStateHandler('InsertUnorderedList', queryListCommandState(editor, 'UL'));\n      editor.addQueryStateHandler('InsertOrderedList', queryListCommandState(editor, 'OL'));\n      editor.addQueryStateHandler('InsertDefinitionList', queryListCommandState(editor, 'DL'));\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    const isTextNode = node => node.type === 3;\n    const isEmpty = nodeBuffer => nodeBuffer.length === 0;\n    const wrapInvalidChildren = list => {\n      const insertListItem = (buffer, refNode) => {\n        const li = global.create('li');\n        each$1(buffer, node => li.append(node));\n        if (refNode) {\n          list.insert(li, refNode, true);\n        } else {\n          list.append(li);\n        }\n      };\n      const reducer = (buffer, node) => {\n        if (isTextNode(node)) {\n          return [\n            ...buffer,\n            node\n          ];\n        } else if (!isEmpty(buffer) && !isTextNode(node)) {\n          insertListItem(buffer, node);\n          return [];\n        } else {\n          return buffer;\n        }\n      };\n      const restBuffer = foldl(list.children(), reducer, []);\n      if (!isEmpty(restBuffer)) {\n        insertListItem(restBuffer);\n      }\n    };\n    const setup$1 = editor => {\n      editor.on('PreInit', () => {\n        const {parser} = editor;\n        parser.addNodeFilter('ul,ol', nodes => each$1(nodes, wrapInvalidChildren));\n      });\n    };\n\n    const setupTabKey = editor => {\n      editor.on('keydown', e => {\n        if (e.keyCode !== global$4.TAB || global$4.metaKeyPressed(e)) {\n          return;\n        }\n        editor.undoManager.transact(() => {\n          if (e.shiftKey ? outdentListSelection(editor) : indentListSelection(editor)) {\n            e.preventDefault();\n          }\n        });\n      });\n    };\n    const setup = editor => {\n      if (shouldIndentOnTab(editor)) {\n        setupTabKey(editor);\n      }\n      setup$2(editor);\n    };\n\n    const setupToggleButtonHandler = (editor, listName) => api => {\n      const toggleButtonHandler = e => {\n        api.setActive(inList(e.parents, listName));\n        api.setEnabled(!isWithinNonEditableList(editor, e.element));\n      };\n      return setNodeChangeHandler(editor, toggleButtonHandler);\n    };\n    const register$1 = editor => {\n      const exec = command => () => editor.execCommand(command);\n      if (!editor.hasPlugin('advlist')) {\n        editor.ui.registry.addToggleButton('numlist', {\n          icon: 'ordered-list',\n          active: false,\n          tooltip: 'Numbered list',\n          onAction: exec('InsertOrderedList'),\n          onSetup: setupToggleButtonHandler(editor, 'OL')\n        });\n        editor.ui.registry.addToggleButton('bullist', {\n          icon: 'unordered-list',\n          active: false,\n          tooltip: 'Bullet list',\n          onAction: exec('InsertUnorderedList'),\n          onSetup: setupToggleButtonHandler(editor, 'UL')\n        });\n      }\n    };\n\n    const setupMenuButtonHandler = (editor, listName) => api => {\n      const menuButtonHandler = e => api.setEnabled(inList(e.parents, listName) && !isWithinNonEditableList(editor, e.element));\n      return setNodeChangeHandler(editor, menuButtonHandler);\n    };\n    const register = editor => {\n      const listProperties = {\n        text: 'List properties...',\n        icon: 'ordered-list',\n        onAction: () => editor.execCommand('mceListProps'),\n        onSetup: setupMenuButtonHandler(editor, 'OL')\n      };\n      editor.ui.registry.addMenuItem('listprops', listProperties);\n      editor.ui.registry.addContextMenu('lists', {\n        update: node => {\n          const parentList = getParentList(editor, node);\n          return isOlNode(parentList) ? ['listprops'] : [];\n        }\n      });\n    };\n\n    var Plugin = () => {\n      global$7.add('lists', editor => {\n        register$3(editor);\n        setup$1(editor);\n        if (!editor.hasPlugin('rtc', true)) {\n          setup(editor);\n          register$2(editor);\n        } else {\n          registerDialog(editor);\n        }\n        register$1(editor);\n        register(editor);\n        return get(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"table\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/table')\n//   ES2015:\n//     import 'tinymce/plugins/table'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.4.1 (2023-03-29)\n */\n\n(function () {\n    'use strict';\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$1 = t => a => t === a;\n    const isString = isType$1('string');\n    const isArray = isType$1('array');\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$1(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n\n    const noop = () => {\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const call = f => {\n      f();\n    };\n    const never = constant(false);\n    const always = constant(true);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each$1 = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each$1(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter$1 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each$1(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const size = obj => {\n      return keys(obj).length;\n    };\n    const get$4 = (obj, key) => {\n      return has(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const range = (num, f) => {\n      const r = [];\n      for (let i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    const map = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const flatten$1 = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind = (xs, f) => flatten$1(map(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const get$3 = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$3(xs, 0);\n    const last = xs => get$3(xs, xs.length - 1);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const COMMENT = 8;\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom$1(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom$1(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom$1(node);\n    };\n    const fromDom$1 = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$1);\n    const SugarElement = {\n      fromHtml,\n      fromTag,\n      fromText,\n      fromDom: fromDom$1,\n      fromPoint\n    };\n\n    const is$2 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all$1 = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const is$1 = is$2;\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type = element => element.dom.nodeType;\n    const isType = t => element => type(element) === t;\n    const isComment = element => type(element) === COMMENT || name(element) === '#comment';\n    const isElement = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement(e) && name(e) === tag;\n\n    const owner = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner(dos);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parents = (element, isRoot) => {\n      const stop = isFunction(isRoot) ? isRoot : never;\n      let dom = element.dom;\n      const ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        const rawParent = dom.parentNode;\n        const p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    const prevSibling = element => Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children$3 = element => map(element.dom.childNodes, SugarElement.fromDom);\n    const child$3 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$3(element, 0);\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$1 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$2 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$1, scope, predicate, isRoot);\n    };\n    const child$2 = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n\n    const ancestor = (scope, selector, isRoot) => ancestor$1(scope, e => is$2(e, selector), isRoot);\n    const child$1 = (scope, selector) => child$2(scope, e => is$2(e, selector));\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is = (element, selector) => is$2(element, selector);\n      return ClosestOrAncestor(is, ancestor, scope, selector, isRoot);\n    };\n\n    const closest = target => closest$1(target, '[contenteditable]');\n    const isEditable = (element, assumeEditable = false) => {\n      if (inBody(element)) {\n        return element.dom.isContentEditable;\n      } else {\n        return closest(element).fold(constant(assumeEditable), editable => getRaw$1(editable) === 'true');\n      }\n    };\n    const getRaw$1 = element => element.dom.contentEditable;\n\n    const getNodeName = elm => elm.nodeName.toLowerCase();\n    const getBody = editor => SugarElement.fromDom(editor.getBody());\n    const getIsRoot = editor => element => eq(element, getBody(editor));\n    const removePxSuffix = size => size ? size.replace(/px$/, '') : '';\n    const addPxSuffix = size => /^\\d+(\\.\\d+)?$/.test(size) ? size + 'px' : size;\n    const getSelectionStart = editor => SugarElement.fromDom(editor.selection.getStart());\n    const getSelectionEnd = editor => SugarElement.fromDom(editor.selection.getEnd());\n    const isInEditableContext = cell => closest$2(cell, isTag('table')).forall(isEditable);\n\n    const children$2 = (scope, predicate) => filter(children$3(scope), predicate);\n    const descendants$1 = (scope, predicate) => {\n      let result = [];\n      each(children$3(scope), x => {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants$1(x, predicate));\n      });\n      return result;\n    };\n\n    const children$1 = (scope, selector) => children$2(scope, e => is$2(e, selector));\n    const descendants = (scope, selector) => all$1(selector, scope);\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$2 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll = (element, attrs) => {\n      const dom = element.dom;\n      each$1(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const get$2 = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$2(element, key));\n    const remove$2 = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const clone = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const is = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    const flatten = oot => oot.bind(identity);\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const removeFromStart = (str, numChars) => {\n      return str.substring(numChars);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const removeLeading = (str, prefix) => {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty = s => !isNotEmpty(s);\n    const toInt = (value, radix = 10) => {\n      const num = parseInt(value, radix);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n    const toFloat = value => {\n      const num = parseFloat(value);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n\n    const isSupported = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$1 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const get$1 = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const remove$1 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is(getOpt(element, 'style').map(trim), '')) {\n        remove$2(element, 'style');\n      }\n    };\n\n    const getAttrValue = (cell, name, fallback = 0) => getOpt(cell, name).map(value => parseInt(value, 10)).getOr(fallback);\n\n    const firstLayer = (scope, selector) => {\n      return filterFirstLayer(scope, selector, always);\n    };\n    const filterFirstLayer = (scope, selector, predicate) => {\n      return bind(children$3(scope), x => {\n        if (is$2(x, selector)) {\n          return predicate(x) ? [x] : [];\n        } else {\n          return filterFirstLayer(x, selector, predicate);\n        }\n      });\n    };\n\n    const validSectionList = [\n      'tfoot',\n      'thead',\n      'tbody',\n      'colgroup'\n    ];\n    const isValidSection = parentName => contains(validSectionList, parentName);\n    const grid = (rows, columns) => ({\n      rows,\n      columns\n    });\n    const detail = (element, rowspan, colspan) => ({\n      element,\n      rowspan,\n      colspan\n    });\n    const extended = (element, rowspan, colspan, row, column, isLocked) => ({\n      element,\n      rowspan,\n      colspan,\n      row,\n      column,\n      isLocked\n    });\n    const rowdetail = (element, cells, section) => ({\n      element,\n      cells,\n      section\n    });\n    const bounds = (startRow, startCol, finishRow, finishCol) => ({\n      startRow,\n      startCol,\n      finishRow,\n      finishCol\n    });\n    const columnext = (element, colspan, column) => ({\n      element,\n      colspan,\n      column\n    });\n    const colgroup = (element, columns) => ({\n      element,\n      columns\n    });\n\n    const lookup = (tags, element, isRoot = never) => {\n      if (isRoot(element)) {\n        return Optional.none();\n      }\n      if (contains(tags, name(element))) {\n        return Optional.some(element);\n      }\n      const isRootOrUpperTable = elm => is$2(elm, 'table') || isRoot(elm);\n      return ancestor(element, tags.join(','), isRootOrUpperTable);\n    };\n    const cell = (element, isRoot) => lookup([\n      'td',\n      'th'\n    ], element, isRoot);\n    const cells = ancestor => firstLayer(ancestor, 'th,td');\n    const columns = ancestor => {\n      if (is$2(ancestor, 'colgroup')) {\n        return children$1(ancestor, 'col');\n      } else {\n        return bind(columnGroups(ancestor), columnGroup => children$1(columnGroup, 'col'));\n      }\n    };\n    const table = (element, isRoot) => closest$1(element, 'table', isRoot);\n    const rows = ancestor => firstLayer(ancestor, 'tr');\n    const columnGroups = ancestor => table(ancestor).fold(constant([]), table => children$1(table, 'colgroup'));\n\n    const fromRowsOrColGroups = (elems, getSection) => map(elems, row => {\n      if (name(row) === 'colgroup') {\n        const cells = map(columns(row), column => {\n          const colspan = getAttrValue(column, 'span', 1);\n          return detail(column, 1, colspan);\n        });\n        return rowdetail(row, cells, 'colgroup');\n      } else {\n        const cells$1 = map(cells(row), cell => {\n          const rowspan = getAttrValue(cell, 'rowspan', 1);\n          const colspan = getAttrValue(cell, 'colspan', 1);\n          return detail(cell, rowspan, colspan);\n        });\n        return rowdetail(row, cells$1, getSection(row));\n      }\n    });\n    const getParentSection = group => parent(group).map(parent => {\n      const parentName = name(parent);\n      return isValidSection(parentName) ? parentName : 'tbody';\n    }).getOr('tbody');\n    const fromTable$1 = table => {\n      const rows$1 = rows(table);\n      const columnGroups$1 = columnGroups(table);\n      const elems = [\n        ...columnGroups$1,\n        ...rows$1\n      ];\n      return fromRowsOrColGroups(elems, getParentSection);\n    };\n\n    const LOCKED_COL_ATTR = 'data-snooker-locked-cols';\n    const getLockedColumnsFromTable = table => getOpt(table, LOCKED_COL_ATTR).bind(lockedColStr => Optional.from(lockedColStr.match(/\\d+/g))).map(lockedCols => mapToObject(lockedCols, always));\n\n    const key = (row, column) => {\n      return row + ',' + column;\n    };\n    const getAt = (warehouse, row, column) => Optional.from(warehouse.access[key(row, column)]);\n    const findItem = (warehouse, item, comparator) => {\n      const filtered = filterItems(warehouse, detail => {\n        return comparator(item, detail.element);\n      });\n      return filtered.length > 0 ? Optional.some(filtered[0]) : Optional.none();\n    };\n    const filterItems = (warehouse, predicate) => {\n      const all = bind(warehouse.all, r => {\n        return r.cells;\n      });\n      return filter(all, predicate);\n    };\n    const generateColumns = rowData => {\n      const columnsGroup = {};\n      let index = 0;\n      each(rowData.cells, column => {\n        const colspan = column.colspan;\n        range(colspan, columnIndex => {\n          const colIndex = index + columnIndex;\n          columnsGroup[colIndex] = columnext(column.element, colspan, colIndex);\n        });\n        index += colspan;\n      });\n      return columnsGroup;\n    };\n    const generate$1 = list => {\n      const access = {};\n      const cells = [];\n      const tableOpt = head(list).map(rowData => rowData.element).bind(table);\n      const lockedColumns = tableOpt.bind(getLockedColumnsFromTable).getOr({});\n      let maxRows = 0;\n      let maxColumns = 0;\n      let rowCount = 0;\n      const {\n        pass: colgroupRows,\n        fail: rows\n      } = partition(list, rowData => rowData.section === 'colgroup');\n      each(rows, rowData => {\n        const currentRow = [];\n        each(rowData.cells, rowCell => {\n          let start = 0;\n          while (access[key(rowCount, start)] !== undefined) {\n            start++;\n          }\n          const isLocked = hasNonNullableKey(lockedColumns, start.toString());\n          const current = extended(rowCell.element, rowCell.rowspan, rowCell.colspan, rowCount, start, isLocked);\n          for (let occupiedColumnPosition = 0; occupiedColumnPosition < rowCell.colspan; occupiedColumnPosition++) {\n            for (let occupiedRowPosition = 0; occupiedRowPosition < rowCell.rowspan; occupiedRowPosition++) {\n              const rowPosition = rowCount + occupiedRowPosition;\n              const columnPosition = start + occupiedColumnPosition;\n              const newpos = key(rowPosition, columnPosition);\n              access[newpos] = current;\n              maxColumns = Math.max(maxColumns, columnPosition + 1);\n            }\n          }\n          currentRow.push(current);\n        });\n        maxRows++;\n        cells.push(rowdetail(rowData.element, currentRow, rowData.section));\n        rowCount++;\n      });\n      const {columns, colgroups} = last(colgroupRows).map(rowData => {\n        const columns = generateColumns(rowData);\n        const colgroup$1 = colgroup(rowData.element, values(columns));\n        return {\n          colgroups: [colgroup$1],\n          columns\n        };\n      }).getOrThunk(() => ({\n        colgroups: [],\n        columns: {}\n      }));\n      const grid$1 = grid(maxRows, maxColumns);\n      return {\n        grid: grid$1,\n        access,\n        all: cells,\n        columns,\n        colgroups\n      };\n    };\n    const fromTable = table => {\n      const list = fromTable$1(table);\n      return generate$1(list);\n    };\n    const justCells = warehouse => bind(warehouse.all, w => w.cells);\n    const justColumns = warehouse => values(warehouse.columns);\n    const hasColumns = warehouse => keys(warehouse.columns).length > 0;\n    const getColumnAt = (warehouse, columnIndex) => Optional.from(warehouse.columns[columnIndex]);\n    const Warehouse = {\n      fromTable,\n      generate: generate$1,\n      getAt,\n      findItem,\n      filterItems,\n      justCells,\n      justColumns,\n      hasColumns,\n      getColumnAt\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const getTDTHOverallStyle = (dom, elm, name) => {\n      const cells = dom.select('td,th', elm);\n      let firstChildStyle;\n      for (let i = 0; i < cells.length; i++) {\n        const currentStyle = dom.getStyle(cells[i], name);\n        if (isUndefined(firstChildStyle)) {\n          firstChildStyle = currentStyle;\n        }\n        if (firstChildStyle !== currentStyle) {\n          return '';\n        }\n      }\n      return firstChildStyle;\n    };\n    const setAlign = (editor, elm, name) => {\n      global$2.each('left center right'.split(' '), align => {\n        if (align !== name) {\n          editor.formatter.remove('align' + align, {}, elm);\n        }\n      });\n      if (name) {\n        editor.formatter.apply('align' + name, {}, elm);\n      }\n    };\n    const setVAlign = (editor, elm, name) => {\n      global$2.each('top middle bottom'.split(' '), align => {\n        if (align !== name) {\n          editor.formatter.remove('valign' + align, {}, elm);\n        }\n      });\n      if (name) {\n        editor.formatter.apply('valign' + name, {}, elm);\n      }\n    };\n\n    const fireTableModified = (editor, table, data) => {\n      editor.dispatch('TableModified', {\n        ...data,\n        table\n      });\n    };\n\n    const toNumber = (px, fallback) => toFloat(px).getOr(fallback);\n    const getProp = (element, name, fallback) => toNumber(get$1(element, name), fallback);\n    const calcContentBoxSize = (element, size, upper, lower) => {\n      const paddingUpper = getProp(element, `padding-${ upper }`, 0);\n      const paddingLower = getProp(element, `padding-${ lower }`, 0);\n      const borderUpper = getProp(element, `border-${ upper }-width`, 0);\n      const borderLower = getProp(element, `border-${ lower }-width`, 0);\n      return size - paddingUpper - paddingLower - borderUpper - borderLower;\n    };\n    const getCalculatedWidth = (element, boxSizing) => {\n      const dom = element.dom;\n      const width = dom.getBoundingClientRect().width || dom.offsetWidth;\n      return boxSizing === 'border-box' ? width : calcContentBoxSize(element, width, 'left', 'right');\n    };\n    const getInnerWidth = element => getCalculatedWidth(element, 'content-box');\n\n    const getInner = getInnerWidth;\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    const defaultTableToolbar = 'tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol';\n    const defaultCellBorderWidths = range(5, i => {\n      const size = `${ i + 1 }px`;\n      return {\n        title: size,\n        value: size\n      };\n    });\n    const defaultCellBorderStyles = map([\n      'Solid',\n      'Dotted',\n      'Dashed',\n      'Double',\n      'Groove',\n      'Ridge',\n      'Inset',\n      'Outset',\n      'None',\n      'Hidden'\n    ], type => {\n      return {\n        title: type,\n        value: type.toLowerCase()\n      };\n    });\n    const defaultWidth = '100%';\n    const getPixelForcedWidth = editor => {\n      var _a;\n      const dom = editor.dom;\n      const parentBlock = (_a = dom.getParent(editor.selection.getStart(), dom.isBlock)) !== null && _a !== void 0 ? _a : editor.getBody();\n      return getInner(SugarElement.fromDom(parentBlock)) + 'px';\n    };\n    const determineDefaultStyles = (editor, defaultStyles) => {\n      if (isResponsiveForced(editor) || !shouldStyleWithCss(editor)) {\n        return defaultStyles;\n      } else if (isPixelsForced(editor)) {\n        return {\n          ...defaultStyles,\n          width: getPixelForcedWidth(editor)\n        };\n      } else {\n        return {\n          ...defaultStyles,\n          width: defaultWidth\n        };\n      }\n    };\n    const determineDefaultAttributes = (editor, defaultAttributes) => {\n      if (isResponsiveForced(editor) || shouldStyleWithCss(editor)) {\n        return defaultAttributes;\n      } else if (isPixelsForced(editor)) {\n        return {\n          ...defaultAttributes,\n          width: getPixelForcedWidth(editor)\n        };\n      } else {\n        return {\n          ...defaultAttributes,\n          width: defaultWidth\n        };\n      }\n    };\n    const option = name => editor => editor.options.get(name);\n    const register = editor => {\n      const registerOption = editor.options.register;\n      registerOption('table_border_widths', {\n        processor: 'object[]',\n        default: defaultCellBorderWidths\n      });\n      registerOption('table_border_styles', {\n        processor: 'object[]',\n        default: defaultCellBorderStyles\n      });\n      registerOption('table_cell_advtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_row_advtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_advtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_appearance_options', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_grid', {\n        processor: 'boolean',\n        default: !global$1.deviceType.isTouch()\n      });\n      registerOption('table_cell_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_row_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_toolbar', {\n        processor: 'string',\n        default: defaultTableToolbar\n      });\n      registerOption('table_background_color_map', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_border_color_map', {\n        processor: 'object[]',\n        default: []\n      });\n    };\n    const getTableSizingMode = option('table_sizing_mode');\n    const getTableBorderWidths = option('table_border_widths');\n    const getTableBorderStyles = option('table_border_styles');\n    const hasAdvancedCellTab = option('table_cell_advtab');\n    const hasAdvancedRowTab = option('table_row_advtab');\n    const hasAdvancedTableTab = option('table_advtab');\n    const hasAppearanceOptions = option('table_appearance_options');\n    const hasTableGrid = option('table_grid');\n    const shouldStyleWithCss = option('table_style_by_css');\n    const getCellClassList = option('table_cell_class_list');\n    const getRowClassList = option('table_row_class_list');\n    const getTableClassList = option('table_class_list');\n    const getToolbar = option('table_toolbar');\n    const getTableBackgroundColorMap = option('table_background_color_map');\n    const getTableBorderColorMap = option('table_border_color_map');\n    const isPixelsForced = editor => getTableSizingMode(editor) === 'fixed';\n    const isResponsiveForced = editor => getTableSizingMode(editor) === 'responsive';\n    const getDefaultStyles = editor => {\n      const options = editor.options;\n      const defaultStyles = options.get('table_default_styles');\n      return options.isSet('table_default_styles') ? defaultStyles : determineDefaultStyles(editor, defaultStyles);\n    };\n    const getDefaultAttributes = editor => {\n      const options = editor.options;\n      const defaultAttributes = options.get('table_default_attributes');\n      return options.isSet('table_default_attributes') ? defaultAttributes : determineDefaultAttributes(editor, defaultAttributes);\n    };\n\n    const isWithin = (bounds, detail) => {\n      return detail.column >= bounds.startCol && detail.column + detail.colspan - 1 <= bounds.finishCol && detail.row >= bounds.startRow && detail.row + detail.rowspan - 1 <= bounds.finishRow;\n    };\n    const isRectangular = (warehouse, bounds) => {\n      let isRect = true;\n      const detailIsWithin = curry(isWithin, bounds);\n      for (let i = bounds.startRow; i <= bounds.finishRow; i++) {\n        for (let j = bounds.startCol; j <= bounds.finishCol; j++) {\n          isRect = isRect && Warehouse.getAt(warehouse, i, j).exists(detailIsWithin);\n        }\n      }\n      return isRect ? Optional.some(bounds) : Optional.none();\n    };\n\n    const getBounds = (detailA, detailB) => {\n      return bounds(Math.min(detailA.row, detailB.row), Math.min(detailA.column, detailB.column), Math.max(detailA.row + detailA.rowspan - 1, detailB.row + detailB.rowspan - 1), Math.max(detailA.column + detailA.colspan - 1, detailB.column + detailB.colspan - 1));\n    };\n    const getAnyBox = (warehouse, startCell, finishCell) => {\n      const startCoords = Warehouse.findItem(warehouse, startCell, eq);\n      const finishCoords = Warehouse.findItem(warehouse, finishCell, eq);\n      return startCoords.bind(sc => {\n        return finishCoords.map(fc => {\n          return getBounds(sc, fc);\n        });\n      });\n    };\n    const getBox$1 = (warehouse, startCell, finishCell) => {\n      return getAnyBox(warehouse, startCell, finishCell).bind(bounds => {\n        return isRectangular(warehouse, bounds);\n      });\n    };\n\n    const getBox = (table, first, last) => {\n      const warehouse = getWarehouse(table);\n      return getBox$1(warehouse, first, last);\n    };\n    const getWarehouse = Warehouse.fromTable;\n\n    const before = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$1 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before(v, element);\n      });\n    };\n    const prepend = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$1(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const wrap = (element, wrapper) => {\n      before(element, wrapper);\n      append$1(wrapper, element);\n    };\n\n    const after = (marker, elements) => {\n      each(elements, (x, i) => {\n        const e = i === 0 ? marker : elements[i - 1];\n        after$1(e, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const remove = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    const unwrap = wrapper => {\n      const children = children$3(wrapper);\n      if (children.length > 0) {\n        after(wrapper, children);\n      }\n      remove(wrapper);\n    };\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api = NodeValue(isText, 'text');\n    const get = element => api.get(element);\n    const set = (element, value) => api.set(element, value);\n\n    var TagBoundaries = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'li',\n      'table',\n      'thead',\n      'tbody',\n      'tfoot',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n\n    var DomUniverse = () => {\n      const clone$1 = element => {\n        return SugarElement.fromDom(element.dom.cloneNode(false));\n      };\n      const document = element => documentOrOwner(element).dom;\n      const isBoundary = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        if (name(element) === 'body') {\n          return true;\n        }\n        return contains(TagBoundaries, name(element));\n      };\n      const isEmptyTag = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        return contains([\n          'br',\n          'img',\n          'hr',\n          'input'\n        ], name(element));\n      };\n      const isNonEditable = element => isElement(element) && get$2(element, 'contenteditable') === 'false';\n      const comparePosition = (element, other) => {\n        return element.dom.compareDocumentPosition(other.dom);\n      };\n      const copyAttributesTo = (source, destination) => {\n        const as = clone(source);\n        setAll(destination, as);\n      };\n      const isSpecial = element => {\n        const tag = name(element);\n        return contains([\n          'script',\n          'noscript',\n          'iframe',\n          'noframes',\n          'noembed',\n          'title',\n          'style',\n          'textarea',\n          'xmp'\n        ], tag);\n      };\n      const getLanguage = element => isElement(element) ? getOpt(element, 'lang') : Optional.none();\n      return {\n        up: constant({\n          selector: ancestor,\n          closest: closest$1,\n          predicate: ancestor$1,\n          all: parents\n        }),\n        down: constant({\n          selector: descendants,\n          predicate: descendants$1\n        }),\n        styles: constant({\n          get: get$1,\n          getRaw: getRaw,\n          set: set$1,\n          remove: remove$1\n        }),\n        attrs: constant({\n          get: get$2,\n          set: set$2,\n          remove: remove$2,\n          copyTo: copyAttributesTo\n        }),\n        insert: constant({\n          before: before,\n          after: after$1,\n          afterAll: after,\n          append: append$1,\n          appendAll: append,\n          prepend: prepend,\n          wrap: wrap\n        }),\n        remove: constant({\n          unwrap: unwrap,\n          remove: remove\n        }),\n        create: constant({\n          nu: SugarElement.fromTag,\n          clone: clone$1,\n          text: SugarElement.fromText\n        }),\n        query: constant({\n          comparePosition,\n          prevSibling: prevSibling,\n          nextSibling: nextSibling\n        }),\n        property: constant({\n          children: children$3,\n          name: name,\n          parent: parent,\n          document,\n          isText: isText,\n          isComment: isComment,\n          isElement: isElement,\n          isSpecial,\n          getLanguage,\n          getText: get,\n          setText: set,\n          isBoundary,\n          isEmptyTag,\n          isNonEditable\n        }),\n        eq: eq,\n        is: is$1\n      };\n    };\n\n    const all = (universe, look, elements, f) => {\n      const head = elements[0];\n      const tail = elements.slice(1);\n      return f(universe, look, head, tail);\n    };\n    const oneAll = (universe, look, elements) => {\n      return elements.length > 0 ? all(universe, look, elements, unsafeOne) : Optional.none();\n    };\n    const unsafeOne = (universe, look, head, tail) => {\n      const start = look(universe, head);\n      return foldr(tail, (b, a) => {\n        const current = look(universe, a);\n        return commonElement(universe, b, current);\n      }, start);\n    };\n    const commonElement = (universe, start, end) => {\n      return start.bind(s => {\n        return end.filter(curry(universe.eq, s));\n      });\n    };\n\n    const sharedOne$1 = oneAll;\n\n    const universe = DomUniverse();\n    const sharedOne = (look, elements) => {\n      return sharedOne$1(universe, (_universe, element) => {\n        return look(element);\n      }, elements);\n    };\n\n    const lookupTable = container => {\n      return ancestor(container, 'table');\n    };\n    const retrieve$1 = (container, selector) => {\n      const sels = descendants(container, selector);\n      return sels.length > 0 ? Optional.some(sels) : Optional.none();\n    };\n    const getEdges = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return descendant(container, firstSelectedSelector).bind(first => {\n        return descendant(container, lastSelectedSelector).bind(last => {\n          return sharedOne(lookupTable, [\n            first,\n            last\n          ]).map(table => {\n            return {\n              first,\n              last,\n              table\n            };\n          });\n        });\n      });\n    };\n\n    const retrieve = (container, selector) => {\n      return retrieve$1(container, selector);\n    };\n    const retrieveBox = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return getEdges(container, firstSelectedSelector, lastSelectedSelector).bind(edges => {\n        const isRoot = ancestor => {\n          return eq(container, ancestor);\n        };\n        const sectionSelector = 'thead,tfoot,tbody,table';\n        const firstAncestor = ancestor(edges.first, sectionSelector, isRoot);\n        const lastAncestor = ancestor(edges.last, sectionSelector, isRoot);\n        return firstAncestor.bind(fA => {\n          return lastAncestor.bind(lA => {\n            return eq(fA, lA) ? getBox(edges.table, edges.first, edges.last) : Optional.none();\n          });\n        });\n      });\n    };\n\n    const fromDom = nodes => map(nodes, SugarElement.fromDom);\n\n    const strSelected = 'data-mce-selected';\n    const strSelectedSelector = 'td[' + strSelected + '],th[' + strSelected + ']';\n    const strFirstSelected = 'data-mce-first-selected';\n    const strFirstSelectedSelector = 'td[' + strFirstSelected + '],th[' + strFirstSelected + ']';\n    const strLastSelected = 'data-mce-last-selected';\n    const strLastSelectedSelector = 'td[' + strLastSelected + '],th[' + strLastSelected + ']';\n    const ephemera = {\n      selected: strSelected,\n      selectedSelector: strSelectedSelector,\n      firstSelected: strFirstSelected,\n      firstSelectedSelector: strFirstSelectedSelector,\n      lastSelected: strLastSelected,\n      lastSelectedSelector: strLastSelectedSelector\n    };\n\n    const getSelectionCellFallback = element => table(element).bind(table => retrieve(table, ephemera.firstSelectedSelector)).fold(constant(element), cells => cells[0]);\n    const getSelectionFromSelector = selector => (initCell, isRoot) => {\n      const cellName = name(initCell);\n      const cell = cellName === 'col' || cellName === 'colgroup' ? getSelectionCellFallback(initCell) : initCell;\n      return closest$1(cell, selector, isRoot);\n    };\n    const getSelectionCellOrCaption = getSelectionFromSelector('th,td,caption');\n    const getSelectionCell = getSelectionFromSelector('th,td');\n    const getCellsFromSelection = editor => fromDom(editor.model.table.getSelectedCells());\n    const getRowsFromSelection = (selected, selector) => {\n      const cellOpt = getSelectionCell(selected);\n      const rowsOpt = cellOpt.bind(cell => table(cell)).map(table => rows(table));\n      return lift2(cellOpt, rowsOpt, (cell, rows) => filter(rows, row => exists(fromDom(row.dom.cells), rowCell => get$2(rowCell, selector) === '1' || eq(rowCell, cell)))).getOr([]);\n    };\n\n    const verticalAlignValues = [\n      {\n        text: 'None',\n        value: ''\n      },\n      {\n        text: 'Top',\n        value: 'top'\n      },\n      {\n        text: 'Middle',\n        value: 'middle'\n      },\n      {\n        text: 'Bottom',\n        value: 'bottom'\n      }\n    ];\n\n    const hexColour = value => ({ value: normalizeHex(value) });\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    const longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    const isHexString = hex => shorthandRegex.test(hex) || longformRegex.test(hex);\n    const normalizeHex = hex => removeLeading(hex, '#').toUpperCase();\n    const fromString$1 = hex => isHexString(hex) ? Optional.some({ value: normalizeHex(hex) }) : Optional.none();\n    const toHex = component => {\n      const hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    const fromRgba = rgbaColour => {\n      const value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    const rgbRegex = /^\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\\s*$/i;\n    const rgbaRegex = /^\\s*rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d?(?:\\.\\d+)?)\\s*\\)\\s*$/i;\n    const rgbaColour = (red, green, blue, alpha) => ({\n      red,\n      green,\n      blue,\n      alpha\n    });\n    const fromStringValues = (red, green, blue, alpha) => {\n      const r = parseInt(red, 10);\n      const g = parseInt(green, 10);\n      const b = parseInt(blue, 10);\n      const a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    const fromString = rgbaString => {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      const rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      const rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n\n    const anyToHex = color => fromString$1(color).orThunk(() => fromString(color).map(fromRgba)).getOrThunk(() => {\n      const canvas = document.createElement('canvas');\n      canvas.height = 1;\n      canvas.width = 1;\n      const canvasContext = canvas.getContext('2d');\n      canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n      canvasContext.fillStyle = '#FFFFFF';\n      canvasContext.fillStyle = color;\n      canvasContext.fillRect(0, 0, 1, 1);\n      const rgba = canvasContext.getImageData(0, 0, 1, 1).data;\n      const r = rgba[0];\n      const g = rgba[1];\n      const b = rgba[2];\n      const a = rgba[3];\n      return fromRgba(rgbaColour(r, g, b, a));\n    });\n    const rgbaToHexString = color => fromString(color).map(fromRgba).map(h => '#' + h.value).getOr(color);\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const unbindable = () => singleton(s => s.unbind());\n\n    const onSetupToggle = (editor, formatName, formatValue) => {\n      return api => {\n        const boundCallback = unbindable();\n        const isNone = isEmpty(formatValue);\n        const init = () => {\n          const selectedCells = getCellsFromSelection(editor);\n          const checkNode = cell => editor.formatter.match(formatName, { value: formatValue }, cell.dom, isNone);\n          if (isNone) {\n            api.setActive(!exists(selectedCells, checkNode));\n            boundCallback.set(editor.formatter.formatChanged(formatName, match => api.setActive(!match), true));\n          } else {\n            api.setActive(forall(selectedCells, checkNode));\n            boundCallback.set(editor.formatter.formatChanged(formatName, api.setActive, false, { value: formatValue }));\n          }\n        };\n        editor.initialized ? init() : editor.on('init', init);\n        return boundCallback.clear;\n      };\n    };\n    const isListGroup = item => hasNonNullableKey(item, 'menu');\n    const buildListItems = items => map(items, item => {\n      const text = item.text || item.title || '';\n      if (isListGroup(item)) {\n        return {\n          text,\n          items: buildListItems(item.menu)\n        };\n      } else {\n        return {\n          text,\n          value: item.value\n        };\n      }\n    });\n    const buildMenuItems = (editor, items, format, onAction) => map(items, item => {\n      const text = item.text || item.title;\n      if (isListGroup(item)) {\n        return {\n          type: 'nestedmenuitem',\n          text,\n          getSubmenuItems: () => buildMenuItems(editor, item.menu, format, onAction)\n        };\n      } else {\n        return {\n          text,\n          type: 'togglemenuitem',\n          onAction: () => onAction(item.value),\n          onSetup: onSetupToggle(editor, format, item.value)\n        };\n      }\n    });\n    const applyTableCellStyle = (editor, style) => value => {\n      editor.execCommand('mceTableApplyCellStyle', false, { [style]: value });\n    };\n    const filterNoneItem = list => bind(list, item => {\n      if (isListGroup(item)) {\n        return [{\n            ...item,\n            menu: filterNoneItem(item.menu)\n          }];\n      } else {\n        return isNotEmpty(item.value) ? [item] : [];\n      }\n    });\n    const generateMenuItemsCallback = (editor, items, format, onAction) => callback => callback(buildMenuItems(editor, items, format, onAction));\n    const buildColorMenu = (editor, colorList, style) => {\n      const colorMap = map(colorList, entry => ({\n        text: entry.title,\n        value: '#' + anyToHex(entry.value).value,\n        type: 'choiceitem'\n      }));\n      return [{\n          type: 'fancymenuitem',\n          fancytype: 'colorswatch',\n          initData: {\n            colors: colorMap.length > 0 ? colorMap : undefined,\n            allowCustomColors: false\n          },\n          onAction: data => {\n            const value = data.value === 'remove' ? '' : data.value;\n            editor.execCommand('mceTableApplyCellStyle', false, { [style]: value });\n          }\n        }];\n    };\n    const changeRowHeader = editor => () => {\n      const currentType = editor.queryCommandValue('mceTableRowType');\n      const newType = currentType === 'header' ? 'body' : 'header';\n      editor.execCommand('mceTableRowType', false, { type: newType });\n    };\n    const changeColumnHeader = editor => () => {\n      const currentType = editor.queryCommandValue('mceTableColType');\n      const newType = currentType === 'th' ? 'td' : 'th';\n      editor.execCommand('mceTableColType', false, { type: newType });\n    };\n\n    const getClassList$1 = editor => {\n      const classes = buildListItems(getCellClassList(editor));\n      if (classes.length > 0) {\n        return Optional.some({\n          name: 'class',\n          type: 'listbox',\n          label: 'Class',\n          items: classes\n        });\n      }\n      return Optional.none();\n    };\n    const children = [\n      {\n        name: 'width',\n        type: 'input',\n        label: 'Width'\n      },\n      {\n        name: 'height',\n        type: 'input',\n        label: 'Height'\n      },\n      {\n        name: 'celltype',\n        type: 'listbox',\n        label: 'Cell type',\n        items: [\n          {\n            text: 'Cell',\n            value: 'td'\n          },\n          {\n            text: 'Header cell',\n            value: 'th'\n          }\n        ]\n      },\n      {\n        name: 'scope',\n        type: 'listbox',\n        label: 'Scope',\n        items: [\n          {\n            text: 'None',\n            value: ''\n          },\n          {\n            text: 'Row',\n            value: 'row'\n          },\n          {\n            text: 'Column',\n            value: 'col'\n          },\n          {\n            text: 'Row group',\n            value: 'rowgroup'\n          },\n          {\n            text: 'Column group',\n            value: 'colgroup'\n          }\n        ]\n      },\n      {\n        name: 'halign',\n        type: 'listbox',\n        label: 'Horizontal align',\n        items: [\n          {\n            text: 'None',\n            value: ''\n          },\n          {\n            text: 'Left',\n            value: 'left'\n          },\n          {\n            text: 'Center',\n            value: 'center'\n          },\n          {\n            text: 'Right',\n            value: 'right'\n          }\n        ]\n      },\n      {\n        name: 'valign',\n        type: 'listbox',\n        label: 'Vertical align',\n        items: verticalAlignValues\n      }\n    ];\n    const getItems$2 = editor => children.concat(getClassList$1(editor).toArray());\n\n    const getAdvancedTab = (editor, dialogName) => {\n      const emptyBorderStyle = [{\n          text: 'Select...',\n          value: ''\n        }];\n      const advTabItems = [\n        {\n          name: 'borderstyle',\n          type: 'listbox',\n          label: 'Border style',\n          items: emptyBorderStyle.concat(buildListItems(getTableBorderStyles(editor)))\n        },\n        {\n          name: 'bordercolor',\n          type: 'colorinput',\n          label: 'Border color'\n        },\n        {\n          name: 'backgroundcolor',\n          type: 'colorinput',\n          label: 'Background color'\n        }\n      ];\n      const borderWidth = {\n        name: 'borderwidth',\n        type: 'input',\n        label: 'Border width'\n      };\n      const items = dialogName === 'cell' ? [borderWidth].concat(advTabItems) : advTabItems;\n      return {\n        title: 'Advanced',\n        name: 'advanced',\n        items\n      };\n    };\n\n    const normal = (editor, element) => {\n      const dom = editor.dom;\n      const setAttrib = (attr, value) => {\n        dom.setAttrib(element, attr, value);\n      };\n      const setStyle = (prop, value) => {\n        dom.setStyle(element, prop, value);\n      };\n      const setFormat = (formatName, value) => {\n        if (value === '') {\n          editor.formatter.remove(formatName, { value: null }, element, true);\n        } else {\n          editor.formatter.apply(formatName, { value }, element);\n        }\n      };\n      return {\n        setAttrib,\n        setStyle,\n        setFormat\n      };\n    };\n    const DomModifier = { normal };\n\n    const isHeaderCell = isTag('th');\n    const getRowHeaderType = (isHeaderRow, isHeaderCells) => {\n      if (isHeaderRow && isHeaderCells) {\n        return 'sectionCells';\n      } else if (isHeaderRow) {\n        return 'section';\n      } else {\n        return 'cells';\n      }\n    };\n    const getRowType$1 = row => {\n      const isHeaderRow = row.section === 'thead';\n      const isHeaderCells = is(findCommonCellType(row.cells), 'th');\n      if (row.section === 'tfoot') {\n        return { type: 'footer' };\n      } else if (isHeaderRow || isHeaderCells) {\n        return {\n          type: 'header',\n          subType: getRowHeaderType(isHeaderRow, isHeaderCells)\n        };\n      } else {\n        return { type: 'body' };\n      }\n    };\n    const findCommonCellType = cells => {\n      const headerCells = filter(cells, cell => isHeaderCell(cell.element));\n      if (headerCells.length === 0) {\n        return Optional.some('td');\n      } else if (headerCells.length === cells.length) {\n        return Optional.some('th');\n      } else {\n        return Optional.none();\n      }\n    };\n    const findCommonRowType = rows => {\n      const rowTypes = map(rows, row => getRowType$1(row).type);\n      const hasHeader = contains(rowTypes, 'header');\n      const hasFooter = contains(rowTypes, 'footer');\n      if (!hasHeader && !hasFooter) {\n        return Optional.some('body');\n      } else {\n        const hasBody = contains(rowTypes, 'body');\n        if (hasHeader && !hasBody && !hasFooter) {\n          return Optional.some('header');\n        } else if (!hasHeader && !hasBody && hasFooter) {\n          return Optional.some('footer');\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const findInWarehouse = (warehouse, element) => findMap(warehouse.all, r => find(r.cells, e => eq(element, e.element)));\n    const extractCells = (warehouse, target, predicate) => {\n      const details = map(target.selection, cell$1 => {\n        return cell(cell$1).bind(lc => findInWarehouse(warehouse, lc)).filter(predicate);\n      });\n      const cells = cat(details);\n      return someIf(cells.length > 0, cells);\n    };\n    const onMergable = (_warehouse, target) => target.mergable;\n    const onUnmergable = (_warehouse, target) => target.unmergable;\n    const onCells = (warehouse, target) => extractCells(warehouse, target, always);\n    const isUnlockedTableCell = (warehouse, cell) => findInWarehouse(warehouse, cell).exists(detail => !detail.isLocked);\n    const allUnlocked = (warehouse, cells) => forall(cells, cell => isUnlockedTableCell(warehouse, cell));\n    const onUnlockedMergable = (warehouse, target) => onMergable(warehouse, target).filter(mergeable => allUnlocked(warehouse, mergeable.cells));\n    const onUnlockedUnmergable = (warehouse, target) => onUnmergable(warehouse, target).filter(cells => allUnlocked(warehouse, cells));\n\n    const generate = cases => {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate };\n\n    const adt = Adt.generate([\n      { none: [] },\n      { only: ['index'] },\n      {\n        left: [\n          'index',\n          'next'\n        ]\n      },\n      {\n        middle: [\n          'prev',\n          'index',\n          'next'\n        ]\n      },\n      {\n        right: [\n          'prev',\n          'index'\n        ]\n      }\n    ]);\n    ({ ...adt });\n\n    const opGetRowsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minRowRange = selectedCells[0].row;\n        const maxRowRange = lastSelectedCell.row + lastSelectedCell.rowspan;\n        const selectedRows = house.all.slice(minRowRange, maxRowRange);\n        return findCommonRowType(selectedRows);\n      }).getOr('');\n    };\n    const getRowsType = opGetRowsType;\n\n    const rgbToHex = value => startsWith(value, 'rgb') ? rgbaToHexString(value) : value;\n    const extractAdvancedStyles = elm => {\n      const element = SugarElement.fromDom(elm);\n      return {\n        borderwidth: getRaw(element, 'border-width').getOr(''),\n        borderstyle: getRaw(element, 'border-style').getOr(''),\n        bordercolor: getRaw(element, 'border-color').map(rgbToHex).getOr(''),\n        backgroundcolor: getRaw(element, 'background-color').map(rgbToHex).getOr('')\n      };\n    };\n    const getSharedValues = data => {\n      const baseData = data[0];\n      const comparisonData = data.slice(1);\n      each(comparisonData, items => {\n        each(keys(baseData), key => {\n          each$1(items, (itemValue, itemKey) => {\n            const comparisonValue = baseData[key];\n            if (comparisonValue !== '' && key === itemKey) {\n              if (comparisonValue !== itemValue) {\n                baseData[key] = '';\n              }\n            }\n          });\n        });\n      });\n      return baseData;\n    };\n    const getAlignment = (formats, formatName, editor, elm) => find(formats, name => !isUndefined(editor.formatter.matchNode(elm, formatName + name))).getOr('');\n    const getHAlignment = curry(getAlignment, [\n      'left',\n      'center',\n      'right'\n    ], 'align');\n    const getVAlignment = curry(getAlignment, [\n      'top',\n      'middle',\n      'bottom'\n    ], 'valign');\n    const extractDataFromSettings = (editor, hasAdvTableTab) => {\n      const style = getDefaultStyles(editor);\n      const attrs = getDefaultAttributes(editor);\n      const extractAdvancedStyleData = () => ({\n        borderstyle: get$4(style, 'border-style').getOr(''),\n        bordercolor: rgbToHex(get$4(style, 'border-color').getOr('')),\n        backgroundcolor: rgbToHex(get$4(style, 'background-color').getOr(''))\n      });\n      const defaultData = {\n        height: '',\n        width: '100%',\n        cellspacing: '',\n        cellpadding: '',\n        caption: false,\n        class: '',\n        align: '',\n        border: ''\n      };\n      const getBorder = () => {\n        const borderWidth = style['border-width'];\n        if (shouldStyleWithCss(editor) && borderWidth) {\n          return { border: borderWidth };\n        }\n        return get$4(attrs, 'border').fold(() => ({}), border => ({ border }));\n      };\n      const advStyle = hasAdvTableTab ? extractAdvancedStyleData() : {};\n      const getCellPaddingCellSpacing = () => {\n        const spacing = get$4(style, 'border-spacing').or(get$4(attrs, 'cellspacing')).fold(() => ({}), cellspacing => ({ cellspacing }));\n        const padding = get$4(style, 'border-padding').or(get$4(attrs, 'cellpadding')).fold(() => ({}), cellpadding => ({ cellpadding }));\n        return {\n          ...spacing,\n          ...padding\n        };\n      };\n      const data = {\n        ...defaultData,\n        ...style,\n        ...attrs,\n        ...advStyle,\n        ...getBorder(),\n        ...getCellPaddingCellSpacing()\n      };\n      return data;\n    };\n    const getRowType = elm => table(SugarElement.fromDom(elm)).map(table => {\n      const target = { selection: fromDom(elm.cells) };\n      return getRowsType(table, target);\n    }).getOr('');\n    const extractDataFromTableElement = (editor, elm, hasAdvTableTab) => {\n      const getBorder = (dom, elm) => {\n        const optBorderWidth = getRaw(SugarElement.fromDom(elm), 'border-width');\n        if (shouldStyleWithCss(editor) && optBorderWidth.isSome()) {\n          return optBorderWidth.getOr('');\n        }\n        return dom.getAttrib(elm, 'border') || getTDTHOverallStyle(editor.dom, elm, 'border-width') || getTDTHOverallStyle(editor.dom, elm, 'border') || '';\n      };\n      const dom = editor.dom;\n      const cellspacing = shouldStyleWithCss(editor) ? dom.getStyle(elm, 'border-spacing') || dom.getAttrib(elm, 'cellspacing') : dom.getAttrib(elm, 'cellspacing') || dom.getStyle(elm, 'border-spacing');\n      const cellpadding = shouldStyleWithCss(editor) ? getTDTHOverallStyle(dom, elm, 'padding') || dom.getAttrib(elm, 'cellpadding') : dom.getAttrib(elm, 'cellpadding') || getTDTHOverallStyle(dom, elm, 'padding');\n      return {\n        width: dom.getStyle(elm, 'width') || dom.getAttrib(elm, 'width'),\n        height: dom.getStyle(elm, 'height') || dom.getAttrib(elm, 'height'),\n        cellspacing: cellspacing !== null && cellspacing !== void 0 ? cellspacing : '',\n        cellpadding: cellpadding !== null && cellpadding !== void 0 ? cellpadding : '',\n        border: getBorder(dom, elm),\n        caption: !!dom.select('caption', elm)[0],\n        class: dom.getAttrib(elm, 'class', ''),\n        align: getHAlignment(editor, elm),\n        ...hasAdvTableTab ? extractAdvancedStyles(elm) : {}\n      };\n    };\n    const extractDataFromRowElement = (editor, elm, hasAdvancedRowTab) => {\n      const dom = editor.dom;\n      return {\n        height: dom.getStyle(elm, 'height') || dom.getAttrib(elm, 'height'),\n        class: dom.getAttrib(elm, 'class', ''),\n        type: getRowType(elm),\n        align: getHAlignment(editor, elm),\n        ...hasAdvancedRowTab ? extractAdvancedStyles(elm) : {}\n      };\n    };\n    const extractDataFromCellElement = (editor, cell, hasAdvancedCellTab, column) => {\n      const dom = editor.dom;\n      const colElm = column.getOr(cell);\n      const getStyle = (element, style) => dom.getStyle(element, style) || dom.getAttrib(element, style);\n      return {\n        width: getStyle(colElm, 'width'),\n        height: getStyle(cell, 'height'),\n        scope: dom.getAttrib(cell, 'scope'),\n        celltype: getNodeName(cell),\n        class: dom.getAttrib(cell, 'class', ''),\n        halign: getHAlignment(editor, cell),\n        valign: getVAlignment(editor, cell),\n        ...hasAdvancedCellTab ? extractAdvancedStyles(cell) : {}\n      };\n    };\n\n    const getSelectedCells = (table, cells) => {\n      const warehouse = Warehouse.fromTable(table);\n      const allCells = Warehouse.justCells(warehouse);\n      const filtered = filter(allCells, cellA => exists(cells, cellB => eq(cellA.element, cellB)));\n      return map(filtered, cell => ({\n        element: cell.element.dom,\n        column: Warehouse.getColumnAt(warehouse, cell.column).map(col => col.element.dom)\n      }));\n    };\n    const updateSimpleProps$1 = (modifier, colModifier, data, shouldUpdate) => {\n      if (shouldUpdate('scope')) {\n        modifier.setAttrib('scope', data.scope);\n      }\n      if (shouldUpdate('class')) {\n        modifier.setAttrib('class', data.class);\n      }\n      if (shouldUpdate('height')) {\n        modifier.setStyle('height', addPxSuffix(data.height));\n      }\n      if (shouldUpdate('width')) {\n        colModifier.setStyle('width', addPxSuffix(data.width));\n      }\n    };\n    const updateAdvancedProps$1 = (modifier, data, shouldUpdate) => {\n      if (shouldUpdate('backgroundcolor')) {\n        modifier.setFormat('tablecellbackgroundcolor', data.backgroundcolor);\n      }\n      if (shouldUpdate('bordercolor')) {\n        modifier.setFormat('tablecellbordercolor', data.bordercolor);\n      }\n      if (shouldUpdate('borderstyle')) {\n        modifier.setFormat('tablecellborderstyle', data.borderstyle);\n      }\n      if (shouldUpdate('borderwidth')) {\n        modifier.setFormat('tablecellborderwidth', addPxSuffix(data.borderwidth));\n      }\n    };\n    const applyStyleData$1 = (editor, cells, data, wasChanged) => {\n      const isSingleCell = cells.length === 1;\n      each(cells, item => {\n        const cellElm = item.element;\n        const shouldOverrideCurrentValue = isSingleCell ? always : wasChanged;\n        const modifier = DomModifier.normal(editor, cellElm);\n        const colModifier = item.column.map(col => DomModifier.normal(editor, col)).getOr(modifier);\n        updateSimpleProps$1(modifier, colModifier, data, shouldOverrideCurrentValue);\n        if (hasAdvancedCellTab(editor)) {\n          updateAdvancedProps$1(modifier, data, shouldOverrideCurrentValue);\n        }\n        if (wasChanged('halign')) {\n          setAlign(editor, cellElm, data.halign);\n        }\n        if (wasChanged('valign')) {\n          setVAlign(editor, cellElm, data.valign);\n        }\n      });\n    };\n    const applyStructureData$1 = (editor, data) => {\n      editor.execCommand('mceTableCellType', false, {\n        type: data.celltype,\n        no_events: true\n      });\n    };\n    const applyCellData = (editor, cells, oldData, data) => {\n      const modifiedData = filter$1(data, (value, key) => oldData[key] !== value);\n      if (size(modifiedData) > 0 && cells.length >= 1) {\n        table(cells[0]).each(table => {\n          const selectedCells = getSelectedCells(table, cells);\n          const styleModified = size(filter$1(modifiedData, (_value, key) => key !== 'scope' && key !== 'celltype')) > 0;\n          const structureModified = has(modifiedData, 'celltype');\n          if (styleModified || has(modifiedData, 'scope')) {\n            applyStyleData$1(editor, selectedCells, data, curry(has, modifiedData));\n          }\n          if (structureModified) {\n            applyStructureData$1(editor, data);\n          }\n          fireTableModified(editor, table.dom, {\n            structure: structureModified,\n            style: styleModified\n          });\n        });\n      }\n    };\n    const onSubmitCellForm = (editor, cells, oldData, api) => {\n      const data = api.getData();\n      api.close();\n      editor.undoManager.transact(() => {\n        applyCellData(editor, cells, oldData, data);\n        editor.focus();\n      });\n    };\n    const getData$1 = (editor, cells) => {\n      const cellsData = table(cells[0]).map(table => map(getSelectedCells(table, cells), item => extractDataFromCellElement(editor, item.element, hasAdvancedCellTab(editor), item.column)));\n      return getSharedValues(cellsData.getOrDie());\n    };\n    const open$2 = editor => {\n      const cells = getCellsFromSelection(editor);\n      if (cells.length === 0) {\n        return;\n      }\n      const data = getData$1(editor, cells);\n      const dialogTabPanel = {\n        type: 'tabpanel',\n        tabs: [\n          {\n            title: 'General',\n            name: 'general',\n            items: getItems$2(editor)\n          },\n          getAdvancedTab(editor, 'cell')\n        ]\n      };\n      const dialogPanel = {\n        type: 'panel',\n        items: [{\n            type: 'grid',\n            columns: 2,\n            items: getItems$2(editor)\n          }]\n      };\n      editor.windowManager.open({\n        title: 'Cell Properties',\n        size: 'normal',\n        body: hasAdvancedCellTab(editor) ? dialogTabPanel : dialogPanel,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: data,\n        onSubmit: curry(onSubmitCellForm, editor, cells, data)\n      });\n    };\n\n    const getClassList = editor => {\n      const classes = buildListItems(getRowClassList(editor));\n      if (classes.length > 0) {\n        return Optional.some({\n          name: 'class',\n          type: 'listbox',\n          label: 'Class',\n          items: classes\n        });\n      }\n      return Optional.none();\n    };\n    const formChildren = [\n      {\n        type: 'listbox',\n        name: 'type',\n        label: 'Row type',\n        items: [\n          {\n            text: 'Header',\n            value: 'header'\n          },\n          {\n            text: 'Body',\n            value: 'body'\n          },\n          {\n            text: 'Footer',\n            value: 'footer'\n          }\n        ]\n      },\n      {\n        type: 'listbox',\n        name: 'align',\n        label: 'Alignment',\n        items: [\n          {\n            text: 'None',\n            value: ''\n          },\n          {\n            text: 'Left',\n            value: 'left'\n          },\n          {\n            text: 'Center',\n            value: 'center'\n          },\n          {\n            text: 'Right',\n            value: 'right'\n          }\n        ]\n      },\n      {\n        label: 'Height',\n        name: 'height',\n        type: 'input'\n      }\n    ];\n    const getItems$1 = editor => formChildren.concat(getClassList(editor).toArray());\n\n    const updateSimpleProps = (modifier, data, shouldUpdate) => {\n      if (shouldUpdate('class')) {\n        modifier.setAttrib('class', data.class);\n      }\n      if (shouldUpdate('height')) {\n        modifier.setStyle('height', addPxSuffix(data.height));\n      }\n    };\n    const updateAdvancedProps = (modifier, data, shouldUpdate) => {\n      if (shouldUpdate('backgroundcolor')) {\n        modifier.setStyle('background-color', data.backgroundcolor);\n      }\n      if (shouldUpdate('bordercolor')) {\n        modifier.setStyle('border-color', data.bordercolor);\n      }\n      if (shouldUpdate('borderstyle')) {\n        modifier.setStyle('border-style', data.borderstyle);\n      }\n    };\n    const applyStyleData = (editor, rows, data, wasChanged) => {\n      const isSingleRow = rows.length === 1;\n      const shouldOverrideCurrentValue = isSingleRow ? always : wasChanged;\n      each(rows, rowElm => {\n        const modifier = DomModifier.normal(editor, rowElm);\n        updateSimpleProps(modifier, data, shouldOverrideCurrentValue);\n        if (hasAdvancedRowTab(editor)) {\n          updateAdvancedProps(modifier, data, shouldOverrideCurrentValue);\n        }\n        if (wasChanged('align')) {\n          setAlign(editor, rowElm, data.align);\n        }\n      });\n    };\n    const applyStructureData = (editor, data) => {\n      editor.execCommand('mceTableRowType', false, {\n        type: data.type,\n        no_events: true\n      });\n    };\n    const applyRowData = (editor, rows, oldData, data) => {\n      const modifiedData = filter$1(data, (value, key) => oldData[key] !== value);\n      if (size(modifiedData) > 0) {\n        const typeModified = has(modifiedData, 'type');\n        const styleModified = typeModified ? size(modifiedData) > 1 : true;\n        if (styleModified) {\n          applyStyleData(editor, rows, data, curry(has, modifiedData));\n        }\n        if (typeModified) {\n          applyStructureData(editor, data);\n        }\n        table(SugarElement.fromDom(rows[0])).each(table => fireTableModified(editor, table.dom, {\n          structure: typeModified,\n          style: styleModified\n        }));\n      }\n    };\n    const onSubmitRowForm = (editor, rows, oldData, api) => {\n      const data = api.getData();\n      api.close();\n      editor.undoManager.transact(() => {\n        applyRowData(editor, rows, oldData, data);\n        editor.focus();\n      });\n    };\n    const open$1 = editor => {\n      const rows = getRowsFromSelection(getSelectionStart(editor), ephemera.selected);\n      if (rows.length === 0) {\n        return;\n      }\n      const rowsData = map(rows, rowElm => extractDataFromRowElement(editor, rowElm.dom, hasAdvancedRowTab(editor)));\n      const data = getSharedValues(rowsData);\n      const dialogTabPanel = {\n        type: 'tabpanel',\n        tabs: [\n          {\n            title: 'General',\n            name: 'general',\n            items: getItems$1(editor)\n          },\n          getAdvancedTab(editor, 'row')\n        ]\n      };\n      const dialogPanel = {\n        type: 'panel',\n        items: [{\n            type: 'grid',\n            columns: 2,\n            items: getItems$1(editor)\n          }]\n      };\n      editor.windowManager.open({\n        title: 'Row Properties',\n        size: 'normal',\n        body: hasAdvancedRowTab(editor) ? dialogTabPanel : dialogPanel,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: data,\n        onSubmit: curry(onSubmitRowForm, editor, map(rows, r => r.dom), data)\n      });\n    };\n\n    const getItems = (editor, classes, insertNewTable) => {\n      const rowColCountItems = !insertNewTable ? [] : [\n        {\n          type: 'input',\n          name: 'cols',\n          label: 'Cols',\n          inputMode: 'numeric'\n        },\n        {\n          type: 'input',\n          name: 'rows',\n          label: 'Rows',\n          inputMode: 'numeric'\n        }\n      ];\n      const alwaysItems = [\n        {\n          type: 'input',\n          name: 'width',\n          label: 'Width'\n        },\n        {\n          type: 'input',\n          name: 'height',\n          label: 'Height'\n        }\n      ];\n      const appearanceItems = hasAppearanceOptions(editor) ? [\n        {\n          type: 'input',\n          name: 'cellspacing',\n          label: 'Cell spacing',\n          inputMode: 'numeric'\n        },\n        {\n          type: 'input',\n          name: 'cellpadding',\n          label: 'Cell padding',\n          inputMode: 'numeric'\n        },\n        {\n          type: 'input',\n          name: 'border',\n          label: 'Border width'\n        },\n        {\n          type: 'label',\n          label: 'Caption',\n          items: [{\n              type: 'checkbox',\n              name: 'caption',\n              label: 'Show caption'\n            }]\n        }\n      ] : [];\n      const alignmentItem = [{\n          type: 'listbox',\n          name: 'align',\n          label: 'Alignment',\n          items: [\n            {\n              text: 'None',\n              value: ''\n            },\n            {\n              text: 'Left',\n              value: 'left'\n            },\n            {\n              text: 'Center',\n              value: 'center'\n            },\n            {\n              text: 'Right',\n              value: 'right'\n            }\n          ]\n        }];\n      const classListItem = classes.length > 0 ? [{\n          type: 'listbox',\n          name: 'class',\n          label: 'Class',\n          items: classes\n        }] : [];\n      return rowColCountItems.concat(alwaysItems).concat(appearanceItems).concat(alignmentItem).concat(classListItem);\n    };\n\n    const styleTDTH = (dom, elm, name, value) => {\n      if (elm.tagName === 'TD' || elm.tagName === 'TH') {\n        if (isString(name) && isNonNullable(value)) {\n          dom.setStyle(elm, name, value);\n        } else {\n          dom.setStyles(elm, name);\n        }\n      } else {\n        if (elm.children) {\n          for (let i = 0; i < elm.children.length; i++) {\n            styleTDTH(dom, elm.children[i], name, value);\n          }\n        }\n      }\n    };\n    const applyDataToElement = (editor, tableElm, data) => {\n      const dom = editor.dom;\n      const attrs = {};\n      const styles = {};\n      if (!isUndefined(data.class)) {\n        attrs.class = data.class;\n      }\n      styles.height = addPxSuffix(data.height);\n      if (shouldStyleWithCss(editor)) {\n        styles.width = addPxSuffix(data.width);\n      } else if (dom.getAttrib(tableElm, 'width')) {\n        attrs.width = removePxSuffix(data.width);\n      }\n      if (shouldStyleWithCss(editor)) {\n        styles['border-width'] = addPxSuffix(data.border);\n        styles['border-spacing'] = addPxSuffix(data.cellspacing);\n      } else {\n        attrs.border = data.border;\n        attrs.cellpadding = data.cellpadding;\n        attrs.cellspacing = data.cellspacing;\n      }\n      if (shouldStyleWithCss(editor) && tableElm.children) {\n        for (let i = 0; i < tableElm.children.length; i++) {\n          styleTDTH(dom, tableElm.children[i], {\n            'border-width': addPxSuffix(data.border),\n            'padding': addPxSuffix(data.cellpadding)\n          });\n          if (hasAdvancedTableTab(editor)) {\n            styleTDTH(dom, tableElm.children[i], { 'border-color': data.bordercolor });\n          }\n        }\n      }\n      if (hasAdvancedTableTab(editor)) {\n        const advData = data;\n        styles['background-color'] = advData.backgroundcolor;\n        styles['border-color'] = advData.bordercolor;\n        styles['border-style'] = advData.borderstyle;\n      }\n      attrs.style = dom.serializeStyle({\n        ...getDefaultStyles(editor),\n        ...styles\n      });\n      dom.setAttribs(tableElm, {\n        ...getDefaultAttributes(editor),\n        ...attrs\n      });\n    };\n    const onSubmitTableForm = (editor, tableElm, oldData, api) => {\n      const dom = editor.dom;\n      const data = api.getData();\n      const modifiedData = filter$1(data, (value, key) => oldData[key] !== value);\n      api.close();\n      if (data.class === '') {\n        delete data.class;\n      }\n      editor.undoManager.transact(() => {\n        if (!tableElm) {\n          const cols = toInt(data.cols).getOr(1);\n          const rows = toInt(data.rows).getOr(1);\n          editor.execCommand('mceInsertTable', false, {\n            rows,\n            columns: cols\n          });\n          tableElm = getSelectionCell(getSelectionStart(editor), getIsRoot(editor)).bind(cell => table(cell, getIsRoot(editor))).map(table => table.dom).getOrDie();\n        }\n        if (size(modifiedData) > 0) {\n          applyDataToElement(editor, tableElm, data);\n          const captionElm = dom.select('caption', tableElm)[0];\n          if (captionElm && !data.caption || !captionElm && data.caption) {\n            editor.execCommand('mceTableToggleCaption');\n          }\n          setAlign(editor, tableElm, data.align);\n        }\n        editor.focus();\n        editor.addVisual();\n        if (size(modifiedData) > 0) {\n          const captionModified = has(modifiedData, 'caption');\n          const styleModified = captionModified ? size(modifiedData) > 1 : true;\n          fireTableModified(editor, tableElm, {\n            structure: captionModified,\n            style: styleModified\n          });\n        }\n      });\n    };\n    const open = (editor, insertNewTable) => {\n      const dom = editor.dom;\n      let tableElm;\n      let data = extractDataFromSettings(editor, hasAdvancedTableTab(editor));\n      if (insertNewTable) {\n        data.cols = '1';\n        data.rows = '1';\n        if (hasAdvancedTableTab(editor)) {\n          data.borderstyle = '';\n          data.bordercolor = '';\n          data.backgroundcolor = '';\n        }\n      } else {\n        tableElm = dom.getParent(editor.selection.getStart(), 'table', editor.getBody());\n        if (tableElm) {\n          data = extractDataFromTableElement(editor, tableElm, hasAdvancedTableTab(editor));\n        } else {\n          if (hasAdvancedTableTab(editor)) {\n            data.borderstyle = '';\n            data.bordercolor = '';\n            data.backgroundcolor = '';\n          }\n        }\n      }\n      const classes = buildListItems(getTableClassList(editor));\n      if (classes.length > 0) {\n        if (data.class) {\n          data.class = data.class.replace(/\\s*mce\\-item\\-table\\s*/g, '');\n        }\n      }\n      const generalPanel = {\n        type: 'grid',\n        columns: 2,\n        items: getItems(editor, classes, insertNewTable)\n      };\n      const nonAdvancedForm = () => ({\n        type: 'panel',\n        items: [generalPanel]\n      });\n      const advancedForm = () => ({\n        type: 'tabpanel',\n        tabs: [\n          {\n            title: 'General',\n            name: 'general',\n            items: [generalPanel]\n          },\n          getAdvancedTab(editor, 'table')\n        ]\n      });\n      const dialogBody = hasAdvancedTableTab(editor) ? advancedForm() : nonAdvancedForm();\n      editor.windowManager.open({\n        title: 'Table Properties',\n        size: 'normal',\n        body: dialogBody,\n        onSubmit: curry(onSubmitTableForm, editor, tableElm, data),\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: data\n      });\n    };\n\n    const registerCommands = editor => {\n      const runAction = f => {\n        if (isInEditableContext(getSelectionStart(editor))) {\n          f();\n        }\n      };\n      each$1({\n        mceTableProps: curry(open, editor, false),\n        mceTableRowProps: curry(open$1, editor),\n        mceTableCellProps: curry(open$2, editor),\n        mceInsertTableDialog: curry(open, editor, true)\n      }, (func, name) => editor.addCommand(name, () => runAction(func)));\n    };\n\n    const child = (scope, selector) => child$1(scope, selector).isSome();\n\n    const selection = identity;\n    const unmergable = selectedCells => {\n      const hasSpan = (elem, type) => getOpt(elem, type).exists(span => parseInt(span, 10) > 1);\n      const hasRowOrColSpan = elem => hasSpan(elem, 'rowspan') || hasSpan(elem, 'colspan');\n      return selectedCells.length > 0 && forall(selectedCells, hasRowOrColSpan) ? Optional.some(selectedCells) : Optional.none();\n    };\n    const mergable = (table, selectedCells, ephemera) => {\n      if (selectedCells.length <= 1) {\n        return Optional.none();\n      } else {\n        return retrieveBox(table, ephemera.firstSelectedSelector, ephemera.lastSelectedSelector).map(bounds => ({\n          bounds,\n          cells: selectedCells\n        }));\n      }\n    };\n\n    const noMenu = cell => ({\n      element: cell,\n      mergable: Optional.none(),\n      unmergable: Optional.none(),\n      selection: [cell]\n    });\n    const forMenu = (selectedCells, table, cell) => ({\n      element: cell,\n      mergable: mergable(table, selectedCells, ephemera),\n      unmergable: unmergable(selectedCells),\n      selection: selection(selectedCells)\n    });\n\n    const getSelectionTargets = editor => {\n      const targets = Cell(Optional.none());\n      const changeHandlers = Cell([]);\n      let selectionDetails = Optional.none();\n      const isCaption = isTag('caption');\n      const isDisabledForSelection = key => selectionDetails.forall(details => !details[key]);\n      const getStart = () => getSelectionCellOrCaption(getSelectionStart(editor), getIsRoot(editor));\n      const getEnd = () => getSelectionCellOrCaption(getSelectionEnd(editor), getIsRoot(editor));\n      const findTargets = () => getStart().bind(startCellOrCaption => flatten(lift2(table(startCellOrCaption), getEnd().bind(table), (startTable, endTable) => {\n        if (eq(startTable, endTable)) {\n          if (isCaption(startCellOrCaption)) {\n            return Optional.some(noMenu(startCellOrCaption));\n          } else {\n            return Optional.some(forMenu(getCellsFromSelection(editor), startTable, startCellOrCaption));\n          }\n        }\n        return Optional.none();\n      })));\n      const getExtractedDetails = targets => {\n        const tableOpt = table(targets.element);\n        return tableOpt.map(table => {\n          const warehouse = Warehouse.fromTable(table);\n          const selectedCells = onCells(warehouse, targets).getOr([]);\n          const locked = foldl(selectedCells, (acc, cell) => {\n            if (cell.isLocked) {\n              acc.onAny = true;\n              if (cell.column === 0) {\n                acc.onFirst = true;\n              } else if (cell.column + cell.colspan >= warehouse.grid.columns) {\n                acc.onLast = true;\n              }\n            }\n            return acc;\n          }, {\n            onAny: false,\n            onFirst: false,\n            onLast: false\n          });\n          return {\n            mergeable: onUnlockedMergable(warehouse, targets).isSome(),\n            unmergeable: onUnlockedUnmergable(warehouse, targets).isSome(),\n            locked\n          };\n        });\n      };\n      const resetTargets = () => {\n        targets.set(cached(findTargets)());\n        selectionDetails = targets.get().bind(getExtractedDetails);\n        each(changeHandlers.get(), call);\n      };\n      const setupHandler = handler => {\n        handler();\n        changeHandlers.set(changeHandlers.get().concat([handler]));\n        return () => {\n          changeHandlers.set(filter(changeHandlers.get(), h => h !== handler));\n        };\n      };\n      const onSetup = (api, isDisabled) => setupHandler(() => targets.get().fold(() => {\n        api.setEnabled(false);\n      }, targets => {\n        api.setEnabled(!isDisabled(targets));\n      }));\n      const onSetupWithToggle = (api, isDisabled, isActive) => setupHandler(() => targets.get().fold(() => {\n        api.setEnabled(false);\n        api.setActive(false);\n      }, targets => {\n        api.setEnabled(!isDisabled(targets));\n        api.setActive(isActive(targets));\n      }));\n      const isDisabledFromLocked = lockedDisable => selectionDetails.exists(details => details.locked[lockedDisable]);\n      const onSetupTable = api => onSetup(api, _ => false);\n      const onSetupCellOrRow = api => onSetup(api, targets => isCaption(targets.element));\n      const onSetupColumn = lockedDisable => api => onSetup(api, targets => isCaption(targets.element) || isDisabledFromLocked(lockedDisable));\n      const onSetupPasteable = getClipboardData => api => onSetup(api, targets => isCaption(targets.element) || getClipboardData().isNone());\n      const onSetupPasteableColumn = (getClipboardData, lockedDisable) => api => onSetup(api, targets => isCaption(targets.element) || getClipboardData().isNone() || isDisabledFromLocked(lockedDisable));\n      const onSetupMergeable = api => onSetup(api, _targets => isDisabledForSelection('mergeable'));\n      const onSetupUnmergeable = api => onSetup(api, _targets => isDisabledForSelection('unmergeable'));\n      const onSetupTableWithCaption = api => {\n        return onSetupWithToggle(api, never, targets => {\n          const tableOpt = table(targets.element, getIsRoot(editor));\n          return tableOpt.exists(table => child(table, 'caption'));\n        });\n      };\n      const onSetupTableHeaders = (command, headerType) => api => {\n        return onSetupWithToggle(api, targets => isCaption(targets.element), () => editor.queryCommandValue(command) === headerType);\n      };\n      const onSetupTableRowHeaders = onSetupTableHeaders('mceTableRowType', 'header');\n      const onSetupTableColumnHeaders = onSetupTableHeaders('mceTableColType', 'th');\n      editor.on('NodeChange ExecCommand TableSelectorChange', resetTargets);\n      return {\n        onSetupTable,\n        onSetupCellOrRow,\n        onSetupColumn,\n        onSetupPasteable,\n        onSetupPasteableColumn,\n        onSetupMergeable,\n        onSetupUnmergeable,\n        resetTargets,\n        onSetupTableWithCaption,\n        onSetupTableRowHeaders,\n        onSetupTableColumnHeaders,\n        targets: targets.get\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.FakeClipboard');\n\n    const tableTypeBase = 'x-tinymce/dom-table-';\n    const tableTypeRow = tableTypeBase + 'rows';\n    const tableTypeColumn = tableTypeBase + 'columns';\n    const getData = type => {\n      var _a;\n      const items = (_a = global.read()) !== null && _a !== void 0 ? _a : [];\n      return findMap(items, item => Optional.from(item.getType(type)));\n    };\n    const getRows = () => getData(tableTypeRow);\n    const getColumns = () => getData(tableTypeColumn);\n\n    const addButtons = (editor, selectionTargets) => {\n      editor.ui.registry.addMenuButton('table', {\n        tooltip: 'Table',\n        icon: 'table',\n        fetch: callback => callback('inserttable | cell row column | advtablesort | tableprops deletetable')\n      });\n      const cmd = command => () => editor.execCommand(command);\n      const addButtonIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addButton(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n        }\n      };\n      const addToggleButtonIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addToggleButton(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n        }\n      };\n      addButtonIfRegistered('tableprops', {\n        tooltip: 'Table properties',\n        command: 'mceTableProps',\n        icon: 'table',\n        onSetup: selectionTargets.onSetupTable\n      });\n      addButtonIfRegistered('tabledelete', {\n        tooltip: 'Delete table',\n        command: 'mceTableDelete',\n        icon: 'table-delete-table',\n        onSetup: selectionTargets.onSetupTable\n      });\n      addButtonIfRegistered('tablecellprops', {\n        tooltip: 'Cell properties',\n        command: 'mceTableCellProps',\n        icon: 'table-cell-properties',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablemergecells', {\n        tooltip: 'Merge cells',\n        command: 'mceTableMergeCells',\n        icon: 'table-merge-cells',\n        onSetup: selectionTargets.onSetupMergeable\n      });\n      addButtonIfRegistered('tablesplitcells', {\n        tooltip: 'Split cell',\n        command: 'mceTableSplitCells',\n        icon: 'table-split-cells',\n        onSetup: selectionTargets.onSetupUnmergeable\n      });\n      addButtonIfRegistered('tableinsertrowbefore', {\n        tooltip: 'Insert row before',\n        command: 'mceTableInsertRowBefore',\n        icon: 'table-insert-row-above',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tableinsertrowafter', {\n        tooltip: 'Insert row after',\n        command: 'mceTableInsertRowAfter',\n        icon: 'table-insert-row-after',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tabledeleterow', {\n        tooltip: 'Delete row',\n        command: 'mceTableDeleteRow',\n        icon: 'table-delete-row',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablerowprops', {\n        tooltip: 'Row properties',\n        command: 'mceTableRowProps',\n        icon: 'table-row-properties',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tableinsertcolbefore', {\n        tooltip: 'Insert column before',\n        command: 'mceTableInsertColBefore',\n        icon: 'table-insert-column-before',\n        onSetup: selectionTargets.onSetupColumn('onFirst')\n      });\n      addButtonIfRegistered('tableinsertcolafter', {\n        tooltip: 'Insert column after',\n        command: 'mceTableInsertColAfter',\n        icon: 'table-insert-column-after',\n        onSetup: selectionTargets.onSetupColumn('onLast')\n      });\n      addButtonIfRegistered('tabledeletecol', {\n        tooltip: 'Delete column',\n        command: 'mceTableDeleteCol',\n        icon: 'table-delete-column',\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      addButtonIfRegistered('tablecutrow', {\n        tooltip: 'Cut row',\n        command: 'mceTableCutRow',\n        icon: 'cut-row',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablecopyrow', {\n        tooltip: 'Copy row',\n        command: 'mceTableCopyRow',\n        icon: 'duplicate-row',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablepasterowbefore', {\n        tooltip: 'Paste row before',\n        command: 'mceTablePasteRowBefore',\n        icon: 'paste-row-before',\n        onSetup: selectionTargets.onSetupPasteable(getRows)\n      });\n      addButtonIfRegistered('tablepasterowafter', {\n        tooltip: 'Paste row after',\n        command: 'mceTablePasteRowAfter',\n        icon: 'paste-row-after',\n        onSetup: selectionTargets.onSetupPasteable(getRows)\n      });\n      addButtonIfRegistered('tablecutcol', {\n        tooltip: 'Cut column',\n        command: 'mceTableCutCol',\n        icon: 'cut-column',\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      addButtonIfRegistered('tablecopycol', {\n        tooltip: 'Copy column',\n        command: 'mceTableCopyCol',\n        icon: 'duplicate-column',\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      addButtonIfRegistered('tablepastecolbefore', {\n        tooltip: 'Paste column before',\n        command: 'mceTablePasteColBefore',\n        icon: 'paste-column-before',\n        onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onFirst')\n      });\n      addButtonIfRegistered('tablepastecolafter', {\n        tooltip: 'Paste column after',\n        command: 'mceTablePasteColAfter',\n        icon: 'paste-column-after',\n        onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onLast')\n      });\n      addButtonIfRegistered('tableinsertdialog', {\n        tooltip: 'Insert table',\n        command: 'mceInsertTableDialog',\n        icon: 'table'\n      });\n      const tableClassList = filterNoneItem(getTableClassList(editor));\n      if (tableClassList.length !== 0 && editor.queryCommandSupported('mceTableToggleClass')) {\n        editor.ui.registry.addMenuButton('tableclass', {\n          icon: 'table-classes',\n          tooltip: 'Table styles',\n          fetch: generateMenuItemsCallback(editor, tableClassList, 'tableclass', value => editor.execCommand('mceTableToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupTable\n        });\n      }\n      const tableCellClassList = filterNoneItem(getCellClassList(editor));\n      if (tableCellClassList.length !== 0 && editor.queryCommandSupported('mceTableCellToggleClass')) {\n        editor.ui.registry.addMenuButton('tablecellclass', {\n          icon: 'table-cell-classes',\n          tooltip: 'Cell styles',\n          fetch: generateMenuItemsCallback(editor, tableCellClassList, 'tablecellclass', value => editor.execCommand('mceTableCellToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      if (editor.queryCommandSupported('mceTableApplyCellStyle')) {\n        editor.ui.registry.addMenuButton('tablecellvalign', {\n          icon: 'vertical-align',\n          tooltip: 'Vertical align',\n          fetch: generateMenuItemsCallback(editor, verticalAlignValues, 'tablecellverticalalign', applyTableCellStyle(editor, 'vertical-align')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellborderwidth', {\n          icon: 'border-width',\n          tooltip: 'Border width',\n          fetch: generateMenuItemsCallback(editor, getTableBorderWidths(editor), 'tablecellborderwidth', applyTableCellStyle(editor, 'border-width')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellborderstyle', {\n          icon: 'border-style',\n          tooltip: 'Border style',\n          fetch: generateMenuItemsCallback(editor, getTableBorderStyles(editor), 'tablecellborderstyle', applyTableCellStyle(editor, 'border-style')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellbackgroundcolor', {\n          icon: 'cell-background-color',\n          tooltip: 'Background color',\n          fetch: callback => callback(buildColorMenu(editor, getTableBackgroundColorMap(editor), 'background-color')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellbordercolor', {\n          icon: 'cell-border-color',\n          tooltip: 'Border color',\n          fetch: callback => callback(buildColorMenu(editor, getTableBorderColorMap(editor), 'border-color')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      addToggleButtonIfRegistered('tablecaption', {\n        tooltip: 'Table caption',\n        icon: 'table-caption',\n        command: 'mceTableToggleCaption',\n        onSetup: selectionTargets.onSetupTableWithCaption\n      });\n      addToggleButtonIfRegistered('tablerowheader', {\n        tooltip: 'Row header',\n        icon: 'table-top-header',\n        command: 'mceTableRowType',\n        onAction: changeRowHeader(editor),\n        onSetup: selectionTargets.onSetupTableRowHeaders\n      });\n      addToggleButtonIfRegistered('tablecolheader', {\n        tooltip: 'Column header',\n        icon: 'table-left-header',\n        command: 'mceTableColType',\n        onAction: changeColumnHeader(editor),\n        onSetup: selectionTargets.onSetupTableColumnHeaders\n      });\n    };\n    const addToolbars = editor => {\n      const isTable = table => editor.dom.is(table, 'table') && editor.getBody().contains(table);\n      const toolbar = getToolbar(editor);\n      if (toolbar.length > 0) {\n        editor.ui.registry.addContextToolbar('table', {\n          predicate: isTable,\n          items: toolbar,\n          scope: 'node',\n          position: 'node'\n        });\n      }\n    };\n\n    const addMenuItems = (editor, selectionTargets) => {\n      const cmd = command => () => editor.execCommand(command);\n      const addMenuIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addMenuItem(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n          return true;\n        } else {\n          return false;\n        }\n      };\n      const addToggleMenuIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addToggleMenuItem(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n        }\n      };\n      const insertTableAction = data => {\n        editor.execCommand('mceInsertTable', false, {\n          rows: data.numRows,\n          columns: data.numColumns\n        });\n      };\n      const hasRowMenuItems = [\n        addMenuIfRegistered('tableinsertrowbefore', {\n          text: 'Insert row before',\n          icon: 'table-insert-row-above',\n          command: 'mceTableInsertRowBefore',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tableinsertrowafter', {\n          text: 'Insert row after',\n          icon: 'table-insert-row-after',\n          command: 'mceTableInsertRowAfter',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tabledeleterow', {\n          text: 'Delete row',\n          icon: 'table-delete-row',\n          command: 'mceTableDeleteRow',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablerowprops', {\n          text: 'Row properties',\n          icon: 'table-row-properties',\n          command: 'mceTableRowProps',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablecutrow', {\n          text: 'Cut row',\n          icon: 'cut-row',\n          command: 'mceTableCutRow',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablecopyrow', {\n          text: 'Copy row',\n          icon: 'duplicate-row',\n          command: 'mceTableCopyRow',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablepasterowbefore', {\n          text: 'Paste row before',\n          icon: 'paste-row-before',\n          command: 'mceTablePasteRowBefore',\n          onSetup: selectionTargets.onSetupPasteable(getRows)\n        }),\n        addMenuIfRegistered('tablepasterowafter', {\n          text: 'Paste row after',\n          icon: 'paste-row-after',\n          command: 'mceTablePasteRowAfter',\n          onSetup: selectionTargets.onSetupPasteable(getRows)\n        })\n      ];\n      const hasColumnMenuItems = [\n        addMenuIfRegistered('tableinsertcolumnbefore', {\n          text: 'Insert column before',\n          icon: 'table-insert-column-before',\n          command: 'mceTableInsertColBefore',\n          onSetup: selectionTargets.onSetupColumn('onFirst')\n        }),\n        addMenuIfRegistered('tableinsertcolumnafter', {\n          text: 'Insert column after',\n          icon: 'table-insert-column-after',\n          command: 'mceTableInsertColAfter',\n          onSetup: selectionTargets.onSetupColumn('onLast')\n        }),\n        addMenuIfRegistered('tabledeletecolumn', {\n          text: 'Delete column',\n          icon: 'table-delete-column',\n          command: 'mceTableDeleteCol',\n          onSetup: selectionTargets.onSetupColumn('onAny')\n        }),\n        addMenuIfRegistered('tablecutcolumn', {\n          text: 'Cut column',\n          icon: 'cut-column',\n          command: 'mceTableCutCol',\n          onSetup: selectionTargets.onSetupColumn('onAny')\n        }),\n        addMenuIfRegistered('tablecopycolumn', {\n          text: 'Copy column',\n          icon: 'duplicate-column',\n          command: 'mceTableCopyCol',\n          onSetup: selectionTargets.onSetupColumn('onAny')\n        }),\n        addMenuIfRegistered('tablepastecolumnbefore', {\n          text: 'Paste column before',\n          icon: 'paste-column-before',\n          command: 'mceTablePasteColBefore',\n          onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onFirst')\n        }),\n        addMenuIfRegistered('tablepastecolumnafter', {\n          text: 'Paste column after',\n          icon: 'paste-column-after',\n          command: 'mceTablePasteColAfter',\n          onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onLast')\n        })\n      ];\n      const hasCellMenuItems = [\n        addMenuIfRegistered('tablecellprops', {\n          text: 'Cell properties',\n          icon: 'table-cell-properties',\n          command: 'mceTableCellProps',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablemergecells', {\n          text: 'Merge cells',\n          icon: 'table-merge-cells',\n          command: 'mceTableMergeCells',\n          onSetup: selectionTargets.onSetupMergeable\n        }),\n        addMenuIfRegistered('tablesplitcells', {\n          text: 'Split cell',\n          icon: 'table-split-cells',\n          command: 'mceTableSplitCells',\n          onSetup: selectionTargets.onSetupUnmergeable\n        })\n      ];\n      if (!hasTableGrid(editor)) {\n        editor.ui.registry.addMenuItem('inserttable', {\n          text: 'Table',\n          icon: 'table',\n          onAction: cmd('mceInsertTableDialog')\n        });\n      } else {\n        editor.ui.registry.addNestedMenuItem('inserttable', {\n          text: 'Table',\n          icon: 'table',\n          getSubmenuItems: () => [{\n              type: 'fancymenuitem',\n              fancytype: 'inserttable',\n              onAction: insertTableAction\n            }]\n        });\n      }\n      editor.ui.registry.addMenuItem('inserttabledialog', {\n        text: 'Insert table',\n        icon: 'table',\n        onAction: cmd('mceInsertTableDialog')\n      });\n      addMenuIfRegistered('tableprops', {\n        text: 'Table properties',\n        onSetup: selectionTargets.onSetupTable,\n        command: 'mceTableProps'\n      });\n      addMenuIfRegistered('deletetable', {\n        text: 'Delete table',\n        icon: 'table-delete-table',\n        onSetup: selectionTargets.onSetupTable,\n        command: 'mceTableDelete'\n      });\n      if (contains(hasRowMenuItems, true)) {\n        editor.ui.registry.addNestedMenuItem('row', {\n          type: 'nestedmenuitem',\n          text: 'Row',\n          getSubmenuItems: constant('tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter')\n        });\n      }\n      if (contains(hasColumnMenuItems, true)) {\n        editor.ui.registry.addNestedMenuItem('column', {\n          type: 'nestedmenuitem',\n          text: 'Column',\n          getSubmenuItems: constant('tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter')\n        });\n      }\n      if (contains(hasCellMenuItems, true)) {\n        editor.ui.registry.addNestedMenuItem('cell', {\n          type: 'nestedmenuitem',\n          text: 'Cell',\n          getSubmenuItems: constant('tablecellprops tablemergecells tablesplitcells')\n        });\n      }\n      editor.ui.registry.addContextMenu('table', {\n        update: () => {\n          selectionTargets.resetTargets();\n          return selectionTargets.targets().fold(constant(''), targets => {\n            if (name(targets.element) === 'caption') {\n              return 'tableprops deletetable';\n            } else {\n              return 'cell row column | advtablesort | tableprops deletetable';\n            }\n          });\n        }\n      });\n      const tableClassList = filterNoneItem(getTableClassList(editor));\n      if (tableClassList.length !== 0 && editor.queryCommandSupported('mceTableToggleClass')) {\n        editor.ui.registry.addNestedMenuItem('tableclass', {\n          icon: 'table-classes',\n          text: 'Table styles',\n          getSubmenuItems: () => buildMenuItems(editor, tableClassList, 'tableclass', value => editor.execCommand('mceTableToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupTable\n        });\n      }\n      const tableCellClassList = filterNoneItem(getCellClassList(editor));\n      if (tableCellClassList.length !== 0 && editor.queryCommandSupported('mceTableCellToggleClass')) {\n        editor.ui.registry.addNestedMenuItem('tablecellclass', {\n          icon: 'table-cell-classes',\n          text: 'Cell styles',\n          getSubmenuItems: () => buildMenuItems(editor, tableCellClassList, 'tablecellclass', value => editor.execCommand('mceTableCellToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      if (editor.queryCommandSupported('mceTableApplyCellStyle')) {\n        editor.ui.registry.addNestedMenuItem('tablecellvalign', {\n          icon: 'vertical-align',\n          text: 'Vertical align',\n          getSubmenuItems: () => buildMenuItems(editor, verticalAlignValues, 'tablecellverticalalign', applyTableCellStyle(editor, 'vertical-align')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellborderwidth', {\n          icon: 'border-width',\n          text: 'Border width',\n          getSubmenuItems: () => buildMenuItems(editor, getTableBorderWidths(editor), 'tablecellborderwidth', applyTableCellStyle(editor, 'border-width')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellborderstyle', {\n          icon: 'border-style',\n          text: 'Border style',\n          getSubmenuItems: () => buildMenuItems(editor, getTableBorderStyles(editor), 'tablecellborderstyle', applyTableCellStyle(editor, 'border-style')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellbackgroundcolor', {\n          icon: 'cell-background-color',\n          text: 'Background color',\n          getSubmenuItems: () => buildColorMenu(editor, getTableBackgroundColorMap(editor), 'background-color'),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellbordercolor', {\n          icon: 'cell-border-color',\n          text: 'Border color',\n          getSubmenuItems: () => buildColorMenu(editor, getTableBorderColorMap(editor), 'border-color'),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      addToggleMenuIfRegistered('tablecaption', {\n        icon: 'table-caption',\n        text: 'Table caption',\n        command: 'mceTableToggleCaption',\n        onSetup: selectionTargets.onSetupTableWithCaption\n      });\n      addToggleMenuIfRegistered('tablerowheader', {\n        text: 'Row header',\n        icon: 'table-top-header',\n        command: 'mceTableRowType',\n        onAction: changeRowHeader(editor),\n        onSetup: selectionTargets.onSetupTableRowHeaders\n      });\n      addToggleMenuIfRegistered('tablecolheader', {\n        text: 'Column header',\n        icon: 'table-left-header',\n        command: 'mceTableColType',\n        onAction: changeColumnHeader(editor),\n        onSetup: selectionTargets.onSetupTableRowHeaders\n      });\n    };\n\n    const Plugin = editor => {\n      const selectionTargets = getSelectionTargets(editor);\n      register(editor);\n      registerCommands(editor);\n      addMenuItems(editor, selectionTargets);\n      addButtons(editor, selectionTargets);\n      addToolbars(editor);\n    };\n    var Plugin$1 = () => {\n      global$3.add('table', Plugin);\n    };\n\n    Plugin$1();\n\n})();\n","// Exports the \"autolink\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/autolink')\n//   ES2015:\n//     import 'tinymce/plugins/autolink'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.4.1 (2023-03-29)\n */\n\n(function () {\n  'use strict';\n\n  var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n  const link = () => /(?:[A-Za-z][A-Za-z\\d.+-]{0,14}:\\/\\/(?:[-.~*+=!&;:'%@?^${}(),\\w]+@)?|www\\.|[-;:&=+$,.\\w]+@)[A-Za-z\\d-]+(?:\\.[A-Za-z\\d-]+)*(?::\\d+)?(?:\\/(?:[-.~*+=!;:'%@$(),\\/\\w]*[-~*+=%@$()\\/\\w])?)?(?:\\?(?:[-.~*+=!&;:'%@?^${}(),\\/\\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\\/\\w]+))?/g;\n\n  const option = name => editor => editor.options.get(name);\n  const register = editor => {\n    const registerOption = editor.options.register;\n    registerOption('autolink_pattern', {\n      processor: 'regexp',\n      default: new RegExp('^' + link().source + '$', 'i')\n    });\n    registerOption('link_default_target', { processor: 'string' });\n    registerOption('link_default_protocol', {\n      processor: 'string',\n      default: 'https'\n    });\n  };\n  const getAutoLinkPattern = option('autolink_pattern');\n  const getDefaultLinkTarget = option('link_default_target');\n  const getDefaultLinkProtocol = option('link_default_protocol');\n  const allowUnsafeLinkTarget = option('allow_unsafe_link_target');\n\n  const hasProto = (v, constructor, predicate) => {\n    var _a;\n    if (predicate(v, constructor.prototype)) {\n      return true;\n    } else {\n      return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n    }\n  };\n  const typeOf = x => {\n    const t = typeof x;\n    if (x === null) {\n      return 'null';\n    } else if (t === 'object' && Array.isArray(x)) {\n      return 'array';\n    } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n      return 'string';\n    } else {\n      return t;\n    }\n  };\n  const isType = type => value => typeOf(value) === type;\n  const eq = t => a => t === a;\n  const isString = isType('string');\n  const isUndefined = eq(undefined);\n  const isNullable = a => a === null || a === undefined;\n  const isNonNullable = a => !isNullable(a);\n\n  const not = f => t => !f(t);\n\n  const hasOwnProperty = Object.hasOwnProperty;\n  const has = (obj, key) => hasOwnProperty.call(obj, key);\n\n  const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n  const contains = (str, substr, start = 0, end) => {\n    const idx = str.indexOf(substr, start);\n    if (idx !== -1) {\n      return isUndefined(end) ? true : idx + substr.length <= end;\n    } else {\n      return false;\n    }\n  };\n  const startsWith = (str, prefix) => {\n    return checkRange(str, prefix, 0);\n  };\n\n  const zeroWidth = '\\uFEFF';\n  const isZwsp = char => char === zeroWidth;\n  const removeZwsp = s => s.replace(/\\uFEFF/g, '');\n\n  var global = tinymce.util.Tools.resolve('tinymce.dom.TextSeeker');\n\n  const isTextNode = node => node.nodeType === 3;\n  const isElement = node => node.nodeType === 1;\n  const isBracketOrSpace = char => /^[(\\[{ \\u00a0]$/.test(char);\n  const hasProtocol = url => /^([A-Za-z][A-Za-z\\d.+-]*:\\/\\/)|mailto:/.test(url);\n  const isPunctuation = char => /[?!,.;:]/.test(char);\n  const findChar = (text, index, predicate) => {\n    for (let i = index - 1; i >= 0; i--) {\n      const char = text.charAt(i);\n      if (!isZwsp(char) && predicate(char)) {\n        return i;\n      }\n    }\n    return -1;\n  };\n  const freefallRtl = (container, offset) => {\n    let tempNode = container;\n    let tempOffset = offset;\n    while (isElement(tempNode) && tempNode.childNodes[tempOffset]) {\n      tempNode = tempNode.childNodes[tempOffset];\n      tempOffset = isTextNode(tempNode) ? tempNode.data.length : tempNode.childNodes.length;\n    }\n    return {\n      container: tempNode,\n      offset: tempOffset\n    };\n  };\n\n  const parseCurrentLine = (editor, offset) => {\n    var _a;\n    const voidElements = editor.schema.getVoidElements();\n    const autoLinkPattern = getAutoLinkPattern(editor);\n    const {dom, selection} = editor;\n    if (dom.getParent(selection.getNode(), 'a[href]') !== null) {\n      return null;\n    }\n    const rng = selection.getRng();\n    const textSeeker = global(dom, node => {\n      return dom.isBlock(node) || has(voidElements, node.nodeName.toLowerCase()) || dom.getContentEditable(node) === 'false';\n    });\n    const {\n      container: endContainer,\n      offset: endOffset\n    } = freefallRtl(rng.endContainer, rng.endOffset);\n    const root = (_a = dom.getParent(endContainer, dom.isBlock)) !== null && _a !== void 0 ? _a : dom.getRoot();\n    const endSpot = textSeeker.backwards(endContainer, endOffset + offset, (node, offset) => {\n      const text = node.data;\n      const idx = findChar(text, offset, not(isBracketOrSpace));\n      return idx === -1 || isPunctuation(text[idx]) ? idx : idx + 1;\n    }, root);\n    if (!endSpot) {\n      return null;\n    }\n    let lastTextNode = endSpot.container;\n    const startSpot = textSeeker.backwards(endSpot.container, endSpot.offset, (node, offset) => {\n      lastTextNode = node;\n      const idx = findChar(node.data, offset, isBracketOrSpace);\n      return idx === -1 ? idx : idx + 1;\n    }, root);\n    const newRng = dom.createRng();\n    if (!startSpot) {\n      newRng.setStart(lastTextNode, 0);\n    } else {\n      newRng.setStart(startSpot.container, startSpot.offset);\n    }\n    newRng.setEnd(endSpot.container, endSpot.offset);\n    const rngText = removeZwsp(newRng.toString());\n    const matches = rngText.match(autoLinkPattern);\n    if (matches) {\n      let url = matches[0];\n      if (startsWith(url, 'www.')) {\n        const protocol = getDefaultLinkProtocol(editor);\n        url = protocol + '://' + url;\n      } else if (contains(url, '@') && !hasProtocol(url)) {\n        url = 'mailto:' + url;\n      }\n      return {\n        rng: newRng,\n        url\n      };\n    } else {\n      return null;\n    }\n  };\n  const convertToLink = (editor, result) => {\n    const {dom, selection} = editor;\n    const {rng, url} = result;\n    const bookmark = selection.getBookmark();\n    selection.setRng(rng);\n    const command = 'createlink';\n    const args = {\n      command,\n      ui: false,\n      value: url\n    };\n    const beforeExecEvent = editor.dispatch('BeforeExecCommand', args);\n    if (!beforeExecEvent.isDefaultPrevented()) {\n      editor.getDoc().execCommand(command, false, url);\n      editor.dispatch('ExecCommand', args);\n      const defaultLinkTarget = getDefaultLinkTarget(editor);\n      if (isString(defaultLinkTarget)) {\n        const anchor = selection.getNode();\n        dom.setAttrib(anchor, 'target', defaultLinkTarget);\n        if (defaultLinkTarget === '_blank' && !allowUnsafeLinkTarget(editor)) {\n          dom.setAttrib(anchor, 'rel', 'noopener');\n        }\n      }\n    }\n    selection.moveToBookmark(bookmark);\n    editor.nodeChanged();\n  };\n  const handleSpacebar = editor => {\n    const result = parseCurrentLine(editor, -1);\n    if (isNonNullable(result)) {\n      convertToLink(editor, result);\n    }\n  };\n  const handleBracket = handleSpacebar;\n  const handleEnter = editor => {\n    const result = parseCurrentLine(editor, 0);\n    if (isNonNullable(result)) {\n      convertToLink(editor, result);\n    }\n  };\n  const setup = editor => {\n    editor.on('keydown', e => {\n      if (e.keyCode === 13 && !e.isDefaultPrevented()) {\n        handleEnter(editor);\n      }\n    });\n    editor.on('keyup', e => {\n      if (e.keyCode === 32) {\n        handleSpacebar(editor);\n      } else if (e.keyCode === 48 && e.shiftKey || e.keyCode === 221) {\n        handleBracket(editor);\n      }\n    });\n  };\n\n  var Plugin = () => {\n    global$1.add('autolink', editor => {\n      register(editor);\n      setup(editor);\n    });\n  };\n\n  Plugin();\n\n})();\n","module.exports = \"body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border=\\\"0\\\"]):not([style*=border-width]) td,table[border]:not([border=\\\"0\\\"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border=\\\"0\\\"]):not([style*=border-style]) td,table[border]:not([border=\\\"0\\\"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border=\\\"0\\\"]):not([style*=border-color]) td,table[border]:not([border=\\\"0\\\"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}\\n\"","module.exports = \".mce-content-body .mce-item-anchor{background:transparent url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A\\\") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;-moz-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\\\");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\\\")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A\\\"),default}div.mce-footnotes hr{margin-inline-end:auto;margin-inline-start:0;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{text-decoration:none}@media print{sup.mce-footnote a{color:#000;text-decoration:none}div.mce-footnotes{break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px 0 2px;position:relative}.mce-preview-object .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected=\\\"2\\\"] .mce-shim{display:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A\\\") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected=\\\"2\\\"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:nth-of-type(1){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed #000;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0,0,0,.75);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A\\\") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::-moz-selection{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::-moz-selection,.mce-content-body th[data-mce-selected]::-moz-selection{background:0 0}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::-moz-selection{background:0 0}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A\\\");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A\\\");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border=\\\"0\\\"],.mce-item-table[border=\\\"0\\\"] caption,.mce-item-table[border=\\\"0\\\"] td,.mce-item-table[border=\\\"0\\\"] th,table[style*=\\\"border-width: 0px\\\"],table[style*=\\\"border-width: 0px\\\"] caption,table[style*=\\\"border-width: 0px\\\"] td,table[style*=\\\"border-width: 0px\\\"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}\\n\"","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { uuid } from './Utils';\nvar injectScriptTag = function (doc, item, handler) {\n    var _a, _b;\n    var scriptTag = doc.createElement('script');\n    scriptTag.referrerPolicy = 'origin';\n    scriptTag.type = 'application/javascript';\n    scriptTag.id = item.id;\n    scriptTag.src = item.src;\n    scriptTag.async = (_a = item.async) !== null && _a !== void 0 ? _a : false;\n    scriptTag.defer = (_b = item.defer) !== null && _b !== void 0 ? _b : false;\n    var loadHandler = function () {\n        scriptTag.removeEventListener('load', loadHandler);\n        scriptTag.removeEventListener('error', errorHandler);\n        handler(item.src);\n    };\n    var errorHandler = function (err) {\n        scriptTag.removeEventListener('load', loadHandler);\n        scriptTag.removeEventListener('error', errorHandler);\n        handler(item.src, err);\n    };\n    scriptTag.addEventListener('load', loadHandler);\n    scriptTag.addEventListener('error', errorHandler);\n    if (doc.head) {\n        doc.head.appendChild(scriptTag);\n    }\n};\nvar createDocumentScriptLoader = function (doc) {\n    var lookup = {};\n    var scriptLoadOrErrorHandler = function (src, err) {\n        var item = lookup[src];\n        item.done = true;\n        item.error = err;\n        for (var _i = 0, _a = item.handlers; _i < _a.length; _i++) {\n            var h = _a[_i];\n            h(src, err);\n        }\n        item.handlers = [];\n    };\n    var loadScripts = function (items, success, failure) {\n        // eslint-disable-next-line no-console\n        var failureOrLog = function (err) { return failure !== undefined ? failure(err) : console.error(err); };\n        if (items.length === 0) {\n            failureOrLog(new Error('At least one script must be provided'));\n            return;\n        }\n        var successCount = 0;\n        var failed = false;\n        var loaded = function (_src, err) {\n            if (failed) {\n                return;\n            }\n            if (err) {\n                failed = true;\n                failureOrLog(err);\n            }\n            else if (++successCount === items.length) {\n                success();\n            }\n        };\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var existing = lookup[item.src];\n            if (existing) {\n                if (existing.done) {\n                    loaded(item.src, existing.error);\n                }\n                else {\n                    existing.handlers.push(loaded);\n                }\n            }\n            else {\n                // create a new entry\n                var id = uuid('tiny-');\n                lookup[item.src] = {\n                    id: id,\n                    src: item.src,\n                    done: false,\n                    error: null,\n                    handlers: [loaded],\n                };\n                injectScriptTag(doc, __assign({ id: id }, item), scriptLoadOrErrorHandler);\n            }\n        }\n    };\n    var deleteScripts = function () {\n        var _a;\n        for (var _i = 0, _b = Object.values(lookup); _i < _b.length; _i++) {\n            var item = _b[_i];\n            var scriptTag = doc.getElementById(item.id);\n            if (scriptTag != null && scriptTag.tagName === 'SCRIPT') {\n                (_a = scriptTag.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(scriptTag);\n            }\n        }\n        lookup = {};\n    };\n    var getDocument = function () { return doc; };\n    return {\n        loadScripts: loadScripts,\n        deleteScripts: deleteScripts,\n        getDocument: getDocument\n    };\n};\nvar createScriptLoader = function () {\n    var cache = [];\n    var getDocumentScriptLoader = function (doc) {\n        var loader = cache.find(function (l) { return l.getDocument() === doc; });\n        if (loader === undefined) {\n            loader = createDocumentScriptLoader(doc);\n            cache.push(loader);\n        }\n        return loader;\n    };\n    var loadList = function (doc, items, delay, success, failure) {\n        var doLoad = function () { return getDocumentScriptLoader(doc).loadScripts(items, success, failure); };\n        if (delay > 0) {\n            setTimeout(doLoad, delay);\n        }\n        else {\n            doLoad();\n        }\n    };\n    var reinitialize = function () {\n        for (var loader = cache.pop(); loader != null; loader = cache.pop()) {\n            loader.deleteScripts();\n        }\n    };\n    return {\n        loadList: loadList,\n        reinitialize: reinitialize\n    };\n};\nexport var ScriptLoader = createScriptLoader();\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { ScriptLoader } from '../ScriptLoader2';\nimport { getTinymce } from '../TinyMCE';\nimport { isFunction, isTextareaOrInput, mergePlugins, uuid, configHandlers, isBeforeInputEventAvailable, isInDoc, setMode } from '../Utils';\nimport { EditorPropTypes } from './EditorPropTypes';\nvar Editor = /** @class */ (function (_super) {\n    __extends(Editor, _super);\n    function Editor(props) {\n        var _this = this;\n        var _a, _b, _c;\n        _this = _super.call(this, props) || this;\n        _this.rollbackTimer = undefined;\n        _this.valueCursor = undefined;\n        _this.rollbackChange = function () {\n            var editor = _this.editor;\n            var value = _this.props.value;\n            if (editor && value && value !== _this.currentContent) {\n                editor.undoManager.ignore(function () {\n                    editor.setContent(value);\n                    // only restore cursor on inline editors when they are focused\n                    // as otherwise it will cause a focus grab\n                    if (_this.valueCursor && (!_this.inline || editor.hasFocus())) {\n                        try {\n                            editor.selection.moveToBookmark(_this.valueCursor);\n                        }\n                        catch (e) { /* ignore */ }\n                    }\n                });\n            }\n            _this.rollbackTimer = undefined;\n        };\n        _this.handleBeforeInput = function (_evt) {\n            if (_this.props.value !== undefined && _this.props.value === _this.currentContent && _this.editor) {\n                if (!_this.inline || _this.editor.hasFocus()) {\n                    try {\n                        // getBookmark throws exceptions when the editor has not been focused\n                        // possibly only in inline mode but I'm not taking chances\n                        _this.valueCursor = _this.editor.selection.getBookmark(3);\n                    }\n                    catch (e) { /* ignore */ }\n                }\n            }\n        };\n        _this.handleBeforeInputSpecial = function (evt) {\n            if (evt.key === 'Enter' || evt.key === 'Backspace' || evt.key === 'Delete') {\n                _this.handleBeforeInput(evt);\n            }\n        };\n        _this.handleEditorChange = function (_evt) {\n            var editor = _this.editor;\n            if (editor && editor.initialized) {\n                var newContent = editor.getContent();\n                if (_this.props.value !== undefined && _this.props.value !== newContent && _this.props.rollback !== false) {\n                    // start a timer and revert to the value if not applied in time\n                    if (!_this.rollbackTimer) {\n                        _this.rollbackTimer = window.setTimeout(_this.rollbackChange, typeof _this.props.rollback === 'number' ? _this.props.rollback : 200);\n                    }\n                }\n                if (newContent !== _this.currentContent) {\n                    _this.currentContent = newContent;\n                    if (isFunction(_this.props.onEditorChange)) {\n                        _this.props.onEditorChange(newContent, editor);\n                    }\n                }\n            }\n        };\n        _this.handleEditorChangeSpecial = function (evt) {\n            if (evt.key === 'Backspace' || evt.key === 'Delete') {\n                _this.handleEditorChange(evt);\n            }\n        };\n        _this.initialise = function (attempts) {\n            var _a, _b, _c;\n            if (attempts === void 0) { attempts = 0; }\n            var target = _this.elementRef.current;\n            if (!target) {\n                return; // Editor has been unmounted\n            }\n            if (!isInDoc(target)) {\n                // this is probably someone trying to help by rendering us offscreen\n                // but we can't do that because the editor iframe must be in the document\n                // in order to have state\n                if (attempts === 0) {\n                    // we probably just need to wait for the current events to be processed\n                    setTimeout(function () { return _this.initialise(1); }, 1);\n                }\n                else if (attempts < 100) {\n                    // wait for ten seconds, polling every tenth of a second\n                    setTimeout(function () { return _this.initialise(attempts + 1); }, 100);\n                }\n                else {\n                    // give up, at this point it seems that more polling is unlikely to help\n                    throw new Error('tinymce can only be initialised when in a document');\n                }\n                return;\n            }\n            var tinymce = getTinymce(_this.view);\n            if (!tinymce) {\n                throw new Error('tinymce should have been loaded into global scope');\n            }\n            var finalInit = __assign(__assign({}, _this.props.init), { selector: undefined, target: target, readonly: _this.props.disabled, inline: _this.inline, plugins: mergePlugins((_a = _this.props.init) === null || _a === void 0 ? void 0 : _a.plugins, _this.props.plugins), toolbar: (_b = _this.props.toolbar) !== null && _b !== void 0 ? _b : (_c = _this.props.init) === null || _c === void 0 ? void 0 : _c.toolbar, setup: function (editor) {\n                    _this.editor = editor;\n                    _this.bindHandlers({});\n                    // When running in inline mode the editor gets the initial value\n                    // from the innerHTML of the element it is initialized on.\n                    // However we don't want to take on the responsibility of sanitizing\n                    // to remove XSS in the react integration so we have a chicken and egg\n                    // problem... We avoid it by sneaking in a set content before the first\n                    // \"official\" setContent and using TinyMCE to do the sanitization.\n                    if (_this.inline && !isTextareaOrInput(target)) {\n                        editor.once('PostRender', function (_evt) {\n                            editor.setContent(_this.getInitialValue(), { no_events: true });\n                        });\n                    }\n                    if (_this.props.init && isFunction(_this.props.init.setup)) {\n                        _this.props.init.setup(editor);\n                    }\n                }, init_instance_callback: function (editor) {\n                    var _a, _b;\n                    // check for changes that happened since tinymce.init() was called\n                    var initialValue = _this.getInitialValue();\n                    _this.currentContent = (_a = _this.currentContent) !== null && _a !== void 0 ? _a : editor.getContent();\n                    if (_this.currentContent !== initialValue) {\n                        _this.currentContent = initialValue;\n                        // same as resetContent in TinyMCE 5\n                        editor.setContent(initialValue);\n                        editor.undoManager.clear();\n                        editor.undoManager.add();\n                        editor.setDirty(false);\n                    }\n                    var disabled = (_b = _this.props.disabled) !== null && _b !== void 0 ? _b : false;\n                    setMode(_this.editor, disabled ? 'readonly' : 'design');\n                    // ensure existing init_instance_callback is called\n                    if (_this.props.init && isFunction(_this.props.init.init_instance_callback)) {\n                        _this.props.init.init_instance_callback(editor);\n                    }\n                } });\n            if (!_this.inline) {\n                target.style.visibility = '';\n            }\n            if (isTextareaOrInput(target)) {\n                target.value = _this.getInitialValue();\n            }\n            tinymce.init(finalInit);\n        };\n        _this.id = _this.props.id || uuid('tiny-react');\n        _this.elementRef = React.createRef();\n        _this.inline = (_c = (_a = _this.props.inline) !== null && _a !== void 0 ? _a : (_b = _this.props.init) === null || _b === void 0 ? void 0 : _b.inline) !== null && _c !== void 0 ? _c : false;\n        _this.boundHandlers = {};\n        return _this;\n    }\n    Object.defineProperty(Editor.prototype, \"view\", {\n        get: function () {\n            var _a, _b;\n            return (_b = (_a = this.elementRef.current) === null || _a === void 0 ? void 0 : _a.ownerDocument.defaultView) !== null && _b !== void 0 ? _b : window;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Editor.prototype.componentDidUpdate = function (prevProps) {\n        var _this = this;\n        var _a, _b;\n        if (this.rollbackTimer) {\n            clearTimeout(this.rollbackTimer);\n            this.rollbackTimer = undefined;\n        }\n        if (this.editor) {\n            this.bindHandlers(prevProps);\n            if (this.editor.initialized) {\n                this.currentContent = (_a = this.currentContent) !== null && _a !== void 0 ? _a : this.editor.getContent();\n                if (typeof this.props.initialValue === 'string' && this.props.initialValue !== prevProps.initialValue) {\n                    // same as resetContent in TinyMCE 5\n                    this.editor.setContent(this.props.initialValue);\n                    this.editor.undoManager.clear();\n                    this.editor.undoManager.add();\n                    this.editor.setDirty(false);\n                }\n                else if (typeof this.props.value === 'string' && this.props.value !== this.currentContent) {\n                    var localEditor_1 = this.editor;\n                    localEditor_1.undoManager.transact(function () {\n                        // inline editors grab focus when restoring selection\n                        // so we don't try to keep their selection unless they are currently focused\n                        var cursor;\n                        if (!_this.inline || localEditor_1.hasFocus()) {\n                            try {\n                                // getBookmark throws exceptions when the editor has not been focused\n                                // possibly only in inline mode but I'm not taking chances\n                                cursor = localEditor_1.selection.getBookmark(3);\n                            }\n                            catch (e) { /* ignore */ }\n                        }\n                        var valueCursor = _this.valueCursor;\n                        localEditor_1.setContent(_this.props.value);\n                        if (!_this.inline || localEditor_1.hasFocus()) {\n                            for (var _i = 0, _a = [cursor, valueCursor]; _i < _a.length; _i++) {\n                                var bookmark = _a[_i];\n                                if (bookmark) {\n                                    try {\n                                        localEditor_1.selection.moveToBookmark(bookmark);\n                                        _this.valueCursor = bookmark;\n                                        break;\n                                    }\n                                    catch (e) { /* ignore */ }\n                                }\n                            }\n                        }\n                    });\n                }\n                if (this.props.disabled !== prevProps.disabled) {\n                    var disabled = (_b = this.props.disabled) !== null && _b !== void 0 ? _b : false;\n                    setMode(this.editor, disabled ? 'readonly' : 'design');\n                }\n            }\n        }\n    };\n    Editor.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a, _b, _c, _d, _e;\n        if (getTinymce(this.view) !== null) {\n            this.initialise();\n        }\n        else if (Array.isArray(this.props.tinymceScriptSrc) && this.props.tinymceScriptSrc.length === 0) {\n            (_b = (_a = this.props).onScriptsLoadError) === null || _b === void 0 ? void 0 : _b.call(_a, new Error('No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array.'));\n        }\n        else if ((_c = this.elementRef.current) === null || _c === void 0 ? void 0 : _c.ownerDocument) {\n            var successHandler = function () {\n                var _a, _b;\n                (_b = (_a = _this.props).onScriptsLoad) === null || _b === void 0 ? void 0 : _b.call(_a);\n                _this.initialise();\n            };\n            var errorHandler = function (err) {\n                var _a, _b;\n                (_b = (_a = _this.props).onScriptsLoadError) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n            };\n            ScriptLoader.loadList(this.elementRef.current.ownerDocument, this.getScriptSources(), (_e = (_d = this.props.scriptLoading) === null || _d === void 0 ? void 0 : _d.delay) !== null && _e !== void 0 ? _e : 0, successHandler, errorHandler);\n        }\n    };\n    Editor.prototype.componentWillUnmount = function () {\n        var _this = this;\n        var editor = this.editor;\n        if (editor) {\n            editor.off(this.changeEvents(), this.handleEditorChange);\n            editor.off(this.beforeInputEvent(), this.handleBeforeInput);\n            editor.off('keypress', this.handleEditorChangeSpecial);\n            editor.off('keydown', this.handleBeforeInputSpecial);\n            editor.off('NewBlock', this.handleEditorChange);\n            Object.keys(this.boundHandlers).forEach(function (eventName) {\n                editor.off(eventName, _this.boundHandlers[eventName]);\n            });\n            this.boundHandlers = {};\n            editor.remove();\n            this.editor = undefined;\n        }\n    };\n    Editor.prototype.render = function () {\n        return this.inline ? this.renderInline() : this.renderIframe();\n    };\n    Editor.prototype.changeEvents = function () {\n        var _a, _b, _c;\n        var isIE = (_c = (_b = (_a = getTinymce(this.view)) === null || _a === void 0 ? void 0 : _a.Env) === null || _b === void 0 ? void 0 : _b.browser) === null || _c === void 0 ? void 0 : _c.isIE();\n        return (isIE\n            ? 'change keyup compositionend setcontent CommentChange'\n            : 'change input compositionend setcontent CommentChange');\n    };\n    Editor.prototype.beforeInputEvent = function () {\n        return isBeforeInputEventAvailable() ? 'beforeinput SelectionChange' : 'SelectionChange';\n    };\n    Editor.prototype.renderInline = function () {\n        var _a = this.props.tagName, tagName = _a === void 0 ? 'div' : _a;\n        return React.createElement(tagName, {\n            ref: this.elementRef,\n            id: this.id\n        });\n    };\n    Editor.prototype.renderIframe = function () {\n        return React.createElement('textarea', {\n            ref: this.elementRef,\n            style: { visibility: 'hidden' },\n            name: this.props.textareaName,\n            id: this.id\n        });\n    };\n    Editor.prototype.getScriptSources = function () {\n        var _a, _b;\n        var async = (_a = this.props.scriptLoading) === null || _a === void 0 ? void 0 : _a.async;\n        var defer = (_b = this.props.scriptLoading) === null || _b === void 0 ? void 0 : _b.defer;\n        if (this.props.tinymceScriptSrc !== undefined) {\n            if (typeof this.props.tinymceScriptSrc === 'string') {\n                return [{ src: this.props.tinymceScriptSrc, async: async, defer: defer }];\n            }\n            // multiple scripts can be specified which allows for hybrid mode\n            return this.props.tinymceScriptSrc.map(function (item) {\n                if (typeof item === 'string') {\n                    // async does not make sense for multiple items unless\n                    // they are not dependent (which will be unlikely)\n                    return { src: item, async: async, defer: defer };\n                }\n                else {\n                    return item;\n                }\n            });\n        }\n        // fallback to the cloud when the tinymceScriptSrc is not specified\n        var channel = this.props.cloudChannel;\n        var apiKey = this.props.apiKey ? this.props.apiKey : 'no-api-key';\n        var cloudTinyJs = \"https://cdn.tiny.cloud/1/\".concat(apiKey, \"/tinymce/\").concat(channel, \"/tinymce.min.js\");\n        return [{ src: cloudTinyJs, async: async, defer: defer }];\n    };\n    Editor.prototype.getInitialValue = function () {\n        if (typeof this.props.initialValue === 'string') {\n            return this.props.initialValue;\n        }\n        else if (typeof this.props.value === 'string') {\n            return this.props.value;\n        }\n        else {\n            return '';\n        }\n    };\n    Editor.prototype.bindHandlers = function (prevProps) {\n        var _this = this;\n        if (this.editor !== undefined) {\n            // typescript chokes trying to understand the type of the lookup function\n            configHandlers(this.editor, prevProps, this.props, this.boundHandlers, function (key) { return _this.props[key]; });\n            // check if we should monitor editor changes\n            var isValueControlled = function (p) { return p.onEditorChange !== undefined || p.value !== undefined; };\n            var wasControlled = isValueControlled(prevProps);\n            var nowControlled = isValueControlled(this.props);\n            if (!wasControlled && nowControlled) {\n                this.editor.on(this.changeEvents(), this.handleEditorChange);\n                this.editor.on(this.beforeInputEvent(), this.handleBeforeInput);\n                this.editor.on('keydown', this.handleBeforeInputSpecial);\n                this.editor.on('keyup', this.handleEditorChangeSpecial);\n                this.editor.on('NewBlock', this.handleEditorChange);\n            }\n            else if (wasControlled && !nowControlled) {\n                this.editor.off(this.changeEvents(), this.handleEditorChange);\n                this.editor.off(this.beforeInputEvent(), this.handleBeforeInput);\n                this.editor.off('keydown', this.handleBeforeInputSpecial);\n                this.editor.off('keyup', this.handleEditorChangeSpecial);\n                this.editor.off('NewBlock', this.handleEditorChange);\n            }\n        }\n    };\n    Editor.propTypes = EditorPropTypes;\n    Editor.defaultProps = {\n        cloudChannel: '6'\n    };\n    return Editor;\n}(React.Component));\nexport { Editor };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as PropTypes from 'prop-types';\nexport var eventPropTypes = {\n    onActivate: PropTypes.func,\n    onAddUndo: PropTypes.func,\n    onBeforeAddUndo: PropTypes.func,\n    onBeforeExecCommand: PropTypes.func,\n    onBeforeGetContent: PropTypes.func,\n    onBeforeRenderUI: PropTypes.func,\n    onBeforeSetContent: PropTypes.func,\n    onBeforePaste: PropTypes.func,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onClearUndos: PropTypes.func,\n    onClick: PropTypes.func,\n    onContextMenu: PropTypes.func,\n    onCommentChange: PropTypes.func,\n    onCopy: PropTypes.func,\n    onCut: PropTypes.func,\n    onDblclick: PropTypes.func,\n    onDeactivate: PropTypes.func,\n    onDirty: PropTypes.func,\n    onDrag: PropTypes.func,\n    onDragDrop: PropTypes.func,\n    onDragEnd: PropTypes.func,\n    onDragGesture: PropTypes.func,\n    onDragOver: PropTypes.func,\n    onDrop: PropTypes.func,\n    onExecCommand: PropTypes.func,\n    onFocus: PropTypes.func,\n    onFocusIn: PropTypes.func,\n    onFocusOut: PropTypes.func,\n    onGetContent: PropTypes.func,\n    onHide: PropTypes.func,\n    onInit: PropTypes.func,\n    onKeyDown: PropTypes.func,\n    onKeyPress: PropTypes.func,\n    onKeyUp: PropTypes.func,\n    onLoadContent: PropTypes.func,\n    onMouseDown: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseOut: PropTypes.func,\n    onMouseOver: PropTypes.func,\n    onMouseUp: PropTypes.func,\n    onNodeChange: PropTypes.func,\n    onObjectResizeStart: PropTypes.func,\n    onObjectResized: PropTypes.func,\n    onObjectSelected: PropTypes.func,\n    onPaste: PropTypes.func,\n    onPostProcess: PropTypes.func,\n    onPostRender: PropTypes.func,\n    onPreProcess: PropTypes.func,\n    onProgressState: PropTypes.func,\n    onRedo: PropTypes.func,\n    onRemove: PropTypes.func,\n    onReset: PropTypes.func,\n    onSaveContent: PropTypes.func,\n    onSelectionChange: PropTypes.func,\n    onSetAttrib: PropTypes.func,\n    onSetContent: PropTypes.func,\n    onShow: PropTypes.func,\n    onSubmit: PropTypes.func,\n    onUndo: PropTypes.func,\n    onVisualAid: PropTypes.func,\n    onSkinLoadError: PropTypes.func,\n    onThemeLoadError: PropTypes.func,\n    onModelLoadError: PropTypes.func,\n    onPluginLoadError: PropTypes.func,\n    onIconsLoadError: PropTypes.func,\n    onLanguageLoadError: PropTypes.func,\n    onScriptsLoad: PropTypes.func,\n    onScriptsLoadError: PropTypes.func,\n};\nexport var EditorPropTypes = __assign({ apiKey: PropTypes.string, id: PropTypes.string, inline: PropTypes.bool, init: PropTypes.object, initialValue: PropTypes.string, onEditorChange: PropTypes.func, value: PropTypes.string, tagName: PropTypes.string, cloudChannel: PropTypes.string, plugins: PropTypes.oneOfType([PropTypes.string, PropTypes.array]), toolbar: PropTypes.oneOfType([PropTypes.string, PropTypes.array]), disabled: PropTypes.bool, textareaName: PropTypes.string, tinymceScriptSrc: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string),\n        PropTypes.arrayOf(PropTypes.shape({\n            src: PropTypes.string,\n            async: PropTypes.bool,\n            defer: PropTypes.bool\n        }))\n    ]), rollback: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf([false])]), scriptLoading: PropTypes.shape({\n        async: PropTypes.bool,\n        defer: PropTypes.bool,\n        delay: PropTypes.number\n    }) }, eventPropTypes);\n","import { eventPropTypes } from './components/EditorPropTypes';\nexport var isFunction = function (x) { return typeof x === 'function'; };\nvar isEventProp = function (name) { return name in eventPropTypes; };\nvar eventAttrToEventName = function (attrName) { return attrName.substr(2); };\nexport var configHandlers2 = function (handlerLookup, on, off, adapter, prevProps, props, boundHandlers) {\n    var prevEventKeys = Object.keys(prevProps).filter(isEventProp);\n    var currEventKeys = Object.keys(props).filter(isEventProp);\n    var removedKeys = prevEventKeys.filter(function (key) { return props[key] === undefined; });\n    var addedKeys = currEventKeys.filter(function (key) { return prevProps[key] === undefined; });\n    removedKeys.forEach(function (key) {\n        // remove event handler\n        var eventName = eventAttrToEventName(key);\n        var wrappedHandler = boundHandlers[eventName];\n        off(eventName, wrappedHandler);\n        delete boundHandlers[eventName];\n    });\n    addedKeys.forEach(function (key) {\n        var wrappedHandler = adapter(handlerLookup, key);\n        var eventName = eventAttrToEventName(key);\n        boundHandlers[eventName] = wrappedHandler;\n        on(eventName, wrappedHandler);\n    });\n};\nexport var configHandlers = function (editor, prevProps, props, boundHandlers, lookup) {\n    return configHandlers2(lookup, editor.on.bind(editor), editor.off.bind(editor), \n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    function (handlerLookup, key) { return function (e) { var _a; return (_a = handlerLookup(key)) === null || _a === void 0 ? void 0 : _a(e, editor); }; }, prevProps, props, boundHandlers);\n};\nvar unique = 0;\nexport var uuid = function (prefix) {\n    var time = Date.now();\n    var random = Math.floor(Math.random() * 1000000000);\n    unique++;\n    return prefix + '_' + random + unique + String(time);\n};\nexport var isTextareaOrInput = function (element) {\n    return element !== null && (element.tagName.toLowerCase() === 'textarea' || element.tagName.toLowerCase() === 'input');\n};\nvar normalizePluginArray = function (plugins) {\n    if (typeof plugins === 'undefined' || plugins === '') {\n        return [];\n    }\n    return Array.isArray(plugins) ? plugins : plugins.split(' ');\n};\n// eslint-disable-next-line max-len\nexport var mergePlugins = function (initPlugins, inputPlugins) { return normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins)); };\nexport var isBeforeInputEventAvailable = function () { return window.InputEvent && typeof InputEvent.prototype.getTargetRanges === 'function'; };\nexport var isInDoc = function (elem) {\n    if (!('isConnected' in Node.prototype)) {\n        // Fallback for IE and old Edge\n        var current = elem;\n        var parent_1 = elem.parentNode;\n        while (parent_1 != null) {\n            current = parent_1;\n            parent_1 = current.parentNode;\n        }\n        return current === elem.ownerDocument;\n    }\n    return elem.isConnected;\n};\nexport var setMode = function (editor, mode) {\n    if (editor !== undefined) {\n        if (editor.mode != null && typeof editor.mode === 'object' && typeof editor.mode.set === 'function') {\n            editor.mode.set(mode);\n        }\n        else { // support TinyMCE 4\n            editor.setMode(mode);\n        }\n    }\n};\n","var getTinymce = function (view) {\n    var global = view;\n    return global && global.tinymce ? global.tinymce : null;\n};\nexport { getTinymce };\n"],"sourceRoot":""}